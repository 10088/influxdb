(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,function(e,t,n){"use strict";n.r(t);n(901),n(1103);var a=n(2),s=n.n(a),r=n(93),o=n(4),i=n(70),l=n(221),c=n(374),u=n(775),m=n(11),d=n(84),p=n(12),h=n(3);var _=Object(o.c)(({me:e})=>({me:e}))(Object(i.j)(({history:e,me:t})=>{return s.a.createElement(h.FunnelPage,null,s.a.createElement("div",{className:"cf-funnel-page--logo","data-testid":"funnel-page--logo"},s.a.createElement("img",{src:"https://influxdata.github.io/branding/img/downloads/influxdata-logo--full--white-alpha.png",width:"170"})),s.a.createElement("h1",{className:"cf-funnel-page--title"},"Whoops!"),s.a.createElement("p",{className:"cf-funnel-page--subtitle"},"You don't belong to an organization.",s.a.createElement("br",null),"Add user ",s.a.createElement("strong",null,`"${t.name}"`)," to an organization to continue"),s.a.createElement(h.Button,{text:"Sign In",color:h.ComponentColor.Primary,onClick:()=>{e.push("/signin")}}))})),g=n(22),f=n.n(g),b=n(7),y=n(6),v=n.n(y),x=n(20),w=class extends a.PureComponent{render(){const{children:e}=this.props;return x.i?null:e}},E=class extends a.PureComponent{render(){const{children:e}=this.props;return x.i?e:null}},k=n(182),S=n(21);const C=(e,t)=>{const n=t.split("/").slice(3);return n.length||n.push(x.y),e.some(e=>n.includes(e))},T={handleShowOverlay:k.c,handleDismissOverlay:k.b};var O=Object(o.c)(e=>{return{org:Object(S.a)(e),me:e.me}},T)(({org:e,me:t,handleShowOverlay:n,handleDismissOverlay:a})=>{if(!e)return null;const r=`/orgs/${e.id}`;return s.a.createElement(h.TreeNav.User,{username:t.name,team:e.name,testID:"user-nav"},s.a.createElement(E,null,s.a.createElement(h.TreeNav.UserItem,{id:"usage",label:"Usage",testID:"user-nav-item-usage",linkElement:e=>s.a.createElement("a",{className:e,href:`${x.o}${x.p}`})}),s.a.createElement(h.TreeNav.UserItem,{id:"billing",label:"Billing",testID:"user-nav-item-billing",linkElement:e=>s.a.createElement("a",{className:e,href:`${x.o}${x.j}`})}),s.a.createElement(h.TreeNav.UserItem,{id:"users",label:"Users",testID:"user-nav-item-users",linkElement:t=>s.a.createElement("a",{className:t,href:`${x.o}/organizations/${e.id}${x.q}`})}),s.a.createElement(h.TreeNav.UserItem,{id:"about",label:"About",testID:"user-nav-item-about",linkElement:e=>s.a.createElement(b.a,{className:e,to:`${r}/about`})})),s.a.createElement(w,null,s.a.createElement(h.TreeNav.UserItem,{id:"members",label:"Members",testID:"user-nav-item-members",active:C(["members"],location.pathname),linkElement:e=>s.a.createElement(b.a,{className:e,to:`${r}/members`})}),s.a.createElement(h.TreeNav.UserItem,{id:"about",label:"About",testID:"user-nav-item-about",active:C(["about"],location.pathname),linkElement:e=>s.a.createElement(b.a,{className:e,to:`${r}/about`})}),s.a.createElement(h.TreeNav.UserItem,{id:"switch-orgs",label:"Switch Organizations",testID:"user-nav-item-switch-orgs",onClick:()=>{n("switch-organizations",{},a)}}),s.a.createElement(h.TreeNav.UserItem,{id:"create-org",label:"Create Organization",testID:"user-nav-item-create-orgs",linkElement:e=>s.a.createElement(b.a,{className:e,to:"/orgs/new"})})),s.a.createElement(h.TreeNav.UserItem,{id:"logout",label:"Logout",testID:"user-nav-item-logout",linkElement:e=>s.a.createElement(b.a,{className:e,to:"/logout"})}))});var D=({link:e})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(w,null,s.a.createElement(h.TreeNav.Header,{id:"getting-started",icon:s.a.createElement(h.Icon,{glyph:h.IconFont.CuboNav}),label:s.a.createElement(h.InfluxDBCloudLogo,{cloud:!1}),color:h.ComponentColor.Secondary,linkElement:t=>s.a.createElement(b.a,{className:t,to:e})})),s.a.createElement(E,null,s.a.createElement(h.TreeNav.Header,{id:"getting-started",icon:s.a.createElement(h.Icon,{glyph:h.IconFont.CuboNav}),label:s.a.createElement(h.InfluxDBCloudLogo,{cloud:!0}),color:h.ComponentColor.Primary,linkElement:t=>s.a.createElement(b.a,{className:t,to:e})}))),I=n(151);var j=Object(o.c)(e=>{const t=Object(y.get)(e,"cloud.orgSettings.settings",[]),n=Object(y.find)(t,e=>e.key===I.e);return n&&n.value===I.f.value?{inView:!1}:{inView:!0}})(({inView:e})=>s.a.createElement(s.a.Fragment,null,e&&s.a.createElement(E,null,s.a.createElement(h.Panel,{gradient:h.Gradients.HotelBreakfast,className:"cloud-upgrade-banner"},s.a.createElement(h.Panel.Header,{size:h.ComponentSize.ExtraSmall,justifyContent:h.JustifyContent.Center},s.a.createElement(h.Heading,{element:h.HeadingElement.H5},"Need more wiggle room?")),s.a.createElement(h.Panel.Footer,{size:h.ComponentSize.ExtraSmall},s.a.createElement("a",{className:"cf-button cf-button-md cf-button-primary cf-button-stretch cloud-upgrade-banner--button upgrade-payg--button__nav",href:`${x.o}${x.l}`,target:"_self"},"Upgrade Now"))),s.a.createElement("a",{className:"cloud-upgrade-banner__collapsed",href:`${x.o}${x.l}`,target:"_self"},s.a.createElement(h.Icon,{glyph:h.IconFont.Star}),s.a.createElement(h.Heading,{element:h.HeadingElement.H5},"Upgrade Now"))))),R=n(894);const N=e=>Object(y.get)(e,"cloud.orgSettings.settings",[]);var A=n(29);const P={getOrgSettings:R.b};var M=Object(o.c)(e=>({org:Object(S.a)(e),settings:N(e)}),P)(({org:e,settings:t,children:n})=>{const s=Object(o.d)(),[r,i]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{x.i&&e&&!r&&(i(!0),s(Object(R.b)()))},[s,e,r]),Object(a.useEffect)(()=>{Object(A.c)(t.reduce((e,t)=>(e[`org (${t.key})`]=t.value,e),{}))},[t]),n}),L=n(36);var F=n(138);let q=class extends a.PureComponent{render(){var e;const{isHidden:t,history:n,navBarState:a,handleSetNavBarState:r}=this.props;if(t)return null;const o=Object(i.e)(n.location.pathname,{path:"/orgs/:orgID",exact:!1,strict:!1}),l=null===(e=null==o?void 0:o.params)||void 0===e?void 0:e.orgID,c="expanded"===a,u=`/orgs/${l}`,m=(e=>{const t=`/orgs/${e}`;return[{id:"load-data",testID:"nav-item-load-data",icon:h.IconFont.DisksNav,label:"Load Data",shortLabel:"Data",link:{type:"link",location:`${t}/load-data/sources`},activeKeywords:["load-data"],menu:[{id:"sources",testID:"nav-subitem-sources",label:"Sources",link:{type:"link",location:`${t}/load-data/sources`}},{id:"buckets",testID:"nav-subitem-buckets",label:"Buckets",link:{type:"link",location:`${t}/load-data/buckets`}},{id:"telegrafs",testID:"nav-subitem-telegrafs",label:"Telegraf",link:{type:"link",location:`${t}/load-data/telegrafs`}},{id:"scrapers",testID:"nav-subitem-scrapers",label:"Scrapers",link:{type:"link",location:`${t}/load-data/scrapers`},cloudExclude:!0},{id:"tokens",testID:"nav-subitem-tokens",label:"Tokens",link:{type:"link",location:`${t}/load-data/tokens`}}]},{id:"data-explorer",testID:"nav-item-data-explorer",icon:h.IconFont.GraphLine,label:"Data Explorer",shortLabel:"Explore",link:{type:"link",location:`${t}/data-explorer`},activeKeywords:["data-explorer"]},{id:"flows",testID:"nav-item-flows",icon:h.IconFont.Erlenmeyer,label:"Flows",featureFlag:"notebooks",shortLabel:"Flows",link:{type:"link",location:`${t}/flows`},activeKeywords:["flows"]},{id:"dashboards",testID:"nav-item-dashboards",icon:h.IconFont.Dashboards,label:"Dashboards",shortLabel:"Boards",link:{type:"link",location:`${t}/dashboards-list`},activeKeywords:["dashboards","dashboards-list"]},{id:"tasks",testID:"nav-item-tasks",icon:h.IconFont.Calendar,label:"Tasks",link:{type:"link",location:`${t}/tasks`},activeKeywords:["tasks"]},{id:"alerting",testID:"nav-item-alerting",icon:h.IconFont.Bell,label:"Alerts",link:{type:"link",location:`${t}/alerting`},activeKeywords:["alerting"],menu:[{id:"history",testID:"nav-subitem-history",label:"Alert History",link:{type:"link",location:`${t}/alert-history`}}]},{id:"settings",testID:"nav-item-settings",icon:h.IconFont.WrenchNav,label:"Settings",link:{type:"link",location:`${t}/settings/variables`},activeKeywords:["settings"],menu:[{id:"variables",testID:"nav-subitem-variables",label:"Variables",link:{type:"link",location:`${t}/settings/variables`}},{id:"templates",testID:"nav-subitem-templates",label:"Templates",link:{type:"link",location:`${t}/settings/templates`}},{id:"labels",testID:"nav-subitem-labels",label:"Labels",link:{type:"link",location:`${t}/settings/labels`}},{id:"annotations",testID:"nav-subitem-annotations",label:"Annotations",featureFlag:"annotations",link:{type:"link",location:`${t}/settings/annotations`}}]}]})(l);return s.a.createElement(M,null,s.a.createElement(h.TreeNav,{expanded:c,headerElement:s.a.createElement(D,{link:u}),userElement:s.a.createElement(O,null),onToggleClick:()=>{r(c?"collapsed":"expanded")},bannerElement:s.a.createElement(j,null)},m.map(e=>{let t=s.a.createElement(h.TreeNav.Item,{key:e.id,id:e.id,testID:e.testID,icon:s.a.createElement(h.Icon,{glyph:e.icon}),label:e.label,shortLabel:e.shortLabel,active:C(e.activeKeywords,location.pathname),linkElement:t=>"href"===e.link.type?s.a.createElement("a",{href:e.link.location,className:t}):s.a.createElement(b.a,{to:e.link.location,className:t})},Boolean(e.menu)&&s.a.createElement(h.TreeNav.SubMenu,null,e.menu.map(e=>{let t=s.a.createElement(h.TreeNav.SubItem,{key:e.id,id:e.id,testID:e.testID,active:C([e.id],location.pathname),label:e.label,linkElement:t=>"href"===e.link.type?s.a.createElement("a",{href:e.link.location,className:t}):s.a.createElement(b.a,{to:e.link.location,className:t})});return e.cloudExclude&&(t=s.a.createElement(w,{key:e.id},t)),e.cloudOnly&&(t=s.a.createElement(E,{key:e.id},t)),e.featureFlag&&(t=s.a.createElement(L.a,{key:e.id,name:e.featureFlag,equals:e.featureFlagValue},t)),t})));return e.cloudExclude&&(t=s.a.createElement(w,{key:e.id},t)),e.cloudOnly&&(t=s.a.createElement(E,{key:e.id},t)),e.featureFlag&&(t=s.a.createElement(L.a,{key:e.id,name:e.featureFlag,equals:e.featureFlagValue},t)),t})))}};q=Object(m.a)([p.a],q);const B={handleSetNavBarState:F.h};var z=Object(o.c)(e=>{return{isHidden:Object(y.get)(e,"app.ephemeral.inPresentationMode",!1),navBarState:Object(y.get)(e,"app.persisted.navBarState","collapsed")}},B)(Object(i.j)(q)),U=n(781);const H="notes-portal";function G(){return s.a.createElement("div",{id:H})}var V=n(153),$=n(28),W=n(5);const K=e=>{const t={[W.NotificationStyle.Primary]:h.Gradients.Primary,[W.NotificationStyle.Warning]:h.Gradients.WarningLight,[W.NotificationStyle.Success]:h.Gradients.HotelBreakfast,[W.NotificationStyle.Error]:h.Gradients.DangerDark,[W.NotificationStyle.Info]:h.Gradients.DefaultLight};return Object(y.get)(t,e,h.Gradients.DefaultLight)};class Q extends a.PureComponent{render(){const{notifications:e}=this.props;return s.a.createElement(s.a.Fragment,null,e.map(({aggregateType:e,duration:t,icon:n,id:a,link:r,linkText:o,message:i,style:l})=>{const c=K(l);let u;if(r&&o&&(u=s.a.createElement(b.a,{to:r,className:"notification--button cf-button cf-button-xs cf-button-default"},o)),e){const e=()=>{this.props.onSetFunctions(["last"]),this.props.dismissNotification(a)};u=s.a.createElement(h.Button,{text:"Update Aggregate Type",onClick:e})}return s.a.createElement(h.Notification,{key:a,id:a,icon:n,duration:t,size:h.ComponentSize.ExtraSmall,gradient:c,onTimeout:this.props.dismissNotification,onDismiss:this.props.dismissNotification,testID:`notification-${l}`},s.a.createElement("span",{className:"notification--message"},i),u)}))}}Q.defaultProps={notifications:[]};const Y={dismissNotification:$.b,onSetFunctions:V.o};var X=Object(o.c)(({notifications:e})=>({notifications:e}),Y)(Q),Z=n(792),J=n(793);const ee={mode:"markdown",theme:"markdown",tabIndex:1,readonly:!1,lineNumbers:!1,autoRefresh:!0,completeSingle:!1,lineWrapping:!0,placeholder:"You can use Markdown syntax to format your note"},te=()=>{};class ne extends a.PureComponent{constructor(){super(...arguments),this.handleMount=e=>{e.focus(),this.editor=e},this.handleChange=(e,t,n)=>{const{onChangeNote:a}=this.props;a(n)},this.handleScroll=(e,t)=>{const{onScroll:n}=this.props;n(t.top)}}componentDidUpdate(){const e=this.editor.getScrollInfo().top;this.props.scrollTop!==e&&this.editor.scrollTo(0,this.props.scrollTop)}render(){const{note:e}=this.props;return s.a.createElement(Z.Controlled,{autoCursor:!0,value:Object(J.a)(e),options:ee,onBeforeChange:this.handleChange,onTouchStart:te,editorDidMount:this.handleMount,onScroll:this.handleScroll})}}var ae=ne,se=n(265);var re=e=>s.a.createElement("div",{className:"note-editor--preview","data-testid":"note-editor--preview"},s.a.createElement(h.DapperScrollbars,{className:"note-editor--preview-scroll",scrollTop:e.scrollTop,onScroll:e.onScroll},s.a.createElement("div",{className:"note-editor--markdown-container"},s.a.createElement(se.a,{text:e.note,className:"markdown-format",cloudRenderers:{image:"We don't support images in markdown for security purposes"}})))),oe=n(430);class ie extends a.PureComponent{constructor(){super(...arguments),this.state={scrollTop:0},this.handleEditorScroll=e=>{this.setState({scrollTop:e})},this.handlePreviewScroll=e=>{const t=e.target,{scrollTop:n}=t;this.setState({scrollTop:n})}}render(){const{note:e,onSetNote:t}=this.props,{scrollTop:n}=this.state;return s.a.createElement("div",{className:"note-editor"},s.a.createElement("div",{className:"note-editor--controls"},s.a.createElement("div",{className:"note-editor--helper"},"Need help using Markdown? Check out"," ",s.a.createElement("a",{href:"https://www.markdownguide.org/cheat-sheet",target:"_blank"},"this handy guide")),this.visibilityToggle),s.a.createElement("div",{className:"note-editor--body"},s.a.createElement(ae,{note:e,onChangeNote:t,onScroll:this.handleEditorScroll,scrollTop:n}),s.a.createElement(re,{note:e,scrollTop:n,onScroll:this.handlePreviewScroll})))}get visibilityToggle(){const{hasQuery:e,showNoteWhenEmpty:t,onToggleShowNoteWhenEmpty:n}=this.props;return e?s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.FlexEnd},s.a.createElement(h.InputLabel,null,"Show note when query returns no data"),s.a.createElement(h.SlideToggle,{active:t,size:h.ComponentSize.ExtraSmall,onChange:n})):null}}const le={onSetIsPreviewing:oe.b,onToggleShowNoteWhenEmpty:oe.e,onSetNote:oe.c};var ce=Object(o.c)(e=>{const{note:t,mode:n,viewID:a,isPreviewing:s,showNoteWhenEmpty:r}=e.noteEditor;return{note:t,hasQuery:n===W.NoteEditorMode.Editing&&a&&e.resources.views.byID[a]&&"markdown"!==e.resources.views.byID[a].properties.type,isPreviewing:s,showNoteWhenEmpty:r}},le)(ie),ue=n(95),me=n(31);class de extends a.PureComponent{constructor(){super(...arguments),this.state={savingStatus:W.RemoteDataState.NotStarted},this.handleDismiss=()=>{const{onClose:e}=this.props;e()},this.handleSave=()=>{const{cellID:e,dashboardID:t,onCreateNoteCell:n,onUpdateViewNote:a,onNotify:s}=this.props;this.setState({savingStatus:W.RemoteDataState.Loading});try{e?a(e):n(t),this.handleDismiss()}catch(e){s(Object(me.mc)(e.message)),console.error(e),this.setState({savingStatus:W.RemoteDataState.Error})}}}componentDidMount(){const{cellID:e}=this.props;e?this.props.loadNote(e):this.props.resetNote()}componentDidUpdate(e){const{cellID:t,viewsStatus:n}=this.props;e.viewsStatus!==W.RemoteDataState.Done&&n===W.RemoteDataState.Done&&(t?this.props.loadNote(t):this.props.resetNote())}render(){const{dashboardID:e}=this.props;return e?s.a.createElement(h.Overlay.Container,{maxWidth:900,testID:"note-editor--overlay"},s.a.createElement(h.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.SpinnerContainer,{loading:this.props.viewsStatus,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(ce,null))),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:this.handleDismiss,testID:"cancel-note--button"}),s.a.createElement(h.Button,{text:"Save",color:h.ComponentColor.Success,status:this.saveButtonStatus,onClick:this.handleSave,testID:"save-note--button"}))):s.a.createElement(h.Overlay.Container,{maxWidth:360},s.a.createElement(h.Overlay.Header,{title:"Oh no!",onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement("h5",null,"This page does not allow creation or editing of notes, better head"," ","to a dashboard to do that.")))}get overlayTitle(){const{mode:e}=this.props;let t;return t=e===W.NoteEditorMode.Editing?"Edit Note":"Add Note"}get saveButtonStatus(){const{savingStatus:e}=this.state;return e===W.RemoteDataState.Loading?h.ComponentStatus.Loading:h.ComponentStatus.Default}}const pe={onNotify:$.c,onCreateNoteCell:ue.f,onUpdateViewNote:ue.n,resetNote:oe.a,loadNote:ue.j};var he=Object(o.c)(({noteEditor:e,resources:t,overlays:n})=>{const{params:a}=n,{mode:s}=e,{status:r}=t.views;return{mode:s,viewsStatus:r,cellID:Object(y.get)(a,"cellID",void 0),dashboardID:Object(y.get)(a,"dashboardID",void 0)}},pe)(de),_e=n(42),ge=n(432),fe=n(14),be=n(318),ye=n(422),ve=n(18);const xe=()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Authorizations)===W.RemoteDataState.NotStarted&&e(Object(ye.g)(W.RemoteDataState.Loading));const a=Object(S.a)(n),s=await fe.v({query:{orgID:a.id}});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data.authorizations,be.a);e(Object(ye.g)(W.RemoteDataState.Done,r))}catch(t){console.error(t),e(Object(ye.g)(W.RemoteDataState.Error)),e(Object($.c)(Object(me.z)()))}},we=e=>async t=>{try{const n=await ge.a(e),a=Object(_e.a)(n,be.b);t(Object(ye.e)(a)),t(Object($.c)(Object(me.u)()))}catch(e){throw console.error(e.message),t(Object($.c)(Object(me.t)())),e}};const Ee=["authorizations","buckets","checks","dashboards","dbrp","documents","labels","notificationRules","notificationEndpoints","orgs","secrets","scrapers","sources","tasks","telegrafs","users","variables","views"],ke=(e,t)=>n=>{switch(n){case"authorizations":case"buckets":case"checks":case"dashboards":case"dbrp":case"documents":case"labels":case"notificationRules":case"notificationEndpoints":case"secrets":case"scrapers":case"sources":case"tasks":case"telegrafs":case"variables":case"views":return[{action:"read",resource:{type:n,orgID:e}},{action:"write",resource:{type:n,orgID:e}}];case"orgs":return[{action:"read",resource:{type:n,id:e}}];case"users":return[{action:"read",resource:{type:n,id:t}},{action:"write",resource:{type:n,id:t}}];default:return function(e){throw new Error("Unexpected object: "+e)}(n)}},Se=(e,t)=>{const n=ke(e,t);return Ee.flatMap(n)},Ce=(e,t)=>e.map(e=>({action:t,resource:{type:"buckets",orgID:e.orgID,id:e.id}})),Te=(e,t)=>[{action:t,resource:{type:"buckets",orgID:e}}],Oe=(e,t)=>{return t.find(t=>t===e)?t.filter(t=>t!==e):[...t,e]};var De;!function(e){e.AllBuckets="All Buckets",e.Scoped="Scoped"}(De||(De={}));const Ie=e=>e.me;let je=class extends a.PureComponent{constructor(){super(...arguments),this.state={description:""},this.handleSave=()=>{const{orgID:e,meID:t,onCreateAuthorization:n}=this.props;n({orgID:e,description:this.state.description,permissions:Se(e,t)}),this.handleDismiss()},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({description:t})},this.handleDismiss=()=>{this.props.onClose()}}render(){const{description:e}=this.state;return s.a.createElement(h.Overlay.Container,{maxWidth:500},s.a.createElement(h.Overlay.Header,{title:"Generate All Access Token",onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Form,{onSubmit:this.handleSave},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Column,margin:h.ComponentSize.Large},s.a.createElement(h.Alert,{icon:h.IconFont.AlertTriangle,color:h.ComponentColor.Warning},"This token will be able to create, update, delete, read, and write to anything in this organization"),s.a.createElement(h.Form.Element,{label:"Description"},s.a.createElement(h.Input,{placeholder:"Describe this new token",value:e,onChange:this.handleInputChange,testID:"all-access-token-input"})),s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",icon:h.IconFont.Remove,onClick:this.handleDismiss}),s.a.createElement(h.Button,{text:"Save",testID:"button--save",icon:h.IconFont.Checkmark,color:h.ComponentColor.Success,type:h.ButtonType.Submit}))))))}};je=Object(m.a)([p.a],je);const Re={onCreateAuthorization:we};var Ne=Object(o.c)(e=>({orgID:Object(S.a)(e).id,meID:Ie(e).id}),Re)(je);class Ae extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return s.a.createElement("div",{className:"selector-list--header","data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?s.a.createElement("div",{className:"selector-list--draggable",onDragStart:e},s.a.createElement("div",{className:"selector-list--hamburger"}),s.a.createElement("h2",{className:"selector-list--title"},t)):s.a.createElement("h2",{className:"selector-list--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return s.a.createElement("div",{className:"selector-list--delete",onClick:e})}}Ae.defaultProps={testID:"selector-list--header"};class Pe extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return s.a.createElement("div",{className:"selector-list--menu","data-testid":e},t)}}Pe.defaultProps={testID:"selector-list--menu"};class Me extends a.PureComponent{render(){const{scrollable:e,testID:t}=this.props;return e?s.a.createElement(h.DapperScrollbars,{className:"selector-list--body",style:{maxWidth:"100%",maxHeight:"100%"},testID:t},this.children):s.a.createElement("div",{className:"selector-list--body","data-testid":t},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?s.a.createElement("div",{className:"selector-list--contents"},t):t}}Me.defaultProps={scrollable:!0,addPadding:!0,testID:"selector-list--body"};class Le extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return s.a.createElement("div",{className:"selector-list--body selector-list--empty","data-testid":e},t)}}Le.defaultProps={testID:"selector-list--empty"};class Fe extends a.PureComponent{render(){const{children:e,testID:t,className:n}=this.props,a=f()("selector-list",{[`${n}`]:n});return s.a.createElement("div",{className:a,"data-testid":t},e)}}Fe.Header=Ae,Fe.Menu=Pe,Fe.Body=Me,Fe.Empty=Le,Fe.defaultProps={testID:"selector-list"};class qe extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=f()("builder-card--header",{[`${n}`]:n});return s.a.createElement("div",{className:a,"data-testid":e},this.title,t,this.deleteButton)}get title(){const{onDragStart:e,title:t}=this.props;return e?s.a.createElement("div",{className:"builder-card--draggable",onDragStart:e},s.a.createElement("div",{className:"builder-card--hamburger"}),s.a.createElement("h2",{className:"builder-card--title"},t)):s.a.createElement("h2",{className:"builder-card--title"},t)}get deleteButton(){const{onDelete:e}=this.props;if(e)return s.a.createElement("div",{className:"builder-card--delete",onClick:e})}}qe.defaultProps={testID:"builder-card--header"};const Be=()=>{};class ze extends a.PureComponent{render(){const{children:e,isInCheckOverlay:t,options:n,onSelect:a,selectedOption:r,testID:o}=this.props;return s.a.createElement("div",{className:"builder-card--header","data-testid":o},t?s.a.createElement(h.Dropdown,{button:()=>s.a.createElement(h.Dropdown.Button,{status:h.ComponentStatus.Disabled,onClick:()=>{}},r),menu:()=>null,testID:"disabled--filter-dropdown"}):s.a.createElement(h.SelectDropdown,{options:n,selectedOption:r,testID:"select-option-dropdown",onSelect:a||Be}),e,this.deleteButton)}get deleteButton(){const{onDelete:e}=this.props;if(e)return s.a.createElement("div",{className:"builder-card--delete",onClick:e})}}ze.defaultProps={testID:"builder-card--header"};class Ue extends a.PureComponent{render(){const{testID:e,children:t,className:n}=this.props,a=f()("builder-card--menu",{[`${n}`]:n});return s.a.createElement("div",{className:a,"data-testid":e},t)}}Ue.defaultProps={testID:"builder-card--menu"};class He extends a.PureComponent{render(){const{scrollable:e,testID:t,autoHideScrollbars:n,style:a,className:r}=this.props;if(e){const e=Object.assign({maxWidth:"100%",maxHeight:"100%"},a);return s.a.createElement(h.DapperScrollbars,{className:"builder-card--body",style:e,testID:t,autoHide:n},this.children)}const o=f()("builder-card--body",{[`${r}`]:r});return s.a.createElement("div",{className:o,"data-testid":t,style:a},this.children)}get children(){const{addPadding:e,children:t}=this.props;return e?s.a.createElement("div",{className:"builder-card--contents"},t):t}}He.defaultProps={scrollable:!0,addPadding:!0,testID:"builder-card--body",autoHideScrollbars:!1};class Ge extends a.PureComponent{render(){const{testID:e,children:t}=this.props;return s.a.createElement("div",{className:"builder-card--body builder-card--empty","data-testid":e},t)}}Ge.defaultProps={testID:"builder-card--empty"};class Ve extends a.PureComponent{render(){const{children:e,testID:t,className:n,widthPixels:a}=this.props,r=f()("builder-card",{[`${n}`]:n}),o={flex:`0 0 ${a}px`};return s.a.createElement("div",{className:r,"data-testid":t,style:o},e)}}Ve.Header=qe,Ve.DropdownHeader=ze,Ve.Menu=Ue,Ve.Body=He,Ve.Empty=Ge,Ve.defaultProps={testID:"builder-card",widthPixels:228};var $e=e=>{const{items:t,selectedItems:n,onSelectItem:a,multiSelect:r,children:o,testID:i,wrapText:l}=e;return s.a.createElement(h.List,{autoHideScrollbars:!0,testID:i,style:{flex:"1 0 0"}},t.map(e=>{const t=n.includes(e),o=t?"Click to remove this filter":`Click to filter by ${e}`,i=r&&s.a.createElement(h.List.Indicator,{type:"checkbox"});return s.a.createElement(h.List.Item,{className:"selector-list--item",testID:`selector-list ${e}`,key:e,value:e,onClick:a,title:o,selected:t,size:h.ComponentSize.ExtraSmall,gradient:h.Gradients.GundamPilot,wrapText:l},i,e)}),o)};class We extends a.PureComponent{render(){return this.props.children(this.sorted)}get sorted(){const{list:e,sortKey:t,direction:n}=this.props;return Object(y.orderBy)(e,[t],[n])}}const Ke=/\w+\[\]/g,Qe=/\[\]?\./;class Ye extends a.PureComponent{constructor(){super(...arguments),this.createIndex=e=>Object(y.flatMap)(e,this.extractSuffixes).sort(),this.checkIndex=(e,t)=>{const n=e[Object(y.sortedIndex)(e,t)];return!(!n||!n.includes(t))},this.extractSuffixes=e=>{const t=new Array(e.length),n=e.toLocaleLowerCase();for(let e=0;e<t.length;e++)t[e]=n.slice(e);return t}}render(){return this.props.children(this.sorted)}get sorted(){return Object(y.sortBy)(this.filtered,[e=>{const t=Object(y.get)(e,this.props.sortByKey);return t&&Object(y.isString)(t)?t.toLocaleLowerCase():t}])}get filtered(){const{list:e,labels:t,searchKeys:n}=this.props,{formattedSearchTerm:a}=this;return Object(y.isEmpty)(a)?e:e.filter(e=>{const s=Object.assign(Object.assign({},e),{labels:Object(y.get)(e,"labels",[]).map(e=>t[e])});return n.some(e=>{const t=this.getKey(s,e),n=this.isStringArray(t);if(!n&&Object(y.isObject)(t))throw new Error(`The value at key "${e}" is an object.  Take a look at "searchKeys" and\n             make sure you're indexing onto a primitive value`);if(n){const e=this.createIndex(t);return this.checkIndex(e,a)}return String(t).toLocaleLowerCase().includes(a)})})}isStringArray(e){return!!Object(y.isArray)(e)&&!(!Object(y.isEmpty)(e)&&!Object(y.isString)(e[0]))}get formattedSearchTerm(){return this.props.searchTerm.trimLeft().toLocaleLowerCase()}getKey(e,t){return t.match(Ke)?this.getInExactKey(e,t):Object(y.get)(e,t,"")}getInExactKey(e,t){return t.split(Qe).reduce((e,t)=>Object(y.flatMap)(e,e=>Object(y.get)(e,t,[])),[e])}}const Xe=e=>({labels:e.resources.labels.byID});function Ze(){return Object(o.c)(Xe)(Ye)}const Je=Ze();class et extends a.PureComponent{constructor(){super(...arguments),this.state={searchTerm:""},this.handleSetSearchTerm=e=>{this.setState({searchTerm:e.target.value})}}render(){const{selectedBuckets:e,onSelect:t,buckets:n}=this.props,{searchTerm:a}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Menu,null,s.a.createElement(h.Input,{value:a,onChange:this.handleSetSearchTerm,placeholder:"Search buckets..."})),s.a.createElement(Je,{list:n,searchTerm:a,searchKeys:["name"]},n=>s.a.createElement(We,{list:n,sortKey:"name"},n=>s.a.createElement($e,{items:n.map(e=>e.name),selectedItems:e,onSelectItem:t,multiSelect:!1}))))}}var tt=et;class nt extends a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const{activeTab:t,onClick:n}=this.props;e!==t&&n(e)}}render(){const{tabs:e,activeTab:t}=this.props;return s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit},e.map(e=>s.a.createElement(h.SelectGroup.Option,{name:"bucket-selector",key:e,id:e,titleText:e,value:e,active:t===e,onClick:this.handleTabClick},e)))}}class at extends a.PureComponent{render(){const{title:e,activeTab:t,onTabClick:n}=this.props;return s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Stretch,direction:h.FlexDirection.Column,margin:h.ComponentSize.Medium},s.a.createElement("div",{className:"title"},e),s.a.createElement(nt,{tabs:this.bucketTabs,activeTab:t,onClick:n}),this.builderCard)}get titlePreposition(){const{title:e}=this.props;switch(e.toLowerCase()){case"read":return"from";case"write":return"to";default:return"on"}}get bucketTabs(){return[De.AllBuckets,De.Scoped]}get builderCard(){const{selectedBuckets:e,onSelect:t,onSelectAll:n,onDeselectAll:a,buckets:r,activeTab:o,title:i}=this.props;switch(o){case De.AllBuckets:return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small},s.a.createElement(h.EmptyState.Text,null,"This token will be able to ",i.toLowerCase()," ",this.titlePreposition," all existing buckets as well as"," ",this.titlePreposition," any bucket created in the future")));case De.Scoped:return s.a.createElement(Fe,{className:"bucket-selectors"},s.a.createElement(Fe.Header,{title:"Buckets"},s.a.createElement("div",{className:"bucket-selectors--buttons"},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.Button,{text:"Select All",size:h.ComponentSize.ExtraSmall,className:"bucket-selectors--button",onClick:n}),s.a.createElement(h.Button,{text:"Deselect All",size:h.ComponentSize.ExtraSmall,className:"bucket-selectors--button",onClick:a})))),s.a.createElement(tt,{buckets:r,onSelect:t,selectedBuckets:e}))}}}var st=at,rt=n(123),ot=n(107),it=n(320),lt=n(325),ct=n(152),ut=n(150);var mt=n(118),dt=n(26);const pt=e=>{const{alertBuilder:t}=e,n=ft(e);return gt(t),"threshold"===n.type?_t(t,n):"deadman"===n.type?ht(t,n):"custom"===n.type?Object.assign(Object.assign({},n),{status:n.activeStatus}):void 0},ht=(e,t)=>{const{every:n,level:a,offset:s,reportZero:r,staleTime:o,statusMessageTemplate:i,tags:l,timeSince:c,activeStatus:u}=e;if(!Object(mt.e)(c)||!Object(mt.e)(o))throw new Error("Duration fields must contain valid duration");return Object.assign(Object.assign({},t),{every:n,level:a,offset:s,reportZero:r,staleTime:o,statusMessageTemplate:i,tags:l,timeSince:c,status:u})},_t=(e,t)=>{const{activeStatus:n,every:a,offset:s,statusMessageTemplate:r,tags:o,thresholds:i}=e;return(e=>{e.forEach(e=>{if("greater"===e.type&&isNaN(e.value))throw new Error("Threshold must have defined value");if("lesser"===e.type&&isNaN(e.value))throw new Error("Threshold must have defined value");if("range"===e.type&&(isNaN(e.min)||isNaN(e.min)))throw new Error("Threshold must have defined min and max values")})})(i),Object.assign(Object.assign({},t),{every:a,offset:s,statusMessageTemplate:r,tags:o,thresholds:i,status:n})},gt=e=>{if(!Object(mt.e)(e.offset))throw new Error("Check offset must be a valid duration");if(!Object(mt.e)(e.every))throw new Error("Check every must be a valid duration")},ft=e=>{const{type:t,id:n,status:a,activeStatus:s,name:r}=e.alertBuilder,{draftQueries:o}=Object(dt.c)(e),{id:i}=Object(S.a)(e);return{id:n,type:t,status:a,activeStatus:s,name:r,query:o[0],orgID:i,labels:[]}};var bt=n(43),yt=n(122),vt=n(770),xt=n(68),wt=n(149),Et=n(85),kt=n(207);const St=()=>async(e,t)=>{const n="Please rename the check before saving";try{const a=t(),s=pt(a),r=await fe.hb({data:s});if(201!==r.status){if(r.data.code.includes("conflict"))throw new Error(`A check named ${s.name} already exists. ${n}`);throw new Error(r.data.message)}const o=Object(_e.a)(r.data,it.b);e(Object(vt.g)(r.data.id,W.RemoteDataState.Done,o)),e(Object(xt.d)()),e(Object(ot.e)(`/orgs/${s.orgID}/alerting`)),e(Object(yt.f)())}catch(a){console.error(a);const s=Object(d.b)(a);e(Object($.c)(me.U(s))),s.includes(n)||Object(ct.b)(a,{context:{state:t()},name:"saveCheckFromTimeMachine function"})}};var Ct=n(772),Tt=n(322);const Ot=e=>Object.assign(Object.assign({},e),{status:e.activeStatus});var Dt=n(319);const It=()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Labels)===W.RemoteDataState.NotStarted&&e(Object(wt.h)(W.RemoteDataState.Loading));const a=Object(S.a)(n),s=await Object(fe.E)({query:{orgID:a.id}});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)((e=>e.filter(e=>!e.name.startsWith(Dt.c)))(s.data.labels),Et.a);e(Object(wt.h)(W.RemoteDataState.Done,r))}catch(t){console.error(t),e(Object(wt.h)(W.RemoteDataState.Error)),e(Object($.c)(Object(me.yb)()))}},jt=(e,t)=>async(n,a)=>{const s=Object(S.a)(a());try{const a=await Object(fe.nb)({data:{orgID:s.id,name:e,properties:t}});if(201!==a.status)throw new Error(a.data.message);const r=Object(_e.a)(a.data.label,Et.b);n(Object(wt.f)(a.data.label.id,W.RemoteDataState.Done,r))}catch(e){console.error(e),n(Object($.c)(Object(me.W)()))}};var Rt=n(163),Nt=n(769);var At=n(323),Pt=n(771),Mt=n(209);const Lt=e=>({type:"SET_TELEGRAF_EDITOR_PLUGINS_LOADING_STATE",payload:e}),Ft=e=>({type:"SET_TELEGRAF_EDITOR_PLUGINS",payload:e});var qt=n(768);var Bt=n(168),zt=n(262),Ut=n(166),Ht=n(226);const Gt=async(e,t)=>{if(!e.includes("import"))return`${t}\n\n${e}`;const n=await Object(fe.ub)({data:{query:e}});if(200!==n.status)throw new Error(n.data.message);const a=n.data.ast,s=Object(y.get)(a,"files.0.imports",[]),r=Object(y.get)(a,"files.0.body",[]);return`${s.map(e=>e.location.source).join("\n")}\n${t}\n\n${r.map(e=>e.location.source).join("\n\n")}`};var Vt=n(321),$t=n(87);const Wt=()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Tasks)===W.RemoteDataState.NotStarted&&e(Object(Ht.D)(W.RemoteDataState.Loading));const a=Object(S.a)(n),s=await fe.N({query:{orgID:a.id,limit:kt.e}});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data.tasks,zt.a);e(Object(Ht.D)(W.RemoteDataState.Done,r))}catch(t){e(Object(Ht.D)(W.RemoteDataState.Error));const n=Object(d.b)(t);console.error(t),e(Object($.c)(me.Ic(n)))}},Kt=(e,t)=>async n=>{try{const a=await fe.yb({taskID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const s=await fe.M({taskID:e});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data,zt.b);n(Object(Ht.s)(r))}catch(e){console.error(e),n(Object($.c)(me.o()))}},Qt=e=>async t=>{try{const n=await fe.M({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(_e.a)(n.data,zt.b);t(Object(Ht.w)(a))}catch(e){console.error(e),t(Yt());const n=Object(d.b)(e);t(Object($.c)(me.Dc(n)))}},Yt=()=>(e,t)=>{const n=Object(S.a)(t());e(Object(ot.e)(`/orgs/${n.id}/tasks`))},Xt=()=>e=>{e(Object(Ht.q)()),e(Object(ot.c)())},Zt=(e,t)=>async(n,a)=>{try{const s=await Gt(e,t),r=Object(S.a)(a()),o=await fe.xb({data:{orgID:r.id,flux:s}});if(201!==o.status)throw new Error(o.data.message);n(Object(Ht.y)("")),n(Object(Ht.r)()),n(Yt()),n(Object($.c)(me.yc())),n(Object(xt.h)())}catch(e){if(console.error(e),Object($t.q)(e))n(Object($.c)(me.kc("tasks")));else{const t=Object(d.b)(e);n(Object($.c)(me.Cc(t)))}}},Jt=e=>async t=>{try{const n=await fe.zb({taskID:e});if(201!==n.status)throw new Error(n.data.message);t(Object($.c)(me.Fc()))}catch(e){const n=Object(d.b)(e);t(Object($.c)(me.Ec(n))),console.error(e)}},en=e=>async(t,n)=>{try{const a=Object(S.a)(n());await Object(Bt.b)(e,a.id),t(Wt()),t(Object($.c)(me.Ib())),t(Object(xt.h)())}catch(e){Object($t.q)(e)?t(Object($.c)(me.kc("tasks"))):t(Object($.c)(me.Hb(e)))}},tn=(e,t)=>{let n="seconds";if(isNaN(e.getTime())||isNaN(t.getTime()))return"";let a=(e.getTime()-t.getTime())/1e3;return a>60&&(a=Math.round(a/60),n="minutes"),a+" "+n};var nn=n(264),an=n(421);const sn=e=>async(t,n)=>{try{const a=n(),s=Object(ve.d)(a,e.labels),r=await d.a.telegrafConfigs.update(e.id,Object.assign(Object.assign({},e),{labels:s})),o=Object(_e.a)(r,nn.b);t(Object(an.g)(o))}catch(n){console.error(n),t(Object($.c)(Object(me.Mc)(e.name)))}},rn=(e,t)=>async n=>{try{await d.a.telegrafConfigs.delete(e),n(Object(an.h)(e))}catch(e){console.error(e),n(Object($.c)(Object(me.Kc)(t)))}};var on=n(324),ln=n(231);const cn=async e=>{return await d.a.templates.get(e)},un=()=>e=>{e(Object(Ut.l)(W.RemoteDataState.NotStarted,null))},mn=e=>async t=>{try{const n=await Object(Bt.f)(e);t(Object(Ut.m)(n))}catch(e){console.error(e)}};var dn=n(94);let pn=class extends a.PureComponent{componentDidMount(){const{resources:e}=this.props,t=[],n=Date.now();e.forEach(e=>{t.push(this.getResourceDetails(e))});const a=e.join(", ");Promise.all(t).then(()=>{Object(A.a)(`GetResources ${a}`,{time:n,resource:a},{duration:Date.now()-n})})}getResourceDetails(e){switch(e){case W.ResourceType.Dashboards:return this.props.getDashboards();case W.ResourceType.Labels:return this.props.getLabels();case W.ResourceType.Buckets:return this.props.getBuckets();case W.ResourceType.Telegrafs:return this.props.getTelegrafs();case W.ResourceType.Plugins:return this.props.getPlugins();case W.ResourceType.Scrapers:return this.props.getScrapers();case W.ResourceType.Variables:return this.props.getVariables();case W.ResourceType.Tasks:return this.props.getTasks();case W.ResourceType.Authorizations:return this.props.getAuthorizations();case W.ResourceType.Templates:return this.props.getTemplates();case W.ResourceType.Members:return this.props.getMembers();case W.ResourceType.Checks:return this.props.getChecks();case W.ResourceType.NotificationRules:return this.props.getNotificationRules();case W.ResourceType.NotificationEndpoints:return this.props.getEndpoints();default:throw new Error("incorrect resource type provided")}}render(){const{children:e,remoteDataState:t}=this.props;return s.a.createElement(h.SpinnerContainer,{loading:t,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},e)}};pn=Object(m.a)([p.a],pn);const hn={getLabels:It,getBuckets:rt.f,getTelegrafs:()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Telegrafs)===W.RemoteDataState.NotStarted&&e(Object(an.j)(W.RemoteDataState.Loading));const a=Object(S.a)(n),s=await d.a.telegrafConfigs.getAll(a.id),r=Object(_e.a)(s,nn.a);e(Object(an.j)(W.RemoteDataState.Done,r))}catch(t){console.error(t),e(Object(an.j)(W.RemoteDataState.Error)),e(Object($.c)(Object(me.Lc)()))}},getPlugins:()=>async(e,t)=>{const n=t();Object(ve.e)(n,W.ResourceType.Plugins)===W.RemoteDataState.NotStarted&&e(Lt(W.RemoteDataState.Loading)),e(Lt(W.RemoteDataState.Loading));const a=await Object(fe.Q)({},{});if(200===a.status){const t=a.data.plugins;e(Ft(t))}e(Lt(W.RemoteDataState.Done))},getVariables:dn.f,getScrapers:()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Scrapers)===W.RemoteDataState.NotStarted&&e(Object(qt.h)(W.RemoteDataState.Loading));const a=Object(S.a)(n);e(Object(qt.h)(W.RemoteDataState.Loading));const s=await d.a.scrapers.getAll(a.id),r=Object(_e.a)(s,Rt.f);e(Object(qt.h)(W.RemoteDataState.Done,r))}catch(t){console.error(t),e(Object(qt.h)(W.RemoteDataState.Error))}},getAuthorizations:xe,getDashboards:ue.i,getTasks:Wt,getTemplates:()=>async(e,t)=>{const n=t();Object(ve.e)(n,W.ResourceType.Templates)===W.RemoteDataState.NotStarted&&e(Object(Ut.q)(W.RemoteDataState.Loading));const a=Object(S.a)(n),s=await d.a.templates.getAll(a.id),r=Object(_e.a)(s,on.a);e(Object(Ut.k)(r))},getMembers:()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Members)===W.RemoteDataState.NotStarted&&e(Object(Nt.f)(W.RemoteDataState.Loading));const{id:a}=Object(S.a)(n),[s,r]=await Promise.all([fe.K({orgID:a}),fe.J({orgID:a})]);if(200!==s.status)throw new Error(s.data.message);if(200!==r.status)throw new Error(r.data.message);const o=s.data.users,i=r.data.users,l=[...o,...i],c=Object(_e.a)(l,Rt.d);e(Object(Nt.f)(W.RemoteDataState.Done,c))}catch(t){console.error(t),e(Object(Nt.f)(W.RemoteDataState.Error))}},getChecks:()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.Checks)===W.RemoteDataState.NotStarted&&e(Object(vt.h)(W.RemoteDataState.Loading));const{id:a}=Object(S.a)(n),s=await fe.z({query:{orgID:a,limit:kt.c}});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data.checks,it.a);e(Object(vt.h)(W.RemoteDataState.Done,r)),e(Object(xt.d)())}catch(t){console.error(t),e(Object(vt.h)(W.RemoteDataState.Error)),e(Object($.c)(me.vb(t.message)))}},getNotificationRules:()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.NotificationRules)===W.RemoteDataState.NotStarted&&e(Object(Pt.j)(W.RemoteDataState.Loading));const{id:a}=Object(S.a)(n),s=await fe.H({query:{orgID:a,limit:kt.d}});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data.notificationRules,At.a);e(Object(Pt.j)(W.RemoteDataState.Done,r)),e(Object(xt.g)())}catch(t){console.error(t),e(Object(Pt.j)(W.RemoteDataState.Error)),e(Object($.c)(me.Ab(t.message)))}},getEndpoints:()=>async(e,t)=>{try{const n=t();Object(ve.e)(n,W.ResourceType.NotificationEndpoints)===W.RemoteDataState.NotStarted&&e(Object(Ct.h)(W.RemoteDataState.Loading));const{id:a}=Object(S.a)(n),s=await fe.F({query:{orgID:a}});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data.notificationEndpoints,Tt.a);e(Object(Ct.h)(W.RemoteDataState.Done,r)),e(Object(xt.f)())}catch(t){console.error(t),e(Object($.c)(me.xb(t.message))),e(Object(Ct.h)(W.RemoteDataState.Error))}}};var _n=Object(o.c)((e,{resources:t})=>{return{remoteDataState:((e,t)=>{const n=t.map(t=>{if(!e.resources||!e.resources[t].status)throw new Error(`RemoteDataState status for resource "${t}" is undefined in getResourcesStatus`);return e.resources[t].status});let a=W.RemoteDataState.NotStarted;return n.every(e=>e===W.RemoteDataState.Done)?a=W.RemoteDataState.Done:n.includes(W.RemoteDataState.Error)?a=W.RemoteDataState.Error:n.includes(W.RemoteDataState.Loading)&&(a=W.RemoteDataState.Loading),a})(e,t)}},hn)(pn),gn=n(210);let fn=class extends a.PureComponent{constructor(){super(...arguments),this.state={description:"",readBuckets:[],writeBuckets:[],activeTabRead:De.Scoped,activeTabWrite:De.Scoped},this.handleReadTabClick=e=>{this.setState({activeTabRead:e})},this.handleWriteTabClick=e=>{this.setState({activeTabWrite:e})},this.handleSelectReadBucket=e=>{const t=Oe(e,this.state.readBuckets);this.setState({readBuckets:t})},this.handleSelectWriteBucket=e=>{const t=Oe(e,this.state.writeBuckets);this.setState({writeBuckets:t})},this.handleReadSelectAllBuckets=()=>{const e=this.props.buckets.map(e=>e.name);this.setState({readBuckets:e})},this.handleReadDeselectAllBuckets=()=>{this.setState({readBuckets:[]})},this.handleWriteSelectAllBuckets=()=>{const e=this.props.buckets.map(e=>e.name);this.setState({writeBuckets:e})},this.handleWriteDeselectAllBuckets=()=>{this.setState({writeBuckets:[]})},this.handleSave=()=>{const{orgID:e,onCreateAuthorization:t}=this.props,{activeTabRead:n,activeTabWrite:a}=this.state;let s=[];s=n===De.Scoped?[...this.readBucketPermissions]:[...this.allReadBucketPermissions],s=a===De.Scoped?[...s,...this.writeBucketPermissions]:[...s,...this.allWriteBucketPermissions],t({orgID:e,description:this.state.description,permissions:s}),this.handleDismiss()},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({description:t})},this.handleDismiss=()=>{this.props.onClose()}}render(){const{description:e,readBuckets:t,writeBuckets:n,activeTabRead:a,activeTabWrite:r}=this.state;return s.a.createElement(h.Overlay.Container,{maxWidth:700},s.a.createElement(h.Overlay.Header,{title:"Generate Read/Write Token",onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Form,{onSubmit:this.handleSave},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Column,margin:h.ComponentSize.Large},s.a.createElement(h.Form.Element,{label:"Description"},s.a.createElement(h.Input,{placeholder:"Describe this new token",value:e,onChange:this.handleInputChange,testID:"input-field--descr"})),s.a.createElement(h.Form.Element,{label:""},s.a.createElement(_n,{resources:[W.ResourceType.Buckets]},s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Six},s.a.createElement(st,{onSelect:this.handleSelectReadBucket,buckets:this.nonSystemBuckets,selectedBuckets:t,title:"Read",onSelectAll:this.handleReadSelectAllBuckets,onDeselectAll:this.handleReadDeselectAllBuckets,activeTab:a,onTabClick:this.handleReadTabClick})),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Six},s.a.createElement(st,{onSelect:this.handleSelectWriteBucket,buckets:this.nonSystemBuckets,selectedBuckets:n,title:"Write",onSelectAll:this.handleWriteSelectAllBuckets,onDeselectAll:this.handleWriteDeselectAllBuckets,activeTab:r,onTabClick:this.handleWriteTabClick}))))),s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",icon:h.IconFont.Remove,onClick:this.handleDismiss,testID:"button--cancel"}),s.a.createElement(h.Button,{text:"Save",icon:h.IconFont.Checkmark,color:h.ComponentColor.Success,type:h.ButtonType.Submit,testID:"button--save"}))))))}get writeBucketPermissions(){const{buckets:e}=this.props,t=this.state.writeBuckets.map(t=>e.find(e=>e.name===t));return Ce(t,"write")}get readBucketPermissions(){const{buckets:e}=this.props,t=this.state.readBuckets.map(t=>e.find(e=>e.name===t));return Ce(t,"read")}get allReadBucketPermissions(){const{orgID:e}=this.props;return Te(e,"read")}get allWriteBucketPermissions(){const{orgID:e}=this.props;return Te(e,"write")}get nonSystemBuckets(){const{buckets:e}=this.props;return e.filter(e=>!Object(gn.b)(e.name))}};fn=Object(m.a)([p.a],fn);const bn={onCreateAuthorization:we};var yn=Object(o.c)(e=>({orgID:Object(S.a)(e).id,buckets:Object(ve.a)(e,W.ResourceType.Buckets)}),bn)(fn),vn=n(433),xn=n.n(vn);const wn="tomlTheme";window.monaco.editor.defineTheme(wn,{base:"vs-dark",inherit:!1,rules:[{token:"punctuation.definition.comment.toml",foreground:"#676978"},{token:"comment.line.number-sign.toml",foreground:"#676978"},{token:"constant.numeric.integer.toml",foreground:"#7CE490"},{token:"constant.numeric.float.toml",foreground:"#7CE490"},{token:"string.quoted.double.toml",foreground:"#7CE490"},{token:"constant.language.boolean.toml",foreground:"#32B08C"},{token:"entity.name.section.toml",foreground:"#ff4d96"},{token:"",foreground:"#f8f8f8",background:"#202028"}],colors:{"editor.foreground":"#F8F8F8","editor.background":"#202028","editorGutter.background":"#25252e","editor.selectionBackground":"#353640","editorLineNumber.foreground":"#666978","editor.lineHighlightBackground":"#353640","editorCursor.foreground":"#ffffff","editorActiveLineNumber.foreground":"#bec2cc"}});var En=wn,kn=n(477);Object(kn.a)("toml",async()=>({format:"json",content:await n.e(73).then(n.t.bind(null,1697,3)).then(e=>JSON.stringify(e))}));n(478);var Sn=e=>{const{script:t,onChangeScript:n,readOnly:a}=e,r=e.testID||"toml-editor",o=e.className||"time-machine-editor--embedded";return s.a.createElement("div",{className:o,"data-testid":r},s.a.createElement(xn.a,{language:"toml",theme:En,value:t,onChange:n,options:{fontSize:13,fontFamily:'"IBMPlexMono", monospace',cursorWidth:2,lineNumbersMinChars:4,lineDecorationsWidth:0,minimap:{renderCharacters:!1},overviewRulerBorder:!1,automaticLayout:!0,readOnly:a||!1},editorDidMount:t=>{t.onDidChangeCursorPosition(t=>{const{position:n}=t,{onCursorChange:a}=e,s={line:n.lineNumber,ch:n.column};a&&a(s)}),t.onKeyUp(t=>{const{ctrlKey:n,code:a}=t,{onSubmitScript:s}=e;n&&"Enter"===a&&s&&s()}),e.willMount&&e.willMount(t)}}))};let Cn=class extends a.PureComponent{render(){const{config:e,onChangeConfig:t}=this.props;return s.a.createElement(Sn,{script:e,onChangeScript:t,readOnly:!1===Object(L.c)("editTelegrafs")})}};var Tn=Cn=Object(m.a)([p.a],Cn);const On=(e,t,n,a="text/plain")=>{const s=((e,t)=>`${e.trim().toLowerCase().replace(/\s/g,"_")}${t}`)(t,n),r=new Blob([e],{type:a}),o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.target="_blank",o.download=s,document.body.appendChild(o),o.click(),o.parentNode.removeChild(o)};var Dn=()=>{var e;const t=Object(o.d)(),n=Object(o.e)(e=>Object(ve.a)(e,W.ResourceType.Telegrafs)),{onClose:r}=Object(a.useContext)(ka),l=Object(i.i)({path:"/orgs/:orgID/load-data/telegrafs/:id/view",exact:!0,strict:!1});let c;(null===(e=null==l?void 0:l.params)||void 0===e?void 0:e.id)&&(c=n.find(e=>e.id===l.params.id));const[u,m]=Object(a.useState)((null==c?void 0:c.config)||"");if(!c)return null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Panel,{style:{marginBottom:"8px"}},s.a.createElement(h.Panel.Body,{direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center,justifyContent:h.JustifyContent.SpaceBetween},s.a.createElement(h.Heading,{element:h.HeadingElement.H5},c.name),s.a.createElement(h.Button,{icon:h.IconFont.Download,color:h.ComponentColor.Secondary,text:"Download Config",onClick:()=>{const{name:e}=c;On(u,e||"telegraf",".conf")}}))),s.a.createElement("div",{className:"config-overlay"},s.a.createElement(Tn,{config:u,onChangeConfig:e=>{m(e)}}))),s.a.createElement(L.a,{name:"editTelegrafs"},s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",onClick:r}),s.a.createElement(h.ConfirmationButton,{color:h.ComponentColor.Success,text:"Save Changes",onConfirm:()=>{t(sn(Object.assign(Object.assign({},c),{config:u}))),r()},confirmationButtonText:"Save",confirmationButtonColor:h.ComponentColor.Success,confirmationLabel:"This cannot be undone, are you sure?"}))))};var In=()=>{const{onClose:e}=Object(a.useContext)(ka),t=Object(L.c)("editTelegrafs")?"Edit ":"";return s.a.createElement(h.Overlay.Container,{maxWidth:1200,testID:"telegraf-overlay"},s.a.createElement(h.Overlay.Header,{title:`${t}Telegraf Configuration`,onDismiss:e}),s.a.createElement(_n,{resources:[W.ResourceType.Telegrafs]},s.a.createElement(Dn,null)))},jn=n(275);function Rn(e,t){return new Function("vars","var output="+JSON.stringify(e).replace(/<%=(.+?)%>/g,'"+(vars["$1".trim()])+"')+";return output;")(t)}let Nn=class extends a.PureComponent{transform(){return Rn(this.props.template,Object.assign({},this.props.defaults,this.props.values))}render(){const{label:e,testID:t}=this.props,n={label:e,testID:t,copyText:this.transform()};return s.a.createElement(jn.a,Object.assign({},n))}};var An=Nn=Object(m.a)([p.a],Nn),Pn=n(350);const Mn=' [[outputs.influxdb_v2]]\n  ## The URLs of the InfluxDB cluster nodes.\n  ##\n  ## Multiple URLs can be specified for a single cluster, only ONE of the\n  ## urls will be written to each interval.\n  ## urls exp: http://127.0.0.1:9999\n  urls = ["<%= server %>"]\n\n  ## Token for authentication.\n  token = "<%= token %>"\n\n  ## Organization is the name of the organization you wish to write to; must exist.\n  organization = "<%= org %>"\n\n  ## Destination bucket to write into.\n  bucket = "<%= bucket %>"\n',Ln={server:"http://127.0.0.1:9999",token:"$INFLUX_TOKEN",org:"orgID",bucket:"bucketID"};let Fn=class extends a.PureComponent{constructor(){super(...arguments),this.state={selectedBucket:null},this.handleDismiss=()=>{this.props.onClose()},this.handleSelectBucket=e=>{this.setState({selectedBucket:e})},this.handleDownloadConfig=()=>{const{server:e,org:t}=this.props,n=this.currentBucket,a=Rn(Mn,Object.assign({},Ln,{server:e,org:t,bucket:n?n.name:Ln.bucket}));On(a,"outputs.influxdb_v2",".conf")}}render(){return s.a.createElement(s.a.Fragment,null,this.overlay)}get buckets(){const{buckets:e}=this.props;return(e||[]).filter(e=>"system"!==e.type).sort((e,t)=>{const n=e.name.toLowerCase(),a=t.name.toLowerCase();return n>a?1:n<a?-1:0})}get currentBucket(){const e=this.buckets,{selectedBucket:t}=this.state;return e.length?t||e[0]:null}get overlay(){const{server:e,org:t,orgID:n}=this.props,a=this.buckets,r=this.currentBucket;let o=null;return a.length&&(o=s.a.createElement(Pn.a,{selectedBucketID:this.currentBucket.id,buckets:a,onSelectBucket:this.handleSelectBucket})),s.a.createElement(h.Overlay.Container,{maxWidth:1200},s.a.createElement(h.Overlay.Header,{title:"Telegraf Output Configuration",onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement("p",{style:{marginTop:"-18px"}},"The $INFLUX_TOKEN can be generated on the",s.a.createElement(b.a,{to:`/orgs/${n}/load-data/tokens`}," Tokens tab"),"."),o,s.a.createElement("div",{className:"output-overlay"},s.a.createElement(An,{template:Mn,label:"telegraf.conf",testID:"telegraf-output-overlay--code-snippet",values:{server:e,org:t,bucket:r?r.name:Ln.bucket},defaults:Ln}))),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{color:h.ComponentColor.Secondary,text:"Download Config",onClick:this.handleDownloadConfig})))}};Fn=Object(m.a)([p.a],Fn);var qn=Object(o.c)(e=>{const{name:t,id:n}=Object(S.a)(e);return{org:t,orgID:n,server:window.location.origin,buckets:Object(ve.a)(e,W.ResourceType.Buckets)}})(Fn);var Bn=Object(i.j)(({orgName:e,selected:t,onDismiss:n,orgID:a,history:r})=>{const o=f()("org-switcher--item",{"org-switcher--item__selected":t}),i=t?h.IconFont.Checkmark:h.IconFont.CaretRight,l=t?s.a.createElement("em",null,"Current"):null;return s.a.createElement("li",{className:o,onClick:()=>{n(),r.push(`/orgs/${a}`)}},s.a.createElement("div",{className:"org-switcher--item-circle"},s.a.createElement(h.Icon,{glyph:i,className:"org-switcher--item-icon"})),s.a.createElement("span",{className:"org-switcher--item-label"},e,l))});var zn=Object(o.c)(e=>{return{orgs:Object(ve.a)(e,W.ResourceType.Orgs),currentOrg:Object(S.a)(e)}},null)(({orgs:e,onClose:t,currentOrg:n})=>s.a.createElement(h.Overlay.Container,{maxWidth:500},s.a.createElement(h.Overlay.Header,{title:"Switch Organizations",onDismiss:t,testID:"switch-overlay--header"}),s.a.createElement(h.Overlay.Body,null,s.a.createElement("p",{className:"org-switcher--prompt"},"Choose an organization"),s.a.createElement(We,{list:e,sortKey:"name",direction:h.Sort.Ascending},e=>s.a.createElement("div",{className:"org-switcher--list"},e.map(e=>s.a.createElement(Bn,{key:e.id,orgID:e.id,orgName:e.name,selected:e.id===n.id,onDismiss:t}))))))),Un=n(8),Hn=n.n(Un);const Gn=e=>e?h.ComponentStatus.Disabled:h.ComponentStatus.Default;var Vn=({selectedDuration:e,onSelectDuration:t,durations:n,disabled:a=!1})=>{let r=n,o=n.find(t=>e===t.duration||Object(mt.a)(e,t.duration));return o||(r=[o={duration:e,displayText:e},...r]),s.a.createElement(h.Dropdown,{testID:"duration-selector",button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"duration-selector--button",active:e,onClick:t,status:Gn(a)},o.displayText),menu:n=>s.a.createElement(h.Dropdown.Menu,{onCollapse:n,testID:"duration-selector--menu"},r.map(({duration:n,displayText:a})=>s.a.createElement(h.Dropdown.Item,{id:n,key:n,value:n,testID:`duration-selector--${n}`,selected:n===e,onClick:t},a)))})},$n=n(785);const Wn=Object($n.a)(2592e3),Kn=[{duration:"1h",displayText:"1 hour"},{duration:"6h",displayText:"6 hours"},{duration:"12h",displayText:"12 hours"},{duration:"24h",displayText:"24 hours"},{duration:"48h",displayText:"48 hours"},{duration:"72h",displayText:"72 hours"},{duration:"7d",displayText:"7 days"},{duration:"14d",displayText:"14 days"},{duration:"30d",displayText:"30 days"},{duration:"90d",displayText:"90 days"},{duration:"1y",displayText:"1 year"}];class Qn extends a.PureComponent{constructor(){super(...arguments),this.handleRadioClick=e=>{this.props.onChangeRuleType(e)},this.handleSelectDuration=e=>{const t=Object(mt.c)(Object(mt.h)(e))/1e3;this.props.onChangeRetentionRule(t)}}render(){const{retentionSeconds:e,maxRetentionSeconds:t,type:n}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit,className:"retention--radio"},s.a.createElement(h.SelectGroup.Option,{name:"bucket-retention",id:"never",testID:"retention-never--button",active:null===n,onClick:this.handleRadioClick,value:null,titleText:"Never delete data",disabled:!!t},"Never"),s.a.createElement(h.SelectGroup.Option,{name:"bucket-retention",id:"intervals",active:"expire"===n,onClick:this.handleRadioClick,value:"expire",testID:"retention-intervals--button",titleText:"Delete data older than a duration"},"Older Than")),"expire"===n&&s.a.createElement(Vn,{selectedDuration:`${e}s`,onSelectDuration:this.handleSelectDuration,durations:this.durations}))}get durations(){const{maxRetentionSeconds:e}=this.props;return e?Kn.filter(({duration:t})=>Object(mt.c)(Object(mt.h)(t))<=1e3*e):Kn}}var Yn=Object(o.c)(e=>({maxRetentionSeconds:Object($t.d)(e.cloud.limits)}))(Qn);class Xn extends a.PureComponent{constructor(){super(...arguments),this.handleNameValidation=e=>Object(gn.b)(e)?"Only system bucket names can begin with _":e?null:"This bucket needs a name"}render(){const{name:e,onSubmit:t,ruleType:n,buttonText:a,retentionSeconds:r,disableRenaming:o,onClose:i,onChangeInput:l,onChangeRuleType:c,onChangeRetentionRule:u,onClickRename:m}=this.props,d=o&&h.ComponentStatus.Disabled;return s.a.createElement(h.Form,{onSubmit:t,testID:"bucket-form"},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.ValidationElement,{value:e,label:"Name",helpText:this.nameHelpText,validationFunc:this.handleNameValidation,required:!0},t=>s.a.createElement(h.Input,{status:d||t,placeholder:"Give your bucket a name",name:"name",autoFocus:!0,value:e,onChange:l,testID:"bucket-form-name"})),s.a.createElement(h.Form.Element,{label:"Delete Data",errorMessage:this.ruleErrorMessage},s.a.createElement(Yn,{type:n,retentionSeconds:r,onChangeRuleType:c,onChangeRetentionRule:u})))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:i,type:h.ButtonType.Button}),"Save Changes"===a&&s.a.createElement(h.Button,{text:"Rename",color:h.ComponentColor.Danger,onClick:m}),s.a.createElement(h.Button,{text:a,testID:"bucket-form-submit",color:this.submitButtonColor,status:this.submitButtonStatus,type:h.ButtonType.Submit}))))))}get nameHelpText(){return this.props.disableRenaming?"To rename bucket use the RENAME button below":""}get submitButtonColor(){const{buttonText:e}=this.props;return"Save Changes"===e?h.ComponentColor.Success:h.ComponentColor.Primary}get submitButtonStatus(){const{name:e}=this.props;return this.handleNameValidation(e)||this.retentionIsTooShort?h.ComponentStatus.Disabled:h.ComponentStatus.Default}get retentionIsTooShort(){const{retentionSeconds:e,ruleType:t}=this.props;return"expire"===t&&e<gn.a}get ruleErrorMessage(){if(this.retentionIsTooShort){return`Retention period must be at least ${Hn.a.duration(gn.a,"seconds").humanize()}`}return""}}const Zn=[{type:"expire",everySeconds:2592e3}],Jn=(e,t)=>({name:"",retentionRules:e?Zn:[],ruleType:e?"expire":null,readableRetention:e?Wn:"forever",orgID:t,type:"user"}),ea=(e,t)=>{switch(t.type){case"updateName":return Object.assign(Object.assign({},e),{name:t.payload});case"updateRuleType":return Object.assign(Object.assign({},e),{ruleType:t.payload});case"updateRetentionRules":return Object.assign(Object.assign({},e),{retentionRules:t.payload});case"updateReadableRetention":return Object.assign(Object.assign({},e),{readableRetention:t.payload})}},ta={createBucket:rt.b};var na=Object(o.c)(e=>{return{org:Object(S.a)(e),isRetentionLimitEnforced:!!Object($t.d)(e.cloud.limits)}},ta)(({org:e,isRetentionLimitEnforced:t,createBucket:n,onClose:r})=>{const[o,i]=Object(a.useReducer)(ea,Jn(t,e.id)),l=o.retentionRules.find(e=>"expire"===e.type),c=l?l.everySeconds:3600;return s.a.createElement(h.Overlay.Container,{maxWidth:400},s.a.createElement(h.Overlay.Header,{title:"Create Bucket",onDismiss:r}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(Xn,{name:o.name,buttonText:"Create",disableRenaming:!1,ruleType:o.ruleType,onClose:r,onSubmit:e=>{e.preventDefault(),n(o),r()},onChangeInput:e=>{const t=e.target.value;"name"===e.target.name&&i({type:"updateName",payload:t})},retentionSeconds:c,onChangeRuleType:e=>{i("expire"===e?{type:"updateRetentionRules",payload:Zn}:{type:"updateRetentionRules",payload:[]}),i({type:"updateRuleType",payload:e})},onChangeRetentionRule:e=>{i({type:"updateRetentionRules",payload:[{type:"expire",everySeconds:e}]})}})))});var aa=Object(o.c)(e=>{const t=Object(y.get)(e,"cloud.orgSettings.settings",[]),n=Object(y.find)(t,e=>e.key===I.e);return n&&n.value===I.f.value?{inView:!1}:{inView:!0}})(({inView:e,size:t=h.ComponentSize.Small,className:n,buttonText:a="Upgrade Now"})=>{const r=f()("upgrade-payg--button",{[`${n}`]:n});return s.a.createElement(E,null,e&&s.a.createElement(h.LinkButton,{className:r,color:h.ComponentColor.Success,size:t,shape:h.ButtonShape.Default,href:`${x.o}${x.l}`,target:"_self",text:a}))});var sa=Object(o.c)(e=>({assetName:Object(y.get)(e,"overlays.params.asset","")}))(({assetName:e,onClose:t})=>s.a.createElement(h.OverlayContainer,{maxWidth:600,testID:"asset-limit-overlay",className:"asset-limit-overlay"},s.a.createElement(h.GradientBox,{borderGradient:h.Gradients.MiyazakiSky,borderColor:h.InfluxColors.Raven},s.a.createElement("div",{className:"asset-limit-overlay--contents"},s.a.createElement(h.Overlay.Header,{title:`Need More ${e}?`,wrapText:!0,onDismiss:t}),s.a.createElement(h.Overlay.Body,null,s.a.createElement("div",{className:"asset-limit-overlay--graphic-container"},s.a.createElement("div",{className:"asset-limit-overlay--graphic"},s.a.createElement("div",{className:"asset-limit-overlay--graphic-element"}))),s.a.createElement("p",null,"You’ve reached the maximum allotted ",e," on your current plan. Upgrade to Pay as you go to create more ",e,".")),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(aa,{size:h.ComponentSize.Large,className:"upgrade-payg--button__asset-create"}))))));var ra=({children:e,title:t})=>{const{onClose:n}=Object(a.useContext)(ka);return s.a.createElement(h.Overlay.Container,{maxWidth:940},s.a.createElement(h.Overlay.Header,{title:t,onDismiss:n}),e)};var oa=()=>{const{onClose:e}=Object(a.useContext)(ka);return s.a.createElement(ra,{title:"Add Annotation Stream"},s.a.createElement(h.Overlay.Body,null,s.a.createElement("p",null,"Create stuff goes here")),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:e}),s.a.createElement(h.Button,{text:"Add Annotation Stream",color:h.ComponentColor.Primary,onClick:()=>{}})))};var ia=()=>{const{onClose:e}=Object(a.useContext)(ka);return s.a.createElement(ra,{title:"Edit Annotation Stream"},s.a.createElement(h.Overlay.Body,null,s.a.createElement("p",null,"Update stuff goes here")),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:e}),s.a.createElement(h.Button,{text:"Save Changes",color:h.ComponentColor.Success,onClick:()=>{}})))};const la=e=>({type:"updateAnnotationDraft",payload:e});var ca=()=>{const{summary:e,summaryStatus:t,summaryError:n,dispatch:r}=Object(a.useContext)(ya);return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Seven},s.a.createElement(h.Form.Element,{label:"Summary",required:!0,errorMessage:n},s.a.createElement(h.Input,{name:"summary",placeholder:"ex: Deployed update",value:e,onChange:e=>{r(la({summary:e.target.value}))},status:t})))};var ua=()=>{const{timeStart:e,timeStartStatus:t,timeStartError:n,type:r,dispatch:o}=Object(a.useContext)(ya),i="range"===r?"Start Time":"Timestamp";return s.a.createElement(h.Grid.Column,{widthXS:"range"===r?h.Columns.Six:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:i,required:!0,errorMessage:n},s.a.createElement(h.Input,{name:"timeStart",value:e,onChange:e=>{o(la({timeStart:e.target.value}))},status:t})))};var ma=()=>{const{timeStop:e,timeStopStatus:t,timeStopError:n,type:r,dispatch:o}=Object(a.useContext)(ya);return"point"===r?null:s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Stop Time",required:!0,errorMessage:n},s.a.createElement(h.Input,{name:"timeStop",value:e,onChange:e=>{o(la({timeStop:e.target.value}))},status:t})))};var da=()=>{const{message:e,dispatch:t}=Object(a.useContext)(ya);return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Message",required:!1},s.a.createElement(h.TextArea,{name:"message",value:e,onChange:e=>{t(la({message:e.target.value}))},style:{height:"80px",minHeight:"80px"}})))};var pa=()=>{const{type:e,dispatch:t}=Object(a.useContext)(ya),n=e=>{t(la({type:e}))};return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Five},s.a.createElement(h.Form.Element,{label:"Type",required:!1},s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit},s.a.createElement(h.SelectGroup.Option,{id:"point",value:"point",active:"point"===e,onClick:n},"Point"),s.a.createElement(h.SelectGroup.Option,{id:"range",value:"range",active:"range"===e,onClick:n},"Range"))))};const ha=[{id:"anno1",name:"Deployments",description:"Event data for deployments",meta:{createdAt:"2d ago",updatedAt:"6h ago"},display:{color:"#ffffff",summaryCol:"summary",messageCol:"message",timeStartCol:"_timeStart",timeStopCol:"_timeStop"},query:{tags:{_field:"deployments"},measurement:"annotations",bucketName:"defBuck"}},{id:"anno2",name:"Snacks",description:"Tracking every time I eat a snack",meta:{createdAt:"2d ago",updatedAt:"6h ago"},display:{color:"#00ff90",summaryCol:"summary",messageCol:"message",timeStartCol:"_timeStart",timeStopCol:"_timeStop"},query:{tags:{_field:"snacks"},measurement:"annotations",bucketName:"defBuck"}},{id:"anno3",name:"HydroHomies",description:"Tracking every time someone on the team hydrates",meta:{createdAt:"2d ago",updatedAt:"6h ago"},display:{color:"#2973fa",summaryCol:"summary",messageCol:"message",timeStartCol:"_timeStart",timeStopCol:"_timeStop"},query:{tags:{_field:"hydrohomies",water:"filtered",flavor:"awesome"},measurement:"annotations",bucketName:"defBuck"}}];n(1244);var _a=()=>{const{streamID:e,streamIDError:t,dispatch:n}=Object(a.useContext)(ya),r=e=>{n(la(Object.assign({streamID:e.id},e)))},o=ha,i=o.find(t=>t.id===e),l=i?i.name:"Choose a stream";let c;if(i&&i.query){const e=Object.keys(i.query.tags);c=s.a.createElement("div",{className:"annotation-stream-selector--tag-list"},s.a.createElement("div",{className:"annotation-stream-selector--tag"},`measurement = ${i.query.measurement}`),e.map(e=>s.a.createElement("div",{key:e,className:"annotation-stream-selector--tag"},`${e} = ${i.query.tags[e]}`)))}return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Stream",required:!0,errorMessage:t},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Body,{size:h.ComponentSize.Small},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t},l),menu:t=>s.a.createElement(h.Dropdown.Menu,{onCollapse:t},s.a.createElement(h.List,{style:{width:"100%"}},o.map(t=>s.a.createElement(h.List.Item,{key:t.id,value:t,selected:t.id===e,onClick:r},s.a.createElement(h.List.Indicator,{type:"dot"}),t.name))))}),s.a.createElement("p",{className:"annotation-stream-selector--heading"},"This annotation will inherit the following tags:"),c))))};const ga=(e,t,n,a,s,r)=>({summary:a||"",summaryError:"",summaryStatus:h.ComponentStatus.Default,type:e,timeStart:t,timeStartError:"",timeStartStatus:h.ComponentStatus.Default,timeStop:n,timeStopError:"",timeStopStatus:h.ComponentStatus.Default,message:s||"",tags:{},streamID:r||"",streamIDError:""}),fa=Object.assign(Object.assign({},ga("point","","","","","")),{dispatch:()=>{}}),ba=(e,t)=>{switch(t.type){case"updateAnnotationDraft":let n=Object.assign(Object.assign({},e),t.payload);if("summary"in t.payload){const e=!t.payload.summary;n=Object.assign(Object.assign({},n),{summaryError:e?"This field is required":"",summaryStatus:e?h.ComponentStatus.Error:h.ComponentStatus.Valid})}if("timeStart"in t.payload){const a=!t.payload.timeStart;n=Object.assign(Object.assign({},n),{timeStop:"point"===e.type?t.payload.timeStart:e.timeStop,timeStartError:a?"This field is required":"",timeStartStatus:a?h.ComponentStatus.Error:h.ComponentStatus.Valid})}if("timeStop"in t.payload){const e=!t.payload.timeStop;n=Object.assign(Object.assign({},n),{timeStopError:e?"This field is required":"",timeStopStatus:e?h.ComponentStatus.Error:h.ComponentStatus.Valid})}if("streamID"in t.payload){const e=!t.payload.streamID;n=Object.assign(Object.assign({},n),{streamIDError:e?"Choose a stream to insert this annotation into":""})}return n}},ya=Object(a.createContext)(fa);var va=({title:e,type:t,timeStart:n,timeStop:r,summaryText:o,messageText:i,streamID:l,onSubmit:c})=>{const u=ga(t,n,r,o,i,l),[m,d]=Object(a.useReducer)(ba,u),{onClose:p}=Object(a.useContext)(ka);return s.a.createElement(ya.Provider,{value:Object.assign(Object.assign({},m),{dispatch:d})},s.a.createElement(h.Overlay.Container,{maxWidth:560},s.a.createElement(h.Overlay.Header,{title:`${e} Annotation`,onDismiss:p}),s.a.createElement(h.Form,{onSubmit:e=>{e.preventDefault(),((e,t)=>{const{summaryError:n,timeStartError:a,timeStopError:s,streamID:r}=e;return t(la(e)),!(n||a||s||!r)})(m,d)&&(c((e=>({summary:e.summary,type:e.type,timeStart:e.timeStart,timeStop:e.timeStop,message:e.message,streamID:e.streamID,bucketName:e.bucketName,measurement:e.measurement,tags:e.tags}))(m)),p())}},s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(ca,null),s.a.createElement(pa,null)),s.a.createElement(h.Grid.Row,null,s.a.createElement(ua,null),s.a.createElement(ma,null)),s.a.createElement(h.Grid.Row,null,s.a.createElement(da,null)),s.a.createElement(h.Grid.Row,null,s.a.createElement(_a,null)))),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:p}),s.a.createElement(h.Button,{text:"Add Annotation",color:h.ComponentColor.Primary,type:h.ButtonType.Submit})))))};var xa=()=>{const e=Object(i.g)().state;let t="",n="";e&&e[0]&&(t=e[0].timeStart,n=e[0].timeStop);const a=t===n?"point":"range";return s.a.createElement(va,{title:"Add",onSubmit:e=>{},timeStart:t,timeStop:n,type:a})};const wa={summary:"I am an annotation",message:"Look at me go",type:"point",timeStart:"timeStart",timeStop:"timeStop",streamID:"anno2",bucketName:"defBuck",measurement:"annotations",tags:{_field:"snacks"}};var Ea=()=>{const e=wa;return s.a.createElement(va,Object.assign({title:"Edit",onSubmit:e=>{}},e))};const ka=Object(a.createContext)({onClose:()=>{}}),Sa={clearOverlayControllerState:k.b};var Ca=Object(o.c)(e=>{return{overlayID:e.overlays.id,onClose:e.overlays.onClose}},Sa)(e=>{let t=s.a.createElement(s.a.Fragment,null),n=!0;const{overlayID:a,onClose:r,clearOverlayControllerState:o}=e,i=()=>{o(),r&&r()};switch(a){case"add-note":case"edit-note":t=s.a.createElement(he,{onClose:i});break;case"add-master-token":t=s.a.createElement(Ne,{onClose:i});break;case"add-token":t=s.a.createElement(yn,{onClose:i});break;case"telegraf-config":t=s.a.createElement(In,null);break;case"telegraf-output":t=s.a.createElement(qn,{onClose:i});break;case"switch-organizations":t=s.a.createElement(zn,{onClose:i});break;case"create-bucket":t=s.a.createElement(na,{onClose:i});break;case"asset-limit":t=s.a.createElement(sa,{onClose:i});break;case"create-annotation-stream":t=s.a.createElement(oa,null);break;case"update-annotation-stream":t=s.a.createElement(ia,null);break;case"add-annotation":t=s.a.createElement(xa,null);break;case"edit-annotation":t=s.a.createElement(Ea,null);break;default:n=!1}return s.a.createElement(ka.Provider,{value:{onClose:i}},s.a.createElement(h.Overlay,{visible:n},t))});const Ta=[{link:"https://v2.docs.influxdata.com/v2.0/",title:"📜 Documentation"},{link:"https://community.influxdata.com",title:"💭 Community Forum"},{link:"https://github.com/influxdata/influxdb/issues/new?template=feature_request.md",title:"✨ Feature Requests"},{link:"https://github.com/influxdata/influxdb/issues/new?template=bug_report.md",title:"🐛 Report a bug"}];class Oa extends a.PureComponent{render(){return s.a.createElement("ul",{className:"useful-links"},Ta.map(({link:e,title:t})=>s.a.createElement("li",{key:t},s.a.createElement("a",{href:e,target:"_blank"},t))))}}var Da=()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{to:"/logout"},s.a.createElement(h.Button,{text:"Logout",size:h.ComponentSize.ExtraSmall,testID:"logout--button"})));const Ia=(e,t)=>{const n=`${e.name||""}`.toLowerCase(),a=`${t.name||""}`.toLowerCase();return n.localeCompare(a)};var ja=Object(o.c)(e=>{return{dashboards:(e=>e.sort(Ia))(Object(ve.a)(e,W.ResourceType.Dashboards)),org:Object(S.a)(e)}})(({dashboards:e,org:t})=>{const[n,r]=Object(a.useState)("");let o=s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.EmptyState.Text,null,"You don't have any Dashboards"));if(e&&e.length){let a=Object(y.sortBy)(e,["meta.updatedAt"]).reverse();n.length&&(a=a.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()))),o=s.a.createElement(h.DapperScrollbars,{autoSizeHeight:!0,style:{maxHeight:"400px"}},s.a.createElement("div",{className:"recent-dashboards"},a.map(({id:e,name:n})=>s.a.createElement(b.a,{key:e,to:`/orgs/${t.id}/dashboards/${e}`,className:"recent-dashboards--item"},n)))),n&&!a.length&&(o=s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.EmptyState.Text,null,"No dashboards match ",s.a.createElement("b",null,n))))}return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Input,{className:"recent-dashboards--filter",value:n,icon:h.IconFont.Search,placeholder:"Filter dashboards...",onChange:e=>{r(e.target.value)}}),o)});class Ra extends a.PureComponent{render(){return s.a.createElement("div",{className:"version-info",style:this.style},s.a.createElement("p",null,"Version ",x.J," ",x.x&&s.a.createElement("code",null,"(",x.x.slice(0,7),")")))}get style(){if(this.props.widthPixels)return{width:`${this.props.widthPixels}px`}}}var Na=Ra;class Aa extends a.PureComponent{render(){return s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,stretchToFitWidth:!0,margin:h.ComponentSize.Small},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Account"),s.a.createElement(Da,null))),s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Recent Dashboards")),s.a.createElement(h.Panel.Body,null,s.a.createElement(_n,{resources:[W.ResourceType.Dashboards]},s.a.createElement(ja,null)))),s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Useful Links")),s.a.createElement(h.Panel.Body,null,s.a.createElement(Oa,null)),s.a.createElement(h.Panel.Footer,null,s.a.createElement(Na,null))))}}var Pa=Aa;const Ma=[{link:"https://v2.docs.influxdata.com/v2.0/query-data/get-started/",title:"Get Started with Flux"},{link:"https://v2.docs.influxdata.com/v2.0/visualize-data/explore-metrics/",title:"Explore Metrics"},{link:"https://v2.docs.influxdata.com/v2.0/visualize-data/dashboards/",title:"Build a Dashboard"},{link:"https://v2.docs.influxdata.com/v2.0/process-data/write-a-task/",title:"Write a Task"}];class La extends a.PureComponent{render(){return s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Some Handy Guides and Tutorials")),s.a.createElement(h.Panel.Body,null,s.a.createElement("ul",{className:"tutorials-list"},Ma.map(({link:e,title:t})=>s.a.createElement("li",{key:t},s.a.createElement("a",{href:e,target:"_blank"},t))))))}}var Fa=({animate:e})=>{const t=f()("getting-started--image collector-graphic",{"getting-started--image__animating":e});return s.a.createElement("div",{className:t},s.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"322px",height:"225px",viewBox:"0 0 322 225"},s.a.createElement("g",{id:"Bucket"},s.a.createElement("path",{id:"BG",className:"collector-graphic--bg",d:"M161,199c-14.1,0-29.2-3.8-29.8-14.4l-6.9-51.3v-0.5c0-13.1,23-15.1,36.7-15.1s36.7,2,36.7,15.1v0.5\n    l-6.9,51.3C190.2,195.2,175.1,199,161,199z"}),s.a.createElement("path",{id:"BucketExterior",className:"collector-graphic--bucket",d:"M132.3,132.8c0-3.9,12.8-7.1,28.7-7.1s28.7,3.2,28.7,7.1l-6.9,51.1\n    c0,3.9-9.7,7.1-21.8,7.1c-12.1,0-21.8-3.1-21.8-7.1L132.3,132.8z"}),s.a.createElement("ellipse",{id:"BucketHole",className:"collector-graphic--bucket-hole",cx:"160.8",cy:"132.8",rx:"25.1",ry:"4.7"})),s.a.createElement("g",{id:"Blocks"},s.a.createElement("path",{className:"collector-graphic--bg",d:"M178.2,66.5c0,1.1-0.9,2-2,2h-30.5c-1.1,0-2-0.9-2-2V36c0-1.1,0.9-2,2-2h30.5c1.1,0,2,0.9,2,2V66.5z"}),s.a.createElement("path",{className:"collector-graphic--bg",d:"M121.4,66.5c0,1.1-0.9,2-2,2H88.9c-1.1,0-2-0.9-2-2V36c0-1.1,0.9-2,2-2h30.5c1.1,0,2,0.9,2,2V66.5z"}),s.a.createElement("path",{className:"collector-graphic--bg",d:"M64.5,66.5c0,1.1-0.9,2-2,2H32c-1.1,0-2-0.9-2-2V36c0-1.1,0.9-2,2-2h30.5c1.1,0,2,0.9,2,2V66.5z"}),s.a.createElement("path",{className:"collector-graphic--bg",d:"M235.1,66.5c0,1.1-0.9,2-2,2h-30.5c-1.1,0-2-0.9-2-2V36c0-1.1,0.9-2,2-2h30.5c1.1,0,2,0.9,2,2V66.5z"}),s.a.createElement("path",{className:"collector-graphic--bg",d:"M292,66.5c0,1.1-0.9,2-2,2h-30.5c-1.1,0-2-0.9-2-2V36c0-1.1,0.9-2,2-2H290c1.1,0,2,0.9,2,2V66.5z"})),s.a.createElement("g",{id:"Lines"},s.a.createElement("path",{id:"LineE",className:"collector-graphic--data data-e",d:"M274.8,58.3c0,63-105.5,35.5-105.5,81.3"}),s.a.createElement("path",{id:"LineD",className:"collector-graphic--data data-d",d:"M217.9,58.3c0,10.2-9.4,25.8-23.6,34.5s-29.5,24.4-29.5,46.7"}),s.a.createElement("line",{id:"LineC",className:"collector-graphic--data data-c",x1:"161",y1:"58.3",x2:"161",y2:"139.5"}),s.a.createElement("path",{id:"LineB",className:"collector-graphic--data data-b",d:"M104.1,58.3c0,10.2,9.4,25.8,23.6,34.5s29.5,24.4,29.5,46.7"}),s.a.createElement("path",{id:"LineA",className:"collector-graphic--data data-a",d:"M47.2,58.3c0,63,105.5,35.5,105.5,81.3"})),s.a.createElement("g",{id:"Dots"},s.a.createElement("circle",{id:"DotE",className:"collector-graphic--dot dot-e",cx:"274.8",cy:"51.3",r:"7"}),s.a.createElement("circle",{id:"DotD",className:"collector-graphic--dot dot-d",cx:"217.9",cy:"51.3",r:"7"}),s.a.createElement("circle",{id:"DotC",className:"collector-graphic--dot dot-c",cx:"161",cy:"51.3",r:"7"}),s.a.createElement("circle",{id:"DotB",className:"collector-graphic--dot dot-b",cx:"104.1",cy:"51.3",r:"7"}),s.a.createElement("circle",{id:"DotA",className:"collector-graphic--dot dot-a",cx:"47.2",cy:"51.3",r:"7"})),s.a.createElement("path",{id:"BucketMask",className:"collector-graphic--bucket",d:"M176.2,126.8v2.3c5.9,0.9,9.7,2.2,9.7,3.7c0,2.6-11.2,4.7-25.1,4.7s-25.1-2.1-25.1-4.7\n  c0-1.5,3.6-2.8,9.2-3.6V127c-7.7,1.3-12.7,3.4-12.7,5.9l6.9,51.1c0,3.9,9.7,7.1,21.8,7.1s21.8-3.1,21.8-7.1l6.9-51.1\n  C189.7,130.3,184.3,128.1,176.2,126.8z"}),s.a.createElement("g",{id:"Cubo",className:"collector-graphic--cubo"},s.a.createElement("polygon",{className:"collector-graphic--cubo-line",points:"166.5,150.9 155.1,150.9 149.4,160.8 155.1,170.7 166.5,170.7 172.2,160.8 \t\t"}),s.a.createElement("polygon",{className:"collector-graphic--cubo-line",points:"155.1,164.1 160.8,154.2 166.5,164.1 \t\t"}),s.a.createElement("polyline",{className:"collector-graphic--cubo-line",points:"155.1,150.9 160.8,154.2 166.5,150.9 \t\t"}),s.a.createElement("polyline",{className:"collector-graphic--cubo-line",points:"172.2,160.8 166.5,164.1 166.5,170.7 \t\t"}),s.a.createElement("polyline",{className:"collector-graphic--cubo-line",points:"155.1,170.7 155.1,164.1 149.4,160.8 \t\t"}))))};var qa=({animate:e})=>{const t=f()("getting-started--image dashboarding-graphic",{"getting-started--image__animating":e});return s.a.createElement("div",{className:t},s.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"322px",height:"225px",viewBox:"0 0 322 225"},s.a.createElement("g",null,s.a.createElement("path",{id:"Background",className:"dashboarding-graphic--bg",d:"M291,30.5H31c-2.2,0-4,1.8-4,4v156c0,2.2,1.8,4,4,4h260c2.2,0,4-1.8,4-4v-156\n  C295,32.3,293.2,30.5,291,30.5z"}),s.a.createElement("g",{id:"Cells"},s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M162,41.5c0-1.7,1.3-3,3-3h55.5c1.7,0,3,1.3,3,3v23c0,1.7-1.3,3-3,3H165c-1.7,0-3-1.3-3-3V41.5z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M98.5,41.4c0.1-1.6,1.4-2.9,3-2.9H157c1.7,0,3,1.3,3,3v23c0,1.7-1.3,3-3,3h-55.5c-1.6,0-2.9-1.3-3-2.9\n    c0,0,0-0.1,0-0.1v-23C98.5,41.5,98.5,41.4,98.5,41.4z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M35,41.5c0-1.7,1.3-3,3-3h55.5c1.6,0,2.9,1.3,3,2.9c0,0,0,0.1,0,0.1v23c0,0,0,0.1,0,0.1\n    c-0.1,1.6-1.4,2.9-3,2.9H38c-1.7,0-3-1.3-3-3V41.5z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M35,72.5c0-1.7,1.3-3,3-3h55.5h8H157c1.7,0,3,1.3,3,3V132c0,1.7-1.3,3-3,3h-33h-8H38c-1.7,0-3-1.3-3-3V72.5z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M119,183.6c-0.1,1.6-1.4,2.9-3,2.9H38c-1.7,0-3-1.3-3-3V140c0-1.7,1.3-3,3-3h78c1.6,0,2.9,1.3,3,2.9\n    c0,0,0,0.1,0,0.1v43.5C119,183.5,119,183.6,119,183.6z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M201,183.6c-0.1,1.6-1.4,2.9-3,2.9h-74c-1.6,0-2.9-1.3-3-2.9c0,0,0-0.1,0-0.1V140c0,0,0-0.1,0-0.1\n    c0.1-1.6,1.4-2.9,3-2.9h33h8h33c1.6,0,2.9,1.3,3,2.9c0,0,0,0.1,0,0.1v43.5C201,183.5,201,183.6,201,183.6z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M287,183.5c0,1.7-1.3,3-3,3h-78c-1.6,0-2.9-1.3-3-2.9c0,0,0-0.1,0-0.1V140c0,0,0-0.1,0-0.1\n    c0.1-1.6,1.4-2.9,3-2.9h78c1.7,0,3,1.3,3,3V183.5z"}),s.a.createElement("path",{className:"dashboarding-graphic--cell",d:"M287,64.5c0,1.7-1.3,3-3,3h-55.5c-1.7,0-3-1.3-3-3v-23c0-1.7,1.3-3,3-3H284c1.7,0,3,1.3,3,3V64.5z"}),s.a.createElement("path",{id:"Cell",className:"dashboarding-graphic--cell",d:"M287,132c0,1.7-1.3,3-3,3h-78h-8h-33c-1.7,0-3-1.3-3-3V72.5c0-1.7,1.3-3,3-3h0h55.5h8H284\n    c1.7,0,3,1.3,3,3V132z"})),s.a.createElement("g",{id:"Single_Stat_4392"},s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-a",d:"M57.8,54.1H59V55h-1.2v2h-1.1v-2h-3.9v-0.6l3.8-5.9h1.2V54.1z M54.1,54.1h2.7V50l-0.1,0.2L54.1,54.1z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-a",d:"M61.5,52.2h0.8c0.5,0,0.9-0.1,1.2-0.4s0.4-0.6,0.4-1.1c0-1-0.5-1.5-1.5-1.5c-0.5,0-0.8,0.1-1.1,0.4\n    S61,50.3,61,50.7h-1.1c0-0.7,0.2-1.2,0.7-1.7s1.1-0.7,1.9-0.7c0.8,0,1.4,0.2,1.9,0.6s0.7,1,0.7,1.8c0,0.4-0.1,0.7-0.4,1.1\n    s-0.6,0.6-1,0.8c0.5,0.1,0.8,0.4,1.1,0.7s0.4,0.8,0.4,1.3c0,0.8-0.2,1.4-0.8,1.8s-1.2,0.7-2,0.7s-1.5-0.2-2-0.7s-0.8-1-0.8-1.7\n    h1.1c0,0.4,0.1,0.8,0.4,1.1s0.7,0.4,1.2,0.4c0.5,0,0.9-0.1,1.2-0.4s0.4-0.7,0.4-1.2c0-0.5-0.2-0.9-0.5-1.1s-0.7-0.4-1.3-0.4h-0.8\n    V52.2z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-a",d:"M70.9,53.2c-0.2,0.3-0.5,0.5-0.8,0.7s-0.7,0.2-1,0.2c-0.5,0-0.9-0.1-1.3-0.4s-0.6-0.6-0.8-1s-0.3-0.9-0.3-1.5\n    c0-0.6,0.1-1.1,0.3-1.5s0.5-0.8,0.9-1s0.9-0.4,1.4-0.4c0.8,0,1.5,0.3,2,0.9s0.7,1.5,0.7,2.6v0.3c0,1.7-0.3,2.9-1,3.6\n    S69.3,57,68,57h-0.2v-0.9H68c0.9,0,1.6-0.2,2.1-0.7S70.8,54.2,70.9,53.2z M69.2,53.2c0.4,0,0.7-0.1,1-0.3s0.5-0.5,0.7-0.8v-0.4\n    c0-0.7-0.2-1.3-0.5-1.7s-0.7-0.7-1.2-0.7c-0.5,0-0.9,0.2-1.1,0.5s-0.4,0.8-0.4,1.4c0,0.6,0.1,1.1,0.4,1.4S68.7,53.2,69.2,53.2z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-a",d:"M79,57h-5.6v-0.8l3-3.3c0.4-0.5,0.7-0.9,0.9-1.2s0.2-0.6,0.2-1c0-0.4-0.1-0.8-0.4-1.1s-0.6-0.4-1.1-0.4\n    c-0.5,0-1,0.2-1.3,0.5s-0.4,0.7-0.4,1.3h-1.1c0-0.8,0.3-1.4,0.8-1.9s1.2-0.7,2-0.7c0.8,0,1.4,0.2,1.9,0.6s0.7,1,0.7,1.7\n    c0,0.8-0.5,1.8-1.6,3l-2.3,2.5H79V57z"})),s.a.createElement("g",{id:"Line_Graph_A"},s.a.createElement("polyline",{className:"dashboarding-graphic--line line-a",points:"40,121.8 54.4,121.8 68.8,115.5 83.1,118.6 97.5,109.8 111.9,114.2 126.2,109.8 140.6,109.8 \n    155,117.2 \t\t"}),s.a.createElement("polyline",{className:"dashboarding-graphic--line line-b",points:"40,118.2 54.4,118.2 68.8,104.8 83.1,74.5 97.5,99.5 111.9,92 126.2,103.8 140.6,105.5 155,109.8 \t\t\n    "}),s.a.createElement("polyline",{className:"dashboarding-graphic--axes",points:"40,74.5 40,130 155,130 \t\t"})),s.a.createElement("g",{id:"Single_Stat_99.5"},s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-b",d:"M245.1,53.2c-0.2,0.3-0.5,0.5-0.8,0.7s-0.7,0.2-1,0.2c-0.5,0-0.9-0.1-1.3-0.4s-0.6-0.6-0.8-1\n    s-0.3-0.9-0.3-1.5c0-0.6,0.1-1.1,0.3-1.5s0.5-0.8,0.9-1s0.9-0.4,1.4-0.4c0.8,0,1.5,0.3,2,0.9s0.7,1.5,0.7,2.6v0.3\n    c0,1.7-0.3,2.9-1,3.6s-1.6,1.2-3,1.2H242v-0.9h0.2c0.9,0,1.6-0.2,2.1-0.7S245,54.2,245.1,53.2z M243.4,53.2c0.4,0,0.7-0.1,1-0.3\n    s0.5-0.5,0.7-0.8v-0.4c0-0.7-0.2-1.3-0.5-1.7s-0.7-0.7-1.2-0.7c-0.5,0-0.9,0.2-1.1,0.5s-0.4,0.8-0.4,1.4c0,0.6,0.1,1.1,0.4,1.4\n    S242.9,53.2,243.4,53.2z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-b",d:"M251.8,53.2c-0.2,0.3-0.5,0.5-0.8,0.7s-0.7,0.2-1,0.2c-0.5,0-0.9-0.1-1.3-0.4s-0.6-0.6-0.8-1\n    s-0.3-0.9-0.3-1.5c0-0.6,0.1-1.1,0.3-1.5s0.5-0.8,0.9-1s0.9-0.4,1.4-0.4c0.8,0,1.5,0.3,2,0.9s0.7,1.5,0.7,2.6v0.3\n    c0,1.7-0.3,2.9-1,3.6s-1.6,1.2-3,1.2h-0.2v-0.9h0.2c0.9,0,1.6-0.2,2.1-0.7S251.7,54.2,251.8,53.2z M250.1,53.2\n    c0.4,0,0.7-0.1,1-0.3s0.5-0.5,0.7-0.8v-0.4c0-0.7-0.2-1.3-0.5-1.7s-0.7-0.7-1.2-0.7c-0.5,0-0.9,0.2-1.1,0.5s-0.4,0.8-0.4,1.4\n    c0,0.6,0.1,1.1,0.4,1.4S249.7,53.2,250.1,53.2z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-b",d:"M254.5,56.4c0-0.2,0.1-0.3,0.2-0.5s0.3-0.2,0.5-0.2s0.4,0.1,0.5,0.2s0.2,0.3,0.2,0.5c0,0.2-0.1,0.3-0.2,0.5\n    s-0.3,0.2-0.5,0.2s-0.4-0.1-0.5-0.2S254.5,56.6,254.5,56.4z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-b",d:"M258,52.7l0.4-4.3h4.4v1h-3.5l-0.3,2.3c0.4-0.2,0.9-0.4,1.4-0.4c0.8,0,1.4,0.3,1.9,0.8s0.7,1.2,0.7,2.1\n    c0,0.9-0.2,1.6-0.7,2.1s-1.1,0.8-2,0.8c-0.8,0-1.4-0.2-1.8-0.6s-0.7-1-0.8-1.7h1c0.1,0.5,0.2,0.9,0.5,1.1s0.7,0.4,1.1,0.4\n    c0.5,0,0.9-0.2,1.2-0.5s0.4-0.8,0.4-1.4c0-0.6-0.2-1-0.5-1.4s-0.7-0.5-1.2-0.5c-0.5,0-0.8,0.1-1.1,0.3l-0.3,0.2L258,52.7z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-b",d:"M264.2,50.1c0-0.5,0.2-0.9,0.5-1.3s0.7-0.5,1.3-0.5c0.5,0,0.9,0.2,1.3,0.5s0.5,0.8,0.5,1.3v0.4\n    c0,0.5-0.2,0.9-0.5,1.3s-0.7,0.5-1.2,0.5c-0.5,0-0.9-0.2-1.3-0.5s-0.5-0.8-0.5-1.3V50.1z M265,50.6c0,0.3,0.1,0.6,0.3,0.8\n    s0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3s0.3-0.5,0.3-0.8v-0.4c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.3-0.7-0.3s-0.5,0.1-0.7,0.3\n    c-0.2,0.2-0.3,0.5-0.3,0.8V50.6z M266.2,56.4l-0.6-0.4l4.2-6.7l0.6,0.4L266.2,56.4z M268.3,54.9c0-0.5,0.2-0.9,0.5-1.3\n    s0.7-0.5,1.3-0.5s0.9,0.2,1.3,0.5s0.5,0.8,0.5,1.3v0.4c0,0.5-0.2,0.9-0.5,1.3s-0.7,0.5-1.3,0.5s-0.9-0.2-1.3-0.5s-0.5-0.8-0.5-1.3\n    V54.9z M269.1,55.4c0,0.3,0.1,0.6,0.3,0.8s0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3s0.3-0.5,0.3-0.8v-0.4c0-0.3-0.1-0.6-0.3-0.8\n    c-0.2-0.2-0.4-0.3-0.7-0.3c-0.3,0-0.5,0.1-0.7,0.3c-0.2,0.2-0.3,0.5-0.3,0.8V55.4z"})),s.a.createElement("g",{id:"Table"},s.a.createElement("rect",{x:"167",y:"74.5",className:"dashboarding-graphic--axes",width:"115",height:"55.5"}),s.a.createElement("rect",{x:"167",y:"74.5",className:"dashboarding-graphic--axes",width:"23",height:"55.5"}),s.a.createElement("rect",{x:"190",y:"74.5",className:"dashboarding-graphic--axes",width:"23",height:"55.5"}),s.a.createElement("rect",{x:"213",y:"74.5",className:"dashboarding-graphic--axes",width:"23",height:"55.5"}),s.a.createElement("rect",{x:"236",y:"74.5",className:"dashboarding-graphic--axes",width:"23",height:"55.5"}),s.a.createElement("rect",{x:"259",y:"74.5",className:"dashboarding-graphic--axes",width:"23",height:"55.5"}),s.a.createElement("rect",{x:"167",y:"74.5",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{x:"167",y:"82.4",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{x:"167",y:"90.4",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{x:"167",y:"98.3",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{x:"167",y:"106.2",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{x:"167",y:"114.1",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{x:"167",y:"122.1",className:"dashboarding-graphic--axes",width:"115",height:"7.9"}),s.a.createElement("rect",{id:"Highlight_Blue",x:"190",y:"82.4",className:"dashboarding-graphic--axes table-a",width:"23",height:"7.9"}),s.a.createElement("rect",{id:"Highlight_Purple",x:"236",y:"106.2",className:"dashboarding-graphic--axes table-b",width:"23",height:"7.9"})),s.a.createElement("g",{id:"Line_Graph_B"},s.a.createElement("polyline",{className:"dashboarding-graphic--line line-c",points:"39.5,167.8 48.8,167.8 58.1,157 67.4,162.4 76.8,147 86.1,154.8 95.4,147 104.7,147 114,160 \t\t"}),s.a.createElement("polyline",{className:"dashboarding-graphic--axes",points:"39.5,142 39.5,181.5 114,181.5 \t\t"})),s.a.createElement("g",{id:"Bar_Chart_1_"},s.a.createElement("polyline",{className:"dashboarding-graphic--axes",points:"126,142 126,181.5 196,181.5 \t\t"}),s.a.createElement("g",{id:"Bar_Chart"},s.a.createElement("rect",{x:"130",y:"166.3",className:"dashboarding-graphic--bar bar-a",width:"6.3",height:"15.2",transform:"scale(1,-1) translate(0,-347.2)"}),s.a.createElement("rect",{x:"139.1",y:"149.3",className:"dashboarding-graphic--bar bar-b",width:"6.3",height:"32.2",transform:"scale(1,-1) translate(0,-330)"}),s.a.createElement("rect",{x:"148.3",y:"155.7",className:"dashboarding-graphic--bar bar-c",width:"6.3",height:"25.8",transform:"scale(1,-1) translate(0,-336.5)"}),s.a.createElement("rect",{x:"157.4",y:"177.5",className:"dashboarding-graphic--bar bar-d",width:"6.3",height:"4",transform:"scale(1,-1) translate(0,-358.5)"}),s.a.createElement("rect",{x:"166.5",y:"179.5",className:"dashboarding-graphic--bar bar-e",width:"6.3",height:"2",transform:"scale(1,-1) translate(0,-360.5)"}),s.a.createElement("rect",{x:"175.6",y:"173.9",className:"dashboarding-graphic--bar bar-f",width:"6.3",height:"7.6",transform:"scale(1,-1) translate(0,-355)"}),s.a.createElement("rect",{x:"184.7",y:"177.5",className:"dashboarding-graphic--bar bar-g",width:"6.3",height:"4",transform:"scale(1,-1) translate(0,-358.5)"}))),s.a.createElement("g",{id:"Line_Graph_C"},s.a.createElement("polyline",{className:"dashboarding-graphic--line line-d",points:"207.7,161 217.1,173.9 226.4,176.2 235.7,163.7 245,167.8 254.3,152.9 264.1,145 272.9,148 \n282.3,148 "}),s.a.createElement("polyline",{className:"dashboarding-graphic--axes",points:"207.7,142 207.7,181.5 282.3,181.5 \t\t"})),s.a.createElement("g",{id:"Single_Stat_4"},s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-c",d:"M194.7,53.9h1.2v0.9h-1.2v2h-1.1v-2h-3.9v-0.6l3.8-5.9h1.2V53.9z M190.9,53.9h2.7v-4.2l-0.1,0.2L190.9,53.9z\n    "})),s.a.createElement("g",{id:"Single_Stat_ABC"},s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-d",d:"M123.4,54.8h-3.6L119,57h-1.2l3.3-8.5h1l3.3,8.5h-1.2L123.4,54.8z M120.2,53.8h2.9l-1.5-4L120.2,53.8z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-d",d:"M126.5,57v-8.5h2.8c0.9,0,1.6,0.2,2.1,0.6s0.7,0.9,0.7,1.7c0,0.4-0.1,0.8-0.3,1.1s-0.5,0.5-0.9,0.7\n    c0.5,0.1,0.8,0.4,1.1,0.7s0.4,0.8,0.4,1.3c0,0.8-0.2,1.4-0.7,1.8s-1.2,0.7-2.1,0.7H126.5z M127.6,52.1h1.7c0.5,0,0.9-0.1,1.2-0.4\n    c0.3-0.2,0.4-0.6,0.4-1c0-0.5-0.1-0.8-0.4-1c-0.3-0.2-0.7-0.3-1.2-0.3h-1.7V52.1z M127.6,53v3.1h1.9c0.5,0,0.9-0.1,1.2-0.4\n    s0.5-0.6,0.5-1.1c0-1-0.6-1.5-1.7-1.5H127.6z"}),s.a.createElement("path",{className:"dashboarding-graphic--single-stat single-stat-d",d:"M140.3,54.3c-0.1,0.9-0.4,1.6-1,2.1s-1.3,0.7-2.2,0.7c-1,0-1.8-0.4-2.4-1.1s-0.9-1.7-0.9-2.9v-0.8\n    c0-0.8,0.1-1.5,0.4-2.1s0.7-1.1,1.2-1.4s1.1-0.5,1.8-0.5c0.9,0,1.6,0.3,2.2,0.8s0.9,1.2,1,2.1h-1.1c-0.1-0.7-0.3-1.2-0.6-1.5\n    s-0.8-0.5-1.4-0.5c-0.7,0-1.3,0.3-1.7,0.8c-0.4,0.5-0.6,1.3-0.6,2.3v0.8c0,0.9,0.2,1.7,0.6,2.2s0.9,0.8,1.6,0.8\n    c0.6,0,1.1-0.1,1.4-0.4s0.6-0.8,0.7-1.5H140.3z"})))))};var Ba=({animate:e})=>{const t=f()("getting-started--image explore-graphic",{"getting-started--image__animating":e});return s.a.createElement("div",{className:t},s.a.createElement("svg",{version:"1.1",x:"0px",y:"0px",width:"322px",height:"225px",viewBox:"0 0 322 225"},s.a.createElement("g",null,s.a.createElement("path",{id:"Background_2_",className:"explore-graphic--bg",d:"M302,34.3l-8.8-15.2c-2-3.4-6-5.7-9.9-5.7h-17.6c-4,0-7.9,2.3-9.9,5.7l-7.5,13h-12.4\n\t\tl-7.5-13c-2-3.4-6-5.7-9.9-5.7h-17.6c-4,0-7.9,2.3-9.9,5.7l-7.5,13h-15c-4,0-7.9,2.3-9.9,5.7l-7.5,13h-12.4l-7.5-13\n\t\tc-2-3.4-6-5.7-9.9-5.7h-15l-7.5-13c-2-3.4-6-5.7-9.9-5.7H71.2c-4,0-7.9,2.3-9.9,5.7l-7.5,13h-15c-4,0-7.9,2.3-9.9,5.7L20,53\n\t\tc-2,3.4-2,8,0,11.5l7.5,13l-7.5,13c-2,3.4-2,8,0,11.5l7.5,13l-7.5,13c-2,3.4-2,8,0,11.5l8.8,15.2c2,3.4,6,5.7,9.9,5.7h15l7.5,13\n\t\tc2,3.4,6,5.7,9.9,5.7h17.6c4,0,7.9-2.3,9.9-5.7l7.5-13h12.4l6.2,10.7l-7.5,13c-2,3.4-2,8,0,11.5l8.8,15.2c2,3.4,6,5.7,9.9,5.7h17.6\n\t\tc4,0,7.9-2.3,9.9-5.7l7.5-13h12.4l7.5,13c2,3.4,6,5.7,9.9,5.7h17.6c4,0,7.9-2.3,9.9-5.7l8.8-15.2c2-3.4,2-8,0-11.5l-7.5-13\n\t\tl6.2-10.7h15c4,0,7.9-2.3,9.9-5.7l8.8-15.2c2-3.4,2-8,0-11.5l-7.5-13l7.5-13c2-3.4,2-8,0-11.5l-7.5-13l6.2-10.7h15\n\t\tc4,0,7.9-2.3,9.9-5.7l8.8-15.2C303.9,42.4,303.9,37.7,302,34.3z"}),s.a.createElement("g",{id:"Hexes"},s.a.createElement("path",{className:"explore-graphic--hex",d:"M200.8,59.3h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2c0.5,0.8,0.5,2.2,0,3L221,94.2c-0.5,0.8-1.6,1.5-2.6,1.5\n\t\t\th-17.6c-0.9,0-2.1-0.7-2.6-1.5L189.4,79c-0.5-0.8-0.5-2.2,0-3l8.8-15.2C198.7,59.9,199.9,59.3,200.8,59.3z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M157,57.3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5H186c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2c0.5,0.8,0.5,2.2,0,3\n\t\t\tl-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5L157,60.2C156.6,59.4,156.6,58.1,157,57.3z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M103.6,40.5h17.6c0.9,0,2.1,0.7,2.6,1.5v0l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5\n\t\t\th-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3L101,42C101.5,41.2,102.7,40.5,103.6,40.5z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M68.6,56.8l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5\n\t\t\tl8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5H71.2C70.3,58.3,69.1,57.6,68.6,56.8z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M67.7,97.7l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5H38.8c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3\n\t\t\tl8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2C68.2,95.5,68.2,96.9,67.7,97.7z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M88.8,95.7H71.2c-0.9,0-2.1-0.7-2.6-1.5L59.8,79c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6\n\t\t\tc0.9,0,2.1,0.7,2.6,1.5l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2C90.9,95,89.7,95.7,88.8,95.7z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M132.6,97.7l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2\n\t\t\tc-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5v0l8.8,15.2C133,95.5,133,96.9,132.6,97.7z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M153.6,95.7H136c-0.9,0-2.1-0.7-2.6-1.5L124.6,79c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5\n\t\t\th17.6c0.9,0,2.1,0.7,2.6,1.5L165,76c0.5,0.8,0.5,2.2,0,3l-8.8,15.2C155.7,95,154.5,95.7,153.6,95.7z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M133.4,169l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5\n\t\t\tl8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5H136C135.1,170.5,133.9,169.8,133.4,169z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M165,191.2l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5H136c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3\n\t\t\tl8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2C165.4,189.1,165.4,190.4,165,191.2z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M200.8,171.5h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5\n\t\t\th-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3l8.8-15.2C198.7,172.2,199.9,171.5,200.8,171.5z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M188.6,154.3l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5\n\t\t\tl-8.8-15.2c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5H186C186.9,152.8,188.1,153.5,188.6,154.3z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M197.4,135.1l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2\n\t\t\tc-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5H186c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2C197.8,132.9,197.8,134.3,197.4,135.1\n\t\t\tz"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M229.8,116.4l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2\n\t\t\tc-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2\n\t\t\tC230.2,114.2,230.2,115.6,229.8,116.4z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M253.4,79.5l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5\n\t\t\tl-8.8-15.2c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6C251.7,78,252.9,78.6,253.4,79.5z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M262.2,60.2l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2\n\t\t\tc-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2C262.7,58.1,262.7,59.4,262.2,60.2z"}),s.a.createElement("path",{className:"explore-graphic--hex",d:"M294.6,41.5l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6c-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2\n\t\t\tc-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6c0.9,0,2.1,0.7,2.6,1.5l8.8,15.2C295.1,39.4,295.1,40.7,294.6,41.5z"})),s.a.createElement("path",{id:"DiagnosticB",className:"explore-graphic--diagnostic diagnostic-b",d:"M178.4,10.4c0-1-0.8-1.9-1.9-1.9s-1.9,0.8-1.9,1.9c0,0.9,0.6,1.6,1.4,1.8v73.6\n\t\tc0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V12.2C177.8,12,178.4,11.3,178.4,10.4z"}),s.a.createElement("path",{id:"DiagnosticA",className:"explore-graphic--diagnostic diagnostic-a",d:"M48.1,206.3v-59.9c0-0.3-0.2-0.5-0.5-0.5s-0.5,0.2-0.5,0.5v59.9c-0.8,0.2-1.4,0.9-1.4,1.8\n\t\tc0,1,0.8,1.9,1.9,1.9s1.9-0.8,1.9-1.9C49.5,207.2,48.9,206.5,48.1,206.3z"}),s.a.createElement("g",{className:"explore-graphic--flows"},s.a.createElement("path",{id:"FlowB",className:"explore-graphic--flow flow-b",d:"M47.6,134.9l30,16.5c1,0.5,2.2,0.5,3.2,0l30-16.9c1-0.6,2.2-0.6,3.2,0l29.1,16.8\n\t\tc1,0.6,2.3,0.6,3.3,0l29.1-16.8c1-0.6,1.6-1.7,1.6-2.8V95.2"}),s.a.createElement("path",{id:"FlowA",className:"explore-graphic--flow flow-a",d:"M47.6,134.9l30.1-19c0.9-0.6,1.5-1.6,1.5-2.8V79.4c0-1.2,0.6-2.3,1.7-2.9l29.9-16.9\n\t\tc1-0.6,2.2-0.6,3.2,0l30.9,17.8l32.3,17.8"})),s.a.createElement("g",{id:"Text"},s.a.createElement("line",{className:"explore-graphic--text",x1:"52.6",y1:"203.1",x2:"75.2",y2:"203.1"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"52.6",y1:"199.1",x2:"79.2",y2:"199.1"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"52.6",y1:"195.1",x2:"83.5",y2:"195.1"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"52.6",y1:"191.1",x2:"69.4",y2:"191.1"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"171.5",y1:"15.4",x2:"148.9",y2:"15.4"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"171.5",y1:"19.4",x2:"155.3",y2:"19.4"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"171.5",y1:"23.4",x2:"146.3",y2:"23.4"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"171.5",y1:"27.4",x2:"159.3",y2:"27.4"}),s.a.createElement("line",{className:"explore-graphic--text",x1:"155.3",y1:"27.4",x2:"149.2",y2:"27.4"})),s.a.createElement("path",{id:"HighlightA",className:"explore-graphic--hex hex-a",d:"M58.9,116.9l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5H38.8\n\t\tc-0.9,0-2.1-0.7-2.6-1.5l-8.8-15.2c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5h17.6C57.3,115.4,58.5,116.1,58.9,116.9z\n\t\t"}),s.a.createElement("path",{id:"HighlightB",className:"explore-graphic--hex hex-b",d:"M165.8,112.9L157,97.7c-0.5-0.8-0.5-2.2,0-3l8.8-15.2c0.5-0.8,1.6-1.5,2.6-1.5H186\n\t\tc0.9,0,2.1,0.7,2.6,1.5l8.8,15.2c0.5,0.8,0.5,2.2,0,3l-8.8,15.2c-0.5,0.8-1.6,1.5-2.6,1.5h-17.6\n\t\tC167.5,114.4,166.3,113.7,165.8,112.9z"}))))};const za=Object(o.c)(e=>{const{id:t}=Object(S.a)(e);return{orgID:t}});var Ua=Object(i.j)(za(({orgID:e,history:t})=>{const[n,r]=Object(a.useState)(!1),[o,i]=Object(a.useState)(!1),[l,c]=Object(a.useState)(!1);return s.a.createElement("div",{className:"getting-started"},s.a.createElement(h.Panel,{className:"getting-started--card highlighted",gradient:h.Gradients.PolarExpress},s.a.createElement("div",{className:"getting-started--card-digit"},"1"),s.a.createElement(h.Panel.Body,null,s.a.createElement(Fa,{animate:n})),s.a.createElement(h.Panel.Footer,null,s.a.createElement(h.Button,{text:"Load your data",color:h.ComponentColor.Primary,size:h.ComponentSize.Large,onClick:()=>{t.push(`/orgs/${e}/load-data/sources`)},onMouseOver:()=>{r(!0)},onMouseOut:()=>{r(!1)}}))),s.a.createElement(h.Panel,{className:"getting-started--card",backgroundColor:h.InfluxColors.Onyx},s.a.createElement("div",{className:"getting-started--card-digit"},"2"),s.a.createElement(h.Panel.Body,null,s.a.createElement(qa,{animate:o})),s.a.createElement(h.Panel.Footer,null,s.a.createElement(h.Button,{text:"Build a dashboard",color:h.ComponentColor.Primary,size:h.ComponentSize.Large,onClick:()=>{t.push(`/orgs/${e}/dashboards`)},onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)}}))),s.a.createElement(h.Panel,{className:"getting-started--card",backgroundColor:h.InfluxColors.Onyx},s.a.createElement("div",{className:"getting-started--card-digit"},"3"),s.a.createElement(h.Panel.Body,null,s.a.createElement(Ba,{animate:l})),s.a.createElement(h.Panel.Footer,null,s.a.createElement(h.Button,{text:"Set up alerting",color:h.ComponentColor.Primary,size:h.ComponentSize.Large,onClick:()=>{t.push(`/orgs/${e}/alerting`)},onMouseOver:()=>{c(!0)},onMouseOut:()=>{c(!1)}}))))}));var Ha=Object(o.c)(e=>{const t=Object(y.get)(e,"cloud.orgSettings.settings",[]),n=Object(y.find)(t,e=>e.key===I.e);return n&&n.value===I.f.value?{showUpgrade:!1}:{showUpgrade:!0}})(({showUpgrade:e,className:t})=>{const n=f()("rate-alert--content",{[`${t}`]:t});return e?s.a.createElement("div",{className:`${n} rate-alert--content__free`},s.a.createElement("span",null,"Oh no! You hit the"," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/reference/glossary/#series-cardinality",className:"rate-alert--docs-link",target:"_blank"},"series cardinality")," ","limit and your data stopped writing. Don’t lose important metrics."),s.a.createElement(h.FlexBox,{justifyContent:h.JustifyContent.Center,className:"rate-alert--button"},s.a.createElement(aa,{className:"upgrade-payg--button__rate-alert"}))):s.a.createElement("div",{className:`${n} rate-alert--content__payg`},s.a.createElement("span",null,"Data in has stopped because you've hit the"," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/reference/glossary/#series-cardinality",className:"rate-alert--docs-link",target:"_blank"},"series cardinality")," ","limit. Need some guidance?"),s.a.createElement(h.FlexBox,{justifyContent:h.JustifyContent.Center,className:"rate-alert--button"},s.a.createElement(h.LinkButton,{className:"rate-alert--contact-button",color:h.ComponentColor.Primary,size:h.ComponentSize.Small,text:"Speak with an Expert",href:"https://calendly.com/c/CBCTLOTDNVLFUTZO",target:"_blank"})))});var Ga=Object(o.c)(e=>{const{cloud:{limits:t}}=e,n=Object($t.k)(t);return{status:Object($t.l)(t),resources:n}})(({status:e,alertOnly:t,className:n,resources:a})=>{const r=f()("rate-alert",{[`${n}`]:n});return x.i&&e===xt.b.EXCEEDED&&a.includes("cardinality")?s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Large,className:r},s.a.createElement(h.BannerPanel,{size:h.ComponentSize.ExtraSmall,gradient:h.Gradients.PolarExpress,icon:h.IconFont.Cloud,hideMobileIcon:!0,textColor:h.InfluxColors.Yeti},s.a.createElement(Ha,null))):x.i&&!t?s.a.createElement(aa,{className:"upgrade-payg--button__header"}):null});const Va=e=>{const t=Object(c.a)().getState(),n=Object(S.a)(t),a=x.i?"InfluxDB Cloud":"InfluxDB";return(n&&n.name?[...e,Object(S.a)(t).name,a]:[...e,a]).join(" | ")};let $a=class extends a.PureComponent{render(){const{me:e}=this.props;return s.a.createElement(h.Page,{titleTag:Va(["Home"])},s.a.createElement(h.Page.Header,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:"Getting Started",testID:"home-page--header"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Eight,widthMD:h.Columns.Nine},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,alignItems:h.AlignItems.Stretch,stretchToFitWidth:!0,testID:"getting-started"},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Body,null,s.a.createElement(Ua,null))),s.a.createElement(La,null))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Four,widthMD:h.Columns.Three},s.a.createElement(Pa,{me:e}))))))}};$a=Object(m.a)([p.a],$a);var Wa=Object(o.c)(e=>{const{me:t}=e;return{me:t}})($a);class Ka extends a.PureComponent{constructor(){super(...arguments),this.handleLimit=()=>{const{resourceName:e,onShowOverlay:t,onDismissOverlay:n}=this.props;t("asset-limit",{asset:`${e}s`},n)},this.handleSelect=e=>{const{onSelectNew:t,onSelectImport:n,onSelectTemplate:a,limitStatus:s=xt.b.OK}=this.props;x.i&&s===xt.b.EXCEEDED?this.handleLimit():(e===this.newOption&&t(),e===this.importOption&&n(),e==this.templateOption&&a())}}render(){const{titleText:e,status:t}=this.props;return s.a.createElement(h.Dropdown,{style:{width:"190px"},testID:"add-resource-dropdown",button:(n,a)=>s.a.createElement(h.Dropdown.Button,{testID:"add-resource-dropdown--button",active:n,onClick:a,color:h.ComponentColor.Primary,size:h.ComponentSize.Small,icon:h.IconFont.Plus,status:t},e||`Create ${this.props.resourceName}`),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e,testID:"add-resource-dropdown--menu"},this.optionItems)},this.optionItems)}get optionItems(){const e=this.importOption,t=this.newOption,n=this.templateOption,a=[s.a.createElement(h.Dropdown.Item,{id:t,key:t,onClick:this.handleSelect,value:t,testID:"add-resource-dropdown--new"},t),s.a.createElement(h.Dropdown.Item,{id:e,key:e,onClick:this.handleSelect,value:e,testID:"add-resource-dropdown--import"},e)];return this.props.canImportFromTemplate&&a.push(s.a.createElement(h.Dropdown.Item,{id:n,key:n,onClick:this.handleSelect,value:n,testID:"add-resource-dropdown--template"},n)),a}get newOption(){return`New ${this.props.resourceName}`}get importOption(){return`Import ${this.props.resourceName}`}get templateOption(){return"From a Template"}}Ka.defaultProps={canImportFromTemplate:!1,status:h.ComponentStatus.Default,titleText:null};const Qa={onShowOverlay:k.c,onDismissOverlay:k.b};var Ya=Object(o.c)(null,Qa)(Ka);let Xa=class extends a.Component{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleBlur=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.state={searchTerm:this.props.searchTerm}}componentDidUpdate(e){this.props.searchTerm!==e.searchTerm&&this.setState({searchTerm:this.props.searchTerm})}UNSAFE_componentWillMount(){this.handleSearch=Object(y.debounce)(this.handleSearch,50)}render(){const{placeholderText:e,testID:t}=this.props,{searchTerm:n}=this.state;return s.a.createElement(h.Input,{icon:h.IconFont.Search,placeholder:e,value:n,onChange:this.handleChange,onBlur:this.handleBlur,testID:t,className:"search-widget-input"})}};Xa.defaultProps={widthPixels:440,placeholderText:"Search...",searchTerm:"",testID:"search-widget"};var Za=Xa=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],Xa),Ja=n(54);const es=e=>{switch(e){case W.ResourceType.Dashboards:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Modified (Oldest)",sortKey:"meta.updatedAt",sortType:Ja.a.Date,sortDirection:h.Sort.Ascending},{label:"Modified (Newest)",sortKey:"meta.updatedAt",sortType:Ja.a.Date,sortDirection:h.Sort.Descending}];case W.ResourceType.Tasks:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Active",sortKey:"status",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Inactive",sortKey:"status",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Completed (Oldest)",sortKey:"latestCompleted",sortType:Ja.a.Date,sortDirection:h.Sort.Ascending},{label:"Completed (Newest)",sortKey:"latestCompleted",sortType:Ja.a.Date,sortDirection:h.Sort.Descending},{label:"Schedule (Most Often)",sortKey:"every",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Schedule (Least Often)",sortKey:"every",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Variables:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Type (A → Z)",sortKey:"arguments.type",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Type (Z → A)",sortKey:"arguments.type",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Labels:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Description (A → Z)",sortKey:"properties.description",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Description (Z → A)",sortKey:"properties.description",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Templates:return[{label:"Name (A → Z)",sortKey:"meta.name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"meta.name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Description (A → Z)",sortKey:"meta.description",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Description (Z → A)",sortKey:"meta.description",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Buckets:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Retention (Ascending)",sortKey:"retentionRules[0].everySeconds",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Retention (Descending)",sortKey:"retentionRules[0].everySeconds",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Telegrafs:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Description (Ascending)",sortKey:"description",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Description (Descending)",sortKey:"description",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Scrapers:return[{label:"Name (A → Z)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Name (Z → A)",sortKey:"name",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"URL (Ascending)",sortKey:"url",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"URL (Descending)",sortKey:"url",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Bucket (Ascending)",sortKey:"bucket",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Bucket (Descending)",sortKey:"bucket",sortType:Ja.a.String,sortDirection:h.Sort.Descending}];case W.ResourceType.Authorizations:return[{label:"Description (A → Z)",sortKey:"description",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Description (Z → A)",sortKey:"description",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Status (Active)",sortKey:"status",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Status (Inactive)",sortKey:"status",sortType:Ja.a.String,sortDirection:h.Sort.Descending},{label:"Date Created (Oldest)",sortKey:"createdAt",sortType:Ja.a.String,sortDirection:h.Sort.Ascending},{label:"Date Created (Newest)",sortKey:"createdAt",sortType:Ja.a.String,sortDirection:h.Sort.Descending}]}};var ts=function({sortDirection:e,sortKey:t,sortType:n,onSelect:a,resourceType:r,width:o=210}){const i=es(r),{label:l}=i.find(a=>a.sortKey===t&&a.sortDirection===e&&a.sortType===n),c=e=>{const{sortKey:t,sortDirection:n,sortType:s}=e;a(t,n,s)};return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{onClick:t,active:e,testID:"resource-sorter--button"},`Sort by ${l}`),menu:a=>s.a.createElement(h.Dropdown.Menu,{onCollapse:a},i.map(a=>s.a.createElement(h.Dropdown.Item,{key:`${a.sortKey}${a.sortDirection}`,value:a,onClick:c,testID:`resource-sorter--${a.sortKey}-${a.sortDirection}`,selected:a.sortKey===t&&a.sortType===n&&a.sortDirection===e},a.label))),style:{flexBasis:`${o}px`,width:`${o}px`},testID:"resource-sorter"})};class ns extends a.PureComponent{render(){const{onCreateTask:e,setShowInactive:t,showInactive:n,onImportTask:a,onImportFromTemplate:r,setSearchTerm:o,searchTerm:i,sortKey:l,sortType:c,sortDirection:u,onSort:m,limitStatus:d}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.Header,{fullWidth:!1,testID:"tasks-page--header"},s.a.createElement(h.Page.Title,{title:"Tasks"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!1},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(Za,{placeholderText:"Filter tasks...",onSearch:o,searchTerm:i}),s.a.createElement(ts,{resourceType:W.ResourceType.Tasks,sortKey:l,sortType:c,sortDirection:u,onSelect:m})),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Medium},s.a.createElement(h.InputLabel,null,"Show Inactive"),s.a.createElement(h.SlideToggle,{active:n,size:h.ComponentSize.ExtraSmall,onChange:t})),s.a.createElement(Ya,{canImportFromTemplate:!0,onSelectNew:e,onSelectImport:a,onSelectTemplate:r,resourceName:"Task",limitStatus:d}))))}}var as=n(108),ss=n(61);let rs=class extends a.Component{constructor(){super(...arguments),this.handleMouseOver=()=>{const{onMouseOver:e,id:t}=this.props;e(t)},this.handleClick=e=>{e.stopPropagation();const{onClick:t,id:n}=this.props;t(n)}}render(){const{name:e,colorHex:t,description:n,id:a}=this.props;return s.a.createElement("div",{className:this.className,onMouseOver:this.handleMouseOver,onClick:this.handleClick,"data-testid":`label-list--item ${e}`},s.a.createElement(h.Label,{name:e,description:n,id:a,color:t}))}get className(){const{active:e}=this.props;return f()("inline-labels--list-item",{active:e})}};var os=rs=Object(m.a)([p.a],rs);let is=class extends a.Component{constructor(){super(...arguments),this.handleMouseOver=()=>{const{onMouseOver:e,id:t}=this.props;e(t)},this.handleClick=e=>{e.stopPropagation(),this.props.onClick()}}render(){const{name:e}=this.props;return s.a.createElement("div",{className:this.className,onMouseOver:this.handleMouseOver,onClick:this.handleClick,"data-testid":"inline-labels--create-new"},'Create "',s.a.createElement("strong",null,`${e}`),'"')}get className(){const{active:e}=this.props;return f()("inline-labels--list-item inline-labels--create-new",{active:e})}};var ls=is=Object(m.a)([p.a],is);let cs=class extends a.Component{render(){return s.a.createElement("div",{className:"inline-labels--list-container"},s.a.createElement(h.DapperScrollbars,{autoSizeHeight:!0,autoHide:!1,style:{width:"100%",maxHeight:"300px"},noScrollX:!0},s.a.createElement("div",{className:"inline-labels--list","data-testid":"inline-labels--list"},this.menuItems)))}get menuItems(){const{filteredLabels:e,onItemClick:t,onUpdateSelectedItemID:n,selectedItemID:a,allLabelsUsed:r,searchTerm:o,onStartCreatingLabel:i}=this.props;return e.length?e.map(e=>e.id===vs?s.a.createElement(ls,{active:a===e.id,key:e.id,name:e.name,id:e.id,onClick:i,onMouseOver:n}):s.a.createElement(os,{active:a===e.id,key:e.id,name:e.name,id:e.id,description:e.properties.description,colorHex:e.properties.color,onClick:t,onMouseOver:n})):r?s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall,testID:"inline-labels-list--used-all"},s.a.createElement(h.EmptyState.Text,null,"This resource has all available labels,",s.a.createElement("br",null),"start typing to create a new label")):o?void 0:s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall,testID:"inline-labels-list--none-exist"},s.a.createElement(h.EmptyState.Text,null,"Start typing to create a new label"))}};var us,ms=cs=Object(m.a)([p.a],cs);!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(us||(us={}));let ds=class extends a.PureComponent{constructor(){super(...arguments),this.handleKeyDown=e=>{const{selectedItemID:t,onAddLabel:n,onStartCreatingLabel:a}=this.props;switch(e.key){case"Enter":if(e.preventDefault(),e.stopPropagation(),t===vs){a();break}if(t){n(t);break}case"ArrowUp":this.handleHighlightAdjacentItem(us.Up);break;case"ArrowDown":this.handleHighlightAdjacentItem(us.Down)}},this.handleHighlightAdjacentItem=e=>{const{selectedItemID:t,filteredLabels:n,onUpdateSelectedItemID:a}=this.props;if(!n.length||!t)return null;const s=v.a.findIndex(n,e=>e.id===t);a(n[Math.min(Math.max(s+e,0),n.length-1)].id)},this.handleRefocusInput=e=>{e.target.focus()}}render(){const{searchTerm:e,allLabelsUsed:t,selectedItemID:n,onAddLabel:a,triggerRef:r,onStartCreatingLabel:o,onUpdateSelectedItemID:i,onInputChange:l,filteredLabels:c,visible:u}=this.props;return s.a.createElement(h.Popover,{appearance:h.Appearance.Outline,position:h.PopoverPosition.Below,triggerRef:r,distanceFromTrigger:8,visible:u,showEvent:h.PopoverInteraction.None,hideEvent:h.PopoverInteraction.None,testID:"inline-labels--popover",className:"inline-labels--popover",contents:()=>s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",{className:"inline-labels--popover-heading"},"Add Labels"),s.a.createElement(h.Input,{icon:h.IconFont.Search,placeholder:"Filter labels...",value:e,onKeyDown:this.handleKeyDown,onChange:l,autoFocus:!0,onBlur:this.handleRefocusInput,testID:"inline-labels--popover-field",maxLength:30}),s.a.createElement(ms,{searchTerm:e,allLabelsUsed:t,filteredLabels:c,selectedItemID:n,onItemClick:a,onUpdateSelectedItemID:i,onStartCreatingLabel:o}))})}};var ps=ds=Object(m.a)([p.a],ds),hs=n(229);let _s=class extends a.PureComponent{constructor(){super(...arguments),this.handleNameValidation=e=>this.props.onNameValidation(e)}render(){const{id:e,name:t,color:n,onSubmit:a,buttonText:r,description:o,onCloseModal:i,onInputChange:l,onLabelPropertyChange:c,onColorChange:u,isFormValid:m}=this.props;return s.a.createElement(h.Form,{onSubmit:a,testID:"label-overlay-form"},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Preview"},s.a.createElement(h.Form.Box,{className:"label-overlay--preview"},s.a.createElement(h.Label,{size:h.ComponentSize.Small,name:this.placeholderLabelName,description:o,color:this.validatedColor,id:e})))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Twelve},s.a.createElement(h.Form.ValidationElement,{label:"Name",value:t,required:!0,validationFunc:this.handleNameValidation},e=>s.a.createElement(h.Input,{type:h.InputType.Text,placeholder:"Name this Label",name:"name",autoFocus:!0,value:t,onChange:l,status:e,maxLength:50,testID:"create-label-form--name"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Description"},s.a.createElement(h.Input,{type:h.InputType.Text,placeholder:"Add a optional description",name:"description",value:o,onChange:c,testID:"create-label-form--description"}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Color"},s.a.createElement(h.ColorPicker,{color:n,onChange:u}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:i,titleText:"Cancel creation of Label and return to list",type:h.ButtonType.Button,testID:"create-label-form--cancel"}),s.a.createElement(h.Button,{text:r,color:h.ComponentColor.Success,type:h.ButtonType.Submit,testID:"create-label-form--submit",status:m?h.ComponentStatus.Default:h.ComponentStatus.Disabled}))))))}get placeholderLabelName(){const{name:e}=this.props;return e||"Name this Label"}get validatedColor(){const{color:e}=this.props;return Object(hs.b)(e)?Dt.d:e}};var gs=_s=Object(m.a)([p.a],_s);let fs=class extends a.Component{constructor(e){super(e),this.handleSubmit=()=>{const{onCreateLabel:e,onDismiss:t}=this.props;try{e(this.state.label)}finally{t(),this.resetForm()}},this.handleInputChange=e=>{const{value:t,name:n}=e.target;this.setState(e=>({label:Object.assign(Object.assign({},e.label),{[n]:t})}))},this.handleLabelPropertyChange=e=>{const{value:t,name:n}=e.target;this.setState(e=>({label:Object.assign(Object.assign({},e.label),{properties:Object.assign(Object.assign({},e.label.properties),{[n]:t})})}))},this.handleColorChange=(e,t)=>{const n=Object.assign(Object.assign({},this.state.label.properties),{color:e}),a=Object.assign(Object.assign({},this.state.label),{properties:n});this.setState({label:a,colorStatus:t})},this.state={label:Object.assign(Object.assign({},Dt.a),{name:this.props.overrideDefaultName}),colorStatus:h.ComponentStatus.Default}}componentDidUpdate(e){if(e.overrideDefaultName!==this.props.overrideDefaultName&&!1===this.props.isVisible){const e=this.props.overrideDefaultName,t=Object.assign(Object.assign({},this.state.label),{name:e});this.setState({label:t})}}render(){const{isVisible:e,onDismiss:t,onNameValidation:n}=this.props,{label:a}=this.state;return s.a.createElement(h.Overlay,{visible:e},s.a.createElement(h.Overlay.Container,{maxWidth:400},s.a.createElement(h.Overlay.Header,{title:"Create Label",onDismiss:t}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(gs,{"data-testid":"create-label--overlay",id:a.id,name:a.name,onCloseModal:t,buttonText:"Create Label",onSubmit:this.handleSubmit,isFormValid:this.isFormValid,color:a.properties.color,onNameValidation:n,onInputChange:this.handleInputChange,onLabelPropertyChange:this.handleLabelPropertyChange,onColorChange:this.handleColorChange,description:a.properties.description}))))}get isFormValid(){const{label:e,colorStatus:t}=this.state,{onNameValidation:n}=this.props,a=null===n(e.name)&&!!e.name,s=t===h.ComponentStatus.Default||t===h.ComponentStatus.Valid;return a&&s}resetForm(){this.setState({label:Dt.a})}};var bs=fs=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],fs),ys=n(413);const vs="add-new-label",xs={id:vs,name:"",properties:{color:"#000000",description:""},status:W.RemoteDataState.NotStarted};let ws=class extends a.Component{constructor(e){super(e),this.popoverTrigger=Object(a.createRef)(),this.handleAddPopoverEventListener=()=>{this.popoverTrigger.current&&this.popoverTrigger.current.addEventListener("click",()=>{this.setState({isPopoverVisible:!0})})},this.onClickOutside=e=>{e.target!==this.popoverTrigger.current&&this.setState({isPopoverVisible:!1})},this.handleAddLabel=async e=>{const{onAddLabel:t,labels:n}=this.props,a=n.find(t=>t.id===e);a&&(this.selectAvailableItem(),await t(a))},this.selectAvailableItem=()=>{const{searchTerm:e}=this.state,t=this.filterLabels(e);t.length&&this.handleUpdateSelectedItemID(t[0].id)},this.handleUpdateSelectedItemID=e=>{this.setState({selectedItemID:e})},this.handleInputChange=e=>{const t=e.target.value,n=this.filterLabels(t);if(n.length){const e=n[0].id;this.setState({searchTerm:t,selectedItemID:e})}else this.setState({searchTerm:t})},this.filterLabels=e=>{const t=this.availableLabels.filter(t=>{const n=t.name.toLowerCase(),a=e.toLowerCase();return n.includes(a)});return!t.reduce((t,n)=>!0===t||n.name===e,!1)&&e?this.filteredLabelsWithAddButton(t):this.filteredLabelsWithoutAddButton(t)},this.filteredLabelsWithAddButton=e=>{const{searchTerm:t}=this.state,n=Object.assign(Object.assign({},xs),{name:t});return e.find(e=>e.id===n.id)?e.map(e=>e.id===n.id?n:e):[n,...e]},this.filteredLabelsWithoutAddButton=e=>e.filter(e=>e.id!==vs),this.handleCreateLabel=async e=>{const{onCreateLabel:t,onAddLabel:n}=this.props,{name:a,properties:s}=e;await t(a,s),n(this.props.labels.find(t=>t.name===e.name))},this.handleStartCreatingLabel=()=>{this.setState({isCreatingLabel:ys.a.Open,isPopoverVisible:!1})},this.handleStopCreatingLabel=()=>{this.setState({isCreatingLabel:ys.a.Closed,searchTerm:""})},this.handleEnsureUniqueLabelName=e=>{const{labels:t}=this.props,n=t.map(e=>e.name);return Object(hs.c)(n,e)},this.state={selectedItemID:null,searchTerm:"",isCreatingLabel:ys.a.Closed,isPopoverVisible:!1}}componentDidMount(){this.handleAddPopoverEventListener()}render(){const{isCreatingLabel:e,searchTerm:t}=this.state;return s.a.createElement(s.a.Fragment,null,this.popover,s.a.createElement("div",{className:"inline-labels--editor"},s.a.createElement(h.ButtonBase,{color:h.ComponentColor.Secondary,titleText:"Add labels",shape:h.ButtonShape.Square,className:"inline-labels--add",testID:"inline-labels--add",ref:this.popoverTrigger},s.a.createElement("div",{className:"inline-labels--add-icon"})),this.noLabelsIndicator),s.a.createElement(bs,{isVisible:e===ys.a.Open,onDismiss:this.handleStopCreatingLabel,overrideDefaultName:t,onCreateLabel:this.handleCreateLabel,onNameValidation:this.handleEnsureUniqueLabelName}))}get popover(){const{labels:e,selectedLabels:t}=this.props,{searchTerm:n,selectedItemID:a,isPopoverVisible:r}=this.state,o=e.length>0&&e.length===t.length;return s.a.createElement(h.ClickOutside,{onClickOutside:this.onClickOutside},s.a.createElement(ps,{searchTerm:n,triggerRef:this.popoverTrigger,selectedItemID:a,onUpdateSelectedItemID:this.handleUpdateSelectedItemID,allLabelsUsed:o,onStartCreatingLabel:this.handleStartCreatingLabel,onInputChange:this.handleInputChange,filteredLabels:this.filterLabels(n),onAddLabel:this.handleAddLabel,visible:r}))}get noLabelsIndicator(){const{selectedLabels:e}=this.props;if(e.length)return;return s.a.createElement("div",{className:"cf-label cf-label--xs cf-label--colorless",onClick:()=>{this.popoverTrigger.current&&this.popoverTrigger.current.click()},"data-testid":"inline-labels--empty"},s.a.createElement("span",{className:"cf-label--name"},"Add a label"))}get availableLabels(){const{selectedLabels:e,labels:t}=this.props;return v.a.differenceBy(t,e,e=>e.name)}};ws=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],ws);const Es={onCreateLabel:jt};var ks,Ss=Object(o.c)(null,Es)(ws);!function(e){e.Editable="editable",e.Readonly="readonly"}(ks||(ks={}));let Cs=class extends a.Component{constructor(){super(...arguments),this.handleLabelClick=e=>{const{onFilterChange:t}=this.props;t(e)},this.handleDeleteLabel=e=>{const{onRemoveLabel:t,selectedLabels:n}=this.props;t(n.find(t=>t.id===e))}}render(){return s.a.createElement("div",{className:"inline-labels"},this.selectedLabels)}get selectedLabels(){const{selectedLabels:e,labels:t,onAddLabel:n}=this.props;return s.a.createElement("div",{className:"inline-labels--container"},this.isEditable&&s.a.createElement(Ss,{labels:t,selectedLabels:e,onAddLabel:n}),this.currentLabels)}get currentLabels(){const{selectedLabels:e}=this.props,t=this.isEditable?this.handleDeleteLabel:null;if(e.length)return e.map(e=>{const n=Object.assign({},e);return n.hasOwnProperty("properties")||(n.properties={color:"#FF0000",description:""}),s.a.createElement(h.Label,{id:n.id,key:n.id,name:n.name,color:n.properties.color,description:n.properties.description,onDelete:t,onClick:this.handleLabelClick.bind(this,n.name)})})}get isEditable(){return this.props.editMode===ks.Editable}};Cs.defaultProps={editMode:ks.Editable},Cs=Object(m.a)([p.a],Cs);var Ts=Object(o.c)((e,t)=>{return{labels:Object(ve.a)(e,W.ResourceType.Labels),selectedLabels:Object(ve.d)(e,t.selectedLabelIDs)}})(Cs);n(1245);var Os=({lastRunError:e,lastRunStatus:t})=>{const n=Object(a.useRef)(null),[r,o]=Object(a.useState)(!1);let i=h.ComponentColor.Success,l=h.IconFont.Checkmark,c="Task ran successfully!";"failed"!==t&&void 0===e||(i=h.ComponentColor.Danger,l=h.IconFont.AlertTriangle,c=e),"cancel"===t&&(i=h.ComponentColor.Warning,l=h.IconFont.Remove,c="Task Cancelled");const u=f()("last-run-task-status",{[`last-run-task-status__${i}`]:i,"last-run-task-status__highlight":r});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{"data-testid":"last-run-status--icon",className:u,ref:n},s.a.createElement(h.Icon,{glyph:l})),s.a.createElement(h.Popover,{className:"last-run-task-status--popover",enableDefaultStyles:!1,color:i,appearance:h.Appearance.Outline,triggerRef:n,contents:()=>s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",null,"Last Run Status:"),s.a.createElement("p",null,c)),showEvent:h.PopoverInteraction.Hover,hideEvent:h.PopoverInteraction.Hover,onShow:()=>o(!0),onHide:()=>o(!1)}))},Ds=n(49);class Is extends a.PureComponent{constructor(){super(...arguments),this.handleNameClick=e=>{const{match:{params:{orgID:t}},history:n,task:a}=this.props,s=`/orgs/${t}/tasks/${a.id}/edit`;e.metaKey?window.open(s,"_blank"):n.push(s)},this.handleViewRuns=()=>{const{history:e,task:t,match:{params:{orgID:n}}}=this.props;e.push(`/orgs/${n}/tasks/${t.id}/runs`)},this.handleRenameTask=e=>{const{onUpdate:t,task:{id:n}}=this.props;t(e,n)},this.handleExport=()=>{const{history:e,task:t,location:{pathname:n}}=this.props;e.push(`${n}/${t.id}/export`)},this.handleAddLabel=e=>{const{task:t,onAddTaskLabel:n}=this.props;n(t.id,e)},this.handleRemoveLabel=e=>{const{task:t,onDeleteTaskLabel:n}=this.props;n(t.id,e)},this.changeToggle=()=>{const{task:e,onActivate:t}=this.props;"active"===e.status?e.status="inactive":e.status="active",t(e)}}render(){const{task:e}=this.props;return s.a.createElement(h.ResourceCard,{testID:"task-card",disabled:!this.isTaskActive,contextMenu:this.contextMenu,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Large,direction:h.FlexDirection.Row},s.a.createElement(Os,{lastRunError:e.lastRunError,lastRunStatus:e.lastRunStatus}),s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.FlexStart,direction:h.FlexDirection.Column,margin:h.ComponentSize.Medium},s.a.createElement(h.ResourceCard.EditableName,{onClick:this.handleNameClick,onUpdate:this.handleRenameTask,name:e.name,noNameString:Ds.h,testID:"task-card--name",buttonTestID:"task-card--name-button",inputTestID:"task-card--input"}),s.a.createElement(h.ResourceCard.Meta,null,this.activeToggle,s.a.createElement(s.a.Fragment,null,"Last completed at ",e.latestCompleted),s.a.createElement(s.a.Fragment,null,`Scheduled to run ${this.schedule}`)),this.labels))}get activeToggle(){const e=this.isTaskActive?"Active":"Inactive";return s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small},s.a.createElement(h.SlideToggle,{active:this.isTaskActive,size:h.ComponentSize.ExtraSmall,onChange:this.changeToggle,testID:"task-card--slide-toggle"}),s.a.createElement(h.InputLabel,{active:this.isTaskActive},e))}get contextMenu(){const{task:e,onClone:t,onDelete:n,onRunTask:a}=this.props;return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.CogThick},s.a.createElement(ss.f.Item,{label:"Export",action:this.handleExport}),s.a.createElement(ss.f.Item,{label:"View Task Runs",action:this.handleViewRuns}),s.a.createElement(ss.f.Item,{label:"Run Task",action:a,value:e.id})),s.a.createElement(ss.f.Menu,{icon:h.IconFont.Duplicate,color:h.ComponentColor.Secondary},s.a.createElement(ss.f.Item,{label:"Clone",action:t,value:e})),s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:n,value:e,testID:"context-delete-task"})))}get labels(){const{task:e,onFilterChange:t}=this.props;return s.a.createElement(Ts,{selectedLabelIDs:e.labels,onFilterChange:t,onAddLabel:this.handleAddLabel,onRemoveLabel:this.handleRemoveLabel})}get isTaskActive(){const{task:e}=this.props;return"active"===e.status}get schedule(){const{task:e}=this.props;return e.every&&e.offset?`every ${e.every}, offset ${e.offset}`:e.every?`every ${e.every}`:e.cron?e.cron:""}}const js={onAddTaskLabel:Kt,onDeleteTaskLabel:(e,t)=>async n=>{try{const a=await fe.r({taskID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);const s=await fe.M({taskID:e});if(200!==s.status)throw new Error(s.data.message);const r=Object(_e.a)(s.data,zt.b);n(Object(Ht.s)(r))}catch(e){console.error(e),n(Object($.c)(me.gc()))}}};var Rs=Object(o.c)(null,js)(Object(i.j)(Is));class Ns extends a.PureComponent{render(){const{searchTerm:e,onCreate:t,totalCount:n,onImportTask:a,onImportFromTemplate:r}=this.props;return n&&""===e?s.a.createElement(h.EmptyState,{testID:"empty-tasks-list",size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,`All ${n} of your Tasks are inactive`)):""===e?s.a.createElement(h.EmptyState,{testID:"empty-tasks-list",size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like you don't have any ",s.a.createElement("b",null,"Tasks"),', why not create one?"'),s.a.createElement(Ya,{canImportFromTemplate:!0,onSelectNew:t,onSelectImport:a,onSelectTemplate:r,resourceName:"Task"})):s.a.createElement(h.EmptyState,{testID:"empty-tasks-list",size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"No Tasks match your search term"))}}class As extends a.PureComponent{constructor(e){super(e),this.memGetSortedResources=Object(as.a)(Ja.b),this.state={taskLabelsEdit:null,isEditingTaskLabels:!1}}componentDidMount(){this.props.checkTaskLimits()}render(){const{searchTerm:e,onCreate:t,totalCount:n,onImportTask:a,onImportFromTemplate:r}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:s.a.createElement(Ns,{searchTerm:e,onCreate:t,totalCount:n,onImportTask:a,onImportFromTemplate:r})},this.rows)))}get rows(){const{tasks:e,sortKey:t,sortDirection:n,sortType:a,onActivate:r,onDelete:o,onClone:i,onUpdate:l,onRunTask:c,onFilterChange:u}=this.props;return this.memGetSortedResources(e,t,n,a).map(e=>s.a.createElement(Rs,{key:`task-id--${e.id}`,task:e,onActivate:r,onDelete:o,onClone:i,onUpdate:l,onRunTask:c,onFilterChange:u}))}}class Ps extends a.PureComponent{componentDidMount(){x.i&&this.props.getAssetLimits()}render(){const{status:e}=this.props;return x.i?s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},this.props.children):this.props.children}}const Ms={getAssetLimits:xt.i};var Ls=Object(o.c)(({cloud:{limits:{status:e}}})=>({status:e}),Ms)(Ps);var Fs=({limitStatus:e,resourceName:t,className:n})=>x.i&&e===xt.b.EXCEEDED?s.a.createElement(h.GradientBox,{borderGradient:h.Gradients.MiyazakiSky,borderColor:h.InfluxColors.Raven,className:n},s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Raven,className:"asset-alert"},s.a.createElement(h.Panel.Header,null,s.a.createElement(h.Heading,{element:h.HeadingElement.H4},"Need more ",t,"?")),s.a.createElement(h.Panel.Body,{className:"asset-alert--contents"},s.a.createElement(h.FlexBox,{justifyContent:h.JustifyContent.FlexEnd,alignItems:h.AlignItems.FlexEnd,stretchToFitHeight:!0},s.a.createElement(aa,{buttonText:`Get more ${t}`,className:"upgrade-payg--button__asset-alert"}))))):null,qs=n(479);class Bs extends a.PureComponent{constructor(){super(...arguments),this.doNothing=()=>{},this.handleExport=()=>{const{resource:e,resourceName:t,onDismissOverlay:n}=this.props,a=Object(y.get)(e,"content.data.attributes.name",t);On(JSON.stringify(e,null,1),a,".json"),n()}}render(){const{isVisible:e,resourceName:t,onDismissOverlay:n,status:a}=this.props;return s.a.createElement(h.Overlay,{visible:e},s.a.createElement(h.Overlay.Container,{maxWidth:800},s.a.createElement(h.Form,{onSubmit:this.handleExport},s.a.createElement(h.Overlay.Header,{title:`Export ${t}`,onDismiss:n}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.SpinnerContainer,{loading:a,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},this.overlayBody)),s.a.createElement(h.Overlay.Footer,null,this.downloadButton,this.copyButton))))}get overlayBody(){return s.a.createElement("div",{className:"export-overlay--text-area","data-testid":"export-overlay--text-area"},s.a.createElement(Z.Controlled,{autoFocus:!1,autoCursor:!0,value:this.resourceText,options:{tabIndex:1,mode:"json",readonly:!0,lineNumbers:!0,autoRefresh:!0,theme:"time-machine",completeSingle:!1},onBeforeChange:this.doNothing,onTouchStart:this.doNothing}))}get resourceText(){return JSON.stringify(this.props.resource,null,1)}get copyButton(){return s.a.createElement(qs.a,{textToCopy:this.resourceText,contentName:this.props.resourceName,onCopyText:this.props.onCopyText,size:h.ComponentSize.Small,color:h.ComponentColor.Secondary})}get downloadButton(){return s.a.createElement(h.Button,{text:"Download JSON",onClick:this.handleExport,color:h.ComponentColor.Primary})}}Bs.defaultProps={isVisible:!0};class zs extends a.PureComponent{constructor(){super(...arguments),this.onDismiss=()=>{const{history:e,clearExportTemplate:t}=this.props;e.goBack(),t()}}componentDidMount(){const{match:{params:{id:e}},convertToTemplate:t}=this.props;t(e)}render(){const{taskTemplate:e,status:t}=this.props;return s.a.createElement(Bs,{resourceName:"Task",resource:e,onDismissOverlay:this.onDismiss,status:t})}}const Us={convertToTemplate:e=>async(t,n)=>{try{t(Object(Ut.l)(W.RemoteDataState.Loading));const a=await fe.M({taskID:e});if(200!==a.status)throw new Error(a.data.message);const{entities:s,result:r}=Object(_e.a)(a.data,zt.b),o=Object(Vt.b)(n(),s.tasks[r]);t(Object(Ut.l)(W.RemoteDataState.Done,o))}catch(e){t(Object(Ut.l)(W.RemoteDataState.Error)),t(Object($.c)(me.Y(e)))}},clearExportTemplate:un};var Hs=Object(o.c)(e=>({taskTemplate:e.resources.templates.exportTemplate.item,status:e.resources.templates.exportTemplate.status}),Us)(Object(i.j)(zs));let Gs=0;class Vs extends a.PureComponent{constructor(e){super(e),this.handleWindowDragOver=e=>{e.preventDefault()},this.handleSubmit=()=>{const{handleSubmit:e}=this.props,{uploadContent:t}=this.state;e(t)},this.handleFileClick=e=>{const t=e.currentTarget.files[0];if(!t)return;e.preventDefault(),e.stopPropagation();const n=new FileReader;n.readAsText(t),n.onload=()=>{this.setState({uploadContent:n.result,fileName:t.name},()=>this.submitOnUpload())}},this.handleFileDrop=e=>{const t=e.dataTransfer.files[0];if(this.setState({dragClass:"drag-none"}),!t)return;e.preventDefault(),e.stopPropagation();const n=new FileReader;n.readAsText(t),n.onload=()=>{this.setState({uploadContent:n.result,fileName:t.name},()=>this.submitOnDrop())}},this.handleFileOpen=()=>{const{uploadContent:e}=this.state;""===e&&this.fileInput.click()},this.handleCancelFile=()=>{const{onCancel:e}=this.props;this.setState({uploadContent:""}),this.fileInput.value="",e&&e()},this.handleDragEnter=e=>{Gs+=1,e.preventDefault(),this.setState({dragClass:"drag-over"})},this.handleDragLeave=e=>{Gs-=1,e.preventDefault(),0===Gs&&this.setState({dragClass:"drag-none"})},this.state={inputContent:null,uploadContent:"",fileName:"",dragClass:"drag-none"}}componentDidMount(){window.addEventListener("dragover",this.handleWindowDragOver),window.addEventListener("drop",this.handleFileDrop),window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave)}componentWillUnmount(){window.removeEventListener("dragover",this.handleWindowDragOver),window.removeEventListener("drop",this.handleFileDrop),window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave)}render(){return s.a.createElement("div",{className:this.containerClass},s.a.createElement("div",{className:this.dragAreaClass,onClick:this.handleFileOpen},this.dragAreaHeader,s.a.createElement("div",{className:this.infoClass}),s.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:e=>this.fileInput=e,className:"drag-and-drop--input",accept:this.fileTypesToAccept,onChange:this.handleFileClick}),this.buttons))}get fileTypesToAccept(){const{fileTypesToAccept:e}=this.props;return e||"*"}get containerClass(){const{dragClass:e}=this.state,{compact:t,className:n}=this.props;return f()("drag-and-drop",{compact:t,[e]:!0,[n]:n})}get infoClass(){const{uploadContent:e}=this.state;return f()("drag-and-drop--graphic",{success:e})}get dragAreaClass(){const{uploadContent:e}=this.state;return f()("drag-and-drop--form",{active:!e})}get dragAreaHeader(){const{uploadContent:e,fileName:t}=this.state;return e?s.a.createElement("div",{className:"drag-and-drop--header selected"},t):s.a.createElement("div",{className:"drag-and-drop--header empty"},"Drop a file here or click to upload")}get buttons(){const{uploadContent:e}=this.state,{submitText:t,submitOnDrop:n}=this.props;return e?n?s.a.createElement("span",{className:"drag-and-drop--buttons"},s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",size:h.ComponentSize.Medium,type:h.ButtonType.Button,onClick:this.handleCancelFile})):s.a.createElement("span",{className:"drag-and-drop--buttons"},s.a.createElement(h.Button,{color:h.ComponentColor.Primary,text:t,size:h.ComponentSize.Medium,type:h.ButtonType.Submit,onClick:this.handleSubmit}),s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",size:h.ComponentSize.Medium,type:h.ButtonType.Submit,onClick:this.handleCancelFile})):null}submitOnDrop(){const{submitOnDrop:e}=this.props;e&&this.handleSubmit()}submitOnUpload(){const{submitOnUpload:e}=this.props;e&&this.handleSubmit()}}Vs.defaultProps={submitText:"Write this File",submitOnDrop:!1,submitOnUpload:!1,compact:!1,className:""};var $s,Ws=Vs;!function(e){e.Upload="upload",e.Paste="paste"}($s||($s={}));class Ks extends a.PureComponent{constructor(){super(...arguments),this.state={selectedImportOption:$s.Upload,importContent:""},this.handleChangeTextArea=e=>{const{updateStatus:t=(()=>{})}=this.props,n=e.target.value;this.handleSetImportContent(n),t(h.ComponentStatus.Default)},this.submit=()=>{const{importContent:e}=this.state,{onSubmit:t,match:{params:{orgID:n}}}=this.props;t(e,n),this.clearImportContent()},this.clearImportContent=()=>{this.setState((e,t)=>{const{status:n=h.ComponentStatus.Default}=t;return n===h.ComponentStatus.Error?Object.assign({},e):{importContent:""}})},this.onDismiss=()=>{const{onDismissOverlay:e}=this.props;this.clearImportContent(),e()},this.handleSetImportOption=e=>{this.clearImportContent(),this.setState({selectedImportOption:e})},this.handleSetImportContent=e=>{this.setState({importContent:e})}}render(){const{isVisible:e,resourceName:t}=this.props,{selectedImportOption:n}=this.state;return s.a.createElement(h.Overlay,{visible:e,testID:"task-import--overlay"},s.a.createElement(h.Overlay.Container,{maxWidth:800},s.a.createElement(h.Form,{onSubmit:this.submit},s.a.createElement(h.Overlay.Header,{title:`Import ${t}`,onDismiss:this.onDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement("div",{className:"import--options"},s.a.createElement(h.SelectGroup,null,s.a.createElement(h.SelectGroup.Option,{name:"import-mode",id:$s.Upload,active:n===$s.Upload,value:$s.Upload,onClick:this.handleSetImportOption,titleText:"Upload"},"Upload File"),s.a.createElement(h.SelectGroup.Option,{name:"import-mode",id:$s.Paste,active:n===$s.Paste,value:$s.Paste,onClick:this.handleSetImportOption,titleText:"Paste"},"Paste JSON"))),this.importBody),s.a.createElement(h.Overlay.Footer,null,this.submitButton))))}get importBody(){const{selectedImportOption:e,importContent:t}=this.state,{status:n=h.ComponentStatus.Default}=this.props;return e===$s.Upload?s.a.createElement(Ws,{submitText:"Upload",handleSubmit:this.handleSetImportContent,submitOnDrop:!0,submitOnUpload:!0,onCancel:this.clearImportContent}):e===$s.Paste?s.a.createElement(h.TextArea,{status:n,value:t,onChange:this.handleChangeTextArea,testID:"import-overlay--textarea"}):void 0}get submitButton(){const{resourceName:e}=this.props,{selectedImportOption:t,importContent:n}=this.state,a=t===$s.Paste||t===$s.Upload&&n?h.ComponentStatus.Default:h.ComponentStatus.Disabled;return s.a.createElement(h.Button,{text:`Import JSON as ${e}`,testID:`submit-button ${e}`,color:h.ComponentColor.Primary,status:a,type:h.ButtonType.Submit})}}Ks.defaultProps={isVisible:!0};var Qs=Object(i.j)(Ks),Ys=n(480),Xs=n.n(Ys);class Zs extends a.PureComponent{constructor(){super(...arguments),this.state={status:h.ComponentStatus.Default},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()},this.updateOverlayStatus=e=>this.setState(()=>({status:e})),this.handleImportTask=e=>{const{createTaskFromTemplate:t,notify:n}=this.props;let a;this.updateOverlayStatus(h.ComponentStatus.Default);try{a=Xs.a.parse(e)}catch(e){return this.updateOverlayStatus(h.ComponentStatus.Error),void n(Object(me.Jb)(e.message))}t(a),this.onDismiss()}}render(){return s.a.createElement(Qs,{onDismissOverlay:this.onDismiss,resourceName:"Task",onSubmit:this.handleImportTask,status:this.state.status,updateStatus:this.updateOverlayStatus})}}const Js={createTaskFromTemplate:en,notify:$.c};var er=Object(o.c)(null,Js)(Object(i.j)(Zs));class tr extends a.PureComponent{render(){return s.a.createElement(h.DapperScrollbars,{className:"import-template-overlay--details",autoSize:!1},s.a.createElement(h.Panel,{testID:"template-panel",className:"import-template-overlay--panel"},s.a.createElement(h.Panel.Body,{size:h.ComponentSize.Medium},this.panelContents)))}get panelContents(){const{selectedTemplateSummary:e}=this.props;return e?s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Twelve},this.templateName,this.templateDescription),this.props.variables&&s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement("h5",{className:"import-template-overlay--heading"},"Variables"),this.variablesList),this.props.cells&&s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement("h5",{className:"import-template-overlay--heading"},"Cells"),this.cellsList))):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"Select a Template from the left"))}get variablesList(){const{variables:e}=this.props;return e.length?e.map((e,t)=>s.a.createElement("p",{className:"import-templates-overlay--included",key:`${t} ${e}`},e)):s.a.createElement("p",{className:"import-template-overlay--included missing"},"No included variables")}get cellsList(){const{cells:e}=this.props;return e.length?e.map((e,t)=>s.a.createElement("p",{className:"import-templates-overlay--included",key:`${t} ${e}`},e)):s.a.createElement("p",{className:"import-template-overlay--included missing"},"No included cells")}get templateDescription(){const{selectedTemplateSummary:e}=this.props,t=v.a.get(e,"meta.description");return t?s.a.createElement("p",{className:"import-template-overlay--description"},t):s.a.createElement("p",{className:"import-template-overlay--description missing"},"No description")}get templateName(){const{selectedTemplateSummary:e}=this.props,t=v.a.get(e,"meta.name"),n=t||"Untitled",a=t?"import-template-overlay--name":"import-template-overlay--name missing";return s.a.createElement("h3",{className:a},n)}}var nr=tr;class ar extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{onClick:e,template:t}=this.props;e(t)}}render(){const{testID:e,label:t}=this.props;return s.a.createElement("div",{className:this.className,"data-testid":e,onClick:this.handleClick},s.a.createElement(h.Icon,{glyph:h.IconFont.Cube,className:"import-template-overlay--list-icon"}),s.a.createElement("span",{className:"import-template-overlay--list-label"},t))}get className(){const{selected:e}=this.props;return f()("import-template-overlay--template",{active:e})}}var sr=ar;class rr extends a.PureComponent{render(){const{selectedTemplateSummary:e,templates:t,onSelectTemplate:n}=this.props;return s.a.createElement(h.DapperScrollbars,{className:"import-template-overlay--templates",autoSize:!1,noScrollX:!0},Object(y.orderBy)(t,[({meta:{name:e}})=>e.toLocaleLowerCase()]).map(t=>s.a.createElement(sr,{key:t.id,template:t,label:t.meta.name,onClick:n,testID:`template--${t.meta.name}`,selected:Object(y.get)(e,"id","")===t.id})))}}var or=rr;class ir extends a.PureComponent{render(){const{selectedTemplateSummary:e,cells:t,variables:n,selectedTemplate:a,templates:r,onSelectTemplate:o}=this.props;return s.a.createElement("div",{className:"import-template-overlay"},s.a.createElement(or,{templates:r,onSelectTemplate:o,selectedTemplateSummary:e}),s.a.createElement(nr,{cells:t,variables:n,selectedTemplateSummary:e,selectedTemplate:a}))}}var lr=ir;class cr extends a.PureComponent{constructor(){super(...arguments),this.handleButtonClick=()=>{const{history:e,org:t}=this.props;e.push(`/orgs/${t.id}/settings/templates/import`)}}render(){return s.a.createElement("div",{className:"import-template-overlay--empty"},s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like you don't have any ",s.a.createElement("b",null,"Templates")," yet, why not import one?"),s.a.createElement(h.Button,{size:h.ComponentSize.Medium,text:"Import One Here",icon:h.IconFont.CogThick,onClick:this.handleButtonClick})))}}var ur=Object(o.c)(e=>({org:Object(S.a)(e)}),null)(Object(i.j)(cr));const mr=(e,t)=>{const{resources:n}=e,a=n[t].allIDs,s=n[t].byID;return a.map(e=>s[e])};class dr extends a.PureComponent{constructor(e){super(e),this.handleSelectTemplate=async e=>{const t=await cn(e.id);this.setState({selectedTemplateSummary:e,selectedTemplate:t})},this.onDismiss=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/tasks`)},this.onSubmit=()=>{const{createTaskFromTemplate:e}=this.props;e(this.state.selectedTemplate),this.onDismiss()},this.state={selectedTemplateSummary:null,selectedTemplate:null}}render(){return s.a.createElement(h.Overlay,{visible:!0,testID:"task-import-template--overlay"},s.a.createElement(_n,{resources:[W.ResourceType.Templates]},s.a.createElement(h.Overlay.Container,{maxWidth:900},s.a.createElement(h.Overlay.Header,{title:"Create Task from a Template",onDismiss:this.onDismiss}),s.a.createElement(h.Overlay.Body,null,this.overlayBody),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:this.onDismiss,key:"cancel-button"}),s.a.createElement(h.Button,{text:"Create Task",onClick:this.onSubmit,key:"submit-button",testID:"create-task-button",color:h.ComponentColor.Success,status:this.submitStatus})))))}get overlayBody(){const{selectedTemplateSummary:e,selectedTemplate:t}=this.state,{templates:n}=this.props;return n.length?s.a.createElement(lr,{templates:n,selectedTemplate:t,selectedTemplateSummary:e,onSelectTemplate:this.handleSelectTemplate}):s.a.createElement(ur,null)}get submitStatus(){const{selectedTemplate:e}=this.state;return e?h.ComponentStatus.Default:h.ComponentStatus.Disabled}}const pr={createTaskFromTemplate:en};var hr=Object(o.c)(e=>{const{resources:{templates:{status:t}}}=e,n=mr(e,W.ResourceType.Templates).filter(e=>!e.meta.type||e.meta.type===W.TemplateType.Task);return{templates:Object(y.sortBy)(n,e=>e.meta.name.toLocaleLowerCase()),templateStatus:t}},pr)(Object(i.j)(dr));const _r=Ze();let gr=class extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.handleActivate=e=>{this.props.updateTaskStatus(e)},this.handleDelete=e=>{this.props.deleteTask(e.id)},this.handleClone=e=>{this.props.cloneTask(e)},this.handleCreateTask=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/tasks/new`)},this.summonImportFromTemplateOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/tasks/import-template`)},this.summonImportOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/tasks/import`)},e.setSearchTerm(""),e.showInactive||e.setShowInactive(),this.state={isImporting:!1,taskLabelsEdit:null,sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}render(){const{sortKey:e,sortDirection:t,sortType:n}=this.state,{setSearchTerm:a,updateTaskName:r,searchTerm:o,setShowInactive:l,showInactive:c,onAddTaskLabel:u,onRunTask:m,checkTaskLimits:d,limitStatus:p}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Tasks"])},s.a.createElement(ns,{onCreateTask:this.handleCreateTask,setShowInactive:l,showInactive:c,onImportTask:this.summonImportOverlay,onImportFromTemplate:this.summonImportFromTemplateOverlay,limitStatus:p,searchTerm:o,setSearchTerm:a,sortKey:e,sortDirection:t,sortType:n,onSort:this.handleSort}),s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(_n,{resources:[W.ResourceType.Tasks,W.ResourceType.Labels]},s.a.createElement(Ls,null,s.a.createElement(_r,{list:this.filteredTasks,searchTerm:o,searchKeys:["name","labels[].name"]},i=>s.a.createElement(As,{searchTerm:o,tasks:i,totalCount:this.totalTaskCount,onActivate:this.handleActivate,onDelete:this.handleDelete,onCreate:this.handleCreateTask,onClone:this.handleClone,onAddTaskLabel:u,onRunTask:m,onFilterChange:a,onUpdate:r,onImportTask:this.summonImportOverlay,onImportFromTemplate:this.summonImportFromTemplateOverlay,sortKey:e,sortDirection:t,sortType:n,checkTaskLimits:d})),this.hiddenTaskAlert,s.a.createElement(Fs,{resourceName:"tasks",limitStatus:p}))))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/tasks/:id/export",component:Hs}),s.a.createElement(i.a,{path:"/orgs/:orgID/tasks/import-template",component:hr}),s.a.createElement(i.a,{path:"/orgs/:orgID/tasks/import",component:er})))}get filteredTasks(){const{tasks:e,showInactive:t}=this.props;return e.filter(e=>{let n=!0;return t||(n="active"===e.status),n})}get totalTaskCount(){return this.props.tasks.length}get hiddenTaskAlert(){const{showInactive:e,tasks:t}=this.props,n=t.filter(e=>"inactive"===e.status).length;if(n===t.length||e)return null;if(n){const e=1===n?"":"s",t=1===n?"is":"are";return s.a.createElement("div",{className:"hidden-tasks-alert"},`${n} inactive task${e} ${t} hidden from view`)}}};gr=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],gr);const fr={updateTaskStatus:e=>async t=>{try{const n=await fe.db({taskID:e.id,data:{status:e.status}});if(200!==n.status)throw new Error(n.data.message);const a=Object(_e.a)(n.data,zt.b);t(Object(Ht.s)(a)),t(Object($.c)(me.Hc()))}catch(e){console.error(e);const n=Object(d.b)(e);t(Object($.c)(me.Gc(n)))}},updateTaskName:(e,t)=>async n=>{try{const a=await fe.db({taskID:t,data:{name:e}});if(200!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data,zt.b);n(Object(Ht.s)(s)),n(Object($.c)(me.Hc()))}catch(e){console.error(e);const t=Object(d.b)(e);n(Object($.c)(me.Gc(t)))}},deleteTask:e=>async t=>{try{const n=await fe.q({taskID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(Ht.t)(e)),t(Object($.c)(me.Ac()))}catch(e){console.error(e);const n=Object(d.b)(e);t(Object($.c)(me.zc(n)))}},cloneTask:e=>async t=>{try{const n=await fe.M({taskID:e.id});if(200!==n.status)throw new Error(n.data.message);const a=await fe.xb({data:n.data});if(201!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(n.data,zt.b);t(Object($.c)(me.xc(e.name))),t(Object(Ht.p)(s)),t(Object(xt.h)())}catch(n){if(console.error(n),Object($t.q)(n))t(Object($.c)(me.kc("tasks")));else{const a=Object(d.b)(n);t(Object($.c)(me.wc(e.name,a)))}}},setSearchTerm:Ht.A,setShowInactive:Ht.B,onAddTaskLabel:Kt,onRunTask:Jt,checkTaskLimits:xt.h};var br=Object(o.c)(e=>{const{resources:t,cloud:{limits:n}}=e,{status:a,searchTerm:s,showInactive:r}=t.tasks;return{tasks:Object(ve.a)(e,W.ResourceType.Tasks),status:a,searchTerm:s,showInactive:r,limitStatus:Object($t.o)(n)}},fr)(gr);class yr extends a.PureComponent{render(){const{offset:e,onChangeInput:t,interval:n,cron:a,schedule:r}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:r===W.TaskSchedule.interval?"Every":"Cron"},s.a.createElement(h.Input,{name:r,type:h.InputType.Text,placeholder:r===W.TaskSchedule.interval?"3h30s":"0 2 * * *",value:r===W.TaskSchedule.interval?n:a,onChange:this.props.onChangeInput,testID:"task-form-schedule-input"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Offset"},s.a.createElement(h.Input,{name:"offset",type:h.InputType.Text,value:e,placeholder:"20m",onChange:t,testID:"task-form-offset-input"}))))}}class vr extends a.PureComponent{componentDidMount(){this.setSelectedToFirst()}componentDidUpdate(e){this.props.buckets!==e.buckets&&this.setSelectedToFirst()}render(){const{selectedBucketName:e}=this.props;return s.a.createElement(h.Dropdown,{button:(t,n)=>s.a.createElement(h.Dropdown.Button,{active:t,onClick:n,status:this.status,testID:"task-options-bucket-dropdown--button"},e),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},this.dropdownItems)})}get dropdownItems(){const{buckets:e}=this.props;return e&&e.length?e.filter(e=>!Object(gn.b)(e.name)).map(e=>s.a.createElement(h.Dropdown.Item,{id:e.name,key:e.name,value:e.name,onClick:this.props.onChangeBucketName,selected:e.name===this.selectedName},e.name)):[s.a.createElement(h.Dropdown.Item,{id:"no-buckets",key:"no-buckets",value:"no-buckets"},"No Buckets found in Org")]}get status(){const{status:e,buckets:t}=this.props;return e===W.RemoteDataState.Loading?h.ComponentStatus.Loading:t&&t.length?h.ComponentStatus.Default:h.ComponentStatus.Disabled}get selectedName(){const{selectedBucketName:e,buckets:t}=this.props;return t&&t.length?e||Object(y.get)(t,"0.name",""):"no-buckets"}setSelectedToFirst(){const{buckets:e,selectedBucketName:t,onChangeBucketName:n}=this.props,a=Object(y.get)(e,"0.name","");t||n(a)}}var xr=Object(o.c)(e=>{return{buckets:Object(ve.a)(e,W.ResourceType.Buckets).filter(e=>"system"!==e.type),status:Object(ve.e)(e,W.ResourceType.Buckets)}},null)(vr);class wr extends a.PureComponent{constructor(e){super(e),this.handleChangeScheduleType=e=>{this.props.onChangeScheduleType(e)},this.state={schedule:e.taskOptions.taskScheduleType}}render(){const{onChangeInput:e,onChangeToBucketName:t,taskOptions:{name:n,taskScheduleType:a,interval:r,offset:o,cron:i,toBucketName:l},isInOverlay:c}=this.props;return s.a.createElement(h.Form,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Name"},s.a.createElement(h.Input,{name:"name",placeholder:"Name your task",onChange:e,value:n,testID:"task-form-name"}))),s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Element,{label:"Schedule Task"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.FlexStart,margin:h.ComponentSize.Small},s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit},s.a.createElement(h.SelectGroup.Option,{name:"task-schedule",id:"every",active:a===W.TaskSchedule.interval,value:W.TaskSchedule.interval,titleText:"Run task at regular intervals",onClick:this.handleChangeScheduleType,testID:"task-card-every-btn"},"Every"),s.a.createElement(h.SelectGroup.Option,{name:"task-schedule",id:"cron",active:a===W.TaskSchedule.cron,value:W.TaskSchedule.cron,titleText:"Use cron syntax for more control over scheduling",onClick:this.handleChangeScheduleType,testID:"task-card-cron-btn"},"Cron")),this.cronHelper))),s.a.createElement(yr,{onChangeInput:e,schedule:a,interval:r,offset:o,cron:i}),c&&s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Output Bucket"},s.a.createElement(_n,{resources:[W.ResourceType.Buckets]},s.a.createElement(xr,{selectedBucketName:l,onChangeBucketName:t})))),c&&this.buttons)))}get buttons(){const{onSubmit:e,canSubmit:t,dismiss:n}=this.props;return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:n,titleText:"Cancel save",type:h.ButtonType.Button}),s.a.createElement(h.Button,{text:"Save as Task",color:h.ComponentColor.Success,type:h.ButtonType.Submit,onClick:e,status:t?h.ComponentStatus.Default:h.ComponentStatus.Disabled,testID:"task-form-save"})))}get cronHelper(){const{taskOptions:e}=this.props;if(e.taskScheduleType===W.TaskSchedule.cron)return s.a.createElement(h.Form.Box,null,s.a.createElement("p",{className:"time-format--helper"},"For more information on cron syntax,"," ",s.a.createElement("a",{href:"https://crontab.guru/",target:"_blank"},"click here")))}}wr.defaultProps={isInOverlay:!1,canSubmit:!0,onSubmit:()=>{},dismiss:()=>{},onChangeToBucketName:()=>{}};class Er extends a.PureComponent{render(){const{onCancel:e,onSave:t,title:n}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(h.Page.Title,{title:n}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",onClick:e,testID:"task-cancel-btn"}),s.a.createElement(h.Button,{color:h.ComponentColor.Success,text:"Save",status:this.status,onClick:t,testID:"task-save-btn"}))))}get status(){return this.props.canSubmit?h.ComponentStatus.Default:h.ComponentStatus.Disabled}}var kr=n(250);const Sr=e=>{let t=`option task = { \n  name: "${e.name}",\n`;return e.taskScheduleType===W.TaskSchedule.interval?t=`${t}  every: ${e.interval},\n`:e.taskScheduleType===W.TaskSchedule.cron&&(t=`${t}  cron: "${e.cron}",\n`),e.offset&&(t=`${t}  offset: ${e.offset}\n`),t=`${t}}`},Cr=(e,t)=>{const{toOrgName:n,toBucketName:a}=t;if(n&&a){const t=Object(y.trimEnd)(e),s=n.trim();return`${t}\n  |> to(bucket: "${a.trim()}", org: "${s}")`}return e};class Tr extends a.PureComponent{constructor(e){super(e),this.handleChangeScript=e=>{this.props.setNewScript(e)},this.handleChangeScheduleType=e=>{this.props.setTaskOption({key:"taskScheduleType",value:e})},this.handleSave=()=>{const{newScript:e,taskOptions:t}=this.props,n=Sr(t),a=Cr(e,t),s=`${n}`;this.props.saveNewScript(a,s)},this.handleCancel=()=>{this.props.cancel()},this.handleChangeInput=e=>{const{name:t,value:n}=e.target,a=t;this.props.setTaskOption({key:a,value:n})}}componentDidMount(){this.props.setTaskOption({key:"taskScheduleType",value:W.TaskSchedule.interval})}componentWillUnmount(){this.props.clearTask()}render(){const{newScript:e,taskOptions:t}=this.props;return s.a.createElement(h.Page,{titleTag:Va(["Create Task"])},s.a.createElement(Er,{title:"Create Task",canSubmit:this.isFormValid,onCancel:this.handleCancel,onSave:this.handleSave}),s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1},s.a.createElement("div",{className:"task-form"},s.a.createElement("div",{className:"task-form--options"},s.a.createElement(wr,{taskOptions:t,canSubmit:this.isFormValid,onChangeInput:this.handleChangeInput,onChangeScheduleType:this.handleChangeScheduleType})),s.a.createElement("div",{className:"task-form--editor"},s.a.createElement(kr.a,{script:e,onChangeScript:this.handleChangeScript})))))}get isFormValid(){const{taskOptions:{name:e,cron:t,interval:n},newScript:a}=this.props;return(!!t||!!n)&&!!e&&!!a}}const Or={setNewScript:Ht.y,saveNewScript:Zt,setTaskOption:Ht.C,clearTask:Ht.r,cancel:Xt};var Dr=Object(o.c)(e=>{const{tasks:t}=e.resources,{taskOptions:n,newScript:a}=t;return{taskOptions:n,newScript:a}},Or)(Tr);class Ir extends a.PureComponent{constructor(e){super(e)}render(){const{log:e}=this.props;return s.a.createElement(h.IndexList.Row,null,s.a.createElement(h.IndexList.Cell,null,s.a.createElement("span",{className:"run-logs--list-time"},this.dateTimeString(e.time))),s.a.createElement(h.IndexList.Cell,null,s.a.createElement("span",{className:"run-logs--list-message"},e.message)))}dateTimeString(e){if(!e)return"";const t=new Date(e);return Hn()(t).format(x.s)}}var jr=Ir;class Rr extends a.PureComponent{constructor(e){super(e)}render(){const{onDismissOverlay:e}=this.props;return s.a.createElement(h.Overlay.Container,{className:"run-logs--list"},s.a.createElement(h.Overlay.Header,{title:"Run Logs",onDismiss:e}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.DapperScrollbars,{autoSizeHeight:!0,style:{maxHeight:"700px"}},s.a.createElement(h.IndexList,null,s.a.createElement(h.IndexList.Header,null,s.a.createElement(h.IndexList.HeaderCell,{columnName:"Time",width:"10%"}),s.a.createElement(h.IndexList.HeaderCell,{columnName:"Message",width:"90%"})),s.a.createElement(h.IndexList.Body,{emptyState:s.a.createElement(s.a.Fragment,null),columnCount:2},this.listLogs)))))}get listLogs(){return this.props.logs.map(e=>s.a.createElement(jr,{key:e.message,log:e}))}}var Nr=Rr;class Ar extends a.PureComponent{constructor(e){super(e),this.handleToggleOverlay=()=>{const{taskID:e,run:t,getLogs:n}=this.props;n(e,t.id),this.setState({isImportOverlayVisible:!this.state.isImportOverlayVisible})},this.state={isImportOverlayVisible:!1}}render(){const{run:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.IndexList.Row,null,s.a.createElement(h.IndexList.Cell,null,e.status),s.a.createElement(h.IndexList.Cell,null,this.dateTimeString(e.scheduledFor)),s.a.createElement(h.IndexList.Cell,null,this.dateTimeString(e.startedAt)),s.a.createElement(h.IndexList.Cell,null,e.duration),s.a.createElement(h.IndexList.Cell,null,s.a.createElement(h.Button,{key:e.id,size:h.ComponentSize.ExtraSmall,color:h.ComponentColor.Default,text:"View Logs",onClick:this.handleToggleOverlay}),this.renderLogOverlay)))}dateTimeString(e){if(!e)return"";const t=new Date(e);return Hn()(t).format(x.s)}get renderLogOverlay(){const{isImportOverlayVisible:e}=this.state,{logs:t}=this.props;return s.a.createElement(h.Overlay,{visible:e},s.a.createElement(Nr,{onDismissOverlay:this.handleToggleOverlay,logs:t}))}}const Pr={getLogs:(e,t)=>async n=>{try{const a=await fe.P({taskID:e,runID:t});if(200!==a.status)throw new Error(a.data.message);n(Object(Ht.x)(a.data.events))}catch(e){console.error(e),n(Object(Ht.x)([]))}}};var Mr=Object(o.c)(e=>{const{logs:t}=e.resources.tasks;return{logs:t}},Pr)(Ar);class Lr extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b)}render(){const{sortKey:e,sortDirection:t,onClickColumn:n}=this.props;return s.a.createElement(h.IndexList,null,s.a.createElement(h.IndexList.Header,null,s.a.createElement(h.IndexList.HeaderCell,{columnName:"Status",width:"10%",sortKey:this.headerKeys[0],sort:e===this.headerKeys[0]?t:h.Sort.None,onClick:n}),s.a.createElement(h.IndexList.HeaderCell,{columnName:"Schedule",width:"20%",sortKey:this.headerKeys[1],sort:e===this.headerKeys[1]?t:h.Sort.None,onClick:n}),s.a.createElement(h.IndexList.HeaderCell,{columnName:"Started",width:"20%",sortKey:this.headerKeys[2],sort:e===this.headerKeys[2]?t:h.Sort.None,onClick:n}),s.a.createElement(h.IndexList.HeaderCell,{columnName:"Duration",width:"20%",sortKey:this.headerKeys[3],sort:e===this.headerKeys[3]?t:h.Sort.None,onClick:n}),s.a.createElement(h.IndexList.HeaderCell,{width:"10%"})),s.a.createElement(h.IndexList.Body,{emptyState:s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like this Task doesn't have any ",s.a.createElement("b",null,"Runs"))),columnCount:5},this.sortedRuns))}get headerKeys(){return["status","scheduledFor","startedAt","duration"]}get sortedRuns(){const{runs:e,sortKey:t,sortDirection:n,sortType:a,taskID:r}=this.props;return this.memGetSortedResources(e,t,n,a).slice(0,20).map(e=>s.a.createElement(Mr,{key:`run-id==${e.id}`,taskID:r,run:e}))}}class Fr extends a.PureComponent{constructor(e){super(e),this.handleClickColumn=(e,t)=>{let n=Ja.a.String;"status"!==t&&(n=Ja.a.Date),this.setState({sortKey:t,sortDirection:e,sortType:n})},this.handleRunTask=()=>{const{onRunTask:e,match:t,getRuns:n}=this.props;e(t.params.id),n(t.params.id)},this.handleEditTask=()=>{const{history:e,currentTask:t,match:{params:{orgID:n}}}=this.props;e.push(`/orgs/${n}/tasks/${t.id}/edit`)},this.state={sortKey:"scheduledFor",sortDirection:h.Sort.Descending,sortType:Ja.a.Date}}render(){const{match:e,runs:t}=this.props,{sortKey:n,sortDirection:a,sortType:r}=this.state;return s.a.createElement(h.SpinnerContainer,{loading:this.props.runStatus,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(h.Page,{titleTag:Va(["Task Runs"])},s.a.createElement(h.Page.Header,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:this.title}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!1},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(h.Button,{onClick:this.handleEditTask,text:"Edit Task",color:h.ComponentColor.Primary})),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(h.Button,{onClick:this.handleRunTask,text:"Run Task",icon:h.IconFont.Play}))),s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(Lr,{taskID:e.params.id,runs:t,sortKey:n,sortDirection:a,sortType:r,onClickColumn:this.handleClickColumn}))))}componentDidMount(){this.props.getRuns(this.props.match.params.id)}get title(){const{currentTask:e}=this.props;return e?`${e.name} - Runs`:"Runs"}}const qr={getRuns:e=>async t=>{try{t(Object(Ht.z)([],W.RemoteDataState.Loading)),t(Qt(e));const n=await fe.O({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data.runs.map(e=>{const t=new Date(e.finishedAt),n=new Date(e.startedAt);return Object.assign(Object.assign({},e),{duration:`${tn(t,n)}`})});t(Object(Ht.z)(a,W.RemoteDataState.Done))}catch(e){console.error(e);const n=Object(d.b)(e);t(Object($.c)(me.Bc(n))),t(Object(Ht.z)([],W.RemoteDataState.Error))}},onRunTask:Jt};var Br=Object(o.c)(e=>{const{runs:t,runStatus:n,currentTask:a}=e.resources.tasks;return{runs:t,runStatus:n,currentTask:a}},qr)(Object(i.j)(Fr));class zr extends a.PureComponent{constructor(e){super(e),this.handleChangeScript=e=>{this.props.setCurrentScript(e)},this.handleChangeScheduleType=e=>{this.props.setTaskOption({key:"taskScheduleType",value:e})},this.handleSave=()=>{this.props.updateScript()},this.handleCancel=()=>{this.props.cancel()},this.handleChangeInput=e=>{const{name:t,value:n}=e.target,a=t;this.props.setTaskOption({key:a,value:n})}}componentDidMount(){const{match:{params:{id:e}}}=this.props;this.props.selectTaskByID(e),this.props.setAllTaskOptionsByID(e)}componentWillUnmount(){this.props.clearTask()}render(){const{currentScript:e,taskOptions:t}=this.props;return s.a.createElement(h.Page,{titleTag:Va([`Edit ${t.name}`])},s.a.createElement(Er,{title:"Edit Task",canSubmit:this.isFormValid,onCancel:this.handleCancel,onSave:this.handleSave}),s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1},s.a.createElement("div",{className:"task-form"},s.a.createElement("div",{className:"task-form--options"},s.a.createElement(wr,{canSubmit:this.isFormValid,taskOptions:t,onChangeInput:this.handleChangeInput,onChangeScheduleType:this.handleChangeScheduleType})),s.a.createElement("div",{className:"task-form--editor"},s.a.createElement(kr.a,{script:e,onChangeScript:this.handleChangeScript})))))}get isFormValid(){const{taskOptions:{name:e,cron:t,interval:n},currentScript:a}=this.props;return(!!t||!!n)&&!!e&&!!a}}const Ur={setTaskOption:Ht.C,setCurrentScript:Ht.v,updateScript:()=>async(e,t)=>{try{const n=t(),{tasks:{currentScript:a,currentTask:s,taskOptions:r}}=n.resources,o={flux:a,name:r.name,offset:r.offset,token:null};r.taskScheduleType===W.TaskSchedule.interval?(o.every=r.interval,o.cron=null):(o.cron=r.cron,o.every=null);const i=await fe.db({taskID:s.id,data:o});if(200!==i.status)throw new Error(i.data.message);e(Yt()),e(Object(Ht.q)()),e(Object($.c)(me.Hc()))}catch(t){console.error(t);const n=Object(d.b)(t);e(Object($.c)(me.Gc(n)))}},cancel:Xt,selectTaskByID:Qt,setAllTaskOptionsByID:e=>async t=>{try{const n=await fe.M({taskID:e});if(200!==n.status)throw new Error(n.data.message);const a=Object(_e.a)(n.data,zt.b);t(Object(Ht.u)(a))}catch(e){console.error(e),t(Yt());const n=Object(d.b)(e);t(Object($.c)(me.Dc(n)))}},clearTask:Ht.r};var Hr=Object(o.c)(e=>{const{taskOptions:t,currentScript:n,currentTask:a}=e.resources.tasks;return{taskOptions:t,currentScript:n,currentTask:a}},Ur)(zr);var Gr=e=>{const{searchTerm:t,funcs:n,children:a}=e,r=n.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())),o=Object(y.groupBy)(r,"category");return 0===r.length?s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.EmptyState.Text,null,"No functions match your search")):a(o)};var Vr=({description:e})=>s.a.createElement("article",{className:"flux-functions-toolbar--description"},s.a.createElement("div",{className:"flux-function-docs--heading"},"Description"),s.a.createElement("span",null,e));class $r extends a.PureComponent{render(){return s.a.createElement("article",null,s.a.createElement("div",{className:"flux-function-docs--heading"},"Arguments"),s.a.createElement("div",{className:"flux-function-docs--snippet"},this.arguments))}get arguments(){const{argsList:e}=this.props;return e.length>0?e.map(e=>s.a.createElement("div",{className:"flux-function-docs--arguments",key:e.name},s.a.createElement("span",null,e.name,":"),s.a.createElement("span",null,e.type),s.a.createElement("div",null,e.desc))):s.a.createElement("div",{className:"flux-function-docs--arguments"},"None")}}var Wr=$r;var Kr=({example:e})=>s.a.createElement("article",null,s.a.createElement("div",{className:"flux-function-docs--heading"},"Example"),s.a.createElement("div",{className:"flux-function-docs--snippet"},e));var Qr=({link:e})=>s.a.createElement("p",{className:"tooltip--link"},"Still have questions? Check out the"," ",s.a.createElement("a",{target:"_blank",href:e},"Flux Docs"),".");var Yr=({func:{desc:e,args:t,example:n,link:a,name:r}})=>s.a.createElement("div",{className:"flux-function-docs","data-testid":`flux-docs--${r}`},s.a.createElement(h.DapperScrollbars,{autoHide:!1},s.a.createElement("div",{className:"flux-toolbar--popover"},s.a.createElement(Vr,{description:e}),s.a.createElement(Wr,{argsList:t}),s.a.createElement(Kr,{example:n}),s.a.createElement(Qr,{link:a}))));const Xr=({func:e,onClickFunction:t,testID:n})=>{const r=Object(a.createRef)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Popover,{appearance:h.Appearance.Outline,enableDefaultStyles:!1,position:h.PopoverPosition.ToTheLeft,triggerRef:r,showEvent:h.PopoverInteraction.Hover,hideEvent:h.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"toolbar-popover",contents:()=>s.a.createElement(Yr,{func:e})}),s.a.createElement("dd",{ref:r,"data-testid":`flux--${n}`,className:"flux-toolbar--list-item flux-toolbar--function"},s.a.createElement("code",null,e.name),s.a.createElement(h.Button,{testID:`flux--${n}--inject`,text:"Inject",onClick:()=>{t(e)},size:h.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:h.ComponentColor.Primary})))};Xr.defaultProps={testID:"flux-function"};var Zr=Xr;var Jr=e=>{const{category:t,funcs:n,onClickFunction:a}=e;return s.a.createElement("dl",{className:"flux-toolbar--category"},s.a.createElement("dt",{className:"flux-toolbar--heading"},t),n.map(e=>s.a.createElement(Zr,{onClickFunction:a,key:`${e.name}_${e.desc}`,func:e,testID:e.name})))};const eo=100;class to extends a.PureComponent{constructor(e){super(e),this.handleSearch=()=>{this.props.onSearch(this.state.searchTerm)},this.handleChange=e=>{this.setState({searchTerm:e.target.value},this.handleSearch)},this.state={searchTerm:""},this.handleSearch=Object(y.debounce)(this.handleSearch,eo)}render(){return s.a.createElement("div",{className:"flux-toolbar--search"},s.a.createElement(h.Input,{type:h.InputType.Text,icon:h.IconFont.Search,placeholder:`Filter ${this.props.resourceName}...`,onChange:this.handleChange,value:this.state.searchTerm,testID:"flux-toolbar-search--input"}))}}var no=to;const ao={name:"from",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"bucketID",desc:"String-encoded ID of the bucket to query.",type:"String"},{name:"host",desc:"URL of the InfluxDB instance to query (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"org",desc:"Organization name (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"orgID",desc:"String-encoded organization ID (only required when querying a different organization or remote InfluxDB instance).",type:"String"},{name:"token",desc:"InfluxDB authentication token (only required when querying a different organization or remote InfluxDB instance).",type:"String"}],package:"",desc:"Used to retrieve data from an InfluxDB data source. It returns a stream of tables from the specified bucket. Each unique series is contained within its own table. Each record in the table represents a single point in the series.",example:'from(bucket: "example-bucket")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/inputs/from/"},so={name:"union",args:[{name:"tables",desc:"Specifies the streams to union together. There must be at least two streams.",type:"Array of Strings"}],package:"",desc:"Concatenates two or more input streams into a single output stream. The output schemas of the `union()` function is the union of all input schemas. A sort operation may be added if a specific sort order is needed.",example:"union(tables: [table1, table2])",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/union/"},ro=[{name:"aggregate.rate",args:[{name:"every",desc:"Duration of windows.",type:"Duration"},{name:"groupColumns",desc:"List of columns to group by. Defaults to [].",type:"Array of Strings"},{name:"unit",desc:"Time duration to use when calculating the rate. Defaults to `1s`.",type:"Duration"}],package:"experimental/aggregate",desc:"Calculates the rate of change per windows of time.",example:"aggregate.rate(every: 1m, unit: 1s)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/aggregate/rate/"},{name:"aggregateWindow",args:[{name:"every",desc:"The duration of windows.",type:"Duration"},{name:"fn",desc:"The aggregate function used in the operation.",type:"Unquoted String"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeSrc",desc:'The "time source" column from which time is copied for the aggregate record. Defaults to `"_stop"`.',type:"String"},{name:"timeDst",desc:'The "time destination" column to which time is copied for the aggregate record. Defaults to `"_time"`.',type:"String"},{name:"createEmpty",desc:"For windows without data, this will create an empty window and fill it with a `null` aggregate value.",type:"Boolean"}],package:"",desc:"Applies an aggregate function to fixed windows of time.",example:"aggregateWindow(every: v.windowPeriod, fn: mean)",category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/aggregatewindow/"},{name:"array.from",args:[{name:"rows",desc:"Array of records to construct a table with.",type:"Array of Objects"}],package:"experimental/array",desc:"Constructs a table from an array of objects.",example:'array.from(rows: [{_time: 2020-01-01T00:00:00Z, _value: "foo"},{_time: 2020-01-02T00:00:00Z, _value: "bar"}])',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/array/from/"},{name:"bigtable.from",args:[{name:"token",desc:"The Google Cloud IAM token to use to access the Cloud Bigtable database.",type:"String"},{name:"project",desc:"The project ID of the Cloud Bigtable project to retrieve data from.",type:"String"},{name:"instance",desc:"The instance ID of the Cloud Bigtable instance to retrieve data from.",type:"String"},{name:"table",desc:"The name of the Cloud Bigtable table to retrieve data from.",type:"String"}],package:"experimental/bigtable",desc:"Retrieves data from a Google Cloud Bigtable data source.",example:'bigtable.from(token: "mySuPeRseCretTokEn", project: "exampleProjectID", instance: "exampleInstanceID", table: "example-table")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/bigtable/from/"},{name:"bool",args:[{name:"v",desc:"The value to convert.",type:"String, Integer, UInteger, Float"}],package:"",desc:"Converts a single value to a boolean.",example:"bool(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/bool/"},{name:"bottom",args:[{name:"n",desc:"The number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right) .Default is `["_value"]`',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the bottom n rows.",example:'bottom(n:10, columns: ["_value"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/bottom/"},{name:"buckets",args:[],package:"",desc:"Returns a list of buckets in the organization.",example:"buckets()",category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/inputs/buckets/"},{name:"bytes",args:[{name:"v",desc:"The value to convert.",type:"String, Integer, UInteger, Float, Boolean"}],package:"",desc:"Converts a single value to bytes.",example:"bytes(t: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/bytes/"},{name:"chandeMomentumOscillator",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Applies the technical momentum indicator developed by Tushar Chande.",example:"chandeMomentumOscillator(n: 10)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/chandemomentumoscillator/"},{name:"columns",args:[{name:"column",desc:"The name of the output column in which to store the column labels.",type:"String"}],package:"",desc:"Lists the column labels of input tables.",example:'columns(column: "_value")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/columns/"},{name:"contains",args:[{name:"value",desc:"The value to search for.",type:"Boolean, Integer, UInteger, Float, String, Time"},{name:"set",desc:"The set of values in which to search.",type:"Boolean, Integer, UInteger, Float, String, Time"}],package:"",desc:"Tests whether a value is a member of a set.",example:"contains(value: 1, set: [1,2,3])",category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/tests/contains/"},{name:"count",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the number of records in the specified column.",example:'count(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/count/"},{name:"cov",args:[{name:"x",desc:"One input stream used to calculate the covariance.",type:"Object"},{name:"y",desc:"The other input table used to calculate the covariance.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"}],package:"",desc:"Computes the covariance between two streams by first joining the streams, then performing the covariance operation.",example:'cov(x: table1, y: table2, on: ["_time", "_field"], pearsonr: false)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/cov/"},{name:"covariance",args:[{name:"columns",desc:"A list of columns on which to operate. Exactly two columns must be provided.",type:"Array of Strings"},{name:"pearsonr",desc:"Indicates whether the result should be normalized to be the Pearson R coefficient",type:"Boolean"},{name:"valueDst",desc:'The column into which the result will be placed. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the covariance between two columns.",example:'covariance(columns: ["column_x", "column_y"], pearsonr: false, valueDst: "_value")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/covariance/"},{name:"csv.from",args:[{name:"file",desc:"The file path of the CSV file to query.",type:"String"},{name:"csv",desc:"Raw CSV-formatted text. CSV data must be in the CSV format produced by the Flux HTTP response standard.",type:"String"}],package:"csv",desc:"Retrieves data from a comma-separated value (CSV) data source.",example:"csv.from(csv: csvData)",category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/csv/from/"},{name:"csv.from",args:[{name:"url",desc:"The URL to retrieve annotated CSV from.",type:"String"}],package:"experimental/csv",desc:"Retrieves annotated CSV data from a URL.",example:'csv.from(url: "http://example.com/data.csv")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/csv/from/"},{name:"cumulativeSum",args:[{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes a running sum for non-null records in the table. The output table schema will be the same as the input table.",example:'cumulativeSum(columns: ["_value"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/cumulativesum/"},{name:"date.hour",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the hour of a specified time. Results range from `[0-23]`.",example:"date.hour(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/hour/"},{name:"date.microsecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the microsecond of a specified time. Results range from `[1-999999]`.",example:"date.microsecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/microsecond/"},{name:"date.millisecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the millisecond of a specified time. Results range from `[1-999]`.",example:"date.millisecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/millisecond/"},{name:"date.minute",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the minute of a specified time. Results range from `[0-59]`.",example:"date.minute(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/minute/"},{name:"date.month",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the month of a specified time. Results range from `[1-12]`.",example:"date.month(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/month/"},{name:"date.monthDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the month for a specified time. Results range from `[1-31]`.",example:"date.monthDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/monthday/"},{name:"date.nanosecond",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the nanosecond of a specified time. Results range from `[1-999999999]`.",example:"date.nanosecond(t: 2019-07-17T12:05:21.012934584Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/nanosecond/"},{name:"date.quarter",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the quarter of the year for a specified time. Results range from `[1-4]`.",example:"date.quarter(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/quarter/"},{name:"date.second",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the second of a specified time. Results range from `[0-59]`.",example:"date.second(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/second/"},{name:"date.truncate",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"},{name:"unit",desc:"The unit time to truncate to. Only use `1` and the unit of time to specify the `unit`. For example, `1s`, `1m`, `1h`.",type:"Duration"}],package:"date",desc:"Truncates the time to a specified unit. Results range from `[0-59]`.",example:"date.truncate(t: 2019-07-17T12:05:21.012Z, unit: 1s)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/truncate/"},{name:"date.week",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the ISO week of the year for a specified time. Results range from `[1-53]`.",example:"date.week(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/week/"},{name:"date.weekDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the week for a specified time. Results range from `[0-6]`.",example:"date.weekDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/weekday/"},{name:"date.year",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the year of a specified time.",example:"date.year(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/year/"},{name:"date.yearDay",args:[{name:"t",desc:"The time to operate on.",type:"Time | Duration"}],package:"date",desc:"Returns the day of the year for a specified time. Results include leap days and range from `[1-366]`.",example:"date.yearDay(t: 2019-07-17T12:05:21.012Z)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/date/yearday/"},{name:"derivative",args:[{name:"unit",desc:"The time duration used when creating the derivative.",type:"Duration"},{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'A list of columns on which to operate. Defaults to `["_value"]`.',type:"Array of Strings"},{name:"timeColumn",desc:'The column name for the time values. Defaults to `"_time"`.',type:"String"}],package:"",desc:"Computes the rate of change per unit of time between subsequent non-null records. The output table schema will be the same as the input table.",example:'derivative(unit: 1s, nonNegative: true, columns: ["_value"], timeColumn: "_time")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/derivative/"},{name:"difference",args:[{name:"nonNegative",desc:"Indicates if the derivative is allowed to be negative. When set to `true`, if a value is less than the previous value, it is assumed the previous value should have been a zero.",type:"Boolean"},{name:"columns",desc:'The columns to use to compute the difference. Defaults to `"_value"`.',type:"Array of Strings"},{name:"keepFirst",desc:"Indicates the first row should be kept. If `true`, the difference will be `null`. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Computes the difference between subsequent non-null records in the specified columns.",example:'difference(nonNegative: false, columns: ["_value"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/difference/"},{name:"distinct",args:[{name:"column",desc:"Column on which to track unique values.",type:"String"}],package:"",desc:"Returns the unique values for a given column.",example:'distinct(column: "host")',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/distinct/"},{name:"doubleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at double the rate of `exponentialMovingAverage()`.",example:"doubleEMA(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/doubleema/"},{name:"drop",args:[{name:"columns",desc:"A list of columns to be removed from the table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Removes specified columns from a table. Columns can be specified either through a list or a predicate function. When a dropped column is part of the group key, it will be removed from the key.",example:'drop(columns: ["col1", "col2"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/drop/"},{name:"duplicate",args:[{name:"column",desc:"The column name to duplicate.",type:"String"},{name:"as",desc:"The name assigned to the duplicate column.",type:"String"}],package:"",desc:"Duplicates a specified column in a table.",example:'duplicate(column: "column-name", as: "duplicate-name")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/duplicate/"},{name:"duration",args:[{name:"v",desc:"The value to convert.",type:"String"}],package:"",desc:"Converts a single value to a duration.",example:"duration(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/duration/"},{name:"experimental.addDuration",args:[{name:"d",desc:"The duration to add.",type:"Duration"},{name:"to",desc:"The time to add the duration to.",type:"Time"}],package:"experimental",desc:"Adds a duration to a time value and returns the resulting time value.",example:"experimental.addDuration(d: 12h, to: now())",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/addduration/"},{name:"experimental.alignTime",args:[{name:"alignTo",desc:"UTC time to align tables to. Default is 1970-01-01T00:00:00Z.",type:"Time"}],package:"experimental",desc:"Aligns input tables to a common start time.",example:"experimental.alignTime(alignTo: v.timeRangeStart)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/aligntime/"},{name:"experimental.chain",args:[{name:"first",desc:"The first query to execute.",type:"Stream of Tables"},{name:"second",desc:"The second query to execute.",type:"Stream of Tables"}],package:"experimental",desc:"Executes two queries sequentially rather than in parallel and outputs the results of the second query.",example:"experimental.chain(first: query1, second: query2)",category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/chain/"},{name:"experimental.group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:"The mode used to group columns. Only the `extend` mode is available with this function.",type:"String"}],package:"experimental",desc:"Introduces an extend mode to the existing `group()` function.",example:'experimental.group(columns: ["host", "_measurement"], mode: "extend")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/group/"},{name:"experimental.join",args:[{name:"left",desc:"First of two streams of tables to join.",type:"Stream of tables"},{name:"right",desc:"Second of two streams of tables to join.",type:"Stream of tables"},{name:"fn",desc:"A function that maps new output rows using left and right input rows.",type:"Function"}],package:"experimental",desc:"Joins two streams of tables on the group key and _time column. Use the fn parameter to map output tables.",example:"experimental.join(left: left, right: right, fn: (left, right) => ({left with lv: left._value, rv: right._value }))",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/join/"},{name:"experimental.objectKeys",args:[{name:"o",desc:"The object to return keys from.",type:"Object"}],package:"experimental",desc:"Returns an array of keys in a specified object.",example:'experimental.objectKeys(o: {key1: "value1", key2: "value2"})',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/objectkeys/"},{name:"experimental.set",args:[{name:"o",desc:"An object that defines the columns and values to set.",type:"Object"}],package:"experimental",desc:"Sets multiple static column values on all records.",example:'experimental.set(o: {column1: "value1", column2: "value2"})',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/set/"},{name:"experimental.subDuration",args:[{name:"d",desc:"The duration to subtract.",type:"Duration"},{name:"from",desc:"The time to subtract the duration from.",type:"Time"}],package:"experimental",desc:"Subtracts a duration from a time value and returns the resulting time value.",example:"experimental.subDuration(d: 12h, from: now())",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/subduration/"},{name:"experimental.to",args:[{name:"bucket",desc:"The bucket to write data to. `bucket` and `bucketID` are mutually exclusive.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to write data to. `bucketID` and `bucket` are mutually exclusive.",type:"String"},{name:"org",desc:"The organization name of the specified bucket. `org` and `orgID` are mutually exclusive.",type:"String"},{name:"orgID",desc:"The organization ID of the specified bucket. `orgID` and `org` are mutually exclusive.",type:"String"}],package:"experimental",desc:"Writes data to an InfluxDB v2.0 bucket, but in a different structure than the built-in `to()` function.",example:'experimental.to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/to/"},{name:"elapsed",args:[{name:"unit",desc:"The unit time to return. Defaults to `1s`.",type:"Duration"},{name:"timeColumn",desc:'The column to use to compute the elapsed time. Defaults to `"_time"`.',type:"String`"},{name:"columnName",desc:'The column to store elapsed times. Defaults to `"elapsed"`.',type:"String"}],package:"",desc:"Returns the time between subsequent records.",example:"elapsed(unit: 1s)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/elapsed/"},{name:"exponentialMovingAverage",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data.",example:"exponentialMovingAverage(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/exponentialmovingaverage/"},{name:"fill",args:[{name:"column",desc:'The column in which to replace null values. Defaults to `"_value"`.',type:"String"},{name:"value",desc:"The constant value to use in place of nulls.",type:"Value type of `column`"},{name:"usePrevious",desc:"When `true`, assigns the value set in the previous non-null row.",type:"Boolean"}],package:"",desc:"Replaces all null values in an input stream and replace them with a non-null value.",example:'fill(column: "_value", usePrevious: true)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/fill/"},{name:"filter",args:[{name:"fn",desc:"A single argument function that evaluates true or false. Records are passed to the function. Those that evaluate to true are included in the output tables.",type:"Function"},{name:"onEmpty",desc:"Defines the behavior for empty tables. Potential values are `keep` and `drop`. Defaults to `drop`.",type:"String"}],package:"",desc:"Filters data based on conditions defined in the function. The output tables have the same schema as the corresponding input tables.",example:'filter(fn: (r) => r._measurement == "cpu")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/filter/"},{name:"findColumn",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"column",desc:"Name of the column to extract.",type:"String"}],package:"",desc:"Returns an array of values in a specified column from the first table in a stream of tables where the group key values match the specified predicate.",example:'findColumn(fn: (key) => key.host == "host1", column: "_value")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/stream-table/findcolumn/"},{name:"findRecord",args:[{name:"fn",desc:"Predicate function for matching keys in a table’s group key.",type:"Function"},{name:"idx",desc:"Index of the record to extract.",type:"Integer"}],package:"",desc:"Returns a record at a specified index from the first table in a stream of tables where the group key values match the specified predicate.",example:'findRecord(fn: (key) => key.host == "host1", idx: 0)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/stream-table/findrecord/"},{name:"first",args:[],package:"",desc:"Selects the first non-null record from an input table.",example:"first()",category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/first/"},{name:"float",args:[{name:"v",desc:"The value to convert.",type:"String, Integer, UInteger, Boolean"}],package:"",desc:"Converts a single value to a float.",example:"float(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/float/"},ao,{name:"geo.asTracks",args:[{name:"groupBy",desc:"Columns to group by. They should uniquely identify each track.",type:"Array of Strings"},{name:"orderBy",desc:"Columns to order results by.",type:"Array of Strings"}],package:"experimental/geo",desc:"Groups geo-temporal data into tracks (sequential, related data points).",example:'geo.asTracks(groupBy: ["id","tid"], orderBy: ["_time"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/astracks/"},{name:"geo.filterRows",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"},{name:"strict",desc:"Enable strict geographic data filtering. Default is `true`",type:"Boolean"}],package:"experimental/geo",desc:"Filters data by a specified geographic region with the option of strict filtering.",example:"geo.filterRows(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0}, strict: true)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/filterrows/"},{name:"geo.gridFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"},{name:"minSize",desc:"Minimum number of cells that cover the specified region. Default is `24`",type:"Integer"},{name:"maxSize",desc:"Maximum number of cells that cover the specified region. Default is `-1`.",type:"Object"},{name:"level",desc:"S2 cell level of grid cells. Default is `-1`",type:"Integer"},{name:"s2CellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Filters data by a specified geographic region using S2 geometry grid cells.",example:"geo.gridFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/gridfilter/"},{name:"geo.groupByArea",args:[{name:"newColumn",desc:"Name of the new column that stores the unique identifier for a geographic area.",type:"String"},{name:"level",desc:"S2 Cell level used to determine the size of each geographic area.",type:"Integer"},{name:"s2cellIDLevel",desc:"S2 Cell level used in `s2_cell_id` tag. Default is `-1`.",type:"Integer"}],package:"experimental/geo",desc:"Groups rows by geographic area using S2 geometry grid cells.",example:'geo.groupByArea(newColumn: "geoArea", level: 10)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/groupbyarea/"},{name:"geo.s2CellIDToken",args:[{name:"point",desc:"Longitude and latitude in decimal degrees (WGS 84) to use when generating the S2 cell ID token. Object must contain `lat` and `lon` properties.",type:"Object"},{name:"token",desc:"S2 cell ID token to update.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Returns an S2 cell ID token.",example:"geo.s2CellIDToken(point: {lat: 37.7858229, lon: -122.4058124}, level: 10)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/s2cellidtoken/"},{name:"geo.s2CellLatLon",args:[{name:"token",desc:"S2 cell ID token.",type:"String"}],package:"experimental/geo",desc:"Returns the latitude and longitude of the center of an S2 cell.",example:'geo.s2CellLatLon(token: "89c284")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/s2celllatlon/"},{name:"geo.shapeData",args:[{name:"latField",desc:"Name of existing latitude field.",type:"String"},{name:"lonField",desc:"Name of existing longitude field.",type:"String"},{name:"level",desc:"S2 cell level to use when generating the S2 cell ID token.",type:"Integer"}],package:"experimental/geo",desc:"Renames existing latitude and longitude fields to `lat` and `lon` and adds an `s2_cell_id` tag.",example:'geo.shapeData(latField: "latitude", lonField: "longitude", level: 10)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/shapedata/"},{name:"geo.ST_Contains",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if the region contains the GIS geometry.",example:"geo.ST_Contains(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/st_contains/"},{name:"geo.ST_Distance",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the distance between the region and GIS geometry.",example:"geo.ST_Distance(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433})",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/st_distance/"},{name:"geo.ST_DWithin",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"},{name:"distance",desc:"Maximum distance allowed between the region and geometry.",type:"Float"}],package:"experimental/geo",desc:"Tests if a region is within a specified distance from GIS geometry.",example:"geo.ST_DWithin(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {lon: 39.7515, lat: 15.08433}, distance: 1000.0)",category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/st_dwithin/"},{name:"geo.ST_Intersects",args:[{name:"region",desc:"Region to test.",type:"Object"},{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Tests if a region intersects with GIS geometry.",example:'geo.ST_Intersects(region: {lat: 40.7, lon: -73.3, radius: 20.0}, geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/st_intersects/"},{name:"geo.ST_Length",args:[{name:"geometry",desc:"GIS geometry to test. Can be either point or linestring geometry.",type:"Object"}],package:"experimental/geo",desc:"Returns the spherical length of GIS geometry.",example:'geo.ST_Length(geometry: {linestring: "39.7515 14.01433, 38.3527 13.9228, 36.9978 15.08433"})',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/st_length/"},{name:"geo.ST_LineString",args:[],package:"experimental/geo",desc:"Converts a series of geographic points into linestring",example:"geo.ST_LineString()",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/st_linestring/"},{name:"geo.strictFilter",args:[{name:"region",desc:"Region containing the desired data points.",type:"Object"}],package:"experimental/geo",desc:"Filters data by latitude and longitude in a specified region.",example:"geo.strictFilter(region: {lat: 37.7858229, lon: -122.4058124, radius: 20.0})",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/strictfilter/"},{name:"geo.toRows",args:[],package:"experimental/geo",desc:"Pivots geo-temporal data into row-wise sets based on time and other correlation columns.",example:'geo.toRows(correlationKey: ["_time"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/geo/torows/"},{name:"getColumn",args:[{name:"column",desc:"The name of the column to extract.",type:"String"}],package:"",desc:"Extracts a column from a table given its label. If the label is not present in the set of columns, the function errors.",example:'getColumn(column: "_value")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/stream-table/getcolumn/"},{name:"getRecord",args:[{name:"idx",desc:"The index of the record to extract.",type:"Integer"}],package:"",desc:"Extracts a record from a table given the record’s index. If the index is out of bounds, the function errors.",example:"getRecord(idx: 0)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/stream-table/getrecord/"},{name:"group",args:[{name:"columns",desc:"List of columns to use in the grouping operation. Defaults to `[]`.",type:"Array of Strings"},{name:"mode",desc:'The mode used to group columns. The following options are available: by, except. Defaults to `"by"`.',type:"String"}],package:"",desc:"Groups records based on their values for specific columns. It produces tables with new group keys based on provided properties.",example:'group(columns: ["host", "_measurement"], mode:"by")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/group/"},{name:"highestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the average of each group.",example:'highestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/highestaverage/"},{name:"highestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the last value of each group.",example:'highestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/highestcurrent/"},{name:"highestMax",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the top `n` records from all groups using the maximum of each group.",example:'highestMax(n:10, groupColumns: ["host"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/highestmax/"},{name:"histogram",args:[{name:"column",desc:'The name of a column containing input data values. The column type must be float. Defaults to `"_value"`.',type:"Strings"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. Defaults to `"le"`.',type:"String"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. Defaults to `"_value"`.',type:"String"},{name:"bins",desc:"A list of upper bounds to use when computing the histogram frequencies. Each element in the array should contain a float value that represents the maximum value for a bin.",type:"Array of Floats"},{name:"normalize",desc:"When `true`, will convert the counts into frequency values between 0 and 1. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Approximates the cumulative distribution function of a dataset by counting data frequencies for a list of buckets.",example:'histogram(column: "_value", upperBoundColumn: "le", countColumn: "_value", bins: [50.0, 75.0, 90.0], normalize: false)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/histogram/"},{name:"histogramQuantile",args:[{name:"quantile",desc:"A value between 0 and 1 indicating the desired quantile to compute.",type:"Float"},{name:"countColumn",desc:'The name of the column in which to store the histogram counts. The count column type must be float. Defaults to `"_value"`.',type:"String"},{name:"upperBoundColumn",desc:'The name of the column in which to store the histogram\'s upper bounds. The count column type must be float. Defaults to `"le"`.',type:"String"},{name:"valueColumn",desc:'The name of the output column which will contain the computed quantile. Defaults to `"_value"`.',type:"String"},{name:"minValue",desc:"The assumed minimum value of the dataset. When the quantile falls below the lowest upper bound, interpolation is performed between `minValue` and the lowest upper bound. When `minValue` is equal to negative infinity, the lowest upper bound is used. Defaults to `0`.",type:"Float"}],package:"",desc:"Approximates a quantile given a histogram that approximates the cumulative distribution of the dataset.",example:'histogramQuantile(quantile: 0.5, countColumn: "_value", upperBoundColumn: "le", valueColumn: "_value", minValue: 0.0)',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/histogramquantile/"},{name:"holtWinters",args:[{name:"n",desc:"Number of values to predict.",type:"Integer"},{name:"seasonality",desc:"Number of points in a season. Defaults to `0`.",type:"Integer"},{name:"interval",desc:"The interval between two data points.",type:"Duration"},{name:"withFit",desc:'Returns "fitted" data points in results when `withFit` is set to `true`. Defaults to `false`.',type:"Boolean"},{name:"timeColumn",desc:'The time column to use. Defaults to `"_time"`.',type:"String"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Applies the Holt-Winters forecasting method to input tables. The Holt-Winters method predicts `n` seasonally-adjusted values for the specified `column` at the specified `interval`.",example:"holtWinters(n: 10, interval: 1d)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/holtwinters/"},{name:"hourSelection",args:[{name:"start",desc:"The first hour of the hour range (inclusive). Hours range from `[0-23]`",type:"Integer"},{name:"stop",desc:"The last hour of the hour range (inclusive). Hours range from `[0-23]`.",type:"Integer`"},{name:"timeColumn",desc:'The column that contains the time value. Default is `"_time"`.',type:"String`"}],package:"",desc:"Retains all rows with time values in a specified hour range. Hours are specified in military time.",example:"hourSelection(start: 9, stop: 17)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/hourselection/"},{name:"http.get",args:[{name:"url",desc:"The URL to send the GET request to.",type:"String"},{name:"headers",desc:"Headers to include with the GET request.",type:"Object"},{name:"timeout",desc:"Timeout for the GET request. Default is `30s`.",type:"Duration"}],package:"experimental/http",desc:"Submits an HTTP GET request to the specified URL and returns the HTTP status code, response body, and response headers.",example:'http.get(url: "https://docs.influxdata.com/influxdb/v2.0/", headers: {foo: "bar"})',category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/http/get/"},{name:"http.pathEscape",args:[{name:"inputString",desc:"The string to escape.",type:"String"}],package:"http",desc:"Escapes special characters in a string and replaces non-ASCII characters with hexadecimal representations (%XX).",example:'http.pathEscape(inputString: "/this/is/an/example-path.html")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/http/pathescape/"},{name:"http.post",args:[{name:"url",desc:"The URL to POST to.",type:"String"},{name:"headers",desc:"Headers to include with the POST request.",type:"Object"},{name:"data",desc:"The data body to include with the POST request.",type:"Bytes"}],package:"http",desc:"Submits an HTTP POST request to the specified URL with headers and data and returns the HTTP status code.",example:'http.post(url: "http://localhost:9999/", headers: {x:"a", y:"b"}, data: bytes(v: "body"))',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/http/post/"},{name:"increase",args:[{name:"columns",desc:'List of columns to use in the operation. Defaults to `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Computes the total non-negative difference between values in a table.",example:'increase(columns: ["_value"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/increase/"},{name:"int",args:[{name:"v",desc:"The value to convert.",type:"String, Integer, UInteger, Float, Boolean"}],package:"",desc:"Converts a single value to a integer.",example:"int(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/int/"},{name:"integral",args:[{name:"unit",desc:"The time duration used when computing the integral.",type:"Duration"},{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"timeColumn",desc:'Column that contains time values to use in the operation. Defaults to `"_time"`.',type:"String"},{name:"interpolate",desc:'Type of interpolation to use. Defaults to `""`.',type:"String"}],package:"",desc:"Computes the area under the curve per unit of time of subsequent non-null records. The curve is defined using `_time` as the domain and record values as the range.",example:'integral(unit: 10s, column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/integral/"},{name:"join",args:[{name:"tables",desc:"The map of streams to be joined.",type:"Object"},{name:"on",desc:"The list of columns on which to join.",type:"Array of Strings"},{name:"method",desc:'The method used to join. Possible values are: `inner`, `cross`, `left`, `right`, or `full`. Defaults to `"inner"`.',type:"String"}],package:"",desc:"Merges two or more input streams, whose values are equal on a set of common columns, into a single output stream. The resulting schema is the union of the input schemas. The resulting group key is the union of the input group keys.",example:'join(tables: {key1: table1, key2: table2}, on: ["_time", "_field"], method: "inner")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/join/"},{name:"json.encode",args:[{name:"v",desc:"The value to encode.",type:"Boolean, Duration, Float, Integer, String, Time, UInteger"}],package:"json",desc:"Converts a value into JSON bytes.",example:"json.encode(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/json/encode/"},{name:"kaufmansAMA",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"},{name:"column",desc:'The column to operate on. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Calculates Kaufman’s Adaptive Moving Average (KAMA) using values in an input table.",example:"kaufmansAMA(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/kaufmansama/"},{name:"kaufmansER",args:[{name:"n",desc:"The period or number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates the Kaufman’s Efficiency Ratio (KER) using values in an input table.",example:"kaufmansER(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/kaufmanser/"},{name:"keep",args:[{name:"columns",desc:"Columns that should be included in the resulting table. Cannot be used with `fn`.",type:"Array of Strings"},{name:"fn",desc:"A predicate function which takes a column name as a parameter and returns a boolean indicating whether or not the column should be removed from the table. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Returns a table containing only the specified columns, ignoring all others. Only columns in the group key that are also specified in the `keep()` function will be kept in the resulting group key. It is the inverse of `drop`.",example:'keep(columns: ["col1", "col2"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/keep/"},{name:"keys",args:[{name:"column",desc:"Column is the name of the output column to store the group key labels. Defaults to `_value`.",type:"String"}],package:"",desc:"Outputs the group key of input tables. For each input table, it outputs a table with the same group key columns, plus a _value column containing the labels of the input table's group key.",example:'keys(column: "_value")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/keys/"},{name:"keyValues",args:[{name:"keyColumns",desc:"A list of columns from which values are extracted. All columns indicated must be of the same type.",type:"Array of Strings"}],package:"",desc:"Returns a table with the input table's group key plus two columns, `_key` and `_value`, that correspond to unique column + value pairs from the input table.",example:'keyValues(keyColumns: ["usage_idle", "usage_user"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/keyvalues/"},{name:"last",args:[],package:"",desc:"Selects the last non-null record from an input table.",example:"last()",category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/last/"},{name:"length",args:[{name:"arr",desc:"The array to evaluate.",type:"Array"}],package:"",desc:"Returns the number of items in an array.",example:'length(arr: ["john"])',category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/misc/length/"},{name:"limit",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the beginning of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the first `n` records, excluding the offset.",example:"limit(n:10, offset: 0)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/limit/"},{name:"linearBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"width",desc:"The distance between subsequent bin values.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of linearly separated floats.",example:"linearBins(start: 0.0, width: 5.0, count: 20, infinity: true)",category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/misc/linearbins/"},{name:"logarithmicBins",args:[{name:"start",desc:"The first value in the returned list.",type:"Float"},{name:"factor",desc:"The multiplier applied to each subsequent bin.",type:"Float"},{name:"count",desc:"The number of bins to create.",type:"Integer"},{name:"infinity",desc:"When `true`, adds an additional bin with a value of positive infinity. Defaults to `true`.",type:"Boolean"}],package:"",desc:"Generates a list of exponentially separated floats.",example:"logarithmicBins(start: 1.0, factor: 2.0, count: 10, infinity: true)",category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/misc/logarithmicbins/"},{name:"lowestAverage",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the average of each group.",example:'lowestAverage(n:10, groupColumns: ["host"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/lowestaverage/"},{name:"lowestCurrent",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the last value of each group.",example:'lowestCurrent(n:10, groupColumns: ["host"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/lowestcurrent/"},{name:"lowestMin",args:[{name:"n",desc:"Number of records to return.",type:"Integer"},{name:"column",desc:'Column by which to sort. Default is `"_value"`.',type:"String"},{name:"groupColumns",desc:"The columns on which to group before performing the aggregation. Default is `[]`.",type:"Array of Strings"}],package:"",desc:"Returns the bottom `n` records from all groups using the maximum of each group.",example:'lowestMin(n:10, groupColumns: ["host"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/lowestmin/"},{name:"map",args:[{name:"fn",desc:"A single argument function that to apply to each record. The return value must be an object.",type:"Function"}],package:"",desc:"Applies a function to each record in the input tables.",example:"map(fn: (r) => ({ r with _value: r._value * r._value }))",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/map/"},{name:"math.abs",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the absolute value of x.",example:"math.abs(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/abs/"},{name:"math.acos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arccosine of x in radians.",example:"math.acos(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/acos/"},{name:"math.acosh",args:[{name:"x",desc:"The value used in the operation. Should be greater than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic cosine of x.",example:"math.acosh(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/acosh/"},{name:"math.asin",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the arcsine of x in radians.",example:"math.asin(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/asin/"},{name:"math.asinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic sine of x.",example:"math.asinh(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/asinh/"},{name:"math.atan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the arctangent of x in radians.",example:"math.atan(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/atan/"},{name:"math.atan2",args:[{name:"y",desc:"The y coordinate used in the operation.",type:"Float"},{name:"x",desc:"The x coordinate used in the operation.",type:"Float"}],package:"math",desc:"Returns the arc tangent of y/x, using the signs of the two to determine the quadrant of the return value.",example:"math.atan2(y: r.y_coord, x: r.x_coord)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/atan2/"},{name:"math.atanh",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse hyperbolic tangent of x.",example:"math.atanh(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/atanh/"},{name:"math.cbrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cube root of x.",example:"math.cbrt(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/cbrt/"},{name:"math.ceil",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the least integer value greater than or equal to x.",example:"math.ceil(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/ceil/"},{name:"math.copysign",args:[{name:"x",desc:"The magnitude used in the operation.",type:"Float"},{name:"y",desc:"The sign used in the operation.",type:"Float"}],package:"math",desc:"Returns a value with the magnitude of x and the sign of y.",example:"math.copysign(x: r._magnitude, r._sign)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/copysign/"},{name:"math.cos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the cosine of the radian argument x.",example:"math.cos(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/cos/"},{name:"math.cosh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic cosine of x.",example:"math.cosh(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/cosh/"},{name:"math.dim",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the maximum of (x - y) or 0.",example:"math.dim(x: r._value1, y: r._value2)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/dim/"},{name:"math.erf",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the error function of x.",example:"math.erf(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/erf/"},{name:"math.erfc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the complementary error function of x.",example:"math.erfc(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/erfc/"},{name:"math.erfcinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than 0 and less than 2.",type:"Float"}],package:"math",desc:"Returns the inverse of `math.erfc()`.",example:"math.erfcinv(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/erfcinv/"},{name:"math.erfinv",args:[{name:"x",desc:"The value used in the operation. Should be greater than -1 and less than 1.",type:"Float"}],package:"math",desc:"Returns the inverse error function of x.",example:"math.erfinv(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/erfinv/"},{name:"math.exp",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x (`e**x`).",example:"math.exp(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/exp/"},{name:"math.exp2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-2 exponential of x (`2**x`).",example:"math.exp2(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/exp2/"},{name:"math.expm1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-e exponential of x minus 1 (`e**x - 1`).",example:"math.expm1(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/expm1/"},{name:"math.float64bits",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 binary representation of f, with the sign bit of f and the result in the same bit position.",example:"math.float64bits(f: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/float64bits/"},{name:"math.floor",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the greatest integer value less than or equal to x.",example:"math.floor(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/floor/"},{name:"math.frexp",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Breaks f into a normalized fraction and an integral power of two.",example:"math.frexp(f: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/frexp/"},{name:"math.gamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the Gamma function of x.",example:"math.gamma(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/gamma/"},{name:"math.hypot",args:[{name:"p",desc:"The p value used in the operation.",type:"Float"},{name:"q",desc:"The q value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of `p*p + q*q`, taking care to avoid overflow and underflow.",example:"math.hypot(p: r.opp, p: r.adj)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/hypot/"},{name:"math.ilogb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x as an integer.",example:"math.ilogb(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/ilogb/"},{name:"math.isInf",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"},{name:"sign",desc:"The sign used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an infinity, according to sign.",example:"math.isInf(f: r._value, sign: r.sign)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/isinf/"},{name:"math.isNaN",args:[{name:"f",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether f is an IEEE 754 NaN value.",example:"math.isNaN(f: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/isnan/"},{name:"math.j0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the first kind.",example:"math.j0(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/j0/"},{name:"math.j1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the first kind.",example:"math.j1(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/j1/"},{name:"math.jn",args:[{name:"n",desc:"The order number.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the first kind.",example:"math.jn(n: 2, x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/jn/"},{name:"math.ldexp",args:[{name:"frac",desc:"The fraction used in the operation.",type:"Float"},{name:"exp",desc:"The exponent used in the operation.",type:"Float"}],package:"math",desc:"Returns `frac × 2**exp`. It is the inverse of `math.frexp()`.",example:"math.ldexp(frac: r.frac, exp: r.exp)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/ldexp/"},{name:"math.lgamma",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm and sign (-1 or +1) of `math.gamma(x:x)`.",example:"math.lgamma(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/lgamma/"},{name:"math.log",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of x.",example:"math.log(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/log/"},{name:"math.log1p",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the natural logarithm of 1 plus its argument x.",example:"math.log1p(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/log1p/"},{name:"math.log2",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary logarithm of x.",example:"math.log2(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/log2/"},{name:"math.logb",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the binary exponent of x.",example:"math.logb(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/logb/"},{name:"math.mInf",args:[{name:"sign",desc:"The sign value used in the operation.",type:"Float"}],package:"math",desc:"Returns positive infinity if `sign >= 0`, negative infinity if `sign < 0`.",example:"math.mInf(sign: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/minf/"},{name:"math.mMax",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the larger of x or y.",example:"math.mMax(x: r.x_value, y: r.y_value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/mmax/"},{name:"math.mMin",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the smaller of x or y.",example:"math.mMin(x: r.x_value, y: r.y_value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/mmin/"},{name:"math.mod",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the floating-point remainder of x/y.",example:"math.mod(x: r.x_value, y: r.y_value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/mod/"},{name:"math.modf",args:[{name:"f",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns integer and fractional floating-point numbers that sum to f. Both values have the same sign as f.",example:"math.modf(f: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/modf/"},{name:"math.NaN",args:[],package:"math",desc:"Returns an IEEE 754 NaN value.",example:"math.NaN()",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/nan/"},{name:"math.nextafter",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the next representable float value after x towards y.",example:"math.nextafter(x: r.x_value, y: r.y_value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/nextafter/"},{name:"math.pow",args:[{name:"x",desc:"The X value used in the operation.",type:"Float"},{name:"y",desc:"The Y value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-x exponential of y, `x**y`.",example:"math.pow(x: r.x_value, y: r.y_value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/pow/"},{name:"math.pow10",args:[{name:"n",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the base-10 exponential of n, `10**n`.",example:"math.pow10(n: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/pow10/"},{name:"math.remainder",args:[{name:"x",desc:"The numerator used in the operation.",type:"Float"},{name:"y",desc:"The denominator used in the operation.",type:"Float"}],package:"math",desc:"Returns the IEEE 754 floating-point remainder of `x / y`.",example:"math.remainder(x: r.numerator, y: r.denominator)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/remainder/"},{name:"math.round",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding half away from zero.",example:"math.round(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/round/"},{name:"math.roundtoeven",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the nearest integer, rounding ties to even.",example:"math.roundtoeven(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/roundtoeven/"},{name:"math.signbit",args:[{name:"x",desc:"The value used in the evaluation.",type:"Float"}],package:"math",desc:"Reports whether x is negative or negative zero.",example:"math.signbit(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/signbit/"},{name:"math.sin",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the sine of the radian argument x.",example:"math.sin(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/sin/"},{name:"math.sincos",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the values of `math.sin(x:x)` and `math.cos(x:x)`.",example:"math.sincos(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/sincos/"},{name:"math.sinh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic sine of x.",example:"math.sinh(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/sinh/"},{name:"math.sqrt",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the square root of x.",example:"math.sqrt(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/sqrt/"},{name:"math.tan",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the tangent of the radian argument x.",example:"math.tan(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/tan/"},{name:"math.tanh",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the hyperbolic tangent of x.",example:"math.tanh(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/tanh/"},{name:"math.trunc",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the integer value of x.",example:"math.trunc(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/trunc/"},{name:"math.y0",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-zero Bessel function of the second kind.",example:"math.y0(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/y0/"},{name:"math.y1",args:[{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-one Bessel function of the second kind.",example:"math.y1(x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/y1/"},{name:"math.yn",args:[{name:"n",desc:"The order number used in the operation.",type:"Float"},{name:"x",desc:"The value used in the operation.",type:"Float"}],package:"math",desc:"Returns the order-n Bessel function of the second kind.",example:"math.yn(n: 3, x: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/math/yn/"},{name:"max",args:[],package:"",desc:"Selects record with the highest `_value` from the input table.",example:"max()",category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/max/"},{name:"mean",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Computes the mean or average of non-null records in the input table.",example:'mean(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/mean/"},{name:"median",args:[{name:"column",desc:'The column on which to compute the mean. Defaults to `"_value"`',type:"String"}],package:"",desc:"Returns the median `_value` of an input table. The `median()` function can only be used with float value types.",example:'median(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/median/"},{name:"min",args:[],package:"",desc:"Selects record with the lowest `_value` from the input table.",example:"min()",category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/min/"},{name:"mode",args:[{name:"column",desc:'The column to use to compute the mode. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the mode or value that occurs most often in a specified column.",example:'mode(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/mode/"},{name:"movingAverage",args:[{name:"n",desc:"The frequency of time windows.",type:"Duration"}],package:"",desc:"Calculates the mean of values grouped into `n` number of points.",example:"movingAverage(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/movingaverage/"},{name:"mqtt.to",args:[{name:"broker",desc:"The MQTT broker connection string.",type:"String"},{name:"topic",desc:"The MQTT topic to send data to.",type:"String"},{name:"message",desc:"The message or payload to send to the MQTT broker. The default payload is an output table.",type:"String"},{name:"qos",desc:"The MQTT Quality of Service (QoS) level. Values range from 0-2. Default is 0.",type:"Integer"},{name:"clientid",desc:"The MQTT client ID.",type:"String"},{name:"username",desc:"The username to send to the MQTT broker.",type:"String"},{name:"password",desc:"The password to send to the MQTT broker.",type:"String"},{name:"name",desc:"The name for the MQTT message.",type:"String"},{name:"timeout",desc:"The MQTT connection timeout. Default is 1s.",type:"Duration"},{name:"timeColumn",desc:'The column to use as time values in the output line protocol. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The columns to use as tag sets in the output line protocol. Default is `[]`.",type:"Array of Strings"},{name:"valueColumns",desc:'The columns to use as field values in the output line protocol. Default is `["_value"]`.',type:"Array of Strings"}],package:"experimental/mqtt",desc:"Outputs data to an MQTT broker using MQTT protocol.",example:'mqtt.to(broker: "tcp://localhost:8883", topic: "example-topic", clientid: "exampleID", tagColumns: ["exampleTagKey"], valueColumns: ["_value"])',category:"Outputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/mqtt/to/"},{name:"pearsonr",args:[{name:"x",desc:"First input stream used in the operation.",type:"Object"},{name:"y",desc:"Second input stream used in the operation.",type:"Object"},{name:"on",desc:"List of columns on which to join.",type:"Array of Strings"}],package:"",desc:"Computes the Pearson R correlation coefficient between two streams by first joining the streams, then performing the covariance operation normalized to compute R.",example:'pearsonr(x: table1, y: table2, on: ["_time", "_field"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/pearsonr/"},{name:"pivot",args:[{name:"rowKey",desc:"List of columns used to uniquely identify a row for the output.",type:"Array of Strings"},{name:"columnKey",desc:"List of columns used to pivot values onto each row identified by the rowKey.",type:"Array of Strings"},{name:"valueColumn",desc:"The single column that contains the value to be moved around the pivot.",type:"String"}],package:"",desc:"Collects values stored vertically (column-wise) in a table and aligns them horizontally (row-wise) into logical sets.",example:'pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/pivot/"},{name:"prometheus.histogramQuantile",args:[{name:"quantile",desc:"A value between 0.0 and 1.0 indicating the desired quantile.",type:"Float"}],package:"experimental/prometheus",desc:"Calculates quantiles on a set of values assuming the histogram data is scraped or read from a Prometheus data source.",example:"prometheus.histogramQuantile(quantile: 0.99)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/prometheus/histogramquantile/"},{name:"prometheus.scrape",args:[{name:"url",desc:"The URL to scrape Prometheus-formatted metrics from.",type:"String"}],package:"experimental/prometheus",desc:"Retrieves Prometheus-formatted metrics from a specified URL.",example:'prometheus.scrape(url: "http://localhost:9999/metrics")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/prometheus/scrape/"},{name:"quantile",args:[{name:"column",desc:'The column on which to compute the quantile. Defaults to `"_value"`.',type:"String"},{name:"q",desc:"A value between 0 and 1 indicating the desired quantile.",type:"Float"},{name:"method",desc:"Defines the method of computation. The available options are: `estimate_tdigest`, `exact_mean`, or `exact_selector`.",type:"String"},{name:"compression",desc:"Indicates how many centroids to use when compressing the dataset. A larger number produces a more accurate result at the cost of increased memory requirements. Defaults to 1000.",type:"Float"}],package:"",desc:"This is both an aggregate and selector function depending on the `method` used. When using the `estimate_tdigest` or `exact_mean` methods, it outputs non-null records with values that fall within the specified quantile. When using the `exact_selector` method, it outputs the non-null record with the value that represents the specified quantile.",example:'quantile(column: "_value", q: 0.99, method: "estimate_tdigest", compression: 1000.0)',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/quantile/"},{name:"query.filterFields",args:[{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"}],package:"experimental/query",desc:"Filters input data by field.",example:'query.filterFields(fields: ["field_name"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/query/filterfields/"},{name:"query.filterMeasurement",args:[{name:"measurement",desc:"Measurement to filter by.",type:"String"}],package:"experimental/query",desc:"Filters input data by measurement.",example:'query.filterMeasurement(measurement: "measurement_name")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/query/filtermeasurement/"},{name:"query.fromRange",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"experimental/query",desc:"Returns all data from a specified bucket within given time bounds.",example:'query.fromRange(bucket: "example-bucket", start: v.timeRangeStart)',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/query/fromrange/"},{name:"query.inBucket",args:[{name:"bucket",desc:"Name of the bucket to query.",type:"String"},{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"},{name:"measurement",desc:"Measurement to filter by.",type:"String"},{name:"fields",desc:"Fields to filter by.",type:"Array of Strings"},{name:"predicate",desc:"A single argument function that evaluates true or false.",type:"Function"}],package:"experimental/query",desc:"Queries data from a specified bucket within given time bounds, filters data by measurement, field, and optional predicate expressions.",example:'query.inBucket(bucket: "example-bucket", start: v.timeRangeStart, measurement: "measurement_name", fields: ["field_name"], predicate: (r) => r.host == "host1")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/experimental/query/inbucket/"},{name:"range",args:[{name:"start",desc:"The earliest time to include in results.",type:"Duration | Time | Integer"},{name:"stop",desc:"The latest time to include in results. Defaults to `now()`.",type:"Duration | Time | Integer"}],package:"",desc:"Filters records based on time bounds. Each input table's records are filtered to contain only records that exist within the time bounds. Each input table's group key value is modified to fit within the time bounds. Tables where all records exists outside the time bounds are filtered entirely.",example:"range(start: -15m, stop: now())",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/range/"},{name:"reduce",args:[{name:"fn",desc:"Function to apply to each record with a reducer object. The function expects two objects: `r` and `accumulator`.",type:"Function"},{name:"identity",desc:"Defines the reducer object and provides initial values to use when creating a reducer.",type:"Object"}],package:"",desc:"Aggregates records in each table according to the reducer, `fn`",example:"reduce(fn: (r, accumulator) => ({ sum: r._value + accumulator.sum }), identity: {sum: 0.0})",category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/reduce/"},{name:"regexp.compile",args:[{name:"v",desc:"The string value to parse into a regular expression.",type:"String"}],package:"regexp",desc:"Parses a string into a regular expression and returns a regexp object.",example:'regexp.compile(v: "[a-zA-Z]")',category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/compile/"},{name:"regexp.findString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns the left-most regular expression match in a string.",example:'regexp.findString(r: /foo.?/, v: "seafood fool")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/findstring/"},{name:"regexp.findStringIndex",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Returns a two-element array of integers defining the beginning and ending indexes of the left-most regular expression match in a string.",example:'regexp.findStringIndex(r: /ab?/, v: "tablet")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/findstringindex/"},{name:"regexp.getString",args:[{name:"r",desc:"The regular expression object to convert to a string.",type:"Regexp"}],package:"regexp",desc:"Returns the source string used to compile a regular expression.",example:"regexp.getString(r: /[a-zA-Z]/)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/getstring/"},{name:"regexp.matchRegexpString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"}],package:"regexp",desc:"Tests if a string contains any match to a regular expression.",example:'regexp.matchRegexpString(r: /(go){2}/, v: "gogogopher")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/matchregexpstring/"},{name:"regexp.quoteMeta",args:[{name:"v",desc:"String value containing regular expression metacharacters to escape.",type:"String"}],package:"regexp",desc:"Escapes all regular expression metacharacters inside of a string.",example:'regexp.quoteMeta(v: ".+*?()|[]{}^$")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/quotemeta/"},{name:"regexp.replaceAllString",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The replacement for matches to `r`",type:"String"}],package:"regexp",desc:"Replaces all regular expression matches in a string with a specified replacement.",example:'regexp.replaceAllString(r: /a(x*)b/, v: "-ab-axxb-", t: "T")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/replaceallstring/"},{name:"regexp.splitRegexp",args:[{name:"r",desc:"The regular expression used to search `v`",type:"Regexp"},{name:"v",desc:"The string value to search.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"regexp",desc:"Splits a string into substrings separated by regular expression matches and returns an array of `i` substrings between matches.",example:'regexp.splitRegexp(r: /a*/, v: "abaabaccadaaae", i: 5)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/regexp/splitregexp/"},{name:"relativeStrengthIndex",args:[{name:"n",desc:"The number of values to use to calculate the relative strength index (RSI).",type:"Integer"},{name:"columns",desc:'Columns to operate on. Defaults to `["_value"]`.',type:"Array of Strings`"}],package:"",desc:"Measures the relative speed and change of values in an input table.",example:"relativeStrengthIndex(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/relativestrengthindex/"},{name:"rename",args:[{name:"columns",desc:"A map of columns to rename and their corresponding new names. Cannot be used with `fn`.",type:"Object"},{name:"fn",desc:"A function mapping between old and new column names. Cannot be used with `columns`.",type:"Function"}],package:"",desc:"Renames specified columns in a table. If a column is renamed and is part of the group key, the column name in the group key will be updated.",example:'rename(columns: {host: "server", _field: "my_field"})',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/rename/"},{name:"runtime.version",args:[],package:"runtime",desc:"Returns the current Flux version.",example:"runtime.version()",category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/runtime/version/"},{name:"sample",args:[{name:"n",desc:"Sample every Nth element.",type:"Integer"},{name:"pos",desc:"The position offset from the start of results where sampling begins. `pos` must be less than `n`. If `pos` is less than 0, a random offset is used. Defaults to `-1` (random offset).",type:"Integer"}],package:"",desc:"Selects a subset of the records from the input table.",example:"sample(n:5, pos: -1)",category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/sample/"},{name:"secrets.get",args:[{name:"key",desc:"The secret key to retrieve.",type:"String"}],package:"influxdata/influxdb/secrets",desc:"Retrieves a secret from the InfluxDB secret store.",example:'secrets.get(key: "KEY_NAME")',category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/secrets/get/"},{name:"set",args:[{name:"key",desc:"The label of the column to modify or set.",type:"String"},{name:"value",desc:"The string value to set.",type:"String"}],package:"",desc:"Assigns a static value to each record in the input table. The key may modify an existing column or add a new column to the tables. If the modified column is part of the group key, the output tables are regrouped as needed.",example:'set(key: "_field", value: "my_field")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/set/"},{name:"skew",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the skew of non-null records as a float.",example:'skew(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/skew/"},{name:"sleep",args:[{name:"v",desc:"Defines input tables.",type:"Object"},{name:"duration",desc:"The length of time to delay execution.",type:"Duration"}],package:"",desc:"Delays execution by a specified duration.",example:"sleep(duration: 5s)",category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/misc/sleep/"},{name:"sort",args:[{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"},{name:"desc",desc:"Sort results in descending order. Default is `false`.",type:"Boolean"}],package:"",desc:"Orders the records within each table. One output table is produced for each input table. The output tables will have the same schema as their corresponding input tables.",example:'sort(columns: ["_value"], desc: false)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/sort/"},{name:"spread",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Outputs the difference between the minimum and maximum values in the specified column. Only `uint`, `int`, and `float` column types can be used.",example:'spread(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/spread/"},{name:"sql.from",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"query",desc:"The query to run against the SQL database.",type:"String"}],package:"sql",desc:"Retrieves data from a SQL data source.",example:'sql.from(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", query:"SELECT * FROM example_table")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/sql/from/"},{name:"sql.to",args:[{name:"driverName",desc:"The driver used to connect to the SQL database.",type:"String"},{name:"dataSourceName",desc:"The connection string used to connect to the SQL database. The string’s form and structure depend on the driver.",type:"String"},{name:"table",desc:"The destination table.",type:"String"},{name:"batchSize",desc:"The number of parameters or columns that can be queued within each call to `Exec`. Defaults to `10000`.",type:"Integer"}],package:"sql",desc:"Writes data to a SQL database.",example:'sql.to(driverName: "postgres", dataSourceName: "postgresql://user:password@localhost", table: "example_table")',category:"Outputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/sql/to/"},{name:"stateCount",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"The name of the column added to each record that contains the incremented state count.",type:"String"}],package:"",desc:"Computes the number of consecutive records in a given state and stores the increment in a new column.",example:'stateCount(fn: (r) => r._field == "state", column: "stateCount")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/statecount/"},{name:"stateDuration",args:[{name:"fn",desc:"A single argument function that evaluates true or false to identify the state of the record.",type:"Function"},{name:"column",desc:"Name of the column added to each record that contains the incremented state duration.",type:"String"},{name:"unit",desc:"Unit of time in which the state duration is incremented.",type:"Duration"}],package:"",desc:"Computes the duration of a given state and stores the increment in a new column.",example:'stateDuration(fn: (r) => r._measurement == "state", column: "stateDuration", unit: 1s)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/stateduration/"},{name:"stddev",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"},{name:"mode",desc:'The standard deviation mode (sample or population). Defaults to `"sample"`.',type:"String"}],package:"",desc:"Computes the standard deviation of non-null records in specified column.",example:'stddev(column: "_value", mode: "sample")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/stddev/"},{name:"string",args:[{name:"v",desc:"The value to convert.",type:"Integer, UInteger, Float, Boolean, Duration, Time"}],package:"",desc:"Converts a single value to a string.",example:"string(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/string/"},{name:"strings.compare",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Compares the lexicographical order of two strings.",example:'strings.compare(v: "a", t: "b")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/compare/"},{name:"strings.containsAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Reports whether a specified string contains characters from another string.",example:'strings.containsAny(v: "abc", chars: "and")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/containsany/"},{name:"strings.containsStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Reports whether a string contains a specified substring.",example:'strings.containsStr(v: "This and that", substr: "and")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/containsstr/"},{name:"strings.countStr",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring count.",type:"String"}],package:"strings",desc:"Counts the number of non-overlapping instances of a substring appears in a string.",example:'strings.countStr(v: "Hello mellow fellow", substr: "ello")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/countstr/"},{name:"strings.equalFold",args:[{name:"v",desc:"The string value to compare.",type:"String"},{name:"t",desc:"The string value to compare against.",type:"String"}],package:"strings",desc:"Reports whether two UTF-8 strings are equal under Unicode case-folding.",example:'strings.equalFold(v: "Go", t: "go")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/equalfold/"},{name:"strings.hasPrefix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"prefix",desc:"The prefix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string begins with a specified prefix.",example:'strings.hasPrefix(v: "go gopher", prefix: "go")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/hasprefix/"},{name:"strings.hasSuffix",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"suffix",desc:"The suffix to search for.",type:"String"}],package:"strings",desc:"Indicates if a string ends with a specified suffix.",example:'strings.hasSuffix(v: "gopher go", suffix: "go")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/hassuffix/"},{name:"strings.index",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of a substring in a string. If the substring is not present, it returns `-1`.",example:'strings.index(v: "go gopher", substr: "go")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/index-func/"},{name:"strings.indexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the first instance of specified characters in a string. If none of the specified characters are present, it returns -1.",example:'strings.indexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/indexany/"},{name:"strings.isDigit",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a digit (0-9).",example:'strings.isDigit(v: "7")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/isdigit/"},{name:"strings.isLetter",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is a letter (a-z, A-Z).",example:'strings.isLetter(v: "A")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/isletter/"},{name:"strings.isLower",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is lowercase.",example:'strings.isLower(v: "a")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/islower/"},{name:"strings.isUpper",args:[{name:"v",desc:"The single-character string to test.",type:"String"}],package:"strings",desc:"Tests if a single-character string is uppercase.",example:'strings.isUpper(v: "A")',category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/isupper/"},{name:"strings.joinStr",args:[{name:"arr",desc:"The array of strings to concatenate.",type:"Array of Strings"},{name:"v",desc:"The separator to use in the concatenated value.",type:"String"}],package:"strings",desc:"Concatenates elements of a string array into a single string using a specified separator.",example:'strings.joinStr(arr: ["a", "b", "c"], v: ",")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/joinstr/"},{name:"strings.lastIndex",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"substr",desc:"The substring to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of a substring in a string. If the substring is not present, the function returns -1.",example:'strings.lastIndex(v: "go gopher", substr: "go")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/lastindex/"},{name:"strings.lastIndexAny",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"chars",desc:"Characters to search for.",type:"String"}],package:"strings",desc:"Returns the index of the last instance of any specified characters in a string. If none of the specified characters are present, the function returns -1.",example:'strings.lastIndexAny(v: "chicken", chars: "aeiouy")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/lastindexany/"},{name:"strings.repeat",args:[{name:"v",desc:"The string value to repeat.",type:"String"},{name:"i",desc:"The number of times to repeat `v`.",type:"Integer"}],package:"strings",desc:"Returns a string consisting of `i` copies of a specified string.",example:'strings.repeat(v: "ha", i: 3)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/repeat/"},{name:"strings.replace",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for `i` instances of `t`.",type:"String"},{name:"i",desc:"The number of non-overlapping `t` matches to replace.",type:"Integer"}],package:"strings",desc:"Replaces the first `i` non-overlapping instances of a substring with a specified replacement.",example:'strings.replace(v: "oink oink oink", t: "oink", u: "moo", i: 2)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/replace/"},{name:"strings.replaceAll",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"t",desc:"The substring to replace.",type:"String"},{name:"u",desc:"The replacement for all instances of `t`.",type:"String"}],package:"strings",desc:"Replaces all non-overlapping instances of a substring with a specified replacement.",example:'strings.replaceAll(v: "oink oink oink", t: "oink", u: "moo")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/replaceall/"},{name:"strings.split",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of substrings.",example:'strings.split(v: "a flux of foxes", t: " ")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/split/"},{name:"strings.splitAfter",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of substrings.",example:'strings.splitAfter(v: "a flux of foxes", t: " ")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/splitafter/"},{name:"strings.splitAfterN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string after a specified separator and returns an array of `i` substrings.",example:'strings.splitAfterN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/splitaftern/"},{name:"strings.splitN",args:[{name:"v",desc:"The string value to split.",type:"String"},{name:"t",desc:"The string value that acts as the separator.",type:"String"},{name:"i",desc:"The number of substrings to return.",type:"Integer"}],package:"strings",desc:"Splits a string on a specified separator and returns an array of `i` substrings.",example:'strings.splitN(v: "a flux of foxes", t: " ", i: 2)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/splitn/"},{name:"strings.strlen",args:[{name:"v",desc:"The string value to measure.",type:"String"}],package:"strings",desc:"Returns the length of a string.",example:'strings.strlen(v: "a flux of foxes")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/strlen/"},{name:"strings.substring",args:[{name:"v",desc:"The string value to search.",type:"String"},{name:"start",desc:"The starting index of the substring.",type:"Integer"},{name:"end",desc:"The ending index of the substring.",type:"Integer"}],package:"strings",desc:"Returns a substring based on start and end parameters.",example:'strings.substring(v: "influx", start: 0, end: 3)',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/substring/"},{name:"strings.title",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to title case.",example:"strings.title(v: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/title/"},{name:"strings.toLower",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to lower case.",example:"strings.toLower(v: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/tolower/"},{name:"strings.toTitle",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts all characters in a string to title case.",example:'strings.toTitle(v: "a flux of foxes")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/totitle/"},{name:"strings.toUpper",args:[{name:"v",desc:"The string value to convert.",type:"String"}],package:"strings",desc:"Converts a string to upper case.",example:"strings.toUpper(v: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/toupper/"},{name:"strings.trim",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"cutset",desc:"The leading and trailing characters to trim from the string value. Only characters that match exactly are trimmed.",type:"String"}],package:"strings",desc:"Removes specified leading and trailing characters from a string.",example:'strings.trim(v: r._value, cutset: "_")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/trim/"},{name:"strings.trimLeft",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The leading characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified leading characters from a string.",example:'strings.trimLeft(v: ".abc", cutset: ".")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/trimleft/"},{name:"strings.trimPrefix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"prefix",desc:"The prefix to remove.",type:"String"}],package:"strings",desc:"Removes a prefix from a string. Strings that do not start with the prefix are returned unchanged.",example:'strings.trimPrefix(v: r._value, prefix: "abc_")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/trimprefix/"},{name:"strings.trimRight",args:[{name:"v",desc:"The string to remove characters from.",type:"String"},{name:"cutset",desc:"The trailing characters to remove from the string.",type:"String"}],package:"strings",desc:"Removes specified trailing characters from a string.",example:'strings.trimRight(v: "abc.", cutset: ".")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/trimright/"},{name:"strings.trimSpace",args:[{name:"v",desc:"The string value to trim.",type:"String"}],package:"strings",desc:"Removes leading and trailing spaces from a string.",example:"strings.trimSpace(v: r._value)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/trimspace/"},{name:"strings.trimSuffix",args:[{name:"v",desc:"The string value to trim.",type:"String"},{name:"suffix",desc:"The suffix to remove.",type:"String"}],package:"strings",desc:"Removes a suffix from a string. Strings that do not end with the suffix are returned unchanged.",example:'strings.trimSuffix(v: r._value, suffix: "_123")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/strings/trimsuffix/"},{name:"sum",args:[{name:"column",desc:'The column on which to operate. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Computes the sum of non-null records in the specified column.",example:'sum(column: "_value")',category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/sum/"},{name:"system.time",args:[],package:"system",desc:"Returns the current system time.",example:"system.time()",category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/system/time/"},{name:"tableFind",args:[{name:"fn",desc:"A predicate function for matching keys in a table group key.",type:"Function"}],package:"",desc:"Extracts the first table in a stream of tables whose group key values match a predicate. If no table is found, the function errors.",example:'tableFind(fn: (key) => key._field == "fieldName")',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/stream-table/tablefind/"},{name:"tail",args:[{name:"n",desc:"The maximum number of records to output.",type:"Integer"},{name:"offset",desc:"The number of records to skip at the end of a table before limiting to `n`. Defaults to `0`.",type:"Integer"}],package:"",desc:"Limits each output table to the last `n` records, excluding the offset.",example:"tail(n: 10)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/tail/"},{name:"tasks.lastSuccess",args:[{name:"orTime",desc:"Default time value returned if the task has never successfully run.",type:"Time"}],package:"influxdata/influxdb/tasks",desc:"Returns the time of last successful run of an InfluxDB task or the value of the `orTime` parameter if the task has never successfully run.",example:"tasks.lastSuccess(orTime: 2020-10-01T00:00:00Z)",category:"Miscellaneous",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-tasks/lastsuccess/"},{name:"testing.assertEmpty",args:[],package:"testing",desc:"Tests if an input stream is empty.",example:"testing.assertEmpty()",category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/testing/assertempty/"},{name:"testing.assertEquals",args:[{name:"name",desc:"Unique name given to the assertion.",type:"String"},{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"}],package:"testing",desc:"Tests whether two streams have identical data.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/testing/assertequals/"},{name:"testing.diff",args:[{name:"got",desc:"The stream containing data to test.",type:"Stream of tables"},{name:"want",desc:"The stream that contains the expected data to test against.",type:"Stream of tables"},{name:"epsilon",desc:"How far apart two float values can be, but still considered equal. Defaults to `0.000000001`.",type:"Float"}],package:"testing",desc:"Produces a diff between two streams.",example:"testing.assertEquals(got: got, want: want)",category:"Tests",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/testing/diff/"},{name:"time",args:[{name:"v",desc:"The value to convert.",type:"String, Integer, UInteger"}],package:"",desc:"Converts a single value to a time.",example:"time(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/time/"},{name:"timedMovingAverage",args:[{name:"every",desc:"The frequency of time windows.",type:"Duration"},{name:"period",desc:"The length of each averaged time window.",type:"Duration"},{name:"column",desc:'The column on which to compute the moving average. Defaults to `"_value"`',type:"String"}],package:"",desc:"Calculates the mean of values in a defined time range at a specified frequency.",example:"timedMovingAverage(every: 1d, period: 5d)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/timedmovingaverage/"},{name:"timeShift",args:[{name:"duration",desc:"The amount of time to add to each time value. May be a negative duration.",type:"String"},{name:"columns",desc:'The list of all columns to be shifted. Defaults to `["_start", "_stop", "_time"]`.',type:"Array of Strings"}],package:"",desc:"Adds a fixed duration to time columns. The output table schema is the same as the input table.",example:'timeShift(duration: 10h, columns: ["_start", "_stop", "_time"])',category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/shift/"},{name:"timeWeightedAvg",args:[{name:"unit",desc:"The time duration used when computing the time-weighted average.",type:"Duration"}],package:"",desc:"Computes the time-weighted average of non-null records in a table using linear interpolation.",example:"timeWeightedAvg(unit: 1m)",category:"Aggregates",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/aggregates/timeweightedavg/"},{name:"to",args:[{name:"bucket",desc:"The bucket to which data is written. Mutually exclusive with `bucketID`.",type:"String"},{name:"bucketID",desc:"The ID of the bucket to which data is written. Mutually exclusive with `bucket`.",type:"String"},{name:"org",desc:"The organization name of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `orgID`.",type:"String"},{name:"orgID",desc:"The organization ID of the specified `bucket`. Only required when writing to a remote host. Mutually exclusive with `org`.",type:"String"},{name:"host",desc:"The remote InfluxDB host to which to write. If specified, a `token` is required.",type:"String"},{name:"token",desc:"The authorization token to use when writing to a remote host. Required when a `host` is specified.",type:"String"},{name:"timeColumn",desc:'The time column of the output. Default is `"_time"`.',type:"String"},{name:"tagColumns",desc:"The tag columns of the output. Defaults to all columns with type `string`, excluding all value columns and the `_field` column if present.",type:"Array of Strings"},{name:"fieldFn",desc:"Function that takes a record from the input table and returns an object. For each record from the input table, `fieldFn` returns an object that maps output the field key to the output value. Default is `(r) => ({ [r._field]: r._value })`",type:"Function"}],package:"",desc:"The `to()` function writes data to an InfluxDB v2.0 bucket.",example:'to(bucket: "example-bucket", org: "example-org")',category:"Outputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/outputs/to/"},{name:"toBool",args:[],package:"",desc:"Converts all values in the `_value` column to a boolean.",example:"toBool()",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/tobool"},{name:"toFloat",args:[],package:"",desc:"Converts all values in the `_value` column to a float.",example:"toFloat()",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/tofloat/"},{name:"toInt",args:[],package:"",desc:"Converts all values in the `_value` column to a integer.",example:"toInt()",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/toint/"},{name:"toString",args:[],package:"",desc:"Converts a value to a string.",example:"toString()",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/tostring/"},{name:"toTime",args:[],package:"",desc:"Converts a value to a time.",example:"toTime()",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/totime/"},{name:"toUInt",args:[],package:"",desc:"Converts a value to an unsigned integer.",example:"toUInt()",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/touint/"},{name:"top",args:[{name:"n",desc:"Number of rows to return.",type:"Integer"},{name:"columns",desc:'List of columns by which to sort. Sort precedence is determined by list order (left to right). Default is `["_value"]`.',type:"Array of Strings"}],package:"",desc:"Sorts a table by columns and keeps only the top n rows.",example:'top(n:10, columns: ["_value"])',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/top/"},{name:"tripleEMA",args:[{name:"n",desc:"The number of points to average.",type:"Integer"}],package:"",desc:"Calculates the exponential moving average of values in the `_value` column grouped into `n` number of points, giving more weight to recent data at triple the rate of `exponentialMovingAverage()`.",example:"tripleEMA(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/tripleema/"},{name:"tripleExponentialDerivative",args:[{name:"n",desc:"The number of points to use in the calculation.",type:"Integer"}],package:"",desc:"Calculates a triple exponential derivative (TRIX) of input tables using n points.",example:"tripleExponentialDerivative(n: 5)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/tripleexponentialderivative/"},{name:"truncateTimeColumn",args:[{name:"unit",desc:"The unit of time to truncate to.",type:"Duration"}],package:"",desc:"Truncates all `_time` values to a specified unit.",example:"truncateTimeColumn(unit: 1m)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/truncatetimecolumn/"},{name:"uint",args:[{name:"v",desc:"The value to convert.",type:"String, Integer, Boolean"}],package:"",desc:"Converts a single value to a uinteger.",example:"uint(v: r._value)",category:"Type Conversions",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/type-conversions/uint/"},so,{name:"unique",args:[{name:"column",desc:'The column searched for unique values. Defaults to `"_value"`.',type:"String"}],package:"",desc:"Returns all rows containing unique values in a specified column.",example:'unique(column: "_value")',category:"Selectors",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/selectors/unique/"},{name:"v1.fieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"predicate",desc:"Predicate function that filters field keys. Defaults is (r) => true.",type:"Function"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/v1",desc:"Returns a list of fields in a bucket.",example:'v1.fieldKeys(bucket: "example-bucket")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/measurementfieldkeys/"},{name:"v1.fieldsAsCols",args:[],package:"influxdata/influxdb/v1",desc:"Aligns fields within each input table that have the same timestamp.",example:"v1.fieldsAsCols()",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/fieldsascols/"},{name:"v1.measurementFieldKeys",args:[{name:"bucket",desc:"The bucket to list field keys from.",type:"String"},{name:"measurement",desc:"The measurement to list field keys from.",type:"String"},{name:"start",desc:"The oldest time to include in results. Defaults is `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/v1",desc:"Returns a list of fields in a measurement.",example:'v1.measurementFieldKeys(bucket: "example-bucket", measurement: "example-measurement")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/measurementfieldkeys/"},{name:"v1.measurementTagKeys",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag keys.",type:"String"}],package:"influxdata/influxdb/v1",desc:"Returns a list of tag keys for a specific measurement.",example:'v1.measurementTagKeys(bucket: "example-bucket", measurement: "mem")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/measurementtagkeys/"},{name:"v1.measurementTagValues",args:[{name:"bucket",desc:"The bucket from which to return tag keys for a specific measurement.",type:"String"},{name:"measurement",desc:"The measurement from which to return tag values.",type:"String"},{name:"tag",desc:"The tag from which to return all unique values.",type:"String"}],package:"influxdata/influxdb/v1",desc:"Returns a list of tag values for a specific measurement.",example:'v1.measurementTagValues(bucket: "example-bucket", measurement: "mem", tag: "host")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/measurementtagvalues/"},{name:"v1.measurements",args:[{name:"bucket",desc:"The bucket from which to list measurements.",type:"String"}],package:"influxdata/influxdb/v1",desc:"Returns a list of measurements in a specific bucket.",example:'v1.measurements(bucket: "example-bucket")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/measurements/"},{name:"v1.tagKeys",args:[{name:"bucket",desc:"The bucket from which to list tag keys.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag keys. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/v1",desc:"Returns a list of tag keys for all series that match the predicate.",example:'v1.tagKeys(bucket: "example-bucket")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/tagkeys/"},{name:"v1.tagValues",args:[{name:"bucket",desc:"The bucket from which to list tag values.",type:"String"},{name:"tag",desc:"The tag for which to return unique values.",type:"String"},{name:"predicate",desc:"The predicate function that filters tag values. Defaults to `(r) => true.`",type:"Function"},{name:"start",desc:"Specifies the oldest time to be included in the results. Defaults to `-30d`.",type:"Duration | Time"}],package:"influxdata/influxdb/v1",desc:"Returns a list of unique values for a given tag.",example:'v1.tagValues(bucket: "example-bucket", tag: "example-tag")',category:"Inputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/influxdb-v1/tagvalues/"},{name:"window",args:[{name:"every",desc:"Duration of time between windows. Defaults to `period` value.",type:"Duration"},{name:"period",desc:"Duration of the window. Period is the length of each interval. It can be negative, indicating the start and stop boundaries are reversed. Defaults to `every` value.",type:"Duration"},{name:"offset",desc:"The offset duration relative to the `location` offset. It can be negative, indicating that the offset goes backwards in time. The default aligns the window boundaries with `now`.",type:"Duration"},{name:"intervals",desc:"A function that returns an interval generator, a set of intervals used as windows. See docs for an example.",type:"Function"},{name:"timeColumn",desc:'The column containing time. Defaults to `"_time"`.',type:"String"},{name:"startColumn",desc:'The column containing the window start time. Defaults to `"_start"`.',type:"String"},{name:"stopColumn",desc:'The column containing the window stop time. Defaults to `"_stop"`.',type:"String"},{name:"createEmpty",desc:"Specifies whether empty tables should be created. Defaults to `false`.",type:"Boolean"}],package:"",desc:"Groups records based on a time value. New columns are added to uniquely identify each window. Those columns are added to the group key of the output tables. A single input record will be placed into zero or more output tables, depending on the specific windowing function.",example:"window(every: v.windowPeriod)",category:"Transformations",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/transformations/window/"},{name:"yield",args:[{name:"name",desc:"A unique name for the yielded results.",type:"String"}],package:"",desc:"Indicates the input tables received should be delivered as a result of the query. Yield outputs the input stream unmodified. A query may have multiple results, each identified by the name provided to the `yield()` function.",example:'yield(name: "custom-name")',category:"Outputs",link:"https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/outputs/yield/"}];class oo extends a.PureComponent{constructor(){super(...arguments),this.state={searchTerm:""},this.handleSearch=e=>{this.setState({searchTerm:e})},this.handleClickFunction=e=>{this.props.onInsertFluxFunction(e)}}render(){const{searchTerm:e}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(no,{onSearch:this.handleSearch,resourceName:"Functions"}),s.a.createElement(h.DapperScrollbars,{className:"flux-toolbar--scroll-area"},s.a.createElement("div",{className:"flux-toolbar--list","data-testid":"flux-toolbar--list"},s.a.createElement(Gr,{funcs:ro,searchTerm:e},e=>Object.entries(e).map(([e,t])=>s.a.createElement(Jr,{key:e,category:e,funcs:t,onClickFunction:this.handleClickFunction}))))))}}const io={onSetActiveQueryText:bt.j};var lo=Object(o.c)(e=>{return{activeQueryText:Object(dt.a)(e).text}},io)(Object(p.a)(oo)),co=n(102),uo=n(71);class mo extends a.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{const{variableID:t,onSelectValue:n,onSelect:a,selectedValue:s}=this.props;s!==e&&n(t,e),a&&a()}}render(){const{selectedValue:e,values:t}=this.props,n=0===t.length?h.ComponentStatus.Disabled:h.ComponentStatus.Default,a=Math.floor(9.5*t.reduce((function(e,t){return e.length>t.length?e:t}),"").length),r=Math.max(140,a);return s.a.createElement("div",{className:"variable-dropdown"},s.a.createElement(h.Dropdown,{style:{width:"140px"},className:"variable-dropdown--dropdown",testID:this.props.testID||"variable-dropdown",button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,testID:"variable-dropdown--button",status:n},this.selectedText),menu:n=>s.a.createElement(h.Dropdown.Menu,{style:{width:`${r}px`},onCollapse:n,theme:h.DropdownMenuTheme.Amethyst},t.map(t=>s.a.createElement(h.Dropdown.Item,{key:t,id:t,value:t,onClick:this.handleSelect,selected:t===e,testID:"variable-dropdown--item",className:"variable-dropdown--item"},t)))}))}get selectedText(){const{selectedValue:e,status:t}=this.props;return t===W.RemoteDataState.Loading?"Loading":e||"No Values"}}const po={onSelectValue:dn.j};var ho=Object(o.c)((e,t)=>{const{variableID:n}=t,a=Object(uo.i)(e,n),s=a.selected&&a.selected.length?a.selected[0]:null;return{status:a.status,values:Object(uo.k)(a),selectedValue:s}},po)(mo);const _o={execute:co.d};var go=Object(o.c)(null,_o)(({variableID:e,execute:t})=>{return s.a.createElement("div",{className:"flux-toolbar--popover","data-testid":"flux-toolbar--variable-popover"},s.a.createElement(h.Form.Element,{label:"Value"},s.a.createElement(ho,{variableID:e,onSelect:()=>{t()},testID:"variable--tooltip-dropdown"})))});var fo=({variable:e,onClickVariable:t,testID:n="variable"})=>{const r=Object(a.useRef)(null),o=()=>{const n=Object(y.get)(e,"name","variableName");t(n)};return function(e){return"system"!==e.arguments.type&&(!("constant"===e.arguments.type&&e.arguments.values.length<=1)&&(!("map"===e.arguments.type&&Object.keys(e.arguments.values).length<=1)&&!("query"===e.arguments.type&&(!e.arguments.values.results||e.arguments.values.results.length<=1))))}(e)?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"flux-toolbar--list-item flux-toolbar--variable",ref:r,"data-testid":`variable--${n}`},s.a.createElement("code",{"data-testid":`variable-name--${n}`},e.name),s.a.createElement(h.Button,{testID:`variable--${n}--inject`,text:"Inject",onClick:o,size:h.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:h.ComponentColor.Success})),s.a.createElement(h.Popover,{appearance:h.Appearance.Outline,position:h.PopoverPosition.ToTheLeft,triggerRef:r,showEvent:h.PopoverInteraction.Hover,hideEvent:h.PopoverInteraction.Hover,color:h.ComponentColor.Success,distanceFromTrigger:8,testID:"toolbar-popover",enableDefaultStyles:!1,contents:()=>s.a.createElement(go,{variableID:e.id})})):s.a.createElement("div",{className:"flux-toolbar--list-item flux-toolbar--variable","data-testid":`variable--${n}`},s.a.createElement("code",{"data-testid":`variable-name--${n}`},e.name),s.a.createElement(h.Button,{testID:`variable--${n}--inject`,text:"Inject",onClick:o,size:h.ComponentSize.ExtraSmall,className:"flux-toolbar--injector",color:h.ComponentColor.Success}))};var bo=Object(o.c)(e=>{const t=Object(uo.g)(e);return{variables:Object(uo.l)(t)}})(({variables:e,onClickVariable:t})=>{const n=Object(o.d)(),[r,i]=Object(a.useState)(""),l=e.filter(e=>e.name.includes(r));Object(a.useEffect)(()=>{n(Object(dn.g)())},[n]);let c=s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.EmptyState.Text,null,"No variables match your search"));return Boolean(l.length)&&(c=l.map(e=>s.a.createElement(fo,{variable:e,key:e.id,onClickVariable:t,testID:e.name}))),s.a.createElement(s.a.Fragment,null,s.a.createElement(no,{onSearch:i,resourceName:"Variables"}),s.a.createElement(h.DapperScrollbars,{className:"flux-toolbar--scroll-area"},s.a.createElement("div",{className:"flux-toolbar--list"},c)))});var yo=({onClick:e,name:t,active:n,testID:a="toolbar-tab",id:r})=>{const o=f()("flux-toolbar--tab",{"flux-toolbar--tab__active":n});return s.a.createElement("div",{className:o,onClick:()=>{e(n?"none":r)},title:t,"data-testid":a},s.a.createElement("div",{className:"flux-toolbar--tab-label"},t))};var vo=({activeQueryBuilderTab:e,onInsertFluxFunction:t,onInsertVariable:n})=>{const[r,o]=Object(a.useState)("functions"),i=e=>{o(e)};let l;"functions"===r&&(l=s.a.createElement(lo,{onInsertFluxFunction:t})),"variables"===r&&(l=s.a.createElement(bo,{onClickVariable:n}));const c="functions"===r||"variables"===r;return s.a.createElement("div",{className:"flux-toolbar"},c&&s.a.createElement("div",{className:"flux-toolbar--tab-contents","data-testid":`functions-toolbar-contents--${r}`},l),s.a.createElement("div",{className:"flux-toolbar--tabs"},s.a.createElement(yo,{id:"functions",onClick:i,name:"Functions",active:"functions"===r,testID:"functions-toolbar-tab"}),"customCheckQuery"!==e&&s.a.createElement(yo,{id:"variables",onClick:i,name:"Variables",active:"variables"===r})))};const xo={onSetActiveQueryText:bt.j,onSubmitQueries:co.h};var wo=Object(o.c)(e=>{const t=Object(dt.a)(e).text,{activeTab:n}=Object(dt.c)(e);return{activeQueryText:t,activeTab:n}},xo)(({activeQueryText:e,onSubmitQueries:t,onSetActiveQueryText:n,activeTab:r})=>{const[o,i]=Object(a.useState)(null),l=t=>{const n=o.getPosition(),a=(t=>{const n=e.split("\n");return(n[t]||n[n.length-1]).trim()?t+1:t})(n.lineNumber);let s=a;const[r]=o.getVisibleRanges();let i=a>r.endLineNumber;1===n.lineNumber&&1===n.column&&(i=!0,s=r.endLineNumber+1);let l="";return l=i?`\n  |> ${t.example}`:`  |> ${t.example}\n`,(e=>{switch(e){case ao.name:case so.name:return!0;default:return!1}})(t.name)&&(l=`\n${t.example}\n`),{text:l,range:new window.monaco.Range(s,1,s,1)}};return s.a.createElement("div",{className:"flux-editor"},s.a.createElement("div",{className:"flux-editor--left-panel"},s.a.createElement(kr.a,{script:e,onChangeScript:n,onSubmitScript:t,setEditorInstance:i})),s.a.createElement("div",{className:"flux-editor--right-panel"},s.a.createElement(vo,{activeQueryBuilderTab:r,onInsertFluxFunction:e=>{const{text:t,range:a}=l(e),s=[{range:a,text:t}],r=((e,t)=>{const n=`import "${e}"`;return!(!e||t.includes(n))&&n})(e.package,o.getValue());r&&s.unshift({range:new window.monaco.Range(1,1,1,1),text:`${r}\n`}),o.executeEdits("",s),n(o.getValue())},onInsertVariable:e=>{const t=o.getPosition();o.executeEdits("",[{range:new window.monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:`v.${e}`}]),n(o.getValue())}})))});class Eo extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{files:e}=this.props,t=e.join("\n\n"),n=Hn()().format("YYYY-MM-DD-HH-mm");On(t,`${n} Chronograf Data`,".csv","text/csv")}}render(){return s.a.createElement(h.Button,{titleText:this.titleText,text:"CSV",icon:h.IconFont.Download,onClick:this.handleClick,status:this.buttonStatus})}get buttonStatus(){const{files:e}=this.props;return e?h.ComponentStatus.Default:h.ComponentStatus.Disabled}get titleText(){const{files:e}=this.props;return e?"Download query results as a .CSV file":"Create a query in order to download results as .CSV"}}var ko=Object(o.c)(e=>{const{queryResults:{files:t}}=Object(dt.c)(e);return{files:t}})(Eo),So=n(258);class Co extends a.PureComponent{render(){const{onEditAsFlux:e,onEditWithBuilder:t,onResetAndEditWithBuilder:n}=this.props,{editMode:a,text:r,builderConfig:o}=this.props.activeQuery,i="builder"!==a;let l=s.a.createElement(h.Button,{text:"Script Editor",titleText:"Switch to Script Editor",onClick:e,testID:"switch-to-script-editor"});return i&&(l=s.a.createElement(h.Button,{text:"Query Builder",titleText:"Switch to Query Builder",onClick:t,testID:"switch-to-query-builder"})),i&&Object(So.c)(r,o)===So.a.Required&&(l=s.a.createElement(h.ConfirmationButton,{popoverColor:h.ComponentColor.Danger,popoverAppearance:h.Appearance.Outline,popoverStyle:{width:"400px"},confirmationLabel:"Switching to Query Builder mode will discard any changes you\n                have made using Flux. This cannot be recovered.",confirmationButtonText:"Switch to Builder",text:"Query Builder",onConfirm:n,testID:"switch-query-builder-confirm"})),l}}const To={onEditWithBuilder:bt.c,onResetAndEditWithBuilder:bt.h,onEditAsFlux:bt.b};var Oo,Do=Object(o.c)(e=>{return{activeQuery:Object(dt.a)(e)}},To)(Co);!function(e){e.Option="option",e.Header="header"}(Oo||(Oo={}));var Io=[{id:"auto-refresh-header",milliseconds:1,label:"Refresh",type:Oo.Header},{id:"auto-refresh-paused",milliseconds:0,label:"Paused",type:Oo.Option},{id:"auto-refresh-5s",milliseconds:5e3,label:"5s",type:Oo.Option},{id:"auto-refresh-10s",milliseconds:1e4,label:"10s",type:Oo.Option},{id:"auto-refresh-15s",milliseconds:15e3,label:"15s",type:Oo.Option},{id:"auto-refresh-30s",milliseconds:3e4,label:"30s",type:Oo.Option},{id:"auto-refresh-60s",milliseconds:6e4,label:"60s",type:Oo.Option}];let jo=class extends a.Component{constructor(e){super(e),this.handleDropdownChange=e=>{this.props.onChoose(e.milliseconds)},this.state={isOpen:!1}}render(){return x.i?s.a.createElement("div",{className:this.className},this.manualRefreshButton):s.a.createElement("div",{className:this.className},s.a.createElement(h.Dropdown,{style:{width:`${this.dropdownWidthPixels}px`},button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,status:this.dropdownStatus,icon:this.dropdownIcon},this.selectedOptionLabel),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e,style:{width:"84px"}},Io.map(e=>e.type===Oo.Header?s.a.createElement(h.Dropdown.Divider,{key:e.id,id:e.id,text:e.label}):s.a.createElement(h.Dropdown.Item,{key:e.id,id:e.id,value:e,selected:e.id===this.selectedOptionID,onClick:this.handleDropdownChange},e.label)))}),this.manualRefreshButton)}get dropdownStatus(){return this.isDisabled?h.ComponentStatus.Disabled:h.ComponentStatus.Default}get isDisabled(){const{selected:e}=this.props;return e.status===W.AutoRefreshStatus.Disabled}get isPaused(){const{selected:e}=this.props;return e.status===W.AutoRefreshStatus.Paused||this.isDisabled}get className(){return f()("autorefresh-dropdown",{paused:this.isPaused})}get dropdownIcon(){return this.isPaused?h.IconFont.Pause:h.IconFont.Refresh}get dropdownWidthPixels(){return this.isPaused?50:84}get selectedOptionID(){const{selected:e}=this.props;return Io.find(t=>t.milliseconds===e.interval).id}get selectedOptionLabel(){const{selected:e}=this.props;return Io.find(t=>t.milliseconds===e.interval).label}get manualRefreshButton(){const{showManualRefresh:e,onManualRefresh:t}=this.props;if(e)return this.isPaused?s.a.createElement(h.SquareButton,{icon:h.IconFont.Refresh,onClick:t,className:"autorefresh-dropdown--pause"}):null}};jo.defaultProps={showManualRefresh:!0};var Ro=jo=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],jo);class No{constructor(){this.subscribers=[],this.refresh=()=>{x.i||this.subscribers.forEach(e=>e())}}subscribe(e){this.subscribers=[...this.subscribers,e]}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}poll(e){this.clearInterval(),e&&(this.intervalID=setInterval(this.refresh,e))}stopPolling(){this.clearInterval()}clearInterval(){this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null)}}const Ao=new No;class Po extends a.PureComponent{constructor(){super(...arguments),this.autoRefresher=new No,this.handleChooseAutoRefresh=e=>{const{onSetAutoRefresh:t,autoRefresh:n}=this.props;t(0!==e?Object.assign(Object.assign({},n),{interval:e,status:W.AutoRefreshStatus.Active}):Object.assign(Object.assign({},n),{status:W.AutoRefreshStatus.Paused,interval:e}))},this.executeQueries=()=>{this.props.onExecuteQueries()}}componentDidMount(){const{autoRefresh:e}=this.props;e.status===W.AutoRefreshStatus.Active&&this.autoRefresher.poll(e.interval),this.autoRefresher.subscribe(this.executeQueries)}componentDidUpdate(e){const{autoRefresh:t}=this.props;if(!Object(y.isEqual)(t,e.autoRefresh)){if(t.status===W.AutoRefreshStatus.Active)return void this.autoRefresher.poll(t.interval);this.autoRefresher.stopPolling()}}componentWillUnmount(){this.autoRefresher.unsubscribe(this.executeQueries),this.autoRefresher.stopPolling()}render(){const{autoRefresh:e}=this.props;return s.a.createElement(Ro,{selected:e,onChoose:this.handleChooseAutoRefresh,onManualRefresh:this.executeQueries})}}const Mo={onExecuteQueries:co.d,onSetAutoRefresh:bt.m};var Lo=Object(o.c)(e=>{const{autoRefresh:t}=Object(dt.c)(e);return{autoRefresh:t}},Mo)(Po),Fo=n(1675);n(1286);const qo=e=>Hn()(e,"YYYY-MM-DD HH:mm",!0).isValid()||Hn()(e,"YYYY-MM-DD HH:mm:ss",!0).isValid()||Hn()(e,"YYYY-MM-DD HH:mm:ss.SSS",!0).isValid()||Hn()(e,"YYYY-MM-DD",!0).isValid(),Bo=e=>Hn()(e,"YYYY-MM-DD",!0).isValid()?"YYYY-MM-DD":Hn()(e,"YYYY-MM-DD HH:mm",!0).isValid()?"YYYY-MM-DD HH:mm":Hn()(e,"YYYY-MM-DD HH:mm:ss",!0).isValid()?"YYYY-MM-DD HH:mm:ss":Hn()(e,"YYYY-MM-DD HH:mm:ss.SSS",!0).isValid()?"YYYY-MM-DD HH:mm:ss.SSS":null;class zo extends a.PureComponent{constructor(){super(...arguments),this.inCurrentMonth=!1,this.state={inputValue:null,inputFormat:null},this.dayClassName=e=>{return 1===e.getDate()&&(this.inCurrentMonth=!this.inCurrentMonth),this.inCurrentMonth?"range-picker--day-in-month":"range-picker--day"},this.handleSelectDate=e=>{const{onSelectDate:t}=this.props;t(e.toISOString())},this.handleChangeInput=e=>{const{onSelectDate:t}=this.props,n=e.target.value;if(qo(n))return t(Hn()(n).toISOString()),void this.setState({inputValue:n,inputFormat:Bo(n)});this.setState({inputValue:n,inputFormat:null})}}render(){const{dateTime:e,label:t,maxDate:n,minDate:a}=this.props,r=new Date(e);return s.a.createElement("div",{className:"range-picker--date-picker"},s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:t,errorMessage:this.inputErrorMessage},s.a.createElement(h.Input,{size:h.ComponentSize.Medium,className:"range-picker--input react-datepicker-ignore-onclickoutside",titleText:t,value:this.inputValue,onChange:this.handleChangeInput,status:this.inputStatus,testID:"timerange--input"})),s.a.createElement("div",{className:"range-picker--popper-container"},s.a.createElement(Fo.a,{inline:!0,selected:r,onChange:this.handleSelectDate,startOpen:!0,dateFormat:"yyyy-MM-dd HH:mm",showTimeSelect:!0,timeFormat:"HH:mm",shouldCloseOnSelect:!1,disabledKeyboardNavigation:!0,calendarClassName:"range-picker--calendar",dayClassName:this.dayClassName,timeIntervals:60,fixedHeight:!0,minDate:new Date(a),maxDate:new Date(n)})))))}get inputValue(){const{dateTime:e}=this.props,{inputValue:t,inputFormat:n}=this.state;return this.isInputValueInvalid?t:n?Hn()(e).format(n):Hn()(e).format("YYYY-MM-DD HH:mm:ss.SSS")}get isInputValueInvalid(){const{inputValue:e}=this.state;return null!==e&&!qo(e)}get inputErrorMessage(){return this.isInputValueInvalid?"Format must be YYYY-MM-DD [HH:mm:ss.SSS]":"  "}get inputStatus(){return this.isInputValueInvalid?h.ComponentStatus.Error:h.ComponentStatus.Default}}var Uo=n(351);class Ho extends a.PureComponent{constructor(e){super(e),this.handleSetTimeRange=()=>{const{onSetTimeRange:e}=this.props,{upper:t,lower:n}=this.state;e({lower:n,upper:t,type:"custom"})},this.handleSelectLower=e=>{this.setState({lower:e})},this.handleSelectUpper=e=>{this.setState({upper:e})};const{timeRange:{lower:t,upper:n}}=e;this.state={lower:t,upper:n}}render(){const{onClose:e}=this.props,{upper:t,lower:n}=this.state;return s.a.createElement(Uo.a,{onClickOutside:e},s.a.createElement("div",{className:"range-picker react-datepicker-ignore-onclickoutside",style:this.stylePosition},s.a.createElement("button",{className:"range-picker--dismiss",onClick:e}),s.a.createElement("div",{className:"range-picker--date-pickers"},s.a.createElement(zo,{dateTime:n,onSelectDate:this.handleSelectLower,label:"Start",maxDate:t}),s.a.createElement(zo,{dateTime:t,onSelectDate:this.handleSelectUpper,label:"Stop",minDate:n})),s.a.createElement(h.Button,{className:"range-picker--submit",color:h.ComponentColor.Primary,size:h.ComponentSize.Small,onClick:this.handleSetTimeRange,text:"Apply Time Range",testID:"daterange--apply-btn"})))}get stylePosition(){const{position:e}=this.props;return e?Object.entries(e).reduce((e,[t,n])=>{const a=Object.assign({},e);return isNaN(+n)?a[t]=n:a[t]=`${n}px`,a},{}):{top:`${window.innerHeight/2}px`,left:`${window.innerWidth/2}px`,transform:"translate(-50%, -50%)"}}}var Go=Ho,Vo=n(139);class $o extends a.PureComponent{constructor(e){super(e),this.dropdownRef=Object(a.createRef)(),this.handleApplyTimeRange=e=>{this.props.onSetTimeRange(e),this.handleHideDatePicker()},this.handleHideDatePicker=()=>{this.setState({isDatePickerOpen:!1})},this.handleClickCustomTimeRange=()=>{this.setState({isDatePickerOpen:!0})},this.handleClickDropdownItem=e=>{const{onSetTimeRange:t}=this.props;t(Vo.c.find(t=>t.label===e))},this.state={isDatePickerOpen:!1}}render(){const e=this.timeRange,t=Object(mt.d)(e);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Popover,{appearance:h.Appearance.Outline,position:h.PopoverPosition.ToTheLeft,triggerRef:this.dropdownRef,visible:this.state.isDatePickerOpen,showEvent:h.PopoverInteraction.None,hideEvent:h.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>s.a.createElement(Go,{timeRange:e,onSetTimeRange:this.handleApplyTimeRange,onClose:this.handleHideDatePicker,position:this.state.isDatePickerOpen?{position:"relative"}:void 0})}),s.a.createElement("div",{ref:this.dropdownRef},s.a.createElement(h.Dropdown,{style:{width:`${this.dropdownWidth}px`},testID:"timerange-dropdown",button:(e,n)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:n},t),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e,style:{width:`${this.dropdownWidth+50}px`}},s.a.createElement(h.Dropdown.Divider,{key:"Time Range",text:"Time Range",id:"Time Range"}),s.a.createElement(h.Dropdown.Item,{key:Vo.a,value:Vo.a,id:Vo.a,testID:"dropdown-item-customtimerange",selected:this.state.isDatePickerOpen,onClick:this.handleClickCustomTimeRange},Vo.a),Vo.c.map(({label:e})=>{const n=e.toLowerCase().replace(/\s/g,"");return s.a.createElement(h.Dropdown.Item,{key:e,value:e,id:e,testID:`dropdown-item-${n}`,selected:e===t,onClick:this.handleClickDropdownItem},e)}))})))}get dropdownWidth(){return"custom"===this.props.timeRange.type?250:100}get timeRange(){const{timeRange:e}=this.props,{isDatePickerOpen:t}=this.state;return t&&"custom"!==e.type?Object(mt.b)(e):"duration"===e.type?Object(mt.b)(e):e}}var Wo=$o;let Ko=class extends a.Component{constructor(){super(...arguments),this.handleChange=e=>{const{onChangeSearchTerm:t}=this.props;t&&t(e.target.value)}}render(){const{searchTerm:e,searchPlaceholder:t,buttonSize:n,buttonColor:a,buttonStatus:r,buttonTestID:o,selectedOption:i,testID:l,className:c,style:u,menuTheme:m,menuTestID:d}=this.props;return s.a.createElement(h.Dropdown,{testID:l,className:c,style:u,button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,testID:o,color:a,size:n,status:r},r===h.ComponentStatus.Loading?"Loading...":i),menu:a=>s.a.createElement(h.Dropdown.Menu,{onCollapse:a,theme:m,testID:d},s.a.createElement("div",{className:"searchable-dropdown--input-container"},s.a.createElement(h.Input,{onChange:this.handleChange,value:e,placeholder:t,size:n,autoFocus:!0})),this.filteredMenuOptions)})}get filteredMenuOptions(){const{searchTerm:e,options:t,emptyText:n,selectedOption:a,onSelect:r}=this.props,o=t.filter(t=>`${t}`.toLocaleLowerCase().includes(e.toLocaleLowerCase()));return o.length?o.map(e=>s.a.createElement(h.Dropdown.Item,{key:e,value:e,selected:e===a,onClick:r,testID:`searchable-dropdown--item ${e}`},e)):s.a.createElement("div",{className:"searchable-dropdown--empty"},n)}};Ko.defaultProps={buttonSize:h.ComponentSize.Small,buttonColor:h.ComponentColor.Default,buttonStatus:h.ComponentStatus.Default,menuTheme:h.DropdownMenuTheme.Onyx,testID:"searchable-dropdown",buttonTestID:"searchable-dropdown--button",menuTestID:"searchable-dropdown--menu"};var Qo=Ko=Object(m.a)([p.a],Ko);var Yo=({text:e,className:t})=>s.a.createElement("div",{className:`waiting-text ${t||""}`},e);var Xo=class{constructor(){this.timers={}}call(e,t){const n=this.timers[e];n&&clearTimeout(n),this.timers[e]=setTimeout(e,t)}cancel(e){const t=this.timers[e];t&&clearTimeout(t)}cancelAll(){const e=Object.values(this.timers);for(const t of e)clearTimeout(t)}};const Zo=e=>e===W.RemoteDataState.NotStarted?ss.e.Disabled:e===W.RemoteDataState.Loading?ss.e.Loading:e===W.RemoteDataState.Error?ss.e.Error:ss.e.Default,Jo=["_start","_stop","_time"];let ei=class extends a.PureComponent{constructor(){super(...arguments),this.debouncer=new Xo,this.handleSelectTag=e=>{const{index:t,onSelectTag:n}=this.props;n(t,e)},this.handleSelectValue=e=>{const{index:t,onSelectValue:n}=this.props;n(t,e)},this.handleRemoveTagSelector=()=>{const{index:e,onRemoveTagSelector:t}=this.props;t(e)},this.handleKeysSearch=e=>{const{onSetKeysSearchTerm:t,index:n}=this.props;t(n,e),this.debouncer.call(this.emitKeysSearch,500)},this.emitKeysSearch=()=>{const{index:e,onSearchKeys:t}=this.props;t(e)},this.handleValuesSearch=e=>{const{onSetValuesSearchTerm:t,index:n}=this.props,{value:a}=e.target;t(n,a),this.debouncer.call(this.emitValuesSearch,500)},this.emitValuesSearch=()=>{const{index:e,onSearchValues:t}=this.props;t(e)},this.handleAggregateFunctionSelect=e=>{const{index:t,onSetBuilderAggregateFunctionType:n}=this.props;n(e,t)}}renderAggregateFunctionType(e){return"group"===e?"Group":"Filter"}render(){return s.a.createElement(Ve,null,this.header,this.body)}get header(){const{aggregateFunctionType:e,index:t,isInCheckOverlay:n}=this.props;return s.a.createElement(Ve.DropdownHeader,{options:["filter","group"],selectedOption:this.renderAggregateFunctionType(e),onDelete:0!==t&&this.handleRemoveTagSelector,onSelect:this.handleAggregateFunctionSelect,isInCheckOverlay:n})}get body(){const{aggregateFunctionType:e,index:t,keys:n,keysStatus:a,selectedKey:r,emptyText:o,valuesSearchTerm:i,keysSearchTerm:l}=this.props;if(a===W.RemoteDataState.NotStarted)return s.a.createElement(Ve.Empty,null,o);if(a===W.RemoteDataState.Error)return s.a.createElement(Ve.Empty,null,"Failed to load tag keys");if(a===W.RemoteDataState.Done&&!n.length)return s.a.createElement(Ve.Empty,{testID:"empty-tag-keys"},"No tag keys found ",s.a.createElement("small",null,"in the current time range"));const c="group"===e?"Search group column values":`Search ${r} tag values`;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Menu,{testID:`tag-selector--container ${t}`},"group"!==e&&s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Small},s.a.createElement(Qo,{searchTerm:l,emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:r,onSelect:this.handleSelectTag,buttonStatus:Zo(a),onChangeSearchTerm:this.handleKeysSearch,testID:"tag-selector--dropdown",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:n}),this.selectedCounter),s.a.createElement(h.Input,{value:i,placeholder:c,className:"tag-selector--search",onChange:this.handleValuesSearch})),this.values)}get values(){const{selectedKey:e,values:t,valuesStatus:n,selectedValues:a}=this.props;return n===W.RemoteDataState.Error?s.a.createElement(Ve.Empty,null,`Failed to load tag values for ${e}`):n===W.RemoteDataState.Loading||n===W.RemoteDataState.NotStarted?s.a.createElement(Ve.Empty,null,s.a.createElement(Yo,{text:"Loading tag values"})):n!==W.RemoteDataState.Done||t.length?s.a.createElement($e,{items:t,selectedItems:a,onSelectItem:this.handleSelectValue,multiSelect:!this.props.isInCheckOverlay}):s.a.createElement(Ve.Empty,null,"No values found ",s.a.createElement("small",null,"in the current time range"))}get selectedCounter(){const{selectedValues:e}=this.props,t=1===e.length?"":"s";if(e.length>0)return s.a.createElement("div",{className:"tag-selector--count",title:`${e.length} value${t} selected`},e.length)}};ei=Object(m.a)([p.a],ei);const ti={onRemoveTagSelector:V.e,onSearchKeys:V.f,onSearchValues:V.g,onSelectTag:V.j,onSelectValue:V.k,onSetBuilderAggregateFunctionType:V.m,onSetKeysSearchTerm:V.p,onSetValuesSearchTerm:V.q};var ni=Object(o.c)((e,t)=>{const n=Object(dt.c)(e).queryBuilder,{keys:a,keysSearchTerm:s,keysStatus:r,valuesSearchTerm:o,valuesStatus:i}=n.tags[t.index],l=Object(dt.a)(e).builderConfig.tags;let c="";const u=l[t.index-1];u&&u.key&&(c=`Select a ${u.key} value first`);const{key:m,values:d,aggregateFunctionType:p}=l[t.index];let{values:h}=n.tags[t.index];return"group"===p&&(h=[...Jo,...l.map(e=>e.key)]),{aggregateFunctionType:p,emptyText:c,keys:a,keysStatus:r,selectedKey:m,values:h,valuesStatus:i,selectedValues:d,valuesSearchTerm:o,keysSearchTerm:s,isInCheckOverlay:Object(dt.h)(e)}},ti)(ei);const ai={onSetAggregateFillValues:V.l};var si=Object(o.c)(e=>{const{builderConfig:t}=Object(dt.a)(e),{aggregateWindow:{fillValues:n}}=t;return{isInCheckOverlay:Object(dt.h)(e),fillValues:n}},ai)(({fillValues:e,onSetAggregateFillValues:t,isInCheckOverlay:n})=>{return n?s.a.createElement(s.a.Fragment,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Toggle,{id:"isFillValues",type:h.InputToggleType.Checkbox,checked:e,onChange:()=>{t(!e)},color:h.ComponentColor.Primary,size:h.ComponentSize.ExtraSmall}),s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(h.InputLabel,{className:"fill-values-checkbox--label"},"Fill missing values")),s.a.createElement(h.QuestionMarkTooltip,{diameter:16,tooltipContents:"For windows without data, create an empty window and fill it with a null aggregate value",tooltipStyle:{fontSize:"13px",padding:"8px"}}))});var ri=({suggestions:e,onSubmit:t,value:n,placeholder:r,status:o,submitInvalid:i=!0,showDivider:l=!0,testID:c="duration-input",validFunction:u=(e=>!1)})=>{const[m,d]=Object(a.useState)(!1),[p,_]=Object(a.useState)(n);Object(a.useEffect)(()=>{_(n)},[n,_]);const g=e=>{_(e),t(e),d(!1)},f=e=>Object(mt.e)(e)||u(e);let b=o||h.ComponentStatus.Default;b!==h.ComponentStatus.Default||f(p)||(b=h.ComponentStatus.Error);return s.a.createElement("div",{className:"duration-input"},s.a.createElement(h.ClickOutside,{onClickOutside:e=>{e.target.classList.contains("duration-input--suggestion")||e.target.parentNode.classList.contains("duration-input--suggestion")||d(!1)}},s.a.createElement(h.Input,{placeholder:r,value:p,status:b,onChange:e=>(e=>{_(e),(i||!i&&f(e))&&t(e)})(e.target.value),onFocus:()=>d(!0),testID:c})),m&&s.a.createElement(h.DropdownMenu,{className:"duration-input--menu",noScrollX:!0},l&&s.a.createElement(h.DropdownDivider,{text:"Examples"}),e.map(e=>s.a.createElement(h.DropdownItem,{key:e,value:e,className:"duration-input--suggestion",onClick:g},e))))},oi=n(69);const ii={onSetWindowPeriodSelectionMode:V.r,onSelectAggregateWindow:V.h};var li=Object(o.c)(e=>{const{builderConfig:t}=Object(dt.a)(e),{aggregateWindow:{period:n}}=t,a=e.alertBuilder.every;return{period:n,isInCheckOverlay:Object(dt.h)(e),autoWindowPeriod:Object(dt.o)(e),everyWindowPeriod:a}},ii)(({period:e,autoWindowPeriod:t,everyWindowPeriod:n,onSetWindowPeriodSelectionMode:a,onSelectAggregateWindow:r,isInCheckOverlay:o})=>{const i=o||e===oi.a;let l=e;e&&!i||(l=t?o?`${oi.a} (${n})`:`${oi.a} (${t})`:oi.a);const c=i?h.ComponentStatus.Disabled:h.ComponentStatus.Default;return o?s.a.createElement(ri,{onSubmit:r,value:l,suggestions:oi.e,submitInvalid:!1,status:c}):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit,size:h.ComponentSize.ExtraSmall},s.a.createElement(h.SelectGroup.Option,{name:"custom",id:"custom-window-period",testID:"custom-window-period",active:!i,value:"custom",onClick:a,titleText:"Custom"},"Custom"),s.a.createElement(h.SelectGroup.Option,{name:"auto",id:"auto-window-period",testID:"auto-window-period",active:i,value:"auto",onClick:a,titleText:"Auto"},"Auto")),s.a.createElement(ri,{onSubmit:r,value:l,suggestions:oi.e,submitInvalid:!1,status:c}))}),ci=n(766);const ui={onMultiSelectBuilderFunction:V.c,onSingleSelectBuilderFunction:V.s,onSetFunctions:V.o,onSetIsAutoFunction:ci.b};var mi=Object(o.c)(e=>{const{builderConfig:t}=Object(dt.a)(e),{functions:n}=t;return{selectedFunctions:n.map(e=>e.name),isInCheckOverlay:Object(dt.h)(e)}},ui)(({onSetFunctions:e,selectedFunctions:t,onSingleSelectBuilderFunction:n,onMultiSelectBuilderFunction:r,onSetIsAutoFunction:o,isInCheckOverlay:i})=>{const l=oi.b.map(e=>e.name),[c,u]=Object(a.useState)(!i&&1===t.length&&l.includes(t[0])),m=c?l:oi.f.map(e=>e.name),d=e=>{u(e),o(e)},p=n=>{if("custom"===n)return void d(!1);const a=t.filter(e=>l.includes(e));0===a.length?e([l[0]]):a.length>1?e([a[0]]):e(a),d(!0)},_=c?n:r;return i?s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Header,{title:"Aggregate Function",className:"aggregation-selector-header"}),s.a.createElement($e,{items:m,selectedItems:t,onSelectItem:n,multiSelect:!1})):s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Header,{title:"Aggregate Function",className:"aggregation-selector-header"}),s.a.createElement(Ve.Menu,{className:"aggregation-selector-menu"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.ExtraSmall,alignItems:h.AlignItems.Stretch},s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit,size:h.ComponentSize.ExtraSmall},s.a.createElement(h.SelectGroup.Option,{name:"custom",id:"custom-function",testID:"custom-function",active:!c,value:"custom",onClick:p,titleText:"Custom"},"Custom"),s.a.createElement(h.SelectGroup.Option,{name:"auto",id:"auto-function",testID:"auto-function",active:c,value:"auto",onClick:p,titleText:"Auto"},"Auto")))),s.a.createElement($e,{items:m,selectedItems:t,onSelectItem:_,multiSelect:!c}))});var di=()=>s.a.createElement(Ve,{className:"aggregation-selector",testID:"aggregation-selector"},s.a.createElement(Ve.Header,{title:"Window Period",className:"aggregation-selector-header"}),s.a.createElement(Ve.Body,{scrollable:!1,addPadding:!1,className:"aggregation-selector-body"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,margin:h.ComponentSize.ExtraSmall,stretchToFitWidth:!0},s.a.createElement(li,null),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.ExtraSmall,stretchToFitWidth:!0},s.a.createElement(si,null)))),s.a.createElement(mi,null));class pi extends a.PureComponent{render(){const{onClick:e}=this.props;return s.a.createElement(h.SquareButton,{className:"query-builder--add-card-button",onClick:e,icon:h.IconFont.Plus})}}const hi={createBucket:rt.b};var _i=Object(o.c)(e=>{return{org:Object(S.a)(e),isRetentionLimitEnforced:!!Object($t.d)(e.cloud.limits),limitStatus:Object($t.b)(e.cloud.limits)}},hi)(({org:e,createBucket:t,isRetentionLimitEnforced:n,limitStatus:r})=>{const i=Object(o.d)(),l=Object(a.useRef)(null),[c,u]=Object(a.useReducer)(ea,Jn(n,e.id));Object(a.useEffect)(()=>{i(Object(xt.c)())},[i]);let m="Click to create a bucket",d=!1;r===xt.b.EXCEEDED&&(m="This account has the maximum number of buckets allowed",d=!0);const p=c.retentionRules.find(e=>"expire"===e.type),_=p?p.everySeconds:3600,g=e=>{u("expire"===e?{type:"updateRetentionRules",payload:Zn}:{type:"updateRetentionRules",payload:[]}),u({type:"updateRuleType",payload:e})},f=e=>{u({type:"updateRetentionRules",payload:[{type:"expire",everySeconds:e}]})},b=e=>n=>{n.preventDefault(),t(c),e()},y=e=>{const t=e.target.value;"name"===e.target.name&&u({type:"updateName",payload:t})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.List.Item,{className:"selector-list--item",testID:"selector-list add-bucket",disabled:d,title:m,ref:l,onClick:()=>{},wrapText:!1,size:h.ComponentSize.ExtraSmall},"+ Create Bucket"),s.a.createElement(h.Popover,{triggerRef:l,appearance:h.Appearance.Outline,color:h.ComponentColor.Primary,position:h.PopoverPosition.Above,showEvent:h.PopoverInteraction.Click,hideEvent:h.PopoverInteraction.Click,testID:"create-bucket-popover",contents:e=>s.a.createElement(Xn,{name:c.name,buttonText:"Create",disableRenaming:!1,ruleType:c.ruleType,onClose:e,onSubmit:b(e),onChangeInput:y,retentionSeconds:_,onChangeRuleType:g,onChangeRetentionRule:f})}))});const gi=({list:e,selected:t,onSelect:n})=>e.length?s.a.createElement($e,{items:e,selectedItems:[t],onSelectItem:n,multiSelect:!1,testID:"buckets-list"},s.a.createElement(_i,null)):s.a.createElement(Ve.Empty,null,"No buckets matched your search"),fi={onSelectBucket:V.i};var bi=Object(o.c)(e=>{const t=Object(ve.a)(e,W.ResourceType.Buckets).map(e=>e.name||""),n=Object(ve.e)(e,W.ResourceType.Buckets);return{selectedBucket:Object(dt.a)(e).builderConfig.buckets[0]||t[0],bucketNames:t,bucketsStatus:n}},fi)(({selectedBucket:e,bucketNames:t,bucketsStatus:n,onSelectBucket:r})=>{const[o,i]=Object(a.useState)(""),l=t.filter((e=>t=>t.toLocaleLowerCase().includes(e.toLocaleLowerCase()))(o));return n===W.RemoteDataState.Error?s.a.createElement(Ve.Empty,null,"Failed to load buckets"):n===W.RemoteDataState.Loading?s.a.createElement(Ve.Empty,null,s.a.createElement(Yo,{text:"Loading buckets"})):n!==W.RemoteDataState.Done||t.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(Ve.Menu,null,s.a.createElement(h.Input,{value:o,placeholder:"Search for a bucket",className:"tag-selector--search",onChange:e=>i(e.target.value)})),s.a.createElement(gi,{list:l,selected:e,onSelect:e=>{r(e,!0)}})):s.a.createElement(Ve.Empty,null,"No buckets found")});class yi extends a.PureComponent{constructor(e){super(e),Object(A.a)("TimeMachineQueryBuilder load start")}componentDidMount(){this.props.onLoadBuckets()}render(){const{tagFiltersLength:e}=this.props;return s.a.createElement("div",{className:"query-builder","data-testid":"query-builder"},s.a.createElement("div",{className:"query-builder--cards"},s.a.createElement(h.DapperScrollbars,{noScrollY:!0},s.a.createElement("div",{className:"builder-card--list"},s.a.createElement(Ve,{testID:"bucket-selector"},s.a.createElement(Ve.Header,{title:"From"}),s.a.createElement(bi,null)),e&&Object(y.range)(e).map(e=>s.a.createElement(ni,{key:e,index:e})),this.addButton)),this.functionSelector))}get functionSelector(){const{checkType:e}=this.props;if("deadman"!==e)return s.a.createElement(di,null)}get addButton(){const{moreTags:e,onAddTagSelector:t}=this.props;return e?s.a.createElement(pi,{onClick:t,collapsible:!1}):null}}const vi={onLoadBuckets:V.b,onAddTagSelector:V.a};var xi=Object(o.c)(e=>{const t=Object(dt.a)(e).builderConfig.tags.length,{queryBuilder:{tags:n}}=Object(dt.c)(e),{alertBuilder:{type:a}}=e;if(!n.length)return{tagFiltersLength:t,moreTags:!1,checkType:a};const{keys:s,keysStatus:r}=n[n.length-1];return{tagFiltersLength:t,moreTags:!(0===s.length&&r===W.RemoteDataState.Done),checkType:a}},vi)(yi);const wi=2e3;class Ei extends a.PureComponent{constructor(){super(...arguments),this.state={timer:!1},this.handleClick=()=>{Object(A.a)("SubmitQueryButton click"),this.props.onSubmit()},this.handleCancelClick=()=>{this.props.onNotify&&this.props.onNotify(Object(me.cc)()),this.props.queryID?Object(co.b)(this.props.queryID):Object(co.a)()}}componentDidUpdate(e){this.props.queryStatus!==e.queryStatus&&this.props.queryStatus===W.RemoteDataState.Loading&&(this.timer=setTimeout(()=>{this.setState({timer:!0}),delete this.timer},wi)),this.props.queryStatus!==e.queryStatus&&e.queryStatus===W.RemoteDataState.Loading&&(this.timer&&(clearTimeout(this.timer),delete this.timer),this.setState({timer:!1}))}componentWillUnmount(){Object(co.a)()}render(){const{text:e,queryStatus:t,icon:n,testID:a,className:r}=this.props;return t===W.RemoteDataState.Loading&&this.state.timer?s.a.createElement(h.Button,{text:"Cancel",className:r,size:h.ComponentSize.Small,status:h.ComponentStatus.Default,onClick:this.handleCancelClick,color:h.ComponentColor.Danger,testID:a,style:{minWidth:"100px"}}):s.a.createElement(h.Button,{text:e,className:r,icon:n,size:h.ComponentSize.Small,status:this.buttonStatus,onClick:this.handleClick,color:h.ComponentColor.Primary,testID:a,style:{minWidth:"100px"}})}get buttonStatus(){const{queryStatus:e,submitButtonDisabled:t}=this.props;return t?h.ComponentStatus.Disabled:e===W.RemoteDataState.Loading?h.ComponentStatus.Loading:h.ComponentStatus.Default}}Ei.defaultProps={text:"Submit",testID:"time-machine-submit-button"};const ki={onSubmit:co.h,onNotify:$.c};var Si=Object(o.c)(e=>{const t=Object(dt.c)(e).queryResults.status,n=Object(dt.a)(e).text,a=""===n,s=Object(uo.g)(e),r=Object(S.a)(e).id;return{queryID:Object(co.e)(n,s,r),submitButtonDisabled:a,queryStatus:t}},ki)(Ei);class Ci extends a.PureComponent{constructor(){super(...arguments),this.handleToggleIsViewingRawData=()=>{const{isViewingRawData:e,onSetIsViewingRawData:t}=this.props;t(!e)}}render(){const{isViewingRawData:e}=this.props;return s.a.createElement("div",{className:"view-raw-data-toggle"},s.a.createElement(h.InputLabel,null,"View Raw Data"),s.a.createElement(h.SlideToggle,{active:e,onChange:this.handleToggleIsViewingRawData,size:h.ComponentSize.ExtraSmall,testID:"raw-data--toggle"}))}}const Ti={onSetIsViewingRawData:bt.A};var Oi=Object(o.c)(e=>{const{isViewingRawData:t}=Object(dt.c)(e);return{isViewingRawData:t}},Ti)(Ci);class Di extends a.PureComponent{constructor(){super(...arguments),this.state={newName:null},this.handleDoubleClick=()=>{this.props.isActive&&(this.props.onEdit(),this.setState({newName:this.props.name||""}))},this.handleChange=e=>{this.setState({newName:e.target.value})},this.handleEnterKey=e=>{switch(e.key){case"Enter":return this.handleUpdate();case"Escape":return this.props.onCancelEdit()}}}render(){const{queryIndex:e,name:t,isEditing:n,onCancelEdit:a}=this.props,r=t||`Query ${e+1}`;return n?s.a.createElement(h.Input,{type:h.InputType.Text,value:this.state.newName||"",onChange:this.handleChange,onBlur:a,onKeyUp:this.handleEnterKey,size:h.ComponentSize.ExtraSmall,autoFocus:!0,testID:"edit-query-name"}):s.a.createElement("div",{className:"query-tab--name",onDoubleClick:this.handleDoubleClick,title:r},r)}handleUpdate(){const{onUpdate:e,onCancelEdit:t}=this.props,{newName:n}=this.state;null!==n&&(e(n),t()),this.setState({newName:null})}}var Ii=Di;var ji=Object(o.c)(e=>{const{status:t,fetchDuration:n}=Object(dt.c)(e).queryResults;return{status:t,duration:n}})(({duration:e,status:t})=>{const n=f()("query-tab--timer",{"query-tab--timer__visible":t===W.RemoteDataState.Done});return s.a.createElement("div",{className:n},`(${(e/1e3).toFixed(2)}s)`)});class Ri extends a.PureComponent{constructor(){super(...arguments),this.triggerRef=Object(a.createRef)(),this.state={isEditingName:!1},this.handleEditActiveQueryName=()=>{this.handleSetActive(),this.handleEditName()},this.handleUpdateName=e=>{this.props.onUpdateActiveQueryName(e)},this.handleSetActive=()=>{const{queryIndex:e,activeQueryIndex:t,onSetActiveQueryIndex:n}=this.props;e!==t&&n(e)},this.handleCancelEditName=()=>{this.setState({isEditingName:!1})},this.handleEditName=()=>{this.setState({isEditingName:!0})},this.handleRemove=()=>{const{queryIndex:e,onRemoveQuery:t}=this.props;t(e)},this.handleToggleView=e=>{const{queryIndex:t,onToggleQuery:n}=this.props;e.stopPropagation(),n(t)}}static getDerivedStateFromProps(e){return e.queryIndex!==e.activeQueryIndex?{isEditingName:!1}:null}render(){const{queryIndex:e,activeQueryIndex:t,query:n}=this.props,a=e===t,r=f()("query-tab",{"query-tab__active":e===t,"query-tab__hidden":n.hidden});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r,onClick:this.handleSetActive,ref:this.triggerRef},this.showHideButton,s.a.createElement(Ii,{isActive:a,name:n.name,queryIndex:e,isEditing:this.state.isEditingName,onUpdate:this.handleUpdateName,onEdit:this.handleEditName,onCancelEdit:this.handleCancelEditName}),this.queriesTimer,this.removeButton),s.a.createElement(h.RightClick,{triggerRef:this.triggerRef,color:h.ComponentColor.Primary},s.a.createElement(h.RightClick.MenuItem,{onClick:this.handleEditActiveQueryName,testID:"right-click--edit-tab"},"Edit"),s.a.createElement(h.RightClick.MenuItem,{onClick:this.handleRemove,disabled:!this.isRemovable,testID:"right-click--remove-tab"},"Remove")))}get queriesTimer(){const{queryIndex:e,activeQueryIndex:t}=this.props;if(e===t)return s.a.createElement(ji,null)}get removeButton(){return this.state.isEditingName||!this.isRemovable?null:s.a.createElement("div",{className:"query-tab--close",onClick:this.handleRemove},s.a.createElement(h.Icon,{glyph:h.IconFont.Remove}))}get showHideButton(){const{query:e}=this.props;if(this.state.isEditingName||!this.isRemovable)return null;const t=e.hidden?h.IconFont.EyeClosed:h.IconFont.EyeOpen;return s.a.createElement("div",{className:"query-tab--hide",onClick:this.handleToggleView},s.a.createElement(h.Icon,{glyph:t}))}get isRemovable(){return this.props.queryCount>1}}const Ni={onSetActiveQueryIndex:bt.i,onRemoveQuery:bt.g,onUpdateActiveQueryName:bt.eb,onToggleQuery:bt.cb};var Ai=Object(o.c)(e=>{const{activeQueryIndex:t,draftQueries:n}=Object(dt.c)(e);return{activeQueryIndex:t,queryCount:n.length}},Ni)(Ri);const Pi={onAddQuery:bt.a};var Mi=Object(o.c)(e=>{const{draftQueries:t}=Object(dt.c)(e);return{draftQueries:t,isInCheckOverlay:Object(dt.h)(e)}},Pi)(({draftQueries:e,isInCheckOverlay:t,onAddQuery:n})=>s.a.createElement("div",{className:"time-machine-queries--tabs"},e.map((e,t)=>s.a.createElement(Ai,{key:t,queryIndex:t,query:e})),!t&&s.a.createElement(h.SquareButton,{className:"time-machine-queries--new",icon:h.IconFont.PlusSkinny,size:h.ComponentSize.Small,color:h.ComponentColor.Default,onClick:n})));var Li=()=>s.a.createElement(h.QuestionMarkTooltip,{testID:"editor-shortcuts",tooltipContents:s.a.createElement("div",{className:"editor-shortcuts"},s.a.createElement("h5",null,"Shortcuts"),s.a.createElement("dl",{className:"editor-shortcuts--body"},s.a.createElement("dt",null,"[Ctl or ⌘] + /:"),s.a.createElement("dd",null,"Toggle comment for line or lines"),s.a.createElement("dt",null,"[Ctl or ⌘] + [Enter]:"),s.a.createElement("dd",null,"Submit Script")))}),Fi=n(112);class qi extends a.PureComponent{constructor(){super(...arguments),this.handleSetTimeRange=e=>{const{autoRefresh:t,location:{pathname:n},onEnableUpdatedTimeRangeInVEO:a,onSetAutoRefresh:s,onSetTimeRange:r,match:{params:{cellID:o,dashboardID:i,orgID:l}}}=this.props;if(n===`orgs/${l}/dashboards/${i}/cell/${o}/edit`&&a(),r(e),"custom"!==e.type){if(t.status===W.AutoRefreshStatus.Disabled){if(0===t.interval)return void s(Object.assign(Object.assign({},t),{status:W.AutoRefreshStatus.Paused}));s(Object.assign(Object.assign({},t),{status:W.AutoRefreshStatus.Active}))}}else s(Object.assign(Object.assign({},t),{status:W.AutoRefreshStatus.Disabled}))}}render(){const{timeRange:e,isInCheckOverlay:t,activeQuery:n}=this.props;return s.a.createElement("div",{className:"time-machine-queries"},s.a.createElement("div",{className:"time-machine-queries--controls"},s.a.createElement(Mi,null),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.FlexEnd,margin:h.ComponentSize.Small,className:"time-machine-queries--buttons"},"advanced"===n.editMode&&s.a.createElement(Li,null),s.a.createElement(Oi,null),!t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ko,null),s.a.createElement(Lo,null),s.a.createElement(Wo,{timeRange:e,onSetTimeRange:this.handleSetTimeRange}),s.a.createElement(Do,null)),s.a.createElement(Si,null))),s.a.createElement("div",{className:"time-machine-queries--body"},this.queryEditor))}get queryEditor(){const{activeQuery:e}=this.props;return"builder"===e.editMode?s.a.createElement(xi,null):"advanced"===e.editMode?s.a.createElement(wo,null):null}}const Bi={onSetTimeRange:bt.Q,onEnableUpdatedTimeRangeInVEO:F.f,onSetAutoRefresh:bt.m};var zi=Object(o.c)(e=>{const t=Object(Fi.a)(e),{autoRefresh:n}=Object(dt.c)(e);return{timeRange:t,activeQuery:Object(dt.a)(e),autoRefresh:n,isInCheckOverlay:Object(dt.h)(e)}},Bi)(Object(i.j)(qi));var Ui=({text:e,onClick:t,color:n=h.ComponentColor.Primary,size:a=h.ComponentSize.Medium,testID:r="dashed-button"})=>{const o=f()("dashed-button",{[`dashed-button__${n}`]:n,[`dashed-button__${a}`]:a});return s.a.createElement("button",{className:o,onClick:t,type:"button","data-testid":r},e)};var Hi=({tagSet:e,index:t,handleChangeTagRow:n,handleRemoveTagRow:a})=>{const r=a=>{n(t,Object.assign(Object.assign({},e),{[a.target.name]:a.target.value}))};return s.a.createElement(h.Panel,{testID:"tag-rule",className:"alert-builder--tag-row"},s.a.createElement(h.DismissButton,{onClick:()=>{a(t)},color:h.ComponentColor.Default}),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(h.Input,{testID:"tag-rule-key--input",placeholder:"Tag",value:e.key,name:"key",onChange:r})),s.a.createElement(h.FlexBox.Child,{grow:0,basis:20},s.a.createElement(h.TextBlock,{text:"="})),s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(h.Input,{testID:"tag-rule-key--input",placeholder:"Value",value:e.value,name:"value",onChange:r})))))};var Gi=n(83);const Vi={key:"",value:""},$i={onSelectCheckEvery:e=>t=>{t(Object(yt.i)(e)),t(Object(co.d)())},onSetOffset:yt.k,onRemoveTagSet:yt.d,onEditTagSetByIndex:yt.b};var Wi=Object(o.c)(({alertBuilder:{tags:e,offset:t,every:n}})=>({tags:e||[],offset:t,every:n}),$i)(({tags:e,offset:t,every:n,onSelectCheckEvery:a,onSetOffset:r,onRemoveTagSet:o,onEditTagSetByIndex:i})=>s.a.createElement(Ve,{testID:"builder-meta",className:"alert-builder--card alert-builder--meta-card"},s.a.createElement(Ve.Header,{title:"Properties"}),s.a.createElement(Ve.Body,{addPadding:!0,autoHideScrollbars:!0},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:6},s.a.createElement(h.Form.Element,{label:"Schedule Every"},s.a.createElement(ri,{value:n,suggestions:oi.e,onSubmit:a,testID:"schedule-check"}))),s.a.createElement(h.Grid.Column,{widthSM:6},s.a.createElement(h.Form.Element,{label:"Offset"},s.a.createElement(ri,{value:t,suggestions:Gi.b,onSubmit:r,testID:"offset-options"}))))),s.a.createElement(h.Form.Label,{label:"Tags"}),e.map((e,t)=>s.a.createElement(Hi,{key:t,index:t,tagSet:e,handleChangeTagRow:i,handleRemoveTagRow:o})),s.a.createElement(Ui,{text:"+ Tag",onClick:()=>i(e.length,Vi),color:h.ComponentColor.Primary,size:h.ComponentSize.Small}))));const Ki={onSetStatusMessageTemplate:yt.m};var Qi=Object(o.c)(({alertBuilder:{statusMessageTemplate:e}})=>({statusMessageTemplate:e}),Ki)(({statusMessageTemplate:e,onSetStatusMessageTemplate:t})=>{return s.a.createElement(Ve,{testID:"builder-message",className:"alert-builder--card alert-builder--message-card"},s.a.createElement(Ve.Header,{title:"Status Message Template"}),s.a.createElement(Ve.Body,{addPadding:!0,autoHideScrollbars:!0},s.a.createElement(h.TextArea,{className:"alert-builder--message-template",autoFocus:!1,autocomplete:h.AutoComplete.Off,form:"",maxLength:500,minLength:5,name:"statusMessageTemplate",onChange:e=>{t(e.target.value)},readOnly:!1,required:!1,size:h.ComponentSize.Medium,spellCheck:!1,testID:"status-message-textarea",value:e,wrap:h.Wrap.Soft,placeholder:"This template what this Check will use to write status messages"}),s.a.createElement("div",{className:"alert-builder--message-help"},s.a.createElement("p",null,"You can use any columns from your query as well as the following:"),s.a.createElement("p",null,s.a.createElement("code",null,"${r._check_name}")," The name of this check"),s.a.createElement("p",null,s.a.createElement("code",null,"${r._level}")," Indicates the level of the check"),s.a.createElement("p",null,s.a.createElement("code",null,"${string(v: r.numericColumn)}")," Functions can be used"," ","as well"),s.a.createElement("p",null,"Need help? Check out the Status Message Template"," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/monitor-alert/checks/create/#flux-only-interpolates-string-values",target:"_blank"},"Documentation")))))});var Yi=({threshold:e,children:t,removeLevel:n,changeThresholdType:a})=>{const r={"is above":"greater","is below":"lesser","is inside range":"range","is outside range":"range"},o=Gi.l[e.level],i=(e=>"greater"==e.type?"is above":"lesser"==e.type?"is below":e.within?"is inside range":"is outside range")(e);return s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Castle,testID:"panel"},s.a.createElement(h.DismissButton,{color:h.ComponentColor.Default,onClick:n,testID:"dismiss-button",type:h.ButtonType.Button}),s.a.createElement(h.PanelBody,{testID:"panel--body"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,testID:"component-spacer"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},s.a.createElement(h.TextBlock,{testID:"when-value-text-block",text:"When value"}),s.a.createElement(h.FlexBox.Child,{grow:2,testID:"component-spacer--flex-child"},s.a.createElement(h.SelectDropdown,{options:Object.keys(r),selectedOption:i,onSelect:e=>{a(r[e],"is inside range"===e)},testID:"select-option-dropdown"}))),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},t,s.a.createElement(h.TextBlock,{testID:"set-status-to-text-block",text:"set status to"}),s.a.createElement(h.TextBlock,{backgroundColor:o,testID:"threshold-level-text-block",text:e.level})))))},Xi=n(132);var Zi=({threshold:e,changeValue:t,level:n})=>{return s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(h.Input,{onChange:e=>{t(Object(Xi.a)(e))},name:"",type:h.InputType.Number,value:e.value,testID:`input-field-${n}`}))};var Ji=({threshold:e,changeRange:t})=>{return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(h.Input,{onChange:n=>{const a=Object(Xi.a)(n);t(a,e.max)},name:"min",testID:"input-field",type:h.InputType.Number,value:e.min})),s.a.createElement(h.TextBlock,{testID:"text-block",text:"to"}),s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(h.Input,{onChange:n=>{const a=Object(Xi.a)(n);t(e.min,a)},disabledTitleText:"This input is disabled",name:"max",testID:"input-field",type:h.InputType.Number,value:e.max})))},el=n(837);const tl={type:"greater"},nl={onUpdateThreshold:yt.p,onRemoveThreshold:yt.e};var al=Object(o.c)(e=>{return{table:Object(dt.n)(e).table}},nl)(({level:e,table:t,threshold:n,onUpdateThreshold:r,onRemoveThreshold:o})=>{const[i,l]=Object(a.useState)([Object(y.get)(n,"value")||Object(y.get)(n,"min",0),Object(y.get)(n,"max",100)]),c=Object(y.get)(n,"value")||Object(y.get)(n,"min",i[0]),u=Object(y.get)(n,"max",i[1]);Object(a.useEffect)(()=>{l([c,u])},[c,u]);const[m]=Object(el.a)(t.getColumn("_value","number"),[]),d=()=>{const t=m[0]||0,n=m[1]||40,a=Object.assign(Object.assign({},tl),{value:(n-t)/2+t,level:e});r(a)};return n?s.a.createElement(Yi,{threshold:n,removeLevel:()=>{o(e)},changeThresholdType:(e,t)=>{if("greater"===e||"lesser"===e){const t={type:e,level:n.level,value:i[0]};r(t)}if("range"===e){const a={type:e,level:n.level,min:i[0],max:i[1],within:t};r(a)}}},"range"===n.type?s.a.createElement(Ji,{threshold:n,changeRange:(e,t)=>{const a=Object.assign(Object.assign({},n),{min:e,max:t});r(a)}}):s.a.createElement(Zi,{threshold:n,changeValue:e=>{const t=Object.assign(Object.assign({},n),{value:e});r(t)},level:e})):s.a.createElement(Ui,{text:`+ ${e}`,color:Gi.m[e],size:h.ComponentSize.Large,onClick:d,testID:`add-threshold-condition-${e}`})});var sl=Object(o.c)(({alertBuilder:{thresholds:e}})=>{const t={};return e.forEach(e=>{t[e.level]=e}),{thresholds:t}})(({thresholds:e})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(al,{level:"CRIT",threshold:e.CRIT}),s.a.createElement(al,{level:"WARN",threshold:e.WARN}),s.a.createElement(al,{level:"INFO",threshold:e.INFO}),s.a.createElement(al,{level:"OK",threshold:e.OK})));const rl=[{display:"CRIT",hex:h.InfluxColors.Fire,value:"CRIT"},{display:"INFO",hex:h.InfluxColors.Ocean,value:"INFO"},{display:"WARN",hex:h.InfluxColors.Thunder,value:"WARN"},{display:"OK",hex:h.InfluxColors.Viridian,value:"OK"}];var ol=({selectedLevel:e,onClickLevel:t})=>{const n=rl.find(t=>t.value===e);if(!n)throw new Error("Unknown level type provided to <CheckLevelsDropdown/>");const a=rl.map(({value:e,display:n,hex:a})=>s.a.createElement(h.Dropdown.Item,{key:e,id:e,value:e,onClick:()=>t(e),testID:`check-levels--dropdown-item ${e}`},s.a.createElement("div",{className:"color-dropdown--item"},s.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:a}}),s.a.createElement("div",{className:"color-dropdown--name"},n))));return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{color:h.ComponentColor.Default,active:e,onClick:t,testID:"check-levels--dropdown--button"},s.a.createElement("div",{className:"color-dropdown--item"},s.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:n.hex}}),s.a.createElement("div",{className:"color-dropdown--name"},n.value))),menu:e=>s.a.createElement(h.Dropdown.Menu,{theme:h.DropdownMenuTheme.Onyx,onCollapse:e},a),testID:"check-levels--dropdown"})};const il={onSetStaleTime:yt.l,onSetTimeSince:yt.n,onSetLevel:yt.j};var ll=Object(o.c)(({alertBuilder:{staleTime:e,timeSince:t,level:n}})=>({staleTime:e,timeSince:t,level:n}),il)(({staleTime:e,timeSince:t,level:n,onSetStaleTime:a,onSetTimeSince:r,onSetLevel:o})=>s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Castle,testID:"panel"},s.a.createElement(h.PanelBody,{testID:"panel--body"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,testID:"component-spacer"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(h.TextBlock,{testID:"when-value-text-block",text:"When values are not reporting"}))),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},s.a.createElement(h.TextBlock,{testID:"when-value-text-block",text:"for"}),s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(ri,{suggestions:Gi.b,onSubmit:r,value:t,showDivider:!1})),s.a.createElement(h.TextBlock,{testID:"set-status-to-text-block",text:"set status to"}),s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(ol,{selectedLevel:n,onClickLevel:o}))),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,stretchToFitWidth:!0,testID:"component-spacer"},s.a.createElement(h.TextBlock,{testID:"when-value-text-block",text:"And stop checking after"}),s.a.createElement(h.FlexBox.Child,{testID:"component-spacer--flex-child"},s.a.createElement(ri,{suggestions:Gi.b,onSubmit:a,value:e,showDivider:!1})))))));var cl=Object(o.c)(({alertBuilder:{type:e}})=>({checkType:e}),null)(({checkType:e})=>{let t,n;if("deadman"===e)t="Deadman",n=s.a.createElement(ll,null);else{if("threshold"!==e)throw new Error("Incorrect check type provided to <CheckConditionsCard/>");t="Thresholds",n=s.a.createElement(sl,null)}return s.a.createElement(Ve,{testID:"builder-conditions",className:"alert-builder--card alert-builder--conditions-card"},s.a.createElement(Ve.Header,{title:t}),s.a.createElement(Ve.Body,{addPadding:!0,autoHideScrollbars:!0},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,margin:h.ComponentSize.Medium},n)))}),ul=n(50);var ml=Object(o.c)(e=>{return{endpoints:Object(ve.a)(e,W.ResourceType.NotificationEndpoints)}})(({rule:e,endpoints:t})=>{const n=t.find(t=>t.id===e.endpointID);return s.a.createElement(h.ResourceCard,{key:`rule-id--${e.id}`,testID:"rule-card"},s.a.createElement(h.ResourceCard.Name,{name:e.name}),s.a.createElement(h.ResourceCard.Description,{description:e.description}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,`Checks every: ${e.every}`),s.a.createElement(s.a.Fragment,null,`Sends notifications to: ${n.name}`)))});var dl=Object(o.c)(e=>{const{alertBuilder:{tags:t}}=e,{id:n}=Object(S.a)(e),{queryResults:{files:a}}=Object(dt.c)(e);return{tags:t,orgID:n,queryResults:a}})(({orgID:e,tags:t,queryResults:n})=>{const[{matchingRules:r,status:o},i]=Object(a.useState)({matchingRules:[],status:h.RemoteDataState.NotStarted});let l;return Object(a.useEffect)(()=>{i({matchingRules:r,status:h.RemoteDataState.Loading}),(async()=>{const a=t.filter(e=>e.key&&e.value).map(e=>[e.key,e.value]),s=[];if(n){const e=n.join("\n\n"),t=Object(ul.fromFlux)(e).table;Object(ul.fromFlux)(e).fluxGroupKeyUnion.filter(e=>"_start"!==e&&"_stop"!==e).forEach(e=>{Object(y.uniq)(t.getColumn(e,"string")).forEach(t=>{s.push([e,t])})})}const r=[...a,...s].map(e=>["tag",`${e[0].trim()}:${e[1].trim()}`]),o=await Object(fe.H)({query:[["orgID",e],...r]});if(200!==o.status)return void i({matchingRules:[],status:h.RemoteDataState.Error});const l=o.data.notificationRules.map(e=>Object(Mt.h)(e));i({matchingRules:l,status:h.RemoteDataState.Done})})()},[t,n]),l=o===h.RemoteDataState.NotStarted||o===h.RemoteDataState.Loading?s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:o}):r.length?s.a.createElement(s.a.Fragment,null,r.map(e=>s.a.createElement(ml,{key:e.id,rule:e}))):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-builder--card__empty"},s.a.createElement(h.EmptyState.Text,null,"Notification Rules configured to act on tag sets matching this Alert Check will show up here"),s.a.createElement(h.EmptyState.Text,null,"Looks like no notification rules match the tag set defined in this Alert Check")),s.a.createElement(Ve,{testID:"builder-conditions",className:"alert-builder--card alert-builder--conditions-card"},s.a.createElement(Ve.Header,{title:"Matching Notification Rules"}),s.a.createElement(Ve.Body,{addPadding:!0,autoHideScrollbars:!0},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,margin:h.ComponentSize.Medium},l)))});var pl=()=>s.a.createElement("div",{className:"alert-builder","data-testid":"query-builder"},s.a.createElement(Wi,null),s.a.createElement(Qi,null),s.a.createElement(cl,null),Object(L.c)("matchingNotificationRules")&&s.a.createElement(dl,null));const hl={onLoadCustomCheckQueryState:bt.e};var _l=Object(o.c)(null,hl)(({onLoadCustomCheckQueryState:e})=>{return s.a.createElement(h.Button,{text:"Customize Check Query",titleText:"Switch to Script Editor",onClick:()=>{e()},testID:"switch-to-custom-check"})});var gl=()=>{return s.a.createElement(h.Button,{titleText:"Learn more about alerting",text:"Help",onClick:()=>{window.open("https://v2.docs.influxdata.com/v2.0/monitor-alert/checks/create/#configure-the-check").focus()}})};var fl=()=>s.a.createElement("div",{className:"time-machine-queries"},s.a.createElement("div",{className:"time-machine-queries--controls"},s.a.createElement("div",{className:"time-machine--editor-title"},"Configure a Check"),s.a.createElement("div",{className:"time-machine-queries--buttons"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.FlexEnd,margin:h.ComponentSize.Small},Object(L.c)("customCheckQuery")&&s.a.createElement(_l,null),s.a.createElement(Oi,null),s.a.createElement(gl,null)))),s.a.createElement("div",{className:"time-machine-queries--body"},s.a.createElement(pl,null))),bl=n(220),yl=n(289),vl=n(375);var xl=({loading:e})=>{const[t,n]=Object(a.useState)(!1),[r,o]=Object(a.useState)(0),i=f()("view-loading-spinner--timer",{visible:r>5});return Object(a.useEffect)(()=>{(e===W.RemoteDataState.Done||W.RemoteDataState.Error)&&(o(0),n(!1)),e===W.RemoteDataState.Loading&&n(!0)},[e]),Object(a.useEffect)(()=>{let e=null;return t?e=setInterval(()=>{o(e=>e+.1)},100):t||0===r||clearInterval(e),()=>clearInterval(e)},[t,r]),e===W.RemoteDataState.Loading?s.a.createElement("div",{className:"view-loading-spinner"},s.a.createElement(h.TechnoSpinner,{diameterPixels:66,strokeWidth:h.ComponentSize.Medium}),s.a.createElement("div",{className:i},`${Object(y.round)(r,1)}s`)):null};var wl=class extends a.PureComponent{constructor(e){super(e),this.columnWidth=({index:e})=>{const{maxColumnCount:t,width:n}=this.props;return v.a.find(this.state.headerRows,t=>(this.getCellData(t,e)||"").includes("dateTime"))?300:Math.max(150,n/t)},this.renderCell=({columnIndex:e,key:t,rowIndex:n,style:a})=>{const{startRow:r}=this.props,o=Number(r)||0,i=this.getCellData(o+n,e);return s.a.createElement("div",{key:t,style:a,className:"raw-flux-data-table--cell",title:i},s.a.createElement("div",{className:"raw-flux-data-table--cell-bg","data-testid":`raw-flux-data-table--cell ${i}`},i))},this.state={headerRows:[]}}static getDerivedStateFromProps(e){return{headerRows:v.a.reduce(e.data,(e,t,n)=>("#datatype"===t[0]&&e.push(n),e),[])}}render(){const{maxColumnCount:e,width:t,height:n,scrollTop:a,scrollLeft:r}=this.props;return s.a.createElement(bl.c,{width:t,height:n,cellRenderer:this.renderCell,columnCount:e,rowCount:this.rowCount,rowHeight:27,columnWidth:this.columnWidth,scrollLeft:r,scrollTop:a,style:this.gridStyle})}get rowCount(){return this.props.data.length}get gridStyle(){return{width:this.calculateWidth(),height:27*this.rowCount}}calculateWidth(){const{maxColumnCount:e}=this.props;return v.a.reduce(v.a.range(0,e),(e,t)=>e+this.columnWidth({index:t}),0)}getCellData(e,t){const{data:n}=this.props;return n[e][t]}},El=n(263),kl=n.n(El),Sl=n(1350),Cl=n.n(Sl),Tl=n(1351),Ol=n.n(Tl),Dl=n(861);const Il=e=>{let t,n=0,a=[];return e.forEach(e=>{t=jl(e),n=Math.max(n,t.max),a=a.concat(t.tableData)}),{data:a,maxColumnCount:n}},jl=e=>{const t=Object(ul.fromFlux)(e);return t.error?(Object(ct.b)(t.error,{name:"fromFluxTableTransformer function"}),{tableData:[[]],max:0}):Rl(t)},Rl=e=>{const{fluxGroupKeyUnion:t,table:n,table:{columnKeys:a}}=e,s=["result","table",...a.filter(e=>"result"!==e&&"table"!==e)],r=n.getColumn("table"),o=n.getColumn("result");let i=null,l=null,c=[];const u=[];let m,d,p,h,_=[];const g=new Set(t);let f=0;for(let e=0;e<r.length;e++){if(o[e]!==i||r[e]!==l){i=o[e],l=r[e],c=s.filter(t=>{const a=n.getColumnType(t);return void 0!==n.getColumn(t,a)[e]});const t=["#datatype"],a=["#default",`${o[e]}`],m=["#group"];let d;u.push([],m,t,a,["",...c]);for(let e=0;e<c.length;e++)d=c[e],m.push(`${g.has(d)}`),t.push(n.getOriginalColumnType(d));f=Math.max(m.length,t.length,f)}_=[""];for(let t=0;t<c.length;t++)h=c[t],m=n.getColumnType(h),d=n.getOriginalColumnType(h),p=n.getColumn(h,m)[e],"dateTime:RFC3339"!==d||"number"!=typeof p||isNaN(p)||(p=new Date(p).toISOString()),"result"===h&&(p=""),_.push(`${p}`);u.push(_)}return u.shift(),{tableData:u,max:f}},Nl=e=>{const t=Object(Dl.a)(e.join("\n\n")).map(e=>kl.a.parse(e).data),n=Math.max(...t.map(e=>e[0].length)),a=[];for(let e=0;e<t.length;e++){0!==e&&a.push([]);for(let n=0;n<t[e].length;n++)a.push(t[e][n])}return{data:a,maxColumnCount:n}},Al=e=>{const t=Object(Dl.a)(e.join("\n\n")).map(e=>{const t=[];let n=e,a=0,s=0;for(;-1!==a&&-1!==s;)a=n.indexOf(",&quot;{"),s=n.indexOf("}&quot;,"),-1!==a&&-1!==s&&(t.push(Ol()(Cl.a.decode(n.slice(a+",&quot;{".length-1,s+1)).replace(/""/g,'"').replace(/:",/g,':"",').replace(/"","}/g,'","}').replace(/\\"/g,"").replace(/\\n/g," ").replace(/\\t/g,"").replace(/\\u0000/g,""))),n=n.slice(0,a+1)+`__giraffe_csv_object${t.length-1}`+n.slice(s+"}&quot;,".length-1));const{data:r}=kl.a.parse(n);let o=0;return t.forEach((e,t)=>{let n=-1;for(;o<r.length&&-1===n;)(n=r[o].findIndex(e=>e===`__giraffe_csv_object${t}`))>-1?r[o][n]=r[o][n].replace(`__giraffe_csv_object${t}`,e):o+=1}),r}),n=Math.max(...t.map(e=>e[0].length)),a=[];for(let e=0;e<t.length;e++){0!==e&&a.push([]);for(let n=0;n<t[e].length;n++)a.push(t[e][n])}return{data:a,maxColumnCount:n}};class Pl extends a.PureComponent{constructor(){super(...arguments),this.state={scrollLeft:0,scrollTop:0},this.parseFilesWithFromFlux=Object(as.a)(Il),this.parseFiles=Object(as.a)(Nl),this.parseFilesWithObjects=Object(as.a)(Al),this.onScrollbarsScroll=e=>{const{scrollTop:t,scrollLeft:n}=e;this.setState({scrollLeft:n,scrollTop:t})}}render(){const{width:e,height:t,files:n,disableVerticalScrolling:a,startRow:r}=this.props,{scrollTop:o,scrollLeft:i}=this.state,l=e,c=t,{parsedResults:u}=this.props;let m,d,p=this.parseFiles;if(u){const e=Rl(u);m=e.tableData,d=e.max}else{Object(L.c)("parseObjectsInCSV")&&(p=this.parseFilesWithObjects),Object(L.c)("rawCsvFromfluxParser")&&(p=this.parseFilesWithFromFlux);const e=p(n);m=e.data,d=e.maxColumnCount}return s.a.createElement("div",{className:"raw-flux-data-table","data-testid":"raw-data-table"},s.a.createElement(h.DapperScrollbars,{style:{overflowY:"hidden",width:l,height:c},autoHide:!1,scrollTop:o,scrollLeft:i,testID:"rawdata-table--scrollbar",onScroll:this.onScrollbarsScroll,noScrollY:a},s.a.createElement(wl,{scrollTop:o,scrollLeft:i,width:l,height:c,maxColumnCount:d,data:m,startRow:r})))}}var Ml=Pl,Ll=n(779);class Fl extends a.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){Object(ct.b)(e,{component:Object(ct.a)(t)})}render(){const{error:e}=this.state;return e?s.a.createElement(this.props.errorComponent,{error:e}):this.props.children}}Fl.defaultProps={errorComponent:Ll.a};var ql=Fl,Bl=n(51);var zl=Object(o.c)(e=>{const t=Object(dt.c)(e),{isViewingRawData:n,view:{properties:a},queryResults:{status:s,errorMessage:r,isInitialFetch:o,files:i,statuses:l}}=t,c=Object(Fi.b)(e),{alertBuilder:{type:u,thresholds:m}}=e;return{loading:s,checkType:u,checkThresholds:m,errorMessage:r,isInitialFetch:o,files:i,viewProperties:a,isViewingRawData:n,giraffeResult:Object(dt.n)(e),xColumn:Object(dt.p)(e),yColumn:Object(dt.q)(e),fillColumns:Object(dt.f)(e),symbolColumns:Object(dt.m)(e),timeZone:Object(Fi.c)(e),timeRange:Object(dt.d)(c,a.queries),statuses:l}})(({loading:e,errorMessage:t,timeRange:n,isInitialFetch:a,isViewingRawData:r,files:o,checkType:i,checkThresholds:l,viewProperties:c,giraffeResult:u,xColumn:m,yColumn:d,fillColumns:p,symbolColumns:h,timeZone:_,statuses:g})=>{const b=Object.assign(Object.assign({},c),{xColumn:m,yColumn:d,fillColumns:p,symbolColumns:h}),y=e===W.RemoteDataState.NotStarted||!c.queries.length,v=f()("time-machine--view",{"time-machine--view__empty":y});return s.a.createElement("div",{className:v},s.a.createElement(ql,null,s.a.createElement(xl,{loading:e}),s.a.createElement(yl.b,{loading:e,errorFormat:yl.a.Scroll,errorMessage:t,isInitialFetch:a,queries:c.queries,hasResults:Object(Bl.a)(u)},r?s.a.createElement(bl.a,null,({width:e,height:t})=>{if(Object(L.c)("flowsUiPagination")){const[n]=o.flatMap(ul.fromFlux);return s.a.createElement(Ml,{parsedResults:n,width:e,height:t})}return s.a.createElement(Ml,{files:o,width:e,height:t})}):s.a.createElement(vl.a,{giraffeResult:u,timeRange:n,files:o,properties:b,checkType:i,checkThresholds:l,timeZone:_,statuses:g,theme:"dark"}))))});var Ul=({geom:e,onSetGeom:t})=>s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Interpolation"},s.a.createElement(h.Dropdown,{button:(t,n)=>s.a.createElement(h.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:case"line":return"Linear"}})(Object(Bl.q)(e))),menu:n=>s.a.createElement(h.Dropdown.Menu,{onCollapse:n},s.a.createElement(h.Dropdown.Item,{value:"line",onClick:t,selected:"line"===e},"Linear"),s.a.createElement(h.Dropdown.Item,{value:"monotoneX",onClick:t,selected:"monotoneX"===e},"Smooth"),s.a.createElement(h.Dropdown.Item,{value:"step",onClick:t,selected:"step"===e},"Step"))})));class Hl extends a.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{const{onUpdateYAxisLabel:t}=this.props;t(e.target.value)}}render(){const{label:e}=this.props;return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Y Axis Label"},s.a.createElement(h.Input,{value:e,onChange:this.handleChange})))}}var Gl=Hl;class Vl extends a.PureComponent{constructor(){super(...arguments),this.handleUpdateAxisPrefix=e=>{const{onUpdateAxisPrefix:t}=this.props;t(e.target.value)},this.handleUpdateAxisSuffix=e=>{const{onUpdateAxisSuffix:t}=this.props;t(e.target.value)}}render(){const{prefix:e,suffix:t,axisName:n}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.FormElement,{label:`${n.toUpperCase()} Axis Prefix`},s.a.createElement(h.Input,{value:e,onChange:this.handleUpdateAxisPrefix}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.FormElement,{label:`${n.toUpperCase()} Axis Suffix`},s.a.createElement(h.Input,{value:t,onChange:this.handleUpdateAxisSuffix}))))}}var $l=Vl,Wl=n(283);let Kl=class extends a.PureComponent{render(){const{colors:e,onUpdateColors:t}=this.props;return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Line Colors"},s.a.createElement(Wl.a,{value:e,onChange:t})))}};var Ql=Kl=Object(m.a)([p.a],Kl),Yl=n(161),Xl=n(508);const{BASE_2:Zl,BASE_10:Jl}=Xl.a;class ec extends a.PureComponent{render(){const{base:e,onUpdateYAxisBase:t}=this.props;return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Y-Value Unit Prefix"},s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit},s.a.createElement(h.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e,titleText:"Do not format values using a unit prefix",onClick:t},"None"),s.a.createElement(h.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:Jl,active:e===Jl,titleText:"Format values using an International System of Units prefix",onClick:t},"SI"),s.a.createElement(h.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:Zl,active:e===Zl,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:t},"Binary"))))}}var tc=ec;var nc=({selectedColumn:e,onSelectColumn:t,availableColumns:n,axisName:a})=>s.a.createElement(h.Form.Element,{label:`${a.toUpperCase()} Column`},s.a.createElement(h.SelectDropdown,{options:n,selectedOption:e||"Build a query before selecting...",onSelect:t,testID:`dropdown-${a}`,buttonStatus:0==n.length?h.ComponentStatus.Disabled:h.ComponentStatus.Default})),ac=n(167);var sc=({timeFormat:e,onTimeFormatChange:t})=>s.a.createElement(h.SelectDropdown,{options:Ds.l.map(e=>e.text),selectedOption:Object(ac.b)(e),onSelect:t});var rc=Object(o.c)(e=>{const t=Object(dt.c)(e),n=Object(y.get)(t,"view.properties.legendOrientationThreshold",void 0);return{legendOpacity:Object(y.get)(t,"view.properties.legendOpacity",x.B),legendOrientationThreshold:n}})(e=>{const{legendOpacity:t,onLegendOpacityChange:n,legendOrientationThreshold:r,onLegendOrientationThresholdChange:o}=e,[i,l]=Object(a.useState)(h.ComponentStatus.Default),[c,u]=Object(a.useState)(r);if(!Object(L.c)("legendOrientation"))return null;const m=e=>{const t=Object(Xi.a)(e);u(t),isNaN(t)?l(h.ComponentStatus.Error):(l(h.ComponentStatus.Default),o(t))};return s.a.createElement(h.Grid.Column,null,s.a.createElement("h5",{className:"view-options--header"},"Legend"),s.a.createElement(h.Form.Element,{label:"Rotation Threshold",helpText:"Legends with column count exceeding this threshold appear vertically instead of horizontally"},s.a.createElement(h.Input,{name:"legend-columns",onChange:m,onFocus:m,placeholder:"Enter a number",status:i,type:h.InputType.Number,value:c})),s.a.createElement(h.Form.Element,{label:`Opacity: ${t.toFixed(2)}`},s.a.createElement(h.RangeSlider,{max:x.C,min:x.D,step:x.E,value:t,onChange:e=>{const t=Object(Xi.a)(e);isNaN(t)||t<x.D?n(x.C):n(t)}})))});const oc="(remove column)",ic="Please enter upper column's function name",lc="Please enter main column's function name",cc="Please enter lower column's function name";class uc extends a.PureComponent{constructor(e){super(e),this.setBoundValues=e=>null===e?null:String(e),this.handleSetYDomain=e=>{let t;if(e){const[n,a]=e;t=[this.setBoundValues(n),this.setBoundValues(a)]}else t=[null,null];this.props.onUpdateYAxisBounds(t)},this.onChangeColumn=(e,t)=>{e(t===(oc||"")?"":t)},this.onChangeUpperColumn=e=>{this.onChangeColumn(this.props.onSetUpperColumn,e)},this.onChangeLowerColumn=e=>this.onChangeColumn(this.props.onSetLowerColumn,e),this.onTextChangeUpperColumn=e=>{const{value:t}=e.target;this.setState({upperColumn:t}),this.props.onSetUpperColumn(t)},this.onTextChangeMainColumn=e=>{const{value:t}=e.target;this.setState({mainColumn:t}),this.props.onSetMainColumn(t)},this.onTextChangeLowerColumn=e=>{const{value:t}=e.target;this.setState({lowerColumn:t}),this.props.onSetLowerColumn(t)},this.state={upperColumn:"",mainColumn:"",lowerColumn:""}}render(){const{axes:{y:{label:e,prefix:t,suffix:n,base:a}},colors:r,editMode:o,geom:i,onUpdateColors:l,onUpdateYAxisLabel:c,onUpdateAxisPrefix:u,onUpdateAxisSuffix:m,onUpdateYAxisBase:d,onSetGeom:p,onSetYColumn:_,yColumn:g,onSetXColumn:f,xColumn:b,numericColumns:y,onSetTimeFormat:v,timeFormat:w,hoverDimension:E="auto",onSetHoverDimension:k,selectedFunctions:S,onSetMainColumn:C,upperColumn:T,lowerColumn:O,onSetLegendOpacity:D,onSetLegendOrientationThreshold:I}=this.props,j=[oc,...S];return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Band Plot"),s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(nc,{selectedColumn:b,onSelectColumn:f,availableColumns:y,axisName:"x"}),s.a.createElement(nc,{selectedColumn:g,onSelectColumn:_,availableColumns:y,axisName:"y"}),s.a.createElement(h.Form.Element,{label:"Time Format"},s.a.createElement(sc,{timeFormat:w,onTimeFormatChange:v}))),o===x.H?s.a.createElement(h.Grid.Column,null,s.a.createElement("h5",{className:"view-options--header"},"Aggregate Functions"),s.a.createElement(h.Form.Element,{label:"Upper Column Name"},s.a.createElement(h.SelectDropdown,{selectedOption:T,options:j,onSelect:this.onChangeUpperColumn})),s.a.createElement(h.Form.Element,{label:"Main Column Name"},s.a.createElement(h.SelectDropdown,{selectedOption:this.selectedMainColumn,options:S,onSelect:C})),s.a.createElement(h.Form.Element,{label:"Lower Column Name"},s.a.createElement(h.SelectDropdown,{selectedOption:O,options:j,onSelect:this.onChangeLowerColumn})),s.a.createElement("h5",{className:"view-options--header"},"Options")):s.a.createElement(h.Grid.Column,null,s.a.createElement("h5",{className:"view-options--header"},"Aggregate Functions"),s.a.createElement(h.Form.Element,{label:"Upper Column Name"},s.a.createElement(h.Input,{onChange:this.onTextChangeUpperColumn,onFocus:this.onTextChangeUpperColumn,placeholder:ic,type:h.InputType.Text,value:this.state.upperColumn})),s.a.createElement(h.Form.Element,{label:"Main Column Name"},s.a.createElement(h.Input,{onChange:this.onTextChangeMainColumn,onFocus:this.onTextChangeMainColumn,placeholder:lc,status:this.mainColumnTextStatus,type:h.InputType.Text,value:this.state.mainColumn})),s.a.createElement(h.Form.Element,{label:"Lower Column Name"},s.a.createElement(h.Input,{onChange:this.onTextChangeLowerColumn,onFocus:this.onTextChangeLowerColumn,placeholder:cc,type:h.InputType.Text,value:this.state.lowerColumn})),s.a.createElement("h5",{className:"view-options--header"},"Options")),i&&s.a.createElement(Ul,{geom:i,onSetGeom:p}),s.a.createElement(Ql,{colors:r.filter(e=>"scale"===e.type),onUpdateColors:l}),s.a.createElement(h.Grid.Column,null,s.a.createElement("br",null),s.a.createElement(h.Form.Element,{label:"Hover Dimension"},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t},E),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},s.a.createElement(h.Dropdown.Item,{id:"auto",value:"auto",onClick:k,selected:"auto"===E},"Auto"),s.a.createElement(h.Dropdown.Item,{id:"x",value:"x",onClick:k,selected:"x"===E},"X Axis"),s.a.createElement(h.Dropdown.Item,{id:"y",value:"y",onClick:k,selected:"y"===E},"Y Axis"),s.a.createElement(h.Dropdown.Item,{id:"xy",value:"xy",onClick:k,selected:"xy"===E},"X & Y Axis"))}))),s.a.createElement(h.Grid.Column,null,s.a.createElement("h5",{className:"view-options--header"},"Y Axis")),s.a.createElement(Gl,{label:e,onUpdateYAxisLabel:c}),s.a.createElement(tc,{base:a,onUpdateYAxisBase:d}),s.a.createElement($l,{prefix:t,suffix:n,axisName:"y",onUpdateAxisPrefix:e=>u(e,"y"),onUpdateAxisSuffix:e=>m(e,"y")}),s.a.createElement(h.Grid.Column,null,s.a.createElement(Yl.a,{domain:this.yDomain,onSetDomain:this.handleSetYDomain,label:"Y Axis Domain"})),s.a.createElement(rc,{onLegendOpacityChange:D,onLegendOrientationThresholdChange:I}))}get yDomain(){return Object(Bl.p)(this.props.axes.y.bounds)}get selectedMainColumn(){return Object(Bl.j)(this.props.selectedFunctions,this.props.upperColumn,this.props.mainColumn,this.props.lowerColumn)}get mainColumnTextStatus(){return this.state.mainColumn.length>0?h.ComponentStatus.Default:h.ComponentStatus.Error}}const mc={onUpdateYAxisLabel:bt.Y,onUpdateAxisPrefix:bt.n,onUpdateAxisSuffix:bt.o,onUpdateYAxisBounds:bt.X,onUpdateYAxisBase:bt.W,onSetXColumn:bt.U,onSetYColumn:bt.Z,onUpdateColors:bt.t,onSetGeom:bt.x,onSetTimeFormat:bt.P,onSetHoverDimension:bt.z,onSetUpperColumn:bt.S,onSetMainColumn:bt.F,onSetLowerColumn:bt.E,onSetLegendOpacity:bt.B,onSetLegendOrientationThreshold:bt.C};var dc=Object(o.c)(e=>{const t=Object(dt.a)(e),{builderConfig:n,editMode:a}=t,{functions:s}=n,r=Object(dt.p)(e),o=Object(dt.q)(e),i=Object(dt.i)(e),l=Object(dt.c)(e).view,{timeFormat:c,upperColumn:u,mainColumn:m,lowerColumn:d}=l.properties;return{editMode:a,numericColumns:i,selectedFunctions:s.map(e=>e.name),timeFormat:c,xColumn:r,yColumn:o,upperColumn:u,mainColumn:m,lowerColumn:d}},mc)(uc),pc=n(363);class hc extends a.PureComponent{constructor(){super(...arguments),this.setBoundValues=e=>null===e?null:String(e),this.handleSetYDomain=e=>{let t;if(e){const[n,a]=e;t=[this.setBoundValues(n),this.setBoundValues(a)]}else t=[null,null];this.props.onUpdateYAxisBounds(t)}}render(){const{axes:{y:{label:e,prefix:t,suffix:n,base:a}},colors:r,geom:o,shadeBelow:i,position:l,onSetPosition:c,onUpdateColors:u,onUpdateYAxisLabel:m,onUpdateAxisPrefix:d,onUpdateAxisSuffix:p,onUpdateYAxisBase:_,onSetShadeBelow:g,onSetGeom:f,onSetYColumn:b,yColumn:v,onSetXColumn:x,xColumn:w,numericColumns:E,onSetTimeFormat:k,timeFormat:S,hoverDimension:C,onSetHoverDimension:T,onSetLegendOpacity:O,onSetLegendOrientationThreshold:D}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Line Graph"),s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(nc,{selectedColumn:w,onSelectColumn:x,availableColumns:E,axisName:"x"}),s.a.createElement(nc,{selectedColumn:v,onSelectColumn:b,availableColumns:E,axisName:"y"}),s.a.createElement(h.Form.Element,{label:"Time Format"},s.a.createElement(sc,{timeFormat:S,onTimeFormatChange:k})),s.a.createElement("h5",{className:"view-options--header"},"Options")),o&&s.a.createElement(Ul,{geom:o,onSetGeom:f}),s.a.createElement(Ql,{colors:r.filter(e=>"scale"===e.type),onUpdateColors:u}),s.a.createElement(h.Grid.Column,null,s.a.createElement(pc.a,{label:"Shade Area Below Lines",checked:!!i,onSetChecked:g})),s.a.createElement(h.Grid.Column,null,s.a.createElement("br",null),s.a.createElement(h.Form.Element,{label:"Hover Dimension"},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t},C),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},s.a.createElement(h.Dropdown.Item,{id:"auto",value:"auto",onClick:T,selected:"auto"===C},"Auto"),s.a.createElement(h.Dropdown.Item,{id:"x",value:"x",onClick:T,selected:"x"===C},"X Axis"),s.a.createElement(h.Dropdown.Item,{id:"y",value:"y",onClick:T,selected:"y"===C},"Y Axis"),s.a.createElement(h.Dropdown.Item,{id:"xy",value:"xy",onClick:T,selected:"xy"===C},"X & Y Axis"))}))),s.a.createElement(h.Grid.Column,null,s.a.createElement("h5",{className:"view-options--header"},"Y Axis")),s.a.createElement(Gl,{label:e,onUpdateYAxisLabel:m}),s.a.createElement(tc,{base:a,onUpdateYAxisBase:_}),s.a.createElement($l,{prefix:t,suffix:n,axisName:"y",onUpdateAxisPrefix:e=>d(e,"y"),onUpdateAxisSuffix:e=>p(e,"y")}),s.a.createElement(h.Grid.Column,null,s.a.createElement(Yl.a,{domain:this.yDomain,onSetDomain:this.handleSetYDomain,label:"Y Axis Domain"}),s.a.createElement(h.Form.Element,{label:"Positioning"},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t},Object(y.capitalize)(l)),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},s.a.createElement(h.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:c,selected:"overlaid"===l},"Overlaid"),s.a.createElement(h.Dropdown.Item,{id:"stacked",value:"stacked",onClick:c,selected:"stacked"===l},"Stacked"))}))),s.a.createElement(rc,{onLegendOpacityChange:O,onLegendOrientationThresholdChange:D}))}get yDomain(){return Object(Bl.p)(this.props.axes.y.bounds)}}const _c={onUpdateYAxisLabel:bt.Y,onUpdateAxisPrefix:bt.n,onUpdateAxisSuffix:bt.o,onUpdateYAxisBounds:bt.X,onUpdateYAxisBase:bt.W,onSetXColumn:bt.U,onSetYColumn:bt.Z,onSetShadeBelow:bt.I,onUpdateColors:bt.t,onSetGeom:bt.x,onSetPosition:bt.D,onSetTimeFormat:bt.P,onSetHoverDimension:bt.z,onSetLegendOpacity:bt.B,onSetLegendOrientationThreshold:bt.C};var gc=Object(o.c)(e=>{const t=Object(dt.p)(e),n=Object(dt.q)(e),a=Object(dt.i)(e),s=Object(dt.c)(e).view,{timeFormat:r}=s.properties;return{xColumn:t,yColumn:n,numericColumns:a,timeFormat:r}},_c)(hc);class fc extends a.PureComponent{constructor(){super(...arguments),this.handleUpdatePrefix=e=>{const{onUpdatePrefix:t}=this.props;t(e.target.value)},this.handleUpdateSuffix=e=>{const{onUpdateSuffix:t}=this.props;t(e.target.value)},this.handleUpdateTickSuffix=e=>{const{onUpdateTickSuffix:t}=this.props;t("false"!==e&&e?"false":"true")},this.handleUpdateTickPrefix=e=>{const{onUpdateTickPrefix:t}=this.props;t("false"!==e&&e?"false":"true")}}render(){const{prefix:e,suffix:t}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Prefix"},s.a.createElement(h.Input,{testID:"prefix-input",value:e,onChange:this.handleUpdatePrefix,placeholder:"%, MPH, etc."}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Suffix"},s.a.createElement(h.Input,{testID:"suffix-input",value:t,onChange:this.handleUpdateSuffix,placeholder:"%, MPH, etc."}))),this.optionalTicks)}get optionalTicks(){const{type:e,tickPrefix:t,tickSuffix:n}=this.props;return"single-stat"===e?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,margin:h.ComponentSize.Small,className:"view-options--checkbox"},s.a.createElement(h.Toggle,{id:"prefixoptional",testID:"tickprefix-input",type:h.InputToggleType.Checkbox,value:t,onChange:this.handleUpdateTickPrefix,size:h.ComponentSize.ExtraSmall}),s.a.createElement(h.InputLabel,{active:!!t},"Optional Prefix"))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,margin:h.ComponentSize.Small,className:"view-options--checkbox"},s.a.createElement(h.Toggle,{id:"suffixoptional",testID:"ticksuffix-input",type:h.InputToggleType.Checkbox,value:n,onChange:this.handleUpdateTickSuffix,size:h.ComponentSize.ExtraSmall}),s.a.createElement(h.InputLabel,{active:!!n},"Optional Suffix"))))}}var bc=fc;let yc=class extends a.PureComponent{constructor(e){super(e),this.handleSetValue=e=>{const t=Object(Xi.a)(e),{digits:n,onDecimalPlacesChange:a}=this.props;t==t&&t>=Ds.n?a({digits:Math.min(t,Ds.m),isEnforced:!0}):a({digits:n,isEnforced:!1}),this.setState({value:t})},this.handleChangeMode=e=>{this.setState({mode:e})},this.state={mode:this.props.digits?h.AutoInputMode.Custom:h.AutoInputMode.Auto,value:this.props.digits}}render(){const{mode:e}=this.state;return s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Element,{label:"Decimal Places"},s.a.createElement(h.AutoInput,{mode:e,onChangeMode:this.handleChangeMode,inputComponent:s.a.createElement(h.Input,{name:"decimal-places",placeholder:"Enter a number",onFocus:this.handleSetValue,onChange:this.handleSetValue,value:this.state.value,min:Ds.n,max:Ds.m,type:h.InputType.Number})})))}};var vc=yc=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],yc),xc=n(382);class wc extends a.PureComponent{render(){const{prefix:e,tickPrefix:t,suffix:n,tickSuffix:a,onUpdatePrefix:r,onUpdateTickPrefix:o,onUpdateSuffix:i,onUpdateTickSuffix:l,onUpdateColors:c}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Gauge")),s.a.createElement(bc,{prefix:e,tickPrefix:t,suffix:n,type:"gauge",tickSuffix:a,onUpdatePrefix:r,onUpdateTickPrefix:o,onUpdateSuffix:i,onUpdateTickSuffix:l}),this.decimalPlaces,s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Colorized Thresholds")),s.a.createElement(h.Grid.Column,null,s.a.createElement(xc.a,{thresholds:this.props.colors,onSetThresholds:c})))}get decimalPlaces(){const{onUpdateDecimalPlaces:e,decimalPlaces:t}=this.props;return t?s.a.createElement(vc,{digits:t.digits,isEnforced:t.isEnforced,onDecimalPlacesChange:e}):null}}const Ec={onUpdatePrefix:bt.H,onUpdateTickPrefix:bt.N,onUpdateSuffix:bt.J,onUpdateTickSuffix:bt.O,onUpdateDecimalPlaces:bt.u,onUpdateColors:bt.t};var kc,Sc=Object(o.c)(null,Ec)(wc);!function(e){e.Background="background",e.Text="text"}(kc||(kc={}));class Cc extends a.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e===kc.Background?this.props.onSetBackground():e===kc.Text&&this.props.onSetText()}}render(){return s.a.createElement(h.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit},s.a.createElement(h.SelectGroup.Option,{name:"threshold-coloring",id:kc.Background,titleText:kc.Background,active:this.activeSetting===kc.Background,onClick:this.handleClick,value:kc.Background},"Background"),s.a.createElement(h.SelectGroup.Option,{name:"threshold-coloring",id:kc.Text,titleText:kc.Text,active:this.activeSetting===kc.Text,onClick:this.handleClick,value:kc.Text},"Text")))}get activeSetting(){const{colors:e}=this.props;return Object(y.get)(e.filter(e=>"scale"!==e.type),"0.type",kc.Text)}}const Tc={onSetBackground:bt.p,onSetText:bt.M};var Oc=Object(o.c)(e=>{return{colors:Object(dt.c)(e).view.properties.colors}},Tc)(Cc);const Dc={onSetPrefix:bt.H,onSetTickPrefix:bt.N,onSetSuffix:bt.J,onSetTickSuffix:bt.O,onSetDecimalPlaces:bt.u,onSetColors:bt.t};var Ic=Object(o.c)(e=>{const t=Object(dt.c)(e).view,{colors:n,prefix:a,suffix:s,decimalPlaces:r,tickPrefix:o,tickSuffix:i}=t.properties;return{colors:n,prefix:a,suffix:s,decimalPlaces:r,tickPrefix:o,tickSuffix:i}},Dc)(e=>{const{colors:t,prefix:n,tickPrefix:a,suffix:r,tickSuffix:o,decimalPlaces:i,onSetPrefix:l,onSetTickPrefix:c,onSetSuffix:u,onSetTickSuffix:m,onSetDecimalPlaces:d,onSetColors:p}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Single-Stat")),s.a.createElement(bc,{prefix:n,tickPrefix:a,suffix:r,type:"single-stat",tickSuffix:o,onUpdatePrefix:l,onUpdateTickPrefix:c,onUpdateSuffix:u,onUpdateTickSuffix:m}),i&&s.a.createElement(vc,{digits:i.digits,isEnforced:i.isEnforced,onDecimalPlacesChange:d}),s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Colorized Thresholds")),s.a.createElement(h.Grid.Column,null,s.a.createElement(xc.a,{thresholds:t,onSetThresholds:p})),s.a.createElement(h.Grid.Column,null,s.a.createElement(Oc,null)))}),jc=n(864),Rc=n(888),Nc=n(1696),Ac=function(e){return t=>s.a.createElement(Nc.a,{backend:Rc.a},s.a.createElement(e,Object.assign({},t)))};class Pc extends a.Component{render(){const{className:e}=this.props;return s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Element,{label:"Table Columns"},s.a.createElement("div",{className:e},this.draggableColumns)))}get draggableColumns(){const{columns:e,onMoveColumn:t,onUpdateColumn:n}=this.props;return e.length?e.map((e,a)=>s.a.createElement(jc.a,{key:e.internalName,index:a,id:e.internalName,internalName:e.internalName,displayName:e.displayName,visible:e.visible,onUpdateColumn:n,onMoveColumn:t})):s.a.createElement(h.Form.Box,null,s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small},s.a.createElement(h.EmptyState.Text,null,"This query returned no columns")))}}var Mc=Ac(Pc);var Lc=({fixed:e,onToggleFixFirstColumn:t})=>s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"First Column"},s.a.createElement(h.Form.Box,null,s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.InputLabel,null,"Scroll with table"),s.a.createElement(h.SlideToggle,{active:e,onChange:t,size:h.ComponentSize.ExtraSmall}),s.a.createElement(h.InputLabel,null,"Fixed")))));var Fc=({fieldOptions:e,onChange:t,selected:n})=>s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Element,{label:"Default Sort Field"},s.a.createElement(h.Dropdown,{className:"dropdown-stretch",button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t},v.a.get(n,"displayName","Choose a sort field")),menu:a=>s.a.createElement(h.Dropdown.Menu,{onCollapse:a},e.filter(e=>!!e.internalName).map(e=>s.a.createElement(h.Dropdown.Item,{key:e.internalName,id:e.internalName,value:e,onClick:t,selected:e.internalName===v.a.get(n,"internalName",null)},e.displayName)))}))),qc=n(868);let Bc=class extends a.Component{constructor(){super(...arguments),this.filterFieldOptions=e=>e.filter(e=>"time"!==e.internalName&&""!==e.internalName&&"result"!==e.internalName&&"table"!==e.internalName),this.handleChangeSortBy=e=>{const{tableOptions:t,onSetTableOptions:n}=this.props;n(Object.assign(Object.assign({},t),{sortBy:e}))},this.handleMoveColumn=(e,t)=>{const n=Object(qc.a)(this.filterFieldOptions(this.props.fieldOptions),e,t);this.props.onSetFieldOptions(n)},this.handleUpdateColumn=e=>{this.props.onUpdateFieldOption(e)},this.handleToggleFixFirstColumn=()=>{const{onSetTableOptions:e,tableOptions:t}=this.props,n=!t.fixFirstColumn;e(Object.assign(Object.assign({},t),{fixFirstColumn:n}))}}render(){const{timeFormat:e,onSetColors:t,fieldOptions:n,tableOptions:a,colors:r,decimalPlaces:o,onSetTimeFormat:i,onSetDecimalPlaces:l}=this.props,c=this.filterFieldOptions(n),{fixFirstColumn:u,sortBy:m}=a;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Table")),!!n.length&&s.a.createElement(Fc,{selected:m,fieldOptions:n,onChange:this.handleChangeSortBy}),s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Element,{label:"Time Format"},s.a.createElement(sc,{timeFormat:e,onTimeFormatChange:i}))),o&&s.a.createElement(vc,{digits:o.digits,isEnforced:o.isEnforced,onDecimalPlacesChange:l}),s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Column Settings")),s.a.createElement(Lc,{fixed:u,onToggleFixFirstColumn:this.handleToggleFixFirstColumn}),s.a.createElement(Mc,{columns:c,onMoveColumn:this.handleMoveColumn,onUpdateColumn:this.handleUpdateColumn}),s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Colorized Thresholds")),s.a.createElement(h.Grid.Column,null,s.a.createElement(xc.a,{thresholds:r,onSetThresholds:t})),s.a.createElement(h.Grid.Column,null,s.a.createElement(Oc,null)))}};Bc=Object(m.a)([p.a],Bc);const zc={onSetDecimalPlaces:bt.u,onSetColors:bt.t,onSetFieldOptions:bt.v,onUpdateFieldOption:bt.fb,onSetTableOptions:bt.L,onSetTimeFormat:bt.P};var Uc=Object(o.c)(e=>{const t=Object(dt.c)(e).view,{colors:n,decimalPlaces:a,fieldOptions:s,tableOptions:r,timeFormat:o}=t.properties;return{colors:n,decimalPlaces:a,fieldOptions:s,tableOptions:r,timeFormat:o}},zc)(Bc);var Hc=({binCount:e,onSetBinCount:t})=>{return s.a.createElement(h.AutoInput,{mode:"number"==typeof e?h.AutoInputMode.Custom:h.AutoInputMode.Auto,onChangeMode:e=>{e===h.AutoInputMode.Auto?t(null):t(30)},inputComponent:s.a.createElement(h.Input,{name:"binCount",value:e,placeholder:"Enter a number",type:h.InputType.Number,min:0,onChange:e=>{const n=Object(Xi.a)(e);t(n)}})})};const Gc={onSetXColumn:bt.U,onSetFillColumns:bt.w,onSetBinCount:bt.q,onSetPosition:bt.y,onSetColors:bt.t,onSetXDomain:bt.V,onSetXAxisLabel:bt.T,onSetLegendOpacity:bt.B,onSetLegendOrientationThreshold:bt.C};var Vc=Object(o.c)(e=>{return{numericColumns:Object(dt.i)(e),availableGroupColumns:Object(dt.g)(e),xColumn:Object(dt.p)(e),fillColumns:Object(dt.f)(e)}},Gc)(e=>{const{xColumn:t,fillColumns:n,numericColumns:a,availableGroupColumns:r,position:o,binCount:i,colors:l,xDomain:c,xAxisLabel:u,onSetXColumn:m,onSetFillColumns:d,onSetPosition:p,onSetBinCount:_,onSetColors:g,onSetXDomain:f,onSetXAxisLabel:b,onSetLegendOpacity:y,onSetLegendOrientationThreshold:x}=e,w=r.length?h.ComponentStatus.Default:h.ComponentStatus.Disabled;return s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Histogram"),s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(nc,{selectedColumn:t,onSelectColumn:m,availableColumns:a,axisName:"x"}),s.a.createElement(h.Form.Element,{label:"Group By"},s.a.createElement(h.MultiSelectDropdown,{options:r,selectedOptions:n,onSelect:e=>{const t=n.find(t=>t===e);let a=n;a=t?n.filter(t=>t!==e):[...n,e],d(a)},buttonStatus:w})),s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(h.Form.Element,{label:"Color Scheme"},s.a.createElement(Wl.a,{value:l,onChange:g})),s.a.createElement(h.Form.Element,{label:"Positioning"},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t},v.a.capitalize(o)),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},s.a.createElement(h.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:p,selected:"overlaid"===o},"Overlaid"),s.a.createElement(h.Dropdown.Item,{id:"stacked",value:"stacked",onClick:p,selected:"stacked"===o},"Stacked"))})),s.a.createElement(h.Form.Element,{label:"Bins"},s.a.createElement(Hc,{binCount:i,onSetBinCount:_})),s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(h.Form.Element,{label:"X Axis Label"},s.a.createElement(h.Input,{value:u,onChange:e=>b(e.target.value)})),s.a.createElement(Yl.a,{domain:c,onSetDomain:f,label:"X Axis Domain"}),s.a.createElement(rc,{onLegendOpacityChange:y,onLegendOrientationThresholdChange:x}))}),$c=n(285);const Wc=[{name:"Magma",colors:ul.MAGMA},{name:"Inferno",colors:ul.INFERNO},{name:"Viridis",colors:ul.VIRIDIS},{name:"Plasma",colors:ul.PLASMA}],Kc={onSetXColumn:bt.U,onSetYColumn:bt.Z,onSetBinSize:bt.r,onSetColors:bt.s,onSetXDomain:bt.V,onSetYDomain:bt.ab,onSetXAxisLabel:bt.T,onSetYAxisLabel:bt.Y,onSetPrefix:bt.n,onSetSuffix:bt.o,onSetTimeFormat:bt.P,onSetLegendOpacity:bt.B,onSetLegendOrientationThreshold:bt.C};var Qc=Object(o.c)(e=>{const t=Object(dt.p)(e),n=Object(dt.q)(e),a=Object(dt.i)(e),s=Object(dt.c)(e).view,{timeFormat:r}=s.properties;return{xColumn:t,yColumn:n,numericColumns:a,timeFormat:r}},Kc)(e=>{const[t,n]=Object(a.useState)(h.ComponentStatus.Default),[r,o]=Object(a.useState)(e.binSize);return s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Heatmap"),s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(nc,{selectedColumn:e.xColumn,onSelectColumn:e.onSetXColumn,availableColumns:e.numericColumns,axisName:"x"}),s.a.createElement(nc,{selectedColumn:e.yColumn,onSelectColumn:e.onSetYColumn,availableColumns:e.numericColumns,axisName:"y"}),s.a.createElement(h.Form.Element,{label:"Time Format"},s.a.createElement(sc,{timeFormat:e.timeFormat,onTimeFormatChange:e.onSetTimeFormat})),s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(h.Form.Element,{label:"Color Scheme"},s.a.createElement($c.a,{colorSchemes:Wc,selectedColorScheme:e.colors,onSelectColorScheme:e.onSetColors})),s.a.createElement(h.Form.Element,{label:"Bin Size"},s.a.createElement(h.Input,{status:t,value:r,type:h.InputType.Number,onChange:t=>{const a=Object(Xi.a)(t);o(a),isNaN(a)||a<5?n(h.ComponentStatus.Error):(n(h.ComponentStatus.Default),e.onSetBinSize(a))},testID:"bin-size-input"})),s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(h.Form.Element,{label:"X Axis Label"},s.a.createElement(h.Input,{value:e.xAxisLabel,onChange:t=>e.onSetXAxisLabel(t.target.value)})),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"X Tick Prefix"},s.a.createElement(h.Input,{value:e.xPrefix,onChange:t=>e.onSetPrefix(t.target.value,"x")}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"X Tick Suffix"},s.a.createElement(h.Input,{value:e.xSuffix,onChange:t=>e.onSetSuffix(t.target.value,"x")})))),s.a.createElement(Yl.a,{domain:e.xDomain,onSetDomain:e.onSetXDomain,label:"X Axis Domain"}),s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(h.Form.Element,{label:"Y Axis Label"},s.a.createElement(h.Input,{value:e.yAxisLabel,onChange:t=>e.onSetYAxisLabel(t.target.value)})),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Y Tick Prefix"},s.a.createElement(h.Input,{value:e.yPrefix,onChange:t=>e.onSetPrefix(t.target.value,"y")}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Y Tick Suffix"},s.a.createElement(h.Input,{value:e.ySuffix,onChange:t=>e.onSetSuffix(t.target.value,"y")})))),s.a.createElement(Yl.a,{domain:e.yDomain,onSetDomain:e.onSetYDomain,label:"Y Axis Domain"}),s.a.createElement(rc,{onLegendOpacityChange:e.onSetLegendOpacity,onLegendOrientationThresholdChange:e.onSetLegendOrientationThreshold}))});const Yc={onSetFillColumns:bt.w,onSetSymbolColumns:bt.K,onSetColors:bt.s,onSetYAxisLabel:bt.Y,onSetXAxisLabel:bt.T,onUpdateAxisPrefix:bt.n,onUpdateAxisSuffix:bt.o,onSetXDomain:bt.V,onSetYDomain:bt.ab,onSetXColumn:bt.U,onSetYColumn:bt.Z,onSetTimeFormat:bt.P,onSetLegendOpacity:bt.B,onSetLegendOrientationThreshold:bt.C};var Xc=Object(o.c)(e=>{const t=Object(dt.g)(e),n=Object(dt.f)(e),a=Object(dt.m)(e),s=Object(dt.p)(e),r=Object(dt.q)(e),o=Object(dt.i)(e),i=Object(dt.c)(e).view,{timeFormat:l}=i.properties;return{availableGroupColumns:t,fillColumns:n,symbolColumns:a,xColumn:s,yColumn:r,numericColumns:o,timeFormat:l}},Yc)(e=>{const{fillColumns:t,symbolColumns:n,availableGroupColumns:a,yAxisLabel:r,xAxisLabel:o,onSetFillColumns:i,onSetSymbolColumns:l,colors:c,onSetColors:u,onSetYAxisLabel:m,onSetXAxisLabel:d,xPrefix:p,xSuffix:_,yPrefix:g,ySuffix:f,onUpdateAxisSuffix:b,onUpdateAxisPrefix:y,xDomain:v,onSetXDomain:w,yDomain:E,onSetYDomain:k,xColumn:S,yColumn:C,numericColumns:T,onSetXColumn:O,onSetYColumn:D,onSetTimeFormat:I,timeFormat:j,onSetLegendOpacity:R,onSetLegendOrientationThreshold:N}=e,A=a.length?h.ComponentStatus.Default:h.ComponentStatus.Disabled;return s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Scatter Plot"),s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(h.Form.Element,{label:"Symbol Column"},s.a.createElement(h.MultiSelectDropdown,{options:a,selectedOptions:n,onSelect:e=>{let t;t=n.includes(e)?n.filter(t=>t!==e):[...n,e],l(t)},buttonStatus:A})),s.a.createElement(h.Form.Element,{label:"Fill Column"},s.a.createElement(h.MultiSelectDropdown,{options:a,selectedOptions:t,onSelect:e=>{let n;n=t.includes(e)?t.filter(t=>t!==e):[...t,e],i(n)},buttonStatus:A})),s.a.createElement(nc,{selectedColumn:S,onSelectColumn:O,availableColumns:T,axisName:"x"}),s.a.createElement(nc,{selectedColumn:C,onSelectColumn:D,availableColumns:T,axisName:"y"}),s.a.createElement(h.Form.Element,{label:"Time Format"},s.a.createElement(sc,{timeFormat:j,onTimeFormatChange:I})),s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(h.Form.Element,{label:"Color Scheme"},s.a.createElement($c.a,{colorSchemes:x.w,selectedColorScheme:c,onSelectColorScheme:u})),s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(h.Form.Element,{label:"X Axis Label"},s.a.createElement(h.Input,{value:o,onChange:e=>d(e.target.value)})),s.a.createElement(h.Grid.Row,null,s.a.createElement($l,{prefix:p,suffix:_,axisName:"x",onUpdateAxisPrefix:e=>y(e,"x"),onUpdateAxisSuffix:e=>b(e,"x")})),s.a.createElement(Yl.a,{domain:v,onSetDomain:w,label:"X Axis Domain"}),s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(h.Form.Element,{label:"Y Axis Label"},s.a.createElement(h.Input,{value:r,onChange:e=>m(e.target.value)})),s.a.createElement(h.Grid.Row,null,s.a.createElement($l,{prefix:g,suffix:f,axisName:"y",onUpdateAxisPrefix:e=>y(e,"y"),onUpdateAxisSuffix:e=>b(e,"y")})),s.a.createElement(Yl.a,{domain:E,onSetDomain:k,label:"Y Axis Domain"}),s.a.createElement(rc,{onLegendOpacityChange:R,onLegendOrientationThresholdChange:N}))});const Zc={onSetFillColumns:bt.w,onSetColors:bt.s,onSetYAxisLabel:bt.Y,onSetXAxisLabel:bt.T,onSetYDomain:bt.ab,onSetXColumn:bt.U,onSetYSeriesColumns:bt.bb,onSetTimeFormat:bt.P,onSetLegendOpacity:bt.B,onSetLegendOrientationThreshold:bt.C};var Jc=Object(o.c)(e=>{const t=Object(dt.g)(e),n=Object(dt.f)(e),a=Object(dt.p)(e),s=Object(dt.q)(e),r=Object(dt.l)(e),o=Object(dt.i)(e),i=Object(dt.c)(e).view,{timeFormat:l}=i.properties;return{availableGroupColumns:t,fillColumns:n,xColumn:a,yColumn:s,stringColumns:r,numericColumns:o,timeFormat:l}},Zc)(e=>{const{fillColumns:t,yAxisLabel:n,xAxisLabel:a,onSetFillColumns:r,colors:o,onSetColors:i,onSetYAxisLabel:l,onSetXAxisLabel:c,xColumn:u,yColumn:m,stringColumns:d,numericColumns:p,onSetXColumn:_,onSetYSeriesColumns:g,onSetTimeFormat:f,timeFormat:b,onSetLegendOpacity:y,onSetLegendOrientationThreshold:v}=e;return s.a.createElement(h.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Mosaic Plot"),s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(nc,{selectedColumn:t[0],onSelectColumn:e=>{r([e])},availableColumns:d,axisName:"fill"}),s.a.createElement(nc,{selectedColumn:u,onSelectColumn:_,availableColumns:p,axisName:"x"}),s.a.createElement(nc,{selectedColumn:m,onSelectColumn:e=>{g([e])},availableColumns:d,axisName:"y"}),s.a.createElement(h.Form.Element,{label:"Time Format"},s.a.createElement(sc,{timeFormat:b,onTimeFormatChange:f})),s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(h.Form.Element,{label:"Color Scheme"},s.a.createElement($c.a,{colorSchemes:x.w,selectedColorScheme:o,onSelectColorScheme:i})),s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(h.Form.Element,{label:"X Axis Label"},s.a.createElement(h.Input,{value:a,onChange:e=>c(e.target.value)})),s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(h.Form.Element,{label:"Y Axis Label"},s.a.createElement(h.Input,{value:n,onChange:e=>l(e.target.value)}))," ",s.a.createElement(rc,{onLegendOpacityChange:y,onLegendOrientationThresholdChange:v}))});class eu extends a.PureComponent{render(){const{view:e}=this.props;switch(e.properties.type){case"line-plus-single-stat":return s.a.createElement(s.a.Fragment,null,s.a.createElement(gc,Object.assign({},e.properties)),s.a.createElement(Ic,null));case"xy":return s.a.createElement(gc,Object.assign({},e.properties));case"band":return s.a.createElement(dc,Object.assign({},e.properties));case"gauge":return s.a.createElement(Sc,Object.assign({},e.properties));case"single-stat":return s.a.createElement(Ic,null);case"table":return s.a.createElement(Uc,null);case"histogram":return s.a.createElement(Vc,Object.assign({},e.properties));case"heatmap":return s.a.createElement(Qc,Object.assign({},e.properties));case"scatter":return s.a.createElement(Xc,Object.assign({},e.properties));case"mosaic":return s.a.createElement(Jc,Object.assign({},e.properties));default:return s.a.createElement("div",null)}}}var tu=eu;class nu extends a.PureComponent{render(){return s.a.createElement("div",{className:"view-options"},s.a.createElement(h.DapperScrollbars,{autoHide:!1,style:{width:"100%",height:"100%"}},s.a.createElement("div",{className:"view-options--container"},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(tu,{view:this.props.view}))))))}}const au={onUpdateType:bt.R};var su=Object(o.c)(e=>{const{view:t}=Object(dt.c)(e);return{view:t}},au)(nu);class ru extends a.PureComponent{constructor(){super(...arguments),this.state={didClick:!1},this.handleClick=()=>{this.props.onExecuteCheckQuery(),this.setState({didClick:!0})}}componentDidUpdate(e){e.queryStatus===W.RemoteDataState.Loading&&this.props.queryStatus===W.RemoteDataState.Done&&this.setState({didClick:!1})}render(){return s.a.createElement(h.Button,{text:"Execute check query and view statuses",size:h.ComponentSize.Small,status:this.buttonStatus,onClick:this.handleClick,color:h.ComponentColor.Primary,testID:"time-machine-check-query-run-button"})}get buttonStatus(){const{queryStatus:e,submitButtonDisabled:t}=this.props,{didClick:n}=this.state;return t?h.ComponentStatus.Disabled:e===W.RemoteDataState.Loading&&n?h.ComponentStatus.Loading:h.ComponentStatus.Default}}const ou={onExecuteCheckQuery:co.c};var iu=Object(o.c)(e=>{return{submitButtonDisabled:""===Object(dt.a)(e).text,queryStatus:Object(dt.c)(e).queryResults.status}},ou)(ru);var lu=()=>s.a.createElement("div",{className:"time-machine-queries"},s.a.createElement("div",{className:"time-machine-queries--controls"},s.a.createElement(Mi,null),s.a.createElement("div",{className:"time-machine-queries--buttons"},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.FlexEnd,margin:h.ComponentSize.Small},s.a.createElement(Oi,null),s.a.createElement(iu,null)))),s.a.createElement("div",{className:"time-machine-queries--body"},s.a.createElement(wo,null)));var cu=Object(o.c)(e=>{const{activeTab:t,isViewingVisOptions:n}=Object(dt.c)(e);return{activeTab:t,isViewingVisOptions:n}})(({activeTab:e,isViewingVisOptions:t})=>{const[n,r]=Object(a.useState)([.5]),o=f()("time-machine",{"time-machine--split":t});let i=null;return"alerting"===e?i=s.a.createElement(fl,null):"queries"===e?i=s.a.createElement(zi,null):"customCheckQuery"===e&&(i=s.a.createElement(lu,null)),s.a.createElement(s.a.Fragment,null,t&&s.a.createElement(su,null),s.a.createElement("div",{className:o},s.a.createElement(h.DraggableResizer,{handleOrientation:h.Orientation.Horizontal,handlePositions:n,onChangePositions:r},s.a.createElement(h.DraggableResizer.Panel,null,s.a.createElement("div",{className:"time-machine--top"},s.a.createElement(zl,null))),s.a.createElement(h.DraggableResizer.Panel,null,s.a.createElement("div",{className:"time-machine--bottom","data-testid":"time-machine--bottom"},s.a.createElement("div",{className:"time-machine--bottom-contents"},i))))))});class uu extends a.PureComponent{componentDidMount(){x.i&&this.props.getReadWriteCardinalityLimits()}render(){return this.props.children}}const mu={getReadWriteCardinalityLimits:xt.j};var du=Object(o.c)(null,mu)(uu),pu=n(507),hu=n(782),_u=n(308),gu=n.n(_u);const fu=()=>gu.a.parse(window.location.search,{ignoreQueryPrefix:!0});var bu=()=>{const e=Object(o.d)();return Object(a.useEffect)(()=>{const t=fu().bucket;e(Object(bt.l)("de")),hu.a.clearCache(),e(Object(V.n)(t))},[e]),s.a.createElement(du,null,s.a.createElement("div",{className:"data-explorer"},s.a.createElement(pu.a,null,s.a.createElement(cu,null))))};class yu extends a.PureComponent{constructor(){super(...arguments),this.handleShowOverlay=()=>{const{location:{pathname:e}}=this.props;this.props.history.push(`${e}/save`)}}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Button,{icon:h.IconFont.Export,text:"Save As",onClick:this.handleShowOverlay,color:h.ComponentColor.Primary,titleText:"Save your query as a Dashboard Cell or a Task",testID:"save-query-as"}))}}var vu=Object(i.j)(yu);const xu={onToggleVisOptions:bt.db};var wu=Object(o.c)(e=>{const{isViewingVisOptions:t}=Object(dt.c)(e);return{isViewingVisOptions:t}},xu)(({isViewingVisOptions:e,onToggleVisOptions:t})=>{const n=e?h.ComponentColor.Primary:h.ComponentColor.Default;return s.a.createElement(h.Button,{color:n,icon:h.IconFont.CogThick,onClick:t,testID:"cog-cell--button",text:"Customize"})});const Eu=[{timeZone:"Local",displayName:"Local Time"},{timeZone:"UTC",displayName:"UTC"}],ku=({timeZone:e,onSetTimeZone:t})=>s.a.createElement(h.SelectDropdown,{options:Eu.map(e=>e.timeZone),selectedOption:e,onSelect:t,buttonIcon:h.IconFont.Annotate,style:{width:"115px"}}),Su={onSetTimeZone:F.j};var Cu=Object(o.c)(e=>({timeZone:Object(Fi.c)(e)}),Su)(ku);var Tu=Object(i.j)(({location:{pathname:e},history:t})=>{return s.a.createElement(L.a,{name:"deleteWithPredicate"},s.a.createElement(h.Button,{testID:"delete-data-predicate",text:"Delete Data",onClick:()=>t.push(`${e}/delete-data`),titleText:"Filter and mark data for deletion"}))});let Ou=class extends a.PureComponent{constructor(){super(...arguments),this.handleSelectDashboard=e=>{const{onSelect:t,selectedIDs:n}=this.props;let a;t(a=n.includes(e.id)?n.filter(t=>t!==e.id):[...n,e.id],e)}}render(){return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,testID:"save-as-dashboard-cell--dropdown"},this.dropdownLabel),menu:()=>s.a.createElement(h.Dropdown.Menu,{testID:"save-as-dashboard-cell--dropdown-menu"},this.dropdownItems)})}get dropdownLabel(){const{dashboards:e,selectedIDs:t,newDashboardName:n}=this.props;return t.length?[...e,Object.assign(Object.assign({},Ds.k),{name:n})].filter(e=>t.includes(e.id)).map(e=>e.name).join(", "):"Choose at least 1 dashboard"}get dropdownItems(){const{dashboards:e,selectedIDs:t}=this.props,n=e.map(e=>s.a.createElement(h.Dropdown.Item,{id:e.id,key:e.id,value:e,type:h.DropdownItemType.Checkbox,onClick:this.handleSelectDashboard,selected:t.includes(e.id)},e.name));return[this.newDashboardItem,this.dividerItem,...n]}get newDashboardItem(){const{selectedIDs:e}=this.props;return s.a.createElement(h.Dropdown.Item,{id:Ds.k.id,key:Ds.k.id,value:Ds.k,type:h.DropdownItemType.Checkbox,onClick:this.handleSelectDashboard,selected:e.includes(Ds.k.id),testID:"save-as-dashboard-cell--create-new-dash"},Ds.k.name)}get dividerItem(){return s.a.createElement(h.Dropdown.Divider,{id:"divider",key:"existing-dashboards"})}};var Du=Ou=Object(m.a)([p.a],Ou),Iu=n(290);let ju=class extends a.PureComponent{constructor(){super(...arguments),this.state={targetDashboardIDs:[],cellName:"",isNameDashVisible:!1,newDashboardName:Ds.e},this.handleSubmit=()=>{const{onCreateCellWithView:e,onCreateDashboardWithView:t,dashboards:n,view:a,dismiss:s,orgID:r}=this.props,{targetDashboardIDs:o}=this.state,i=this.state.cellName||Ds.c,l=this.state.newDashboardName||Ds.e,c=Object.assign(Object.assign({},a),{name:i});try{o.forEach(a=>{if(a===Ds.k.id)return void t(r,l,c);const s=n.find(e=>e.id===a);e(s.id,c)})}catch(e){console.error(e)}finally{this.resetForm(),s()}},this.handleSelectDashboardID=(e,t)=>{t.id===Ds.k.id&&this.setState({isNameDashVisible:e.includes(Ds.k.id)}),this.setState({targetDashboardIDs:e})},this.handleChangeDashboardName=e=>{this.setState({newDashboardName:e.target.value})},this.handleChangeCellName=e=>{this.setState({cellName:e.target.value})}}componentDidMount(){const{onGetDashboards:e}=this.props;e()}render(){const{dismiss:e,dashboards:t}=this.props,{cellName:n,isNameDashVisible:a,targetDashboardIDs:r,newDashboardName:o}=this.state;return s.a.createElement(h.Form,{onSubmit:this.handleSubmit},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Target Dashboard(s)"},s.a.createElement(Du,{onSelect:this.handleSelectDashboardID,selectedIDs:r,dashboards:t,newDashboardName:o}))),a&&this.nameDashboard,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Cell Name"},s.a.createElement(h.Input,{type:h.InputType.Text,placeholder:"Add optional cell name",name:"cellName",value:n,onChange:this.handleChangeCellName,testID:"save-as-dashboard-cell--cell-name"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:e,titleText:"Cancel save",type:h.ButtonType.Button,testID:"save-as-dashboard-cell--cancel"}),s.a.createElement(h.Button,{text:"Save as Dashboard Cell",testID:"save-as-dashboard-cell--submit",color:h.ComponentColor.Success,type:h.ButtonType.Submit,onClick:this.handleSubmit,status:this.isFormValid?h.ComponentStatus.Default:h.ComponentStatus.Disabled}))))))}get nameDashboard(){const{newDashboardName:e}=this.state;return s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"New Dashboard Name"},s.a.createElement(h.Input,{type:h.InputType.Text,placeholder:"Add dashboard name",name:"dashboardName",value:e,onChange:this.handleChangeDashboardName,testID:"save-as-dashboard-cell--dashboard-name"})))}get isFormValid(){const{targetDashboardIDs:e}=this.state;return!Object(y.isEmpty)(e)}resetForm(){this.setState({targetDashboardIDs:[],cellName:"",isNameDashVisible:!1,newDashboardName:Ds.e})}};ju=Object(m.a)([p.a],ju);const Ru={onGetDashboards:ue.i,onCreateCellWithView:Iu.a,onCreateDashboardWithView:Iu.b,notify:$.c};var Nu=Object(o.c)(e=>{const t=Object(dt.j)(e),n=Object(S.a)(e),a=Object(ve.a)(e,W.ResourceType.Dashboards);return{dashboards:Object(Fi.e)(a),view:t,orgID:Object(y.get)(n,"id","")}},Ru)(ju),Au=n(786);class Pu extends a.PureComponent{constructor(){super(...arguments),this.handleSubmit=()=>{const{saveNewScript:e,newScript:t,taskOptions:n}=this.props,a=[...this.props.userDefinedVars].filter(e=>t.includes(e.id.name)),s=`${Object(Au.a)(a)}\n\n${Sr(n)}`;e(Cr(t,n),s)},this.handleChangeToBucketName=e=>{const{setTaskOption:t}=this.props;t({key:"toBucketName",value:e})},this.handleChangeScheduleType=e=>{const{setTaskOption:t}=this.props;t({key:"taskScheduleType",value:e})},this.handleChangeInput=e=>{const{setTaskOption:t}=this.props;t({key:e.target.name,value:e.target.value})}}componentDidMount(){const{setTaskOption:e,setNewScript:t}=this.props;e({key:"taskScheduleType",value:W.TaskSchedule.interval}),t(this.activeScript)}componentWillUnmount(){const{clearTask:e}=this.props;e()}render(){const{taskOptions:e,dismiss:t}=this.props;return s.a.createElement(wr,{taskOptions:e,onChangeScheduleType:this.handleChangeScheduleType,onChangeInput:this.handleChangeInput,onChangeToBucketName:this.handleChangeToBucketName,isInOverlay:!0,onSubmit:this.handleSubmit,canSubmit:this.isFormValid,dismiss:t})}get isFormValid(){const{taskOptions:{name:e,cron:t,interval:n}}=this.props;return(!!t||!!n)&&!!e&&!!this.activeScript}get activeScript(){const{activeQuery:e}=this.props;return e.text}}const Mu={saveNewScript:Zt,setTaskOption:Ht.C,clearTask:Ht.r,setNewScript:Ht.y};var Lu=Object(o.c)(e=>{const{newScript:t,taskOptions:n}=e.resources.tasks,a=Object(dt.a)(e),s=Object(S.a)(e),r=Object(uo.g)(e).map(e=>Object(uo.a)(e)).filter(e=>!!e);return{newScript:t,taskOptions:Object.assign(Object.assign({},n),{toOrgName:s.name}),activeQuery:a,userDefinedVars:r}},Mu)(Object(i.j)(Pu)),Fu=n(313);const qu=e=>{return e.trim().replace(/(^")|("$)/g,"")},Bu=e=>Object.entries(e).map(([e,t])=>`${e},"${t}"`).join("\n"),zu=e=>1===Object.keys(e).length?"":"s";let Uu=class extends a.PureComponent{constructor(){super(...arguments),this.state={templateValuesString:Bu(this.props.values)},this.handleBlur=()=>{const{onChange:e}=this.props,{templateValuesString:t}=this.state;e(this.constructValuesFromString(t))},this.handleChange=e=>{const t=e.target.value;this.setState({templateValuesString:t})}}render(){const{onSelectDefault:e}=this.props,{templateValuesString:t}=this.state,{entries:n}=this;return s.a.createElement(h.Form.Element,{label:"Comma Separated Key-Value Pairs Per Line"},s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.TextArea,{value:t,onChange:this.handleChange,onBlur:this.handleBlur}))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement("p",null,"Mapping contains ",s.a.createElement("strong",null,n.length)," key-value pair",zu(n))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Select A Default"},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,testID:"map-variable-dropdown--button"},this.defaultID),menu:t=>s.a.createElement(h.Dropdown.Menu,{onCollapse:t},n.map(t=>s.a.createElement(h.Dropdown.Item,{key:t.key,id:t.key,value:t.key,onClick:e,selected:t.key===this.defaultID},s.a.createElement("strong",null,t.key)," ",s.a.createElement(h.Icon,{glyph:h.IconFont.CaretRight})," ",t.value)))})))))}get defaultID(){const{selected:e}=this.props,{entries:t}=this,n=v.a.get(t,"0.key","Enter values above");return v.a.get(e,"0",n)}get entries(){const{values:e}=this.props;return e?Object.entries(e).map(([e,t])=>({key:e,value:t})):[]}constructValuesFromString(e){const{notify:t}=this.props,{errors:n,values:a}=(e=>{let t=[];const n=v.a.trimEnd(e,"\n"),a=kl.a.parse(n),s=v.a.get(a,"data",[[]]);if(0===s.length)return{values:{},errors:t};const r=new Set,o={};for(const e of s)if(2===e.length||3===e.length&&""===e[2]){const t=qu(e[0]),n=qu(e[1]);r.has(t)||""===t||(o[t]=n,r.add(t))}else t=[...t,e[0]];return{values:o,errors:t}})(e);return n.length>0&&t(Object(me.Kb)()),{values:a,errors:n}}};Uu=Object(m.a)([p.a],Uu);const Hu={notify:$.c};var Gu=Object(o.c)(null,Hu)(Uu);let Vu=class extends a.PureComponent{constructor(){super(...arguments),this.state={csv:this.props.values.map(e=>`"${e}"`).join(",\n ")},this.handleBlur=()=>{const{onChange:e}=this.props,{csv:t}=this.state;e(this.getUniqueValuesFromCSV(t))},this.handleChange=e=>{const t=e.target.value;this.setState({csv:t})}}render(){const{onSelectDefault:e,values:t}=this.props,{csv:n}=this.state;return s.a.createElement(h.Form.Element,{label:"Comma Separated Values"},s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.TextArea,{value:n,onChange:this.handleChange,onBlur:this.handleBlur}))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement("p",null,"CSV contains ",s.a.createElement("strong",null,t.length)," value",zu(t))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Select A Default"},s.a.createElement(h.SelectDropdown,{options:t,selectedOption:this.defaultID,onSelect:e,testID:"csv-value-select-dropdown"})))))}get defaultID(){const{selected:e,values:t}=this.props,n=v.a.get(t,"0","Enter values above");return v.a.get(e,"0",n)}getUniqueValuesFromCSV(e){const t=kl.a.parse(e),n=v.a.get(t,"data",[[]]),a=new Set;for(const e of n)for(const t of e){const e=qu(t);""!==e&&a.add(e)}return[...a]}};var $u=Vu=Object(m.a)([p.a],Vu);class Wu extends a.PureComponent{constructor(){super(...arguments),this.handleChangeCSV=e=>{const{onChange:t}=this.props;t({args:{type:"constant",values:e},isValid:e.length>0})},this.handleChangeQuery=e=>{const{onChange:t}=this.props;t({args:{type:"query",values:{language:"flux",query:e}},isValid:!e.match(/^\s*$/)})},this.handleChangeMap=e=>{const{onChange:t}=this.props;t({args:{type:"map",values:e.values},isValid:0===e.errors.length&&Object.keys(e.values).length>0})}}render(){const{args:e,onSelectMapDefault:t,selected:n}=this.props;switch(e.type){case"query":return s.a.createElement(h.Form.Element,{label:"Script"},s.a.createElement("div",{className:"overlay-flux-editor"},s.a.createElement(kr.a,{script:e.values.query,onChangeScript:this.handleChangeQuery})));case"map":return s.a.createElement(Gu,{onChange:this.handleChangeMap,values:e.values,onSelectDefault:t,selected:n});case"constant":return s.a.createElement($u,{onChange:this.handleChangeCSV,values:e.values,onSelectDefault:t,selected:n})}}}var Ku=Wu,Qu=n(120);const Yu=[Qu.c,Qu.d,Qu.e],Xu=(e,t)=>{if((e||"").match(/^\s*$/))return{error:"Variable name cannot be empty"};const n=e.toLocaleLowerCase(),a=Yu.find(e=>e.toLocaleLowerCase()===n);return a?{error:`Variable name is reserved: ${a}`}:t.find(e=>e.name.toLocaleLowerCase()===n)?{error:"Variable name must be unique"}:e[0].match(/[A-Z]|[_]/i)?{error:null}:{error:"Variable name must begin with a letter or underscore"}};class Zu extends a.PureComponent{constructor(e){super(e),this.handleSubmit=()=>{const{name:e,onCreateVariable:t,onHideOverlay:n}=this.props,{selected:a}=this.state;t({selected:a,name:e,arguments:this.activeVariable}),n()},this.handleChangeType=e=>{const{variableType:t,onTypeUpdate:n}=this.props,{isNameValid:a}=this.state,s={selected:null,hasValidArgs:!1,isNameValid:a};t!==e&&(this.setState(s),n(e))},this.handleSelectMapDefault=e=>{this.setState({selected:[e]})},this.handleChangeArgs=({args:e,isValid:t})=>{const{onQueryUpdate:n,onMapUpdate:a,onConstantUpdate:s}=this.props;switch(e.type){case"query":n(e);break;case"map":a(e);break;case"constant":s(e)}this.setState({hasValidArgs:t})},this.handleNameValidation=e=>{const{variables:t}=this.props,{error:n}=Xu(e,t);return this.setState({isNameValid:!n}),n},this.handleChangeInput=e=>{const{value:t}=e.target;this.props.onNameUpdate(t)},this.state={isNameValid:!1,hasValidArgs:!1,firstRun:!0,selected:null}}render(){const{name:e,variableType:t,onHideOverlay:n,submitButtonText:a}=this.props,{selected:r}=this.state,o=a||"Create Variable";return s.a.createElement(h.Form,{onSubmit:this.handleSubmit,testID:"variable-form--root"},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement("div",{className:"overlay-flux-editor--spacing"},s.a.createElement(h.Form.ValidationElement,{label:"Name",value:e,required:!0,validationFunc:this.handleNameValidation},t=>s.a.createElement(h.Input,{placeholder:"Give your variable a name",name:"name",autoFocus:!0,value:e,onChange:this.handleChangeInput,status:t})))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Type",required:!0},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},this.typeDropdownLabel),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},Qu.f.map(e=>s.a.createElement(h.Dropdown.Item,{key:e.type,id:e.type,testID:`variable-type-dropdown-${e.type}`,value:e.type,onClick:this.handleChangeType,selected:e.type===t},e.label)))})))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(Ku,{onChange:this.handleChangeArgs,onSelectMapDefault:this.handleSelectMapDefault,selected:r,args:this.activeVariable}))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:n}),s.a.createElement(h.Button,{text:o,type:h.ButtonType.Submit,color:h.ComponentColor.Success,status:this.isFormValid?h.ComponentStatus.Default:h.ComponentStatus.Disabled}))))))}get typeDropdownLabel(){const{variableType:e}=this.props;return Qu.f.find(t=>t.type===e).label}get isFormValid(){const{isNameValid:e}=this.state;return this.validArgs&&e}get activeVariable(){const{initialScript:e,variableType:t,query:n,map:a,constant:s}=this.props,{firstRun:r}=this.state;switch(t){case"query":{const t=n;return r&&!t.values.query.length&&(t.values.query=e||""),t}case"map":return a;case"constant":return s}return n}get validArgs(){const{variableType:e,query:t,map:n,constant:a}=this.props;switch(e){case"query":return!!t.values.query;case"constant":return 0!==a.values.length;case"map":return 0!==Object.keys(n.values).length;default:return!1}}}class Ju extends a.PureComponent{constructor(){super(...arguments),this.handleHideOverlay=()=>{const{onHideOverlay:e,onEditorClose:t}=this.props;t(),e()}}render(){const e=Object.assign(Object.assign({},this.props),{onHideOverlay:this.handleHideOverlay});return s.a.createElement(Zu,Object.assign({},e))}}const em={onNameUpdate:Fu.t,onTypeUpdate:Fu.v,onQueryUpdate:Fu.u,onMapUpdate:Fu.s,onConstantUpdate:Fu.r,onEditorClose:Fu.l,onCreateVariable:dn.c};var tm=Object(o.c)(e=>{return{variables:Object(uo.j)(e),name:Object(uo.d)(e),variableType:Object(uo.f)(e),query:Object(uo.e)(e),map:Object(uo.c)(e),constant:Object(uo.b)(e)}},em)(Ju);class nm extends a.PureComponent{render(){const{initialScript:e,onHideOverlay:t}=this.props;return s.a.createElement(tm,{initialScript:e,onHideOverlay:t,submitButtonText:"Save as Variable"})}}var am,sm=Object(o.c)(e=>{return{initialScript:Object(dt.a)(e).text}},null)(Object(i.j)(nm));!function(e){e.Dashboard="dashboard",e.Task="task",e.Variable="variable"}(am||(am={}));class rm extends a.PureComponent{constructor(){super(...arguments),this.state={saveAsOption:am.Dashboard},this.handleHideOverlay=()=>{this.props.history.goBack()},this.handleSetSaveAsOption=e=>{this.setState({saveAsOption:e})}}render(){const{saveAsOption:e}=this.state;return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:600},s.a.createElement(h.Overlay.Header,{title:"Save As",onDismiss:this.handleHideOverlay,testID:"save-as-overlay--header"}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Tabs.Container,{orientation:h.Orientation.Horizontal},s.a.createElement(h.Tabs,{alignment:h.Alignment.Center,size:h.ComponentSize.Medium},s.a.createElement(h.Tabs.Tab,{id:am.Dashboard,text:"Dashboard Cell",testID:"cell-radio-button",onClick:this.handleSetSaveAsOption,active:e===am.Dashboard}),s.a.createElement(h.Tabs.Tab,{id:am.Task,text:"Task",testID:"task--radio-button",onClick:this.handleSetSaveAsOption,active:e===am.Task}),s.a.createElement(h.Tabs.Tab,{id:am.Variable,text:"Variable",testID:"variable-radio-button",onClick:this.handleSetSaveAsOption,active:e===am.Variable})),s.a.createElement(h.Tabs.TabContents,null,this.saveAsForm)))))}get saveAsForm(){const{saveAsOption:e}=this.state;return e===am.Dashboard?s.a.createElement(Nu,{dismiss:this.handleHideOverlay}):e===am.Task?s.a.createElement(Lu,{dismiss:this.handleHideOverlay}):e===am.Variable?s.a.createElement(sm,{onHideOverlay:this.handleHideOverlay}):void 0}}var om=Object(i.j)(rm),im=n(425),lm=n(121),cm=n(364);var um=Object(o.c)(e=>{return{bucketNames:Object(cm.b)(e).map(e=>e.name)}})(({bucketNames:e,bucketName:t,onSetBucketName:n})=>s.a.createElement(h.SelectDropdown,{options:e,selectedOption:t,onSelect:n}));var mm=({status:e,valid:t,onClick:n})=>{if(e===W.RemoteDataState.Done)return s.a.createElement("div",{className:"delete-data-button delete-data-button--success"},s.a.createElement(h.Icon,{glyph:h.IconFont.Checkmark}),"Success!");if(e===W.RemoteDataState.Error)return s.a.createElement("div",{className:"delete-data-button delete-data-button--error"},s.a.createElement(h.Icon,{glyph:h.IconFont.Remove}),"An error occured and has been reported.");let a;return a=e===W.RemoteDataState.Loading?h.ComponentStatus.Loading:t?h.ComponentStatus.Default:h.ComponentStatus.Disabled,s.a.createElement(h.Button,{testID:"confirm-delete-btn",text:"Confirm Delete",color:h.ComponentColor.Danger,status:a,onClick:n})},dm=n(429);const pm=e=>({type:"SET_DELETION_STATUS",payload:{deletionStatus:e}}),hm=e=>({type:"SET_PREVIEW_STATUS",payload:{previewStatus:e}}),_m=e=>({type:"SET_DELETE_TIME_RANGE",payload:{timeRange:e}});var gm=n(183),fm=n(251);const bm=e=>async(t,n)=>{const a=Object(S.a)(n()).id;try{const n=`import "influxdata/influxdb/v1"\n    v1.tagKeys(bucket: "${e}")\n    |> filter(fn: (r) => r._value != "_stop" and r._value != "_start")`,s=await Object(im.a)(Object(lm.a)(a,n),"_value").promise;s.sort(),t((e=>({type:"SET_BUCKET_NAME",payload:{bucketName:e}}))(e)),t((e=>({type:"SET_KEYS_BY_BUCKET",payload:{keys:e}}))(s))}catch(e){t(Object($.c)(Object(me.uc)())),t(pm(W.RemoteDataState.Error))}},ym={setValuesByKey:(e,t)=>async(n,a)=>{const s=Object(S.a)(a()).id;try{const a=`import "influxdata/influxdb/v1" v1.tagValues(bucket: "${e}", tag: "${t}")`,r=await Object(im.a)(Object(lm.a)(s,a),"_value").promise;r.sort(),n((e=>({type:"SET_VALUES_BY_KEY",payload:{values:e}}))(r))}catch(e){n(Object($.c)(Object(me.vc)())),n(pm(W.RemoteDataState.Error))}}};var vm=Object(o.c)(null,ym)(({bucket:e,filter:{key:t,equality:n,value:a},keys:r,onChange:o,onDelete:i,setValuesByKey:l,shouldValidate:c,values:u})=>{const m=c&&""===t.trim()?"Key cannot be empty":null,d=c&&""===n.trim()?"Equality cannot be empty":null,p=c&&""===a.trim()?"Value cannot be empty":null,_=e=>o({key:t,equality:n,value:e});return s.a.createElement("div",{className:"delete-data-filter"},s.a.createElement(h.Form.Element,{label:"Tag Key",required:!0,errorMessage:m},s.a.createElement(Qo,{className:"dwp-filter-dropdown",searchTerm:t,emptyText:"No Tags Found",searchPlaceholder:"Search keys...",selectedOption:t,onSelect:t=>{l(e,t),o({key:t,equality:n,value:a})},onChangeSearchTerm:e=>o({key:e,equality:n,value:a}),testID:"dwp-filter-key-input",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:r})),s.a.createElement(h.Form.Element,{label:"Equality Filter",required:!0,errorMessage:d},s.a.createElement(h.SelectDropdown,{className:"dwp-filter-dropdown",options:["=","!="],selectedOption:n,onSelect:e=>o({key:t,equality:e,value:a})})),s.a.createElement(h.Form.Element,{label:"Tag Value",required:!0,errorMessage:p},s.a.createElement(Qo,{className:"dwp-filter-dropdown",searchTerm:a,emptyText:"No Tags Found",searchPlaceholder:"Search values...",selectedOption:a,onSelect:_,onChangeSearchTerm:_,testID:"dwp-filter-value-input",buttonTestID:"tag-selector--dropdown-button",menuTestID:"tag-selector--dropdown-menu",options:u})),s.a.createElement(h.Button,{className:"delete-data-filter--remove",shape:h.ButtonShape.Square,icon:h.IconFont.Remove,onClick:i}))});var xm=({bucket:e,filters:t,keys:n,onDeleteFilter:a,onSetFilter:r,shouldValidate:o,values:i})=>s.a.createElement("div",{className:"delete-data-filters"},s.a.createElement(h.Button,{text:"Add Filter",testID:"add-filter-btn",icon:h.IconFont.Plus,shape:h.ButtonShape.StretchToFit,className:"delete-data-filters--new-filter",onClick:()=>r({key:"",equality:"=",value:""},t.length)}),t.length>0?s.a.createElement("div",{className:"delete-data-filters--filters"},t.map((t,l)=>s.a.createElement(vm,{bucket:e,key:l,keys:n,filter:t,onChange:e=>r(e,l),onDelete:()=>a(l),shouldValidate:o,values:i}))):s.a.createElement(h.Panel,{className:"delete-data-filters--no-filters"},s.a.createElement(h.Panel.Body,null,s.a.createElement("p",null,"If no filters are specified, all data points in the selected time range will be marked for deletion.")))),wm=n(860);var Em=({bodyData:e,headers:t})=>s.a.createElement(h.Table,{borders:h.BorderType.Vertical,fontSize:h.ComponentSize.ExtraSmall,cellPadding:h.ComponentSize.ExtraSmall},s.a.createElement(h.Table.Header,null,s.a.createElement(h.Table.Row,null,s.a.createElement(h.Table.HeaderCell,null,"Columns"),s.a.createElement(h.Table.HeaderCell,null,"Sample Values"))),s.a.createElement(h.Table.Body,null,t.map((t,n)=>s.a.createElement(h.Table.Row,{key:t},s.a.createElement(h.Table.Cell,null,t),s.a.createElement(h.Table.Cell,null,e[n])))));var km=({timeRange:e,onSetTimeRange:t})=>{const[n,r]=Object(a.useState)(!1),o=Object(a.useRef)(null);let i="Select a Time Range";e&&(i=Object(mt.d)(e));const l=e=>{t(e),r(!1)};return s.a.createElement("div",{ref:o},s.a.createElement(h.Dropdown.Button,{onClick:()=>r(!n)},i),s.a.createElement(h.Popover,{appearance:h.Appearance.Outline,position:h.PopoverPosition.Below,triggerRef:o,visible:n,showEvent:h.PopoverInteraction.None,hideEvent:h.PopoverInteraction.None,distanceFromTrigger:8,testID:"timerange-popover",enableDefaultStyles:!1,contents:()=>s.a.createElement(Go,{timeRange:e||Object(mt.b)(Vo.e),onSetTimeRange:l,onClose:()=>r(!1),position:{position:"relative"}})}))};const Sm=e=>e.isSerious&&e.deletionStatus===W.RemoteDataState.NotStarted&&e.filters.every(e=>!!e.key&&!!e.value&&!!e.equality),Cm={deleteFilter:e=>({type:"DELETE_FILTER",payload:{index:e}}),deleteWithPredicate:()=>async(e,t)=>{e(pm(W.RemoteDataState.Loading));const{predicates:{timeRange:n,bucketName:a,filters:s}}=t(),r=Object(S.a)(t()).id,o={start:Hn()(n.lower).toISOString(),stop:Hn()(n.upper).toISOString()};s.length>0&&(o.predicate=(e=>e.map(e=>`${e.key} ${e.equality} ${e.value}`).join(" AND "))(s));try{const t=await Object(fe.mb)({data:o,query:{orgID:r,bucket:a}});if(204!==t.status)throw new Error(t.data.message);e(pm(W.RemoteDataState.Done)),e(Object($.c)(Object(me.ac)())),e({type:"SET_PREDICATE_DEFAULT"})}catch(t){e(Object($.c)(Object(me.Zb)())),e(pm(W.RemoteDataState.Error)),e({type:"SET_PREDICATE_DEFAULT"})}},resetFilters:()=>({type:"RESET_FILTERS"}),executePreviewQuery:e=>async(t,n)=>{t(hm(W.RemoteDataState.Loading));try{const a=n(),s=Object(S.a)(a).id,r=Object(uo.j)(a).map(e=>Object(uo.a)(e)).filter(e=>!!e),o=Object(fm.d)(e,r),i=Object(gm.a)([...r,...o]),l=await Object(lm.a)(s,e,i).promise;if("UNKNOWN_ERROR"===l.type)throw new Error(l.message);if("RATE_LIMIT_ERROR"===l.type)throw t(Object($.c)(Object(me.dc)(l.retryAfter))),new Error(l.message);l.didTruncate&&t(Object($.c)(Object(me.lc)(l.bytesRead))),Object(dm.a)(l.csv),t((e=>({type:"SET_FILES",payload:{files:e}}))([l.csv]))}catch(e){if("CancellationError"===e.name)return;console.error(e),t(hm(W.RemoteDataState.Error))}},setFilter:(e,t)=>({type:"SET_FILTER",payload:{filter:e,index:t}}),setIsSerious:e=>({type:"SET_IS_SERIOUS",payload:{isSerious:e}}),setBucketAndKeys:bm,setTimeRange:_m};var Tm=Object(o.c)(e=>{const{predicates:t}=e,{bucketName:n,deletionStatus:a,files:s,filters:r,keys:o,isSerious:i,timeRange:l,values:c}=t;return{bucketName:n,canDelete:Sm(t),deletionStatus:a,files:s,filters:r,isSerious:i,keys:o,timeRange:l,values:c,orgID:Object(S.a)(e).id}},Cm)(({canDelete:e,deleteFilter:t,deletionStatus:n,deleteWithPredicate:r,executePreviewQuery:o,files:i,filters:l,handleDismiss:c,isSerious:u,keys:m,resetFilters:d,setFilter:p,setIsSerious:_,setBucketAndKeys:g,setTimeRange:f,timeRange:b,values:y,bucketName:v,orgID:x})=>{const[w,E]=Object(a.useState)("0");Object(a.useEffect)(()=>{v&&g(v)}),Object(a.useEffect)(()=>{l.every(e=>""!==e.key&&""!==e.value)&&k()},[l]);const k=async()=>{const{lower:e,upper:t}=b;let n=`from(bucket: "${name}")\n      |> range(start: ${Hn()(e).toISOString()}, stop: ${Hn()(t).toISOString()})`;l.length>0&&(n+=` ${(e=>{let t="";return e.forEach(e=>{const{key:n,equality:a,value:s}=e;t+=`\n|> filter(fn: (r) => r.${n} ${"="===a?"==":"!="} "${s}")`}),t})(l)}`);const a=`${n}\n      |> count()\n      |> keep(columns: ["_value"])\n      |> sum()\n    `,s=`${n}\n      |> limit(n: 1)\n      |> yield(name: "sample_data")\n    `,[r]=await Object(im.a)(Object(lm.a)(x,a),"_value").promise;o(s),E(r)};return s.a.createElement(h.Form,{className:"delete-data-form"},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Four},s.a.createElement(h.Form.Element,{label:"Target Bucket"},s.a.createElement(um,{bucketName:v,onSetBucketName:e=>{g(e),d()}}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Eight},s.a.createElement(h.Form.Element,{label:"Time Range"},s.a.createElement(km,{timeRange:b,onSetTimeRange:f})))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(xm,{bucket:name,filters:l,keys:m,onDeleteFilter:t,onSetFilter:p,shouldValidate:u,values:y}))),s.a.createElement(h.Grid.Row,{className:"delete-data-preview"},s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,{size:h.ComponentSize.ExtraSmall},s.a.createElement("p",{className:"preview-data-margins"},"Preview Data")),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},i&&i.length>0&&i[0].length>1&&s.a.createElement(wm.a,{files:i},e=>{const[t]=e;if(t&&t.data){let[e,n]=t.data;return e=e.slice(3),n=n.slice(3),s.a.createElement(Em,{headers:e,bodyData:n})}return s.a.createElement("span",null)}))))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Panel,{className:"delete-data-form--danger-zone"},s.a.createElement(h.Panel.Header,null,s.a.createElement("h5",null,"Danger Zone! You're deleting"," ",s.a.createElement("span",{style:{color:h.InfluxColors.Dreamsicle}},(e=>e?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0)(w))," ","records")),s.a.createElement(h.Panel.Body,{className:"delete-data-form--confirm"},s.a.createElement(pc.a,{testID:"delete-checkbox",label:"I understand that this cannot be undone.",checked:u,onSetChecked:e=>_(e)}),s.a.createElement(mm,{status:n,valid:e,onClick:()=>{r(),c()}})))))))});var Om=Object(o.c)(e=>{const t=Object(dt.a)(e),n=Object(y.get)(t,"builderConfig.buckets.0"),{timeRange:a}=Object(dt.c)(e);return{bucketNameFromDE:n,timeRangeFromDE:a}})(Object(i.j)(({history:e,match:{params:{orgID:t}},bucketNameFromDE:n,timeRangeFromDE:r})=>{const i=Object(o.d)();Object(a.useEffect)(()=>{n&&i(bm(n))},[i,n]),Object(a.useEffect)(()=>{r&&i(_m(Object(mt.b)(r)))},[i,r]);const l=()=>{i({type:"SET_PREDICATE_DEFAULT"}),e.push(`/orgs/${t}/data-explorer`)};return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:600},s.a.createElement(h.Overlay.Header,{title:"Delete Data",onDismiss:l}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(_n,{resources:[W.ResourceType.Buckets]},s.a.createElement(Tm,{handleDismiss:l})))))})),Dm=n(510);var Im=()=>{const e=Object(o.d)(),t=Object(o.e)(e=>{const{view:t}=Object(dt.c)(e);return t.properties.type}),n=Object(a.useCallback)(t=>{e(Object(bt.R)(t))},[e]);return s.a.createElement(Dm.a,{viewType:t,onUpdateType:n})};const jm=e=>e.userSettings.showAnnotationsControls||!1,Rm=e=>{const t=e.annotations.visibleStreamsByID,n=ha.filter(e=>t.includes(e.id));return Object(y.sortBy)(n,e=>e.name)},Nm=e=>{const t=e.annotations.visibleStreamsByID,n=ha.filter(e=>!t.includes(e.id));return Object(y.sortBy)(n,e=>e.name)};var Am=()=>{const e=Object(o.d)(),t=Object(o.e)(jm),n=t?h.ComponentColor.Secondary:h.ComponentColor.Default,a=t?"Click to reveal annotations controls":"Click to hide annotations controls";return s.a.createElement(h.Button,{text:"Annotations",icon:h.IconFont.Annotate,color:n,titleText:a,testID:"toggle-annoations-controls",onClick:()=>{e({type:"TOGGLE_SHOW_ANNOTATIONS_CONTROLS"})}})},Pm=n(511);n(1356);var Mm=({children:e,className:t,testID:n="toolbar",direction:a,alignItems:r,justifyContent:i,margin:l,style:c,id:u="toolbar"})=>{const m=Object(o.e)(Pm.a),d=f()("toolbar",{[`${t}`]:t,"toolbar__presentation-mode":m});return s.a.createElement("div",{className:d,"data-testid":n,style:c,id:u},s.a.createElement(h.FlexBox,{className:"toolbar--contents",direction:a,alignItems:r,justifyContent:i,margin:l,stretchToFitWidth:!0},e))};var Lm=({id:e,name:t,description:n,color:a})=>{const r=Object(o.d)();return s.a.createElement("div",{className:"annotation-pill",title:n},s.a.createElement("div",{className:"annotation-pill--swatch",style:{backgroundColor:a}}),s.a.createElement("div",{className:"annotation-pill--label"},t),s.a.createElement("button",{className:"annotation-pill--button","data-testid":`annotation-pill ${e}`,onClick:()=>{r((e=>({type:"DISABLE_ANNOTATION_STREAM",streamID:e}))(e))}},s.a.createElement(h.Icon,{glyph:h.IconFont.Remove})))};n(1357);var Fm=()=>{const e=Object(o.e)(Rm);return s.a.createElement("div",{className:"annotation-pills","data-testid":"annotation-pills"},e.map(e=>s.a.createElement(Lm,{key:e.id,id:e.id,name:e.name,description:e.description,color:e.display.color})))};var qm=({id:e,name:t,description:n,color:a,onClick:r})=>s.a.createElement(h.List.Item,{key:t,value:e,onClick:r,className:"annotations-searchbar--item",testID:`annotations-suggestion ${e}`},s.a.createElement(h.Bullet,{backgroundColor:a,className:"annotations-searchbar--swatch"}),s.a.createElement("div",{className:"annotations-searchbar--item-details"},s.a.createElement("span",{className:"annotations-searchbar--item-name"},t),n&&s.a.createElement("span",{className:"annotations-searchbar--item-desc"},n)));n(1358);var Bm=()=>{const e=Object(o.d)(),t=Object(a.useRef)(null),n=Object(o.e)(Nm),[r,i]=Object(a.useState)(""),[l,c]=Object(a.useState)(!1),u=n.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())),m=n=>{var a;e((e=>({type:"ENABLE_ANNOTATION_STREAM",streamID:e}))(n)),null===(a=t.current)||void 0===a||a.focus()};let d=s.a.createElement(h.List.EmptyState,null,"No streams match your search");return u.length?d=s.a.createElement(s.a.Fragment,null,u.map(e=>s.a.createElement(qm,{key:e.name,name:e.name,id:e.id,description:e.description,color:e.display.color,onClick:m}))):r||(d=s.a.createElement(h.List.EmptyState,null,"All streams are enabled")),s.a.createElement(h.ClickOutside,{onClickOutside:()=>{c(!1)}},s.a.createElement("div",{className:"annotations-searchbar"},s.a.createElement(h.Input,{ref:t,placeholder:"Search to enable annotation streams..",icon:h.IconFont.Search,value:r,onChange:e=>{i(e.target.value)},onFocus:()=>{c(!0)},testID:"annotations-search-input"}),l&&s.a.createElement(h.Dropdown.Menu,{className:"annotations-searchbar--suggestions"},s.a.createElement(h.List,{style:{width:"100%"}},d))))};const zm="client-libraries",Um="telegraf-plugins";var Hm=()=>{const e=Object(i.f)(),t=Object(o.e)(jm),{orgID:n,dashboardID:a}=Object(i.h)();if(!t)return null;return s.a.createElement(ql,null,s.a.createElement(Mm,{testID:"annotations-control-bar",justifyContent:h.JustifyContent.SpaceBetween,margin:h.ComponentSize.Large},s.a.createElement(h.FlexBoxChild,{basis:300,grow:0},s.a.createElement(Bm,null)),s.a.createElement(h.FlexBoxChild,{grow:1},s.a.createElement(Fm,null)),s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small},s.a.createElement(h.Button,{testID:"annotations-control-bar--add",text:"Annotate",icon:h.IconFont.AnnotatePlus,color:h.ComponentColor.Primary,onClick:()=>{const t=a?`/orgs/${n}/dashboards/${a}/add-annotation`:`/orgs/${n}/data-explorer/add-annotation`;e.push(t,[{timeStart:"today, right now",timeStop:"today, right now"}])}}),s.a.createElement(h.SquareButton,{testID:"annotations-control-bar--settings",icon:h.IconFont.CogThick,onClick:()=>{e.push(`/orgs/${n}/settings/annotations`)}}))))};var Gm=Object(i.j)(e=>{const{overlayID:t,onClose:n,match:s,history:r}=e,i=Object(o.d)();return Object(a.useEffect)(()=>{return i(Object(k.c)(t,s.params,()=>{n(r,s.params)})),()=>i(Object(k.b)())},[t]),null});function Vm(e,t,n){return class extends a.Component{render(){return s.a.createElement(e,Object.assign({},this.props,{onClose:n,overlayID:t}))}}}const $m=Vm(Gm,"add-note",(e,t)=>{e.push(`/orgs/${t.orgID}/dashboards/${t.dashboardID}`)}),Wm=Vm(Gm,"edit-note",(e,t)=>{e.push(`/orgs/${t.orgID}/dashboards/${t.dashboardID}`)}),Km=Vm(Gm,"add-master-token",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/tokens`)}),Qm=Vm(Gm,"add-token",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/tokens`)}),Ym=(Vm(Gm,"telegraf-config",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/telegrafs`)}),Vm(Gm,"telegraf-output",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/telegrafs`)}),Vm(Gm,"create-annotation-stream",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/annotations`)})),Xm=Vm(Gm,"update-annotation-stream",(e,t)=>{e.push(`/orgs/${t.orgID}/settings/annotations`)}),Zm=Vm(Gm,"add-annotation",(e,t)=>{e.push(`/orgs/${t.orgID}/data-explorer`)}),Jm=Vm(Gm,"add-annotation",(e,t)=>{e.push(`/orgs/${t.orgID}/dashboards/${t.dashboardID}`)}),ed=Vm(Gm,"edit-annotation",(e,t)=>{e.push(`/orgs/${t.orgID}/data-explorer`)}),td=Vm(Gm,"edit-annotation",(e,t)=>{e.push(`/orgs/${t.orgID}/dashboards/${t.dashboardID}`)});var nd=()=>(Object(A.d)("DataExplorerPage load start"),s.a.createElement(h.Page,{titleTag:Va(["Data Explorer"])},s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/data-explorer/save",component:om}),s.a.createElement(i.a,{path:"/orgs/:orgID/data-explorer/delete-data",component:Om}),Object(L.c)("annotations")&&s.a.createElement(i.a,{path:"/orgs/:orgID/data-explorer/add-annotation",component:Zm}),Object(L.c)("annotations")&&s.a.createElement(i.a,{path:"/orgs/:orgID/data-explorer/edit-annotation",component:ed})),s.a.createElement(_n,{resources:[W.ResourceType.Variables]},s.a.createElement(h.Page.Header,{fullWidth:!0,testID:"data-explorer--header"},s.a.createElement(h.Page.Title,{title:"Data Explorer"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(Im,null),s.a.createElement(wu,null),s.a.createElement(L.a,{name:"annotations"},s.a.createElement(Am,null))),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(Tu,null),s.a.createElement(Cu,null),s.a.createElement(vu,null))),s.a.createElement(L.a,{name:"annotations"},s.a.createElement(Hm,null)),s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1},s.a.createElement(bu,null))))),ad=n(228);const sd=(e,t)=>{const n=Hn()(e).fromNow();return t?`${t}${n}`:n};class rd extends a.PureComponent{constructor(){super(...arguments),this.handleUpdateDashboard=e=>{const{id:t,onUpdateDashboard:n}=this.props;n(t,{name:e})},this.handleCloneDashboard=()=>{const{id:e,name:t,onCloneDashboard:n}=this.props;n(e,t)},this.handleDeleteDashboard=()=>{const{id:e,name:t,onDeleteDashboard:n}=this.props;n(e,t)},this.handleClickDashboard=e=>{const{onResetViews:t,history:n,id:a,match:{params:{orgID:s}}}=this.props;e.metaKey?window.open(`/orgs/${s}/dashboards/${a}`,"_blank"):n.push(`/orgs/${s}/dashboards/${a}`),t()},this.handleUpdateDescription=e=>{const{id:t,onUpdateDashboard:n}=this.props;n(t,{description:e})},this.handleAddLabel=e=>{const{onAddDashboardLabel:t,id:n}=this.props;t(n,e)},this.handleRemoveLabel=e=>{const{onRemoveDashboardLabel:t,id:n}=this.props;t(n,e)},this.handleExport=()=>{const{history:e,match:{params:{orgID:t}},id:n}=this.props;e.push(`/orgs/${t}/dashboards-list/${n}/export`)}}render(){const{id:e,name:t,description:n,onFilterChange:a,labels:r,updatedAt:o}=this.props;return s.a.createElement(h.ResourceCard,{key:`dashboard-id--${e}`,testID:"dashboard-card",contextMenu:this.contextMenu},s.a.createElement(h.ResourceCard.EditableName,{onUpdate:this.handleUpdateDashboard,onClick:this.handleClickDashboard,name:t,noNameString:Ds.e,testID:"dashboard-card--name",buttonTestID:"dashboard-card--name-button",inputTestID:"dashboard-card--input"}),s.a.createElement(h.ResourceCard.EditableDescription,{onUpdate:this.handleUpdateDescription,description:n,placeholder:`Describe ${t}`}),s.a.createElement(h.ResourceCard.Meta,null,sd(o,"Last modified ")),s.a.createElement(Ts,{selectedLabelIDs:r,onFilterChange:a,onAddLabel:this.handleAddLabel,onRemoveLabel:this.handleRemoveLabel}))}get contextMenu(){return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.CogThick},s.a.createElement(ss.f.Item,{label:"Export",action:this.handleExport,testID:"context-menu-item-export"})),s.a.createElement(ss.f.Menu,{icon:h.IconFont.Duplicate,color:h.ComponentColor.Secondary},s.a.createElement(ss.f.Item,{label:"Clone",action:this.handleCloneDashboard,testID:"clone-dashboard"})),s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:this.handleDeleteDashboard,testID:"context-delete-dashboard"})))}}const od={onAddDashboardLabel:ue.a,onRemoveDashboardLabel:ue.k,onResetViews:ad.e,onCloneDashboard:ue.b,onDeleteDashboard:ue.g,onUpdateDashboard:ue.m};var id=Object(o.c)(null,od)(Object(i.j)(rd));class ld extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b),this.state={pages:1,windowSize:0},this.registerSpinner=e=>{if(this._spinner=e,!e)return;let t=1;const n=[];for(;t>0;)n.push(t),t-=.1;n.reverse(),this._observer=new IntersectionObserver(this.measure,{threshold:n,rootMargin:"60px 0px"}),this._observer.observe(this._spinner)},this.measure=e=>{e.map(e=>e.isIntersecting).reduce((e,t)=>e||t,!1)&&this.setState({pages:this.state.pages+1})}}componentDidMount(){this.setState({page:1,windowSize:15})}render(){const{dashboards:e,sortDirection:t,sortKey:n,sortType:a,onFilterChange:r}=this.props,o=this.memGetSortedResources(e,n,t,a),{windowSize:i,pages:l}=this.state;return s.a.createElement("div",{style:{height:"100%",display:"grid"}},s.a.createElement("div",{className:"dashboards-card-grid"},o.filter(e=>e.status===W.RemoteDataState.Done).slice(0,l*i).map(({id:e,name:t,description:n,labels:a,meta:o})=>s.a.createElement(id,{key:e,id:e,name:t,labels:a,updatedAt:o.updatedAt,description:n,onFilterChange:r})),s.a.createElement(Fs,{className:"dashboards--asset-alert",resourceName:"dashboards",limitStatus:this.props.limitStatus})),i*l<e.length&&s.a.createElement("div",{style:{height:"140px",margin:"14px auto"},ref:this.registerSpinner},s.a.createElement(h.TechnoSpinner,null)))}}var cd=Object(o.c)(e=>{const{cloud:{limits:t}}=e;return{limitStatus:Object($t.g)(t)}})(ld);var ud=({searchTerm:e,onCreateDashboard:t,summonImportOverlay:n,summonImportFromTemplateOverlay:a})=>e?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large,testID:"empty-dashboards-list"},s.a.createElement(h.EmptyState.Text,null,"No Dashboards match your search term")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large,testID:"empty-dashboards-list"},s.a.createElement(h.EmptyState.Text,null,"Looks like you don't have any ",s.a.createElement("b",null,"Dashboards"),", why not create one?"),s.a.createElement(Ya,{onSelectNew:t,onSelectImport:n,onSelectTemplate:a,resourceName:"Dashboard",canImportFromTemplate:x.a}));class md extends a.PureComponent{constructor(){super(...arguments),this.summonImportOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import`)},this.summonImportFromTemplateOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import/template`)}}componentDidMount(){this.props.getDashboards(),this.props.getLabels()}render(){const{status:e,dashboards:t,onFilterChange:n,sortKey:a,sortDirection:r,sortType:o,onCreateDashboard:i,searchTerm:l}=this.props;return e!==W.RemoteDataState.Done||t.length?s.a.createElement(cd,{dashboards:t,sortKey:a,sortDirection:r,sortType:o,onFilterChange:n}):s.a.createElement(ud,{searchTerm:l,onCreateDashboard:i,summonImportFromTemplateOverlay:this.summonImportFromTemplateOverlay,summonImportOverlay:this.summonImportOverlay})}}const dd={getDashboards:ue.i,onCreateDashboard:ue.d,getLabels:It};var pd=Object(o.c)(e=>{return{status:e.resources.dashboards.status}},dd)(Object(i.j)(md)),hd=n(206);const _d=Ze();let gd=class extends a.Component{componentDidMount(){const{dashboards:e}=this.props,t=e.map(e=>e.id);this.props.retainRangesDashTimeV1(t),this.props.checkDashboardLimits()}render(){const{searchTerm:e,dashboards:t,filterComponent:n,onFilterChange:a,sortDirection:r,sortType:o,sortKey:i}=this.props;return s.a.createElement(_d,{list:t,searchTerm:e,searchKeys:["name","labels[].name"],sortByKey:"name"},t=>s.a.createElement(pd,{searchTerm:e,filterComponent:n,dashboards:t,onFilterChange:a,sortDirection:r,sortType:o,sortKey:i}))}};gd=Object(m.a)([p.a],gd);const fd={retainRangesDashTimeV1:hd.c,checkDashboardLimits:xt.e};var bd=Object(o.c)(e=>({dashboards:Object(ve.a)(e,W.ResourceType.Dashboards)}),fd)(gd);class yd extends a.PureComponent{constructor(){super(...arguments),this.state={status:h.ComponentStatus.Default},this.updateOverlayStatus=e=>this.setState(()=>({status:e})),this.handleImportDashboard=e=>{const{createDashboardFromTemplate:t,notify:n,populateDashboards:a}=this.props;let s;this.updateOverlayStatus(h.ComponentStatus.Default);try{s=Xs.a.parse(e)}catch(e){return this.updateOverlayStatus(h.ComponentStatus.Error),void n(Object(me.Jb)(e.message))}Object(y.isEmpty)(s)&&this.onDismiss(),t(s),a(),this.onDismiss()},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()}}render(){return s.a.createElement(Qs,{isVisible:!0,onDismissOverlay:this.onDismiss,resourceName:"Dashboard",onSubmit:this.handleImportDashboard,status:this.state.status,updateStatus:this.updateOverlayStatus})}}const vd={notify:$.c,populateDashboards:ue.i,createDashboardFromTemplate:ue.e};var xd=Object(o.c)(null,vd)(Object(i.j)(yd));class wd extends a.PureComponent{constructor(){super(...arguments),this.handleButtonClick=()=>{const{history:e,org:t}=this.props;e.push(`/orgs/${t.id}/settings/templates`)}}render(){return s.a.createElement("div",{className:"import-template-overlay--empty"},s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like you don't have any ",s.a.createElement("b",null,"Templates")," yet, why not import one?"),s.a.createElement(h.Button,{size:h.ComponentSize.Medium,text:"Go to Templates Settings",icon:h.IconFont.CogThick,onClick:this.handleButtonClick})))}}var Ed=Object(o.c)(e=>({org:Object(S.a)(e)}),null)(Object(i.j)(wd)),kd=n(512);class Sd extends a.PureComponent{constructor(e){super(e),this.handleSelectTemplate=async e=>{const{id:t}=e;let n;n=t.includes("influxdb-template")?e:await cn(t),this.setState({selectedTemplateSummary:e,selectedTemplate:n,variables:this.getVariablesForTemplate(n),cells:this.getCellsForTemplate(n)})},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()},this.onSubmit=()=>{const{createDashboardFromTemplate:e}=this.props;e(this.state.selectedTemplate),this.onDismiss()},this.state={selectedTemplateSummary:null,selectedTemplate:null,variables:[],cells:[]}}render(){return s.a.createElement(_n,{resources:[W.ResourceType.Templates]},s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:900},s.a.createElement(h.Overlay.Header,{title:"Create Dashboard from a Template",onDismiss:this.onDismiss}),s.a.createElement(h.Overlay.Body,null,this.overlayBody),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:this.onDismiss,key:"cancel-button"}),s.a.createElement(h.Button,{text:"Create Dashboard",onClick:this.onSubmit,key:"submit-button",testID:"create-dashboard-button",color:h.ComponentColor.Success,status:this.submitStatus})))))}get overlayBody(){const{selectedTemplateSummary:e,cells:t,variables:n,selectedTemplate:a}=this.state,{templates:r}=this.props;return r.length?s.a.createElement(lr,{templates:r,cells:t,variables:n,selectedTemplate:a,selectedTemplateSummary:e,onSelectTemplate:this.handleSelectTemplate}):s.a.createElement(Ed,null)}get submitStatus(){const{selectedTemplate:e}=this.state;return e?h.ComponentStatus.Default:h.ComponentStatus.Disabled}getVariablesForTemplate(e){const t=[];return e.content.included.forEach(e=>{e.type===W.TemplateType.Variable&&t.push(e.attributes.name)}),t}getCellsForTemplate(e){const t=[];return e.content.included.forEach(e=>{e.type===W.TemplateType.View&&t.push(e.attributes.name)}),t}}const Cd={createDashboardFromTemplate:ue.e};var Td=Object(o.c)(e=>{const{resources:{templates:{status:t}}}=e,n=mr(e,W.ResourceType.Templates).filter(e=>!e.meta.type||e.meta.type===W.TemplateType.Dashboard);return{templates:[...Object(y.sortBy)(n,e=>e.meta.name.toLocaleLowerCase()),...kd.a],templateStatus:t}},Cd)(Object(i.j)(Sd));class Od extends a.PureComponent{constructor(){super(...arguments),this.onDismiss=()=>{const{history:e,clearExportTemplate:t}=this.props;e.goBack(),t()}}componentDidMount(){const{match:{params:{dashboardID:e}},convertToTemplate:t}=this.props;t(e)}render(){const{status:e,dashboardTemplate:t}=this.props;return s.a.createElement(Bs,{resourceName:"Dashboard",resource:t,onDismissOverlay:this.onDismiss,onCopyText:(e,t)=>t?Object(me.cb)():Object(me.bb)(),status:e})}}const Dd={convertToTemplate:ue.c,clearExportTemplate:un};var Id=Object(o.c)(e=>({dashboardTemplate:e.resources.templates.exportTemplate.item,status:e.resources.templates.exportTemplate.status}),Dd)(Object(i.j)(Od)),jd=n(227);let Rd=class extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.props.setDashboardSort({sortKey:e,sortDirection:t,sortType:n})},this.handleFilterDashboards=e=>{this.setState({searchTerm:e})},this.summonImportOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import`)},this.summonImportFromTemplateOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/dashboards-list/import/template`)},this.state={searchTerm:""}}render(){const{createDashboard:e,sortOptions:t,limitStatus:n}=this.props,{searchTerm:a}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{testID:"empty-dashboards-list",titleTag:Va(["Dashboards"])},s.a.createElement(h.Page.Header,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:"Dashboards"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!1},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(Za,{placeholderText:"Filter dashboards...",onSearch:this.handleFilterDashboards,searchTerm:a}),s.a.createElement(ts,{resourceType:W.ResourceType.Dashboards,sortDirection:t.sortDirection,sortKey:t.sortKey,sortType:t.sortType,onSelect:this.handleSort})),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(Ya,{onSelectNew:e,onSelectImport:this.summonImportOverlay,onSelectTemplate:this.summonImportFromTemplateOverlay,resourceName:"Dashboard",canImportFromTemplate:x.a,limitStatus:n}))),s.a.createElement(h.Page.Contents,{className:"dashboards-index__page-contents",fullWidth:!1,scrollable:!0},s.a.createElement(Ls,null,s.a.createElement(bd,{searchTerm:a,onFilterChange:this.handleFilterDashboards,sortDirection:t.sortDirection,sortType:t.sortType,sortKey:t.sortKey})))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/dashboards-list/:dashboardID/export",component:Id}),s.a.createElement(i.a,{path:"/orgs/:orgID/dashboards-list/import/template",component:Td}),s.a.createElement(i.a,{path:"/orgs/:orgID/dashboards-list/import",component:xd})))}};Rd=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],Rd);const Nd={createDashboard:ue.d,setDashboardSort:jd.setDashboardSort};var Ad=Object(o.c)(e=>{const{cloud:{limits:t}}=e,n=e.resources.dashboards.sortOptions;return{limitStatus:Object($t.g)(t),sortOptions:n}},Nd)(Rd);const Pd=({resources:e},{type:t,id:n})=>Object(y.get)(e,[t,"byID",n,"status"],W.RemoteDataState.Loading);let Md=class extends a.PureComponent{constructor(){super(...arguments),this.controller=new AbortController}componentDidMount(){const{resources:e}=this.props,t=[];e.forEach(e=>{t.push(this.getResourceDetails(e))}),Promise.all(t)}componentWillUnmount(){this.controller.abort()}getResourceDetails({type:e,id:t}){switch(e){case W.ResourceType.Dashboards:return this.props.getDashboard(t,this.controller);default:throw new Error(`incorrect resource type: "${e}" provided to GetResources`)}}render(){const{children:e,remoteDataState:t}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.SpinnerContainer,{loading:t,spinnerComponent:s.a.createElement(h.TechnoSpinner,null),testID:"dashboard-container--spinner"},e))}};Md=Object(m.a)([p.a],Md);const Ld={getDashboard:ue.h};var Fd=Object(o.c)((e,t)=>{return{remoteDataState:((e,t)=>{const n=t.map(t=>Pd(e,t));let a=W.RemoteDataState.NotStarted;return n.every(e=>e===W.RemoteDataState.Done)?a=W.RemoteDataState.Done:n.includes(W.RemoteDataState.Error)?a=W.RemoteDataState.Error:n.includes(W.RemoteDataState.Loading)&&(a=W.RemoteDataState.Loading),a})(e,t.resources)}},Ld)(Md);const qd={handleClickPresentationButton:F.b};var Bd=Object(o.c)(null,qd)(({handleClickPresentationButton:e})=>s.a.createElement(h.SquareButton,{icon:h.IconFont.ExpandA,testID:"presentation-mode-toggle",onClick:e}));const zd={onSetTheme:F.i};var Ud=Object(o.c)(e=>{const{app:{persisted:{theme:t}}}=e;return{theme:t}},zd)(({theme:e,onSetTheme:t})=>s.a.createElement(h.SelectGroup,{testID:"presentation-mode-toggle-group",shape:h.ButtonShape.Square},s.a.createElement(h.SelectGroup.Option,{onClick:()=>t("dark"),value:!1,id:"presentation-mode-toggle--dark",active:"dark"===e,titleText:"Dark Mode"},s.a.createElement(h.Icon,{glyph:h.IconFont.Moon})),s.a.createElement(h.SelectGroup.Option,{onClick:()=>t("light"),id:"presentation-mode-toggle--light",value:!0,active:"light"===e,titleText:"Light Mode"},s.a.createElement(h.Icon,{glyph:h.IconFont.Sun}))));var Hd=()=>s.a.createElement(s.a.Fragment,null,s.a.createElement(h.QuestionMarkTooltip,{diameter:18,color:h.ComponentColor.Primary,testID:"graphtips-question-mark",tooltipContents:s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Graph Tips:"),s.a.createElement("p",null,s.a.createElement("code",null,"Click + Drag")," Zoom in (X or Y)",s.a.createElement("br",null),s.a.createElement("code",null,"Shift + Click")," Pan Graph Window",s.a.createElement("br",null),s.a.createElement("code",null,"Double Click")," Reset Graph Window"),s.a.createElement("h1",null,"Static Legend Tips:"),s.a.createElement("p",null,s.a.createElement("code",null,"Click")," Focus on single Series",s.a.createElement("br",null),s.a.createElement("code",null,"Shift + Click")," Show/Hide single Series"))}));var Gd=({onRename:e,onClickOutside:t,name:n,placeholder:r,maxLength:o})=>{const[i,l]=Object(a.useState)(!1),[c,u]=Object(a.useState)(n);Object(a.useEffect)(()=>{u(n)},[n]);const m=n=>{e(c),t&&t(n),l(!1)},d=e=>{u(e.target.value)},p=t=>{"Enter"===t.key&&(e(c),l(!1)),"Escape"===t.key&&(l(!1),u(n))},_=e=>{e.currentTarget.select()},g=n===r||""===n,b=f()("renamable-page-title",{untitled:g});return i?s.a.createElement(Uo.a,{onClickOutside:m},s.a.createElement("div",{className:b,"data-testid":"renamable-page-title"},s.a.createElement(h.Input,{maxLength:o,autoFocus:!0,spellCheck:!1,placeholder:r,onFocus:_,onChange:d,onKeyDown:p,className:"renamable-page-title--input",value:c,testID:"renamable-page-title--input"}))):s.a.createElement("div",{className:b,onClick:()=>{l(!0)}},s.a.createElement(h.Page.Title,{title:c||r}),s.a.createElement(h.Icon,{glyph:h.IconFont.Pencil,className:"renamable-page-title--icon"}))};var Vd=n(208);const $d={toggleShowVariablesControls:()=>({type:"TOGGLE_SHOW_VARIABLES_CONTROLS"}),updateDashboard:ue.m,onSetAutoRefreshStatus:(e,t)=>({type:"SET_AUTO_REFRESH_STATUS",payload:{dashboardID:e,status:t}}),updateQueryParams:hd.e,setDashboardTimeRange:hd.d,setAutoRefreshInterval:(e,t)=>({type:"SET_AUTO_REFRESH_INTERVAL",payload:{dashboardID:e,milliseconds:t}})};var Wd=Object(o.c)(e=>{const{showVariablesControls:t}=e.userSettings,n=Object(ve.c)(e,W.ResourceType.Dashboards,e.currentDashboard.id),a=Object(Fi.a)(e);return{org:Object(S.a)(e),dashboard:n,timeRange:a,showVariablesControls:t}},$d)(Object(i.j)(({dashboard:e,onManualRefresh:t,toggleShowVariablesControls:n,showVariablesControls:r,onSetAutoRefreshStatus:o,setAutoRefreshInterval:i,autoRefresh:l,timeRange:c,updateDashboard:u,updateQueryParams:m,setDashboardTimeRange:d,history:p,org:_})=>{const g=I.b[e.name];Object(a.useEffect)(()=>{g&&Object(A.a)("demoData_dashboardViewed",{demo_dataset:g})},[e.id,g]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(Gd,{maxLength:Ds.b,onRename:t=>{u(e.id,{name:t})},name:e&&e.name,placeholder:Ds.e})),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(h.Button,{icon:h.IconFont.AddCell,color:h.ComponentColor.Primary,onClick:()=>{p.push(`/orgs/${_.id}/dashboards/${e.id}/cells/new`)},text:"Add Cell",titleText:"Add cell to dashboard"}),s.a.createElement(h.Button,{icon:h.IconFont.TextBlock,text:"Add Note",onClick:()=>{p.push(`/orgs/${_.id}/dashboards/${e.id}/notes/new`)},testID:"add-note--button"}),s.a.createElement(h.Button,{icon:h.IconFont.Cube,text:"Variables",testID:"variables--button",onClick:n,color:r?h.ComponentColor.Secondary:h.ComponentColor.Default}),s.a.createElement(L.a,{name:"annotations"},s.a.createElement(Am,null)),s.a.createElement(Ud,null),s.a.createElement(Bd,null),s.a.createElement(Hd,null)),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(Cu,null),s.a.createElement(Ro,{onChoose:t=>{i(e.id,t),o(e.id,0!==t?W.AutoRefreshStatus.Active:W.AutoRefreshStatus.Paused)},onManualRefresh:()=>{Object(Vd.e)(),t()},selected:l}),s.a.createElement(Wo,{onSetTimeRange:t=>{if(Object(Vd.e)(),d(e.id,t),m({lower:t.lower,upper:t.upper}),"custom"!==t.type){if(l.status===W.AutoRefreshStatus.Disabled){if(0===l.interval)return void o(e.id,W.AutoRefreshStatus.Paused);o(e.id,W.AutoRefreshStatus.Active)}}else o(e.id,W.AutoRefreshStatus.Disabled)},timeRange:c}))))})),Kd=n(1360),Qd=n.n(Kd);var Yd=({note:e})=>{const[t,n]=Object(a.useState)(!1),r=Object(a.useRef)(null),o=f()("cell--note-indicator",{"cell--note-indicator__active":t}),i={width:"280px",minWidth:"280px",maxWidth:"280px",maxHeight:"200px"};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:o,ref:r},s.a.createElement(h.Icon,{glyph:h.IconFont.Chat})),s.a.createElement(h.Popover,{triggerRef:r,appearance:h.Appearance.Outline,showEvent:h.PopoverInteraction.Click,hideEvent:h.PopoverInteraction.Click,onShow:()=>{n(!0)},onHide:()=>{n(!1)},enableDefaultStyles:!1,contents:()=>s.a.createElement(h.DapperScrollbars,{style:i,autoSize:!0},s.a.createElement("div",{className:"cell--note-contents markdown-format"},s.a.createElement(se.a,{text:e})))}))};var Xd=({name:e,note:t,children:n})=>s.a.createElement("div",{className:"cell--header"},s.a.createElement("div",{className:"cell--draggable","data-testid":`cell--draggable ${e}`},s.a.createElement("div",{className:"cell--dot-grid"}),s.a.createElement("div",{className:"cell--dot-grid"}),s.a.createElement("div",{className:"cell--dot-grid"})),s.a.createElement("div",{className:"cell--name"},e),t&&s.a.createElement(Yd,{note:t}),n);var Zd=({icon:e,label:t,testID:n,onHide:a,onClick:r})=>{return s.a.createElement("div",{className:"cell--context-item",onClick:()=>{a&&a(),r()},"data-testid":n},s.a.createElement(h.Icon,{glyph:e}),t)};var Jd=({icon:e=h.IconFont.Trash,label:t,testID:n,onHide:r,onClick:o,confirmationText:i="Confirm Delete"})=>{const[l,c]=Object(a.useState)(!1),u=()=>{r&&r(),o()};return l?s.a.createElement("div",{className:"cell--context-item cell--context-item__confirm"},s.a.createElement(h.Button,{color:h.ComponentColor.Danger,text:i,onClick:u,size:h.ComponentSize.ExtraSmall,shape:ss.b.StretchToFit,testID:`${n}-confirm`})):s.a.createElement("div",{className:"cell--context-item cell--context-item__danger",onClick:()=>{c(!0)},"data-testid":n},s.a.createElement(h.Icon,{glyph:e}),t)};const ep={onDeleteCell:Iu.c,onCloneCell:Iu.a},tp=Object(o.c)(null,ep);var np=Object(i.j)(tp(({view:e,history:t,location:n,cell:r,onCloneCell:o,onDeleteCell:i,onCSVDownload:l})=>{const[c,u]=Object(a.useState)(!1),m=Object(y.get)(e,"properties.note")?"Edit Note":"Add Note",d=Object(a.useRef)(null),p=f()("cell--context",{"cell--context__active":c}),_=()=>{o(r.dashboardID,e,r)},g=()=>{const{dashboardID:e,id:t}=r;i(e,t)},b=()=>{e.id?t.push(`${n.pathname}/notes/${e.id}/edit`):t.push(`${n.pathname}/notes/new`)},v=()=>{t.push(`${n.pathname}/cells/${r.id}/edit`),Object(A.a)("editCell button Click")};return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:p,ref:d,"data-testid":"cell-context--toggle"},s.a.createElement(h.Icon,{glyph:h.IconFont.CogThick})),s.a.createElement(h.Popover,{appearance:h.Appearance.Outline,enableDefaultStyles:!1,showEvent:h.PopoverInteraction.Click,hideEvent:h.PopoverInteraction.Click,triggerRef:d,contents:t=>"markdown"===e.properties.type?s.a.createElement("div",{className:"cell--context-menu"},s.a.createElement(Zd,{label:"Edit Note",onClick:b,icon:h.IconFont.TextBlock,onHide:t,testID:"cell-context--note"}),s.a.createElement(Jd,{label:"Delete",onClick:g,icon:h.IconFont.Trash,onHide:t,testID:"cell-context--delete"})):s.a.createElement("div",{className:"cell--context-menu"},s.a.createElement(Zd,{label:"Configure",onClick:v,icon:h.IconFont.Pencil,onHide:t,testID:"cell-context--configure"}),s.a.createElement(Zd,{label:m,onClick:b,icon:h.IconFont.TextBlock,onHide:t,testID:"cell-context--note"}),s.a.createElement(Zd,{label:"Clone",onClick:_,icon:h.IconFont.Duplicate,onHide:t,testID:"cell-context--clone"}),s.a.createElement(L.a,{name:"downloadCellCSV"},s.a.createElement(Zd,{label:"Download CSV",onClick:l,icon:h.IconFont.Download,onHide:t,testID:"cell-context--download"})),s.a.createElement(Jd,{label:"Delete",onClick:g,icon:h.IconFont.Trash,onHide:t,testID:"cell-context--delete"})),onShow:()=>{u(!0)},onHide:()=>{u(!1)}}))})),ap=n(859),sp=n(873),rp=n(789),op=n(316),ip=n(379),lp=(n(874),n(791)),cp=n(788),up=n(315);const mp=()=>({loading:W.RemoteDataState.NotStarted,files:null,fetchCount:0,errorMessage:"",duration:0,giraffeResult:null,statuses:[[]]});class dp extends a.Component{constructor(){super(...arguments),this.state=mp(),this.hashMapMutex={},this.ref=s.a.createRef(),this.isIntersecting=!1,this.pendingReload=!0,this.pendingResults=[],this.pendingCheckStatuses=null,this.reload=async()=>{const{buckets:e,check:t,isCurrentPageDashboard:n,notify:a,onGetCachedResultsThunk:s,variables:r}=this.props,o=this.props.queries.filter(({text:e})=>!!e.trim());if(o.length){this.setState({loading:W.RemoteDataState.Loading,fetchCount:this.state.fetchCount+1,errorMessage:""});try{const i=Date.now();let l="";this.pendingResults.forEach(({cancel:e})=>{e&&e()});const c=r.filter(e=>"system"!==e.arguments.type),u=c.filter(e=>e.status!==W.RemoteDataState.Done);c.length&&u.length&&await new Promise(()=>{});const m=r.map(e=>Object(uo.a)(e));this.pendingResults=o.map(({text:t})=>{const a=Object(co.f)(t,e)||this.props.match.params.orgID,r=Object(fm.d)(t,m),o=Object(gm.a)([...m,...r]);if(Object(A.a)("runQuery",{context:"TimeSeries"}),n)return s(a,t);const i=Object(Vd.d)(t);return this.hashMapMutex[i]||(this.hashMapMutex[i]=Object(cp.a)()),this.hashMapMutex[i].run(a,t,o)});const d=await Promise.all(this.pendingResults.map(e=>e.promise));let p=[];if(t){const e=Object(gm.a)(m);this.pendingCheckStatuses=Object(rp.a)(this.props.match.params.orgID,t.id,e),p=await this.pendingCheckStatuses.promise}const h=Date.now()-i;for(const e of d){if("UNKNOWN_ERROR"===e.type)throw Object(lp.b)(e.code,e.message)&&a(Object(me.pb)(Object(lp.a)(this.props.match.params.orgID))),l=e.message,new Error(e.message);if("RATE_LIMIT_ERROR"===e.type)throw l=e.message,a(Object(me.dc)(e.retryAfter)),new Error(e.message);e.didTruncate&&a(Object(me.lc)(e.bytesRead))}const _=d.map(e=>e.csv);let g;g=Object(L.c)("fluxParser")?Object(sp.a)(_.join("\n\n")):Object(ul.fromFlux)(_.join("\n\n")),this.pendingReload=!1,this.setState({giraffeResult:g,errorMessage:l,files:_,duration:h,loading:W.RemoteDataState.Done,statuses:p})}catch(e){if("CancellationError"===e.name)return;console.error(e),this.setState({errorMessage:e.message,giraffeResult:null,loading:W.RemoteDataState.Error,statuses:[[]]})}this.pendingReload=!1}else this.setState(mp())}}componentDidMount(){const{cellID:e,setCellMount:t}=this.props;this.observer=new IntersectionObserver(n=>{n.forEach(n=>{const{isIntersecting:a}=n,s=!this.isIntersecting&&a&&this.pendingReload;s&&this.reload(),s&&e&&t(e,(new Date).getTime()),this.isIntersecting=a})}),this.observer.observe(this.ref.current)}componentDidUpdate(e){const{setCellMount:t,cellID:n}=this.props,a=this.shouldReload(e)&&this.isIntersecting;a&&this.reload(),a&&n&&t(n,(new Date).getTime())}componentWillUnmount(){this.observer&&this.observer.disconnect(),this.pendingResults.forEach(({cancel:e})=>e())}render(){const{giraffeResult:e,files:t,loading:n,errorMessage:a,fetchCount:r,duration:o,statuses:i}=this.state,{className:l,style:c}=this.props;return s.a.createElement("div",{ref:this.ref,className:l,style:c},this.props.children({giraffeResult:e,files:t,loading:n,errorMessage:a,duration:o,isInitialFetch:1===r,statuses:i}))}shouldReload(e){return!this.props.hasUpdatedTimeRangeInVEO&&(!(!e.hasUpdatedTimeRangeInVEO||this.props.hasUpdatedTimeRangeInVEO)||(e.submitToken!==this.props.submitToken||!!this.props.implicitSubmit&&(!Object(y.isEqual)(e.queries,this.props.queries)||!Object(y.isEqual)(e.variables,this.props.variables))))}}dp.defaultProps={implicitSubmit:!0,className:"time-series-container",style:null};const pp={notify:$.c,onGetCachedResultsThunk:Vd.c,setCellMount:up.d};var hp=Object(o.c)((e,t)=>{const n=Object(Fi.b)(e),a=t.queries?t.queries.map(e=>e.text).filter(e=>!!e.trim()):[],s=[...Object(uo.j)(e).filter(e=>a.some(t=>Object(ip.d)(t,e))),Object(op.a)(Qu.c,n),Object(op.a)(Qu.d,n)];return{hasUpdatedTimeRangeInVEO:Object(Pm.b)(e),isCurrentPageDashboard:Object(Fi.d)(e),queryLink:e.links.query.self,buckets:Object(ve.a)(e,W.ResourceType.Buckets),variables:s}},pp)(Object(i.j)(dp));var _p=({id:e,type:t})=>{const n=Object(i.h)(),s=null==n?void 0:n.dashboardID,{cellMountStartMs:r}=Object(o.e)((e=>t=>{var n;const{perf:a}=t,{dashboard:s,cells:r}=a,{scroll:o}=s;return{scroll:o,cellMountStartMs:null===(n=r.byID[e])||void 0===n?void 0:n.mountStartMs}})(e));return Object(a.useEffect)(()=>{if(!r)return;if(!(s&&e))return;const n=(new Date).getTime(),a={dashboardID:s,cellID:e,type:t},o={timeToAppearMs:n-r};Object(A.a)("Cell Render Cycle",a,o)},[r,s,e,t]),null};class gp extends a.PureComponent{constructor(e){super(e),this.incrementSubmitToken=()=>{this.setState({submitToken:Date.now()})},this.state={submitToken:0}}componentDidMount(){Ao.subscribe(this.incrementSubmitToken)}componentWillUnmount(){Ao.unsubscribe(this.incrementSubmitToken)}render(){const{id:e,ranges:t,properties:n,manualRefresh:a,timeZone:r,theme:o}=this.props,{submitToken:i}=this.state;return s.a.createElement(hp,{cellID:e,submitToken:i,queries:this.queries,key:a},({giraffeResult:a,files:i,loading:l,errorMessage:c,isInitialFetch:u,statuses:m})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(xl,{loading:l}),s.a.createElement(yl.b,{errorFormat:yl.a.Scroll,errorMessage:c,hasResults:Object(Bl.a)(a),loading:l,isInitialFetch:u,queries:this.queries,fallbackNote:this.fallbackNote},s.a.createElement(s.a.Fragment,null,s.a.createElement(_p,{id:e,type:n.type}),s.a.createElement(vl.a,{files:i,giraffeResult:a,properties:n,timeRange:t,statuses:m,timeZone:r,theme:o})))))}get queries(){const{properties:e}=this.props;switch(e.type){case"single-stat":case"gauge":return[e.queries[0]];default:return e.queries}}get fallbackNote(){const{properties:e}=this.props;switch(e.type){case"check":return null;default:const{note:t,showNoteWhenEmpty:n}=e;return n?t:null}}}gp.defaultProps={inView:!0,manualRefresh:0};var fp=Object(o.c)((e,t)=>{const n=Object(Fi.b)(e),a=Object(dt.d)(n,t.properties.queries),{timeZone:s,theme:r}=e.app.persisted;return{timeRange:n,ranges:a,timeZone:s,theme:r}})(Object(i.j)(gp)),bp=n(141);let yp=class extends a.Component{constructor(){super(...arguments),this.handleCSVDownload=()=>{throw new Error("csv download not implemented")}}render(){var e;const{cell:t,view:n}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Xd,{name:this.viewName,note:this.viewNote},s.a.createElement(np,{cell:t,view:n,onCSVDownload:this.handleCSVDownload})),s.a.createElement("div",{className:"cell--view","data-testid":`cell--view-empty ${null===(e=null==n?void 0:n.properties)||void 0===e?void 0:e.type}`},this.view))}get viewName(){const{view:e}=this.props;return e&&e.properties&&"markdown"!==e.properties.type?e.name:"Note"}get viewNote(){const{view:e}=this.props;if(!e||!e.properties||!e.properties.type)return"";const t="markdown"===e.properties.type,n=Object(y.get)(e,"properties.showNoteWhenEmpty");return t||n?"":Object(y.get)(e,"properties.note","")}get view(){const{manualRefresh:e,view:t}=this.props;return t&&t.status===W.RemoteDataState.Done?t.properties?"markdown"===t.properties.type?s.a.createElement(ap.a,{text:t.properties.note}):s.a.createElement(fp,{id:t.id,properties:t.properties,manualRefresh:e}):null:s.a.createElement(bp.a,{message:"Loading..."})}};yp=Object(m.a)([p.a],yp);var vp=Object(o.c)((e,t)=>{return{view:Object(ve.c)(e,W.ResourceType.Views,t.cell.id)}})(yp);var xp=()=>s.a.createElement("div",{className:"gradient-border"},s.a.createElement("div",{className:"gradient-border--top-left"}),s.a.createElement("div",{className:"gradient-border--top-right"}),s.a.createElement("div",{className:"gradient-border--bottom-left"}),s.a.createElement("div",{className:"gradient-border--bottom-right"}));var wp=function({component:e}){const t=Object(a.useRef)(null),n=Object(o.d)(),r=function(e){const[t,n]=Object(a.useState)(1/0),[s,r]=Object(a.useState)("not scrolled");return Object(a.useEffect)(()=>{const t=e.current,a=new IntersectionObserver(([e])=>{n(t=>{const n=e.boundingClientRect.y;return t!==n&&t!==1/0&&r("scrolled"),n})});return t&&a.observe(t),()=>{a.unobserve(t)}},[e,t]),s}(t);return Object(a.useEffect)(()=>{n(Object(up.f)(e,r))},[r,e,n]),s.a.createElement("span",{ref:t})},Ep=n(783);const kp=({resources:e},t)=>{const n=e.dashboards.byID[t];return n&&n.cells?n.cells.filter(t=>!!e.cells.byID[t]).map(t=>e.cells.byID[t]):[]},Sp=Object(Kd.WidthProvider)(Qd.a);let Cp=class extends a.Component{constructor(){super(...arguments),this.handleLayoutChange=e=>{const{cells:t}=this.props;let n=!1;const a=t.map(t=>{const a=e.find(e=>e.i===t.id);t.x===a.x&&t.y===a.y&&t.h===a.h&&t.w===a.w||(n=!0);const s={x:a.x,y:a.y,h:a.h,w:a.w};return Object.assign(Object.assign({},t),s)});n&&this.handlePositionChange(a)},this.handlePositionChange=e=>{const{dashboard:t,updateCells:n}=this.props;n(t,e)}}render(){const{views:e,cells:t,manualRefresh:n}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(wp,{component:"dashboard"}),s.a.createElement(Sp,{cols:12,layout:this.cells,rowHeight:x.r,useCSSTransforms:!1,containerPadding:[0,0],margin:[x.A,x.A],onLayoutChange:this.handleLayoutChange,draggableHandle:".cell--draggable",isDraggable:!0,isResizable:!0},Object(Ep.b)(t,t=>{var a;return s.a.createElement("div",{key:t.id,className:"cell","data-testid":`cell ${null===(a=e[t.id])||void 0===a?void 0:a.name}`},s.a.createElement(vp,{cell:t,manualRefresh:n}),s.a.createElement(xp,null))})))}get cells(){const{views:e}=this.props;return this.props.cells.filter(e=>e.status===W.RemoteDataState.Done).map(t=>{const n=e[t.id],a=Object.assign(Object.assign({},t),{x:t.x,y:t.y,h:t.h,w:t.w,i:t.id});return"gauge"===Object(y.get)(n,"properties.type")&&(a.minW=5,a.minH=2.5,a.maxW=20),a})}};Cp=Object(m.a)([p.a],Cp);const Tp={updateCells:Iu.d};var Op=Object(o.c)(e=>{const t=e.currentDashboard.id;return{dashboard:t,cells:kp(e,t),views:e.resources.views.byID}},Tp)(Cp);let Dp=class extends a.Component{constructor(){super(...arguments),this.handleAdd=()=>{const{history:e,org:t,dashboard:n}=this.props;e.push(`/orgs/${t}/dashboards/${n}/cells/new`)}}render(){return s.a.createElement("div",{className:"dashboard-empty"},s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement("div",{className:"dashboard-empty--graphic"},s.a.createElement("div",{className:"dashboard-empty--graphic-content"})),s.a.createElement(h.EmptyState.Text,null,"This Dashboard doesn't have any ",s.a.createElement("b",null,"Cells"),", why not add one?"),s.a.createElement(h.Button,{text:"Add Cell",size:h.ComponentSize.Medium,icon:h.IconFont.AddCell,color:h.ComponentColor.Primary,onClick:this.handleAdd,testID:"add-cell--button"})))}};Dp=Object(m.a)([p.a],Dp);var Ip=Object(o.c)(e=>({org:Object(S.a)(e).id,dashboard:e.currentDashboard.id}))(Object(i.j)(Dp));let jp=class extends a.PureComponent{render(){const{cells:e,status:t,manualRefresh:n}=this.props;return s.a.createElement(h.SpinnerContainer,{loading:t,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!0,className:"dashboard"},e.length?s.a.createElement(Op,{manualRefresh:n}):s.a.createElement(Ip,null),s.a.createElement("div",{className:"cell-header-note-tooltip-container"})))}};jp=Object(m.a)([p.a],jp);var Rp=Object(o.c)(e=>({cells:kp(e,e.currentDashboard.id),status:e.resources.cells.status}))(jp);var Np=function(e){return class extends a.Component{constructor(e){super(e),this.handleManualRefresh=()=>{this.setState({manualRefresh:Date.now()})},this.state={manualRefresh:Date.now()}}render(){return s.a.createElement(e,Object.assign({},this.props,{manualRefresh:this.state.manualRefresh,onManualRefresh:this.handleManualRefresh}))}}},Ap=n(261),Pp=n(1761),Mp=n(1762);const Lp={beginDrag:e=>({id:e.id,index:e.index})},Fp={hover(e,t,n){if(!n)return null;const a=t.getItem().index,s=e.index;a!==s&&(e.moveDropdown(a,s),t.getItem().index=s)}};class qp extends a.Component{render(){const{name:e,id:t,isDragging:n,connectDragSource:s,connectDropTarget:r,connectDragPreview:o}=this.props,i=f()("variable-dropdown",{"variable-dropdown__dragging":n});return r(a.createElement("div",{className:"variable-dropdown--container"},o(a.createElement("div",{className:i},a.createElement("div",{className:"variable-dropdown--label"},s(a.createElement("div",{className:"variable-dropdown--drag"},a.createElement("span",{className:"hamburger"}))),a.createElement("span",null,e)),a.createElement(ho,{variableID:t}))),a.createElement("div",{className:"variable-dropdown--placeholder"})))}}var Bp=Object(Pp.a)("dropdown",Fp,e=>({connectDropTarget:e.dropTarget()}))(Object(Mp.a)("dropdown",Lp,(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}))(qp));let zp=class extends a.PureComponent{constructor(){super(...arguments),this.state={initialLoading:W.RemoteDataState.Loading},this.handleMoveDropdown=(e,t)=>{const{moveVariable:n}=this.props;n(e,t)}}static getDerivedStateFromProps(e,t){return e.variablesStatus===W.RemoteDataState.Done&&t.initialLoading!==W.RemoteDataState.Done?{initialLoading:W.RemoteDataState.Done}:{}}render(){const{show:e}=this.props;return!!e&&s.a.createElement(Mm,{testID:"variables-control-bar",className:"variables-control-bar"},s.a.createElement(h.SpinnerContainer,{loading:this.state.initialLoading,spinnerComponent:s.a.createElement(h.TechnoSpinner,{diameterPixels:50}),className:"variables-spinner-container"},this.bar))}get emptyBar(){return s.a.createElement(h.EmptyState,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.EmptyState.Text,{className:"margin-zero"},"This dashboard doesn't have any cells with defined variables."," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/visualize-data/variables/",target:"_blank"},"Learn How")))}get barContents(){const{variables:e,variablesStatus:t}=this.props;return s.a.createElement("div",{className:"variables-control-bar--grid"},e.map((e,t)=>s.a.createElement(ql,{key:e.id},s.a.createElement(Bp,{name:e.name,id:e.id,index:t,moveDropdown:this.handleMoveDropdown}))),t===W.RemoteDataState.Loading&&s.a.createElement(h.TechnoSpinner,{diameterPixels:18}))}get bar(){const{variables:e}=this.props;return Object(y.isEmpty)(e)?this.emptyBar:this.barContents}};zp=Object(m.a)([p.a],zp);const Up={moveVariable:dn.h};var Hp=Ac(Object(o.c)(e=>{const t=e.currentDashboard.id,n=Object(uo.j)(e),a=Object(uo.h)(e),s=e.userSettings.showVariablesControls;return{variables:Object(Ap.a)(n,Object.values(e.resources.views.byID).filter(e=>e.dashboardID===t)),variablesStatus:a,show:s}},Up)(zp));const Gp="veo-header--save-cell-button";class Vp extends a.PureComponent{constructor(){super(...arguments),this.handleClickOutsideTitle=e=>{const{onSave:t}=this.props;e.target.className.includes(Gp)&&t()}}render(){const{name:e,onSetName:t,onCancel:n,onSave:a}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(Gd,{name:e,onRename:t,placeholder:Ds.c,maxLength:Ds.a,onClickOutside:this.handleClickOutsideTitle})),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(Im,null),s.a.createElement(wu,null)),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(h.SquareButton,{icon:h.IconFont.Remove,onClick:n,size:h.ComponentSize.Small,testID:"cancel-cell-edit--button"}),s.a.createElement(h.SquareButton,{className:Gp,icon:h.IconFont.Checkmark,color:h.ComponentColor.Success,size:h.ComponentSize.Small,onClick:a,testID:"save-cell--button"}))))}}var $p=Vp,Wp=n(530);const Kp={onSetName:bt.G,onSaveView:ue.l};var Qp=Object(o.c)(e=>{const{activeTimeMachineID:t}=e.timeMachines,{view:n}=Object(dt.c)(e);return{view:n,activeTimeMachineID:t}},Kp)(Object(i.j)(({activeTimeMachineID:e,onSaveView:t,onSetName:n,match:{params:{orgID:r,cellID:i,dashboardID:l}},history:c,view:u})=>{const m=Object(o.d)();Object(a.useEffect)(()=>{m(Object(Wp.a)(l,i,"veo"))},[m,l,i]);const d=()=>{c.push(`/orgs/${r}/dashboards/${l}`),m(Object(F.d)())},p=Object(y.get)(u,"id",null)===i;let _=W.RemoteDataState.Loading;return"veo"===e&&p&&(_=W.RemoteDataState.Done),s.a.createElement(h.Overlay,{visible:!0,className:"veo-overlay"},s.a.createElement("div",{className:"veo"},s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:_},s.a.createElement($p,{key:u&&u.name,name:u&&u.name,onSetName:n,onCancel:d,onSave:()=>{try{t(l),d()}catch(e){}}}),s.a.createElement("div",{className:"veo-contents"},s.a.createElement(cu,null)))))}));const Yp={onSetName:bt.G,onSaveView:ue.l};var Xp=Object(o.c)(e=>{const{activeTimeMachineID:t}=e.timeMachines,{view:n}=Object(dt.c)(e);return{view:n,activeTimeMachineID:t}},Yp)(Object(i.j)(({activeTimeMachineID:e,onSaveView:t,onSetName:n,match:{params:{orgID:r,dashboardID:i}},history:l,view:c})=>{const u=Object(o.d)();Object(a.useEffect)(()=>{u(Object(bt.f)())},[u,i]);const m=()=>{l.push(`/orgs/${r}/dashboards/${i}`)};let d=W.RemoteDataState.Loading;const p=!Object(y.get)(c,"id",null);return"veo"===e&&p&&(d=W.RemoteDataState.Done),s.a.createElement(h.Overlay,{visible:!0,className:"veo-overlay"},s.a.createElement("div",{className:"veo"},s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:d},s.a.createElement($p,{key:c&&c.name,name:c&&c.name,onSetName:n,onCancel:m,onSave:()=>{try{t(i),m()}catch(e){console.error(e)}}}),s.a.createElement("div",{className:"veo-contents"},s.a.createElement(cu,null)))))}));const Zp="/orgs/:orgID/dashboards/:dashboardID";let Jp=class extends a.Component{constructor(){super(...arguments),this.emitRenderCycleEvent=()=>{const{dashboard:e,startVisitMs:t}=this.props,n={dashboardID:e.id},a={timeToAppearMs:(new Date).getTime()-t};Object(A.a)("Dashboard and Variable Initial Render",n,a)}}componentDidMount(){Object(Vd.e)(),this.emitRenderCycleEvent()}componentWillUnmount(){Object(Vd.e)()}render(){const{autoRefresh:e,manualRefresh:t,onManualRefresh:n}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:this.pageTitle},s.a.createElement(du,null,s.a.createElement(pu.a,null,s.a.createElement(Wd,{autoRefresh:e,onManualRefresh:n}),s.a.createElement(Ga,{alertOnly:!0}),s.a.createElement(Hp,null),s.a.createElement(L.a,{name:"annotations"},s.a.createElement(Hm,null)),s.a.createElement(Rp,{manualRefresh:t})))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${Zp}/cells/new`,component:Xp}),s.a.createElement(i.a,{path:`${Zp}/cells/:cellID/edit`,component:Qp}),s.a.createElement(i.a,{path:`${Zp}/notes/new`,component:$m}),s.a.createElement(i.a,{path:`${Zp}/notes/:cellID/edit`,component:Wm}),Object(L.c)("annotations")&&s.a.createElement(i.a,{path:`${Zp}/add-annotation`,component:Jm}),Object(L.c)("annotations")&&s.a.createElement(i.a,{path:`${Zp}/edit-annotation`,component:td})))}get pageTitle(){const{dashboard:e}=this.props,t=e&&e.name?e.name:"Loading...";return Va([t])}};Jp=Object(m.a)([p.a],Jp);var eh=Object(o.c)(e=>{var t;const n=Object(ve.c)(e,W.ResourceType.Dashboards,e.currentDashboard.id);return{startVisitMs:null===(t=e.perf.dashboard.byID[n.id])||void 0===t?void 0:t.startVisitMs,dashboard:n}})(Np(Jp));var th=Object(i.j)(({location:e,match:t})=>{const n=Object(o.d)(),r=Object(o.e)(Fi.a),i=e.pathname.includes("edit"),l=e.pathname.includes("new");return Object(a.useEffect)(()=>{if(i||l)return;n(Object(hd.d)(t.params.dashboardID,r));const{lower:e,upper:a}=r;n(Object(hd.e)({lower:e,upper:a}))},[n,i,l,t.params.dashboardID,r]),s.a.createElement("div",null)}),nh=n(638);class ah extends a.PureComponent{syncVariables(e,t){const{variables:n,selectValue:a}=e;n.forEach(e=>{let n;e.selected&&(n=e.selected[0]),t[e.name]&&n!==t[e.name]&&(n=t[e.name],a(e.id,n))})}componentDidMount(){const{dashboard:e,updateDashboard:t,variables:n,dashboardVisit:a}=this.props,s=this.props.match.params.dashboardID;a(s,(new Date).getTime()),Object(A.a)("Dashboard Visit",{dashboardID:s});const r=gu.a.parse(this.props.location.search,{ignoreQueryPrefix:!0});e!==s&&t(s),r.hasOwnProperty("vars")&&(n.length?this.syncVariables(this.props,r.vars):this.pendingVars=r.vars)}componentDidUpdate(e){e.variables!==this.props.variables&&this.props.variables.length&&this.pendingVars&&(this.syncVariables(this.props,this.pendingVars),delete this.pendingVars)}componentWillUnmount(){this.props.updateDashboard(null)}render(){return!!this.props.dashboard&&s.a.createElement(s.a.Fragment,null,this.props.children)}}const sh={dashboardVisit:up.e,updateDashboard:nh.b,selectValue:dn.j};var rh=Object(o.c)(e=>{return{variables:Object(uo.j)(e),dashboard:e.currentDashboard.id}},sh)(Object(i.j)(ah)),oh=n(767);const{Active:ih}=W.AutoRefreshStatus;var lh=Object(o.c)(e=>{const t=e.currentDashboard.id;return{autoRefresh:e.autoRefresh[t]||x.c,dashboard:t}})(({autoRefresh:e,dashboard:t})=>{const n=Object(o.d)();return Object(a.useEffect)(()=>{if(e.status!==ih)return Ao.stopPolling(),function(){Ao.stopPolling()};Ao.poll(e.interval)},[e.status,e.interval]),Object(a.useEffect)(()=>(n(Object(oh.b)("dashboard")),()=>{n(Object(oh.b)("not set"))}),[n]),s.a.createElement(rh,null,s.a.createElement(Fd,{resources:[{type:W.ResourceType.Dashboards,id:t}]},s.a.createElement(_n,{resources:[W.ResourceType.Buckets]},s.a.createElement(th,null),s.a.createElement(eh,{autoRefresh:e}))))}),ch=n(366);const uh=s.a.createContext({get:()=>({}),update:()=>{}}),mh=({children:e})=>{const[t,n]=Object(a.useState)({}),r=e=>t[e]||{panel:null,focus:!1};return s.a.createElement(uh.Provider,{value:{get:r,update:(e,a)=>{t[e]=Object.assign(Object.assign({},r(e)),a),n(Object.assign({},t))}}},e)};var dh=n(82),ph=n(246);const hh={scrollPosition:0,scrollToPipe:()=>{}},_h=s.a.createContext(hh),gh=({children:e})=>{const[t,n]=Object(a.useState)(hh.scrollPosition);return s.a.createElement(_h.Provider,{value:{scrollPosition:t,scrollToPipe:e=>{if(e&&e.current){const{offsetTop:t}=e.current;n(t)}}}},e)};var fh;!function(e){e.Create="create",e.Update="update"}(fh||(fh={}));const bh={activeTab:fh.Create,canSubmit:()=>!1,handleSetActiveTab:()=>{},handleSetError:()=>{},handleSetEveryInterval:()=>{},handleSetTask:()=>{},handleSetTaskName:()=>{},hasError:!1,interval:"",selectedTask:void 0,taskName:""},yh=s.a.createContext(bh);var vh=({children:e})=>{const[t,n]=Object(a.useState)(fh.Create),[r,o]=Object(a.useState)(void 0),[i,l]=Object(a.useState)(!1),[c,u]=Object(a.useState)(""),[m,d]=Object(a.useState)(""),p=Object(a.useCallback)(e=>{n(e)},[]),h=Object(a.useCallback)(e=>{l(e)},[]),_=Object(a.useCallback)(e=>{i&&l(!1),d(e)},[i]),g=Object(a.useCallback)(e=>{i&&l(!1),u(e)},[i]),f=Object(a.useCallback)(e=>{i&&l(!1),o(e)},[i]),b=Object(a.useCallback)(()=>t===fh.Create?!!c&&""!==m:""!==m&&!!(null==r?void 0:r.name),[t,c,m,r]);return s.a.createElement(yh.Provider,{value:{activeTab:t,canSubmit:b,handleSetActiveTab:p,handleSetError:h,handleSetEveryInterval:_,handleSetTask:f,handleSetTaskName:g,hasError:i,interval:m,selectedTask:r,taskName:c}},e)},xh=n(369),wh=n(367);var Eh=s.a.memo(()=>{const{timeZone:e,onSetTimeZone:t}=Object(a.useContext)(xh.a);return s.a.createElement(ku,{timeZone:e,onSetTimeZone:e=>{Object(A.a)("Time Zone Changed",{timeZone:e}),t(e)}})});var kh=()=>{const{update:e,flow:t}=Object(a.useContext)(dh.a),n=Object(a.useCallback)(t=>{Object(A.a)("Time Range Updated",{type:t.type},{upper:t.upper,lower:t.lower}),e({range:t})},[e]);return Object(a.useMemo)(()=>s.a.createElement(Wo,{timeRange:t.range,onSetTimeRange:n}),[t,n])};var Sh=()=>{const{update:e,flow:t}=Object(a.useContext)(dh.a),n=Object(a.useCallback)(t=>{const n=0===t?W.AutoRefreshStatus.Paused:W.AutoRefreshStatus.Active;Object(A.a)("Auto Refresh Updated",{interval:""+t}),e({refresh:{status:n,interval:t}})},[e]);return Object(a.useMemo)(()=>s.a.createElement(Ro,{selected:t.refresh,onChoose:n,showManualRefresh:!1}),[t,n])};n(1374);const Ch=$.c;var Th=()=>{const{query:e,generateMap:t}=Object(a.useContext)(wh.a),{flow:n}=Object(a.useContext)(dh.a),{add:r,update:o}=Object(a.useContext)(ch.a),[i,l]=Object(a.useState)(W.RemoteDataState.NotStarted),[c,u]=Object(a.useState)(!1),m=Object(a.useMemo)(()=>!!n.data.all.map(e=>e.type).filter(e=>"query"===e||"queryBuilder"===e).length,[n.data]);Object(a.useEffect)(()=>{m&&p()},[n.range,m]);const d=(e,t)=>{try{o(e,t)}catch(n){r(e,t)}},p=()=>{const a=t(c);a.length&&(Object(A.a)("Flow Submit Button Clicked"),l(W.RemoteDataState.Loading),n.data.allIDs.forEach(e=>{n.meta.update(e,{loading:W.RemoteDataState.Loading})}),Promise.all(a.map(t=>e(t.text).then(e=>{t.instances.forEach(t=>{d(t,e),n.meta.update(t,{loading:W.RemoteDataState.Done})})}).catch(e=>{t.instances.forEach(t=>{d(t,{error:e.message}),n.meta.update(t,{loading:W.RemoteDataState.Error})})}))).then(()=>{Object(A.a)("Flow Submit Resolved"),l(W.RemoteDataState.Done)}).catch(e=>{throw Object(A.a)("Flow Submit Resolved"),l(W.RemoteDataState.Error),e}))};return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.ButtonGroup,null,s.a.createElement(Ei,{text:c?"Run":"Preview",className:"flows--submit-button",icon:h.IconFont.Play,submitButtonDisabled:!m,queryStatus:i,onSubmit:p,onNotify:Ch,queryID:""}),s.a.createElement(h.SquareButton,{active:e,onClick:t,icon:h.IconFont.CaretDown,color:h.ComponentColor.Primary})),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},s.a.createElement(h.List.Item,{key:"Preview",value:"Preview",onClick:()=>u(!1),className:"submit-btn--item",testID:"flow-preview-button",selected:!c,gradient:h.Gradients.PolarExpress},s.a.createElement("div",{className:"submit-btn--item-details"},s.a.createElement("span",{className:"submit-btn--item-name"},"Preview"),s.a.createElement("span",{className:"submit-btn--item-desc"},"See results of each cell, no data will be written"))),s.a.createElement(h.List.Item,{key:"Run",value:"Run",onClick:()=>u(!0),className:"submit-btn--item",testID:"flow-run-button",selected:c,gradient:h.Gradients.PolarExpress},s.a.createElement("div",{className:"submit-btn--item-details"},s.a.createElement("span",{className:"submit-btn--item-name"},"Run"),s.a.createElement("span",{className:"submit-btn--item-desc"},"See results of each cell, outputs will write data to buckets")))),style:{width:"205px"}})};var Oh=()=>{const{flow:e,update:t}=Object(a.useContext)(dh.a),n=`flows-presentationmode-${e.readOnly?"disable":"enable"}`;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.SlideToggle,{active:e.readOnly,onChange:()=>{t({readOnly:!e.readOnly})},className:n}),s.a.createElement(h.InputLabel,null,"Presentation"))};const Dh=()=>{const{update:e,flow:t}=Object(a.useContext)(dh.a);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(Gd,{onRename:t=>{e({name:t})},name:t.name,placeholder:"Name this Flow",maxLength:50})),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(wh.b,null,s.a.createElement(Th,null))),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(Oh,null),s.a.createElement(Eh,null),s.a.createElement(kh,null),s.a.createElement(Sh,null))))};var Ih=()=>s.a.createElement(xh.b,null,s.a.createElement(Dh,null)),jh=n(247),Rh=n(76);var Nh=e=>{const{data:t}=Object(a.useContext)(Rh.a);if(!jh.a.hasOwnProperty(t.type))throw new Error(`Pipe type [${t.type}] not registered`);return Object(a.createElement)(jh.a[t.type].component,e)};var Ah=({onRemove:e})=>{if(!e)return null;return s.a.createElement(h.SquareButton,{className:"flows-delete-cell",testID:"flows-delete-cell",icon:h.IconFont.Remove,onClick:()=>{Object(A.a)("Flow Panel Removed"),e()},titleText:"Remove this cell"})};var Ph=({title:e,children:t})=>0===a.Children.count(t)?null:s.a.createElement("div",{className:"add-cell-menu--column"},s.a.createElement("h6",{className:"add-cell-menu--column-title"},e),t);n(1375);const Mh=[{name:"Input",family:"inputs"},{name:"Transform",family:"transform"},{name:"Pass Throughs",family:"passThrough"},{name:"Test",family:"test"},{name:"Outputs",family:"output"},{name:"Side Effects",family:"sideEffects"}];var Lh=({index:e,onInsert:t,eventName:n})=>{const{add:r}=Object(a.useContext)(dh.a),o=Object(a.useContext)(ch.a),i=Object.entries(Object.values(jh.a).filter(e=>!e.disabled&&(!e.featureFlag||Object(L.c)(e.featureFlag))).reduce((e,t)=>(e.hasOwnProperty(t.family)||(e[t.family]=[]),e[t.family].push(t),e),{})).reduce((e,[t,n])=>(e[t]=n.sort((e,t)=>{const n=e.priority||0,a=t.priority||0;return n===a?e.button.localeCompare(t.button):a-n}),e),{}),l=Mh.filter(e=>i.hasOwnProperty(e.family)).map(a=>{const l=i[a.family].map(a=>s.a.createElement(h.Button,{className:`flows-add-cell-${a.type}`,key:a.type,text:a.button,testID:`add-flow-btn--${a.type}`,onClick:()=>{let s=a.initial;"function"==typeof s&&(s=s()),t&&t(),Object(A.a)(n,{type:a.type});const i=r(Object.assign(Object.assign({},s),{type:a.type}),e);o.add(i)},color:h.ComponentColor.Secondary}));return s.a.createElement(Ph,{key:a.name,title:a.name},l)});return s.a.createElement("div",{className:"add-cell-menu"},l)};n(1376);var Fh=({id:e})=>{const{flow:t}=Object(a.useContext)(dh.a),n=Object(a.useRef)(null),r=Object(a.useRef)(null),o=Object(a.useRef)(!1),i=t.data.indexOf(e);return s.a.createElement("div",{className:"flow-divider",ref:n},s.a.createElement(h.SquareButton,{icon:h.IconFont.Plus,ref:r,testID:`panel-add-btn-${i}`,className:"flow-divider--button",color:h.ComponentColor.Secondary,active:o.current}),s.a.createElement(h.Popover,{enableDefaultStyles:!1,appearance:h.Appearance.Outline,color:h.ComponentColor.Secondary,triggerRef:r,position:h.PopoverPosition.Below,onShow:()=>{o.current=!0,n.current&&n.current.classList.add("flow-divider__popped")},onHide:()=>{o.current=!1,n.current&&n.current.classList.remove("flow-divider__popped")},contents:e=>s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,margin:h.ComponentSize.Small,className:"insert-cell-menu"},s.a.createElement("p",{className:"insert-cell-menu--title"},"Insert Cell Here"),s.a.createElement(Lh,{index:i,onInsert:e,eventName:"Flow Insert Cell Inline"}))}))};var qh=({id:e})=>{const{flow:t}=Object(a.useContext)(dh.a),n=t.meta.get(e),r=n.visible?h.IconFont.EyeOpen:h.IconFont.EyeClosed,o=n.visible?"Collapse cell":"Expand cell";return s.a.createElement(h.SquareButton,{icon:r,onClick:()=>{Object(A.a)("Panel Visibility Toggled",{state:n.visible?"false":"true"}),t.meta.update(e,{visible:!n.visible})},titleText:o})};var Bh=({onClick:e,direction:t,active:n})=>{const a=n?h.ComponentStatus.Default:h.ComponentStatus.Disabled,r="up"===t?h.IconFont.CaretUp:h.IconFont.CaretDown,o=`Move this cell ${t}`;return s.a.createElement(h.SquareButton,{icon:r,onClick:n=>{e&&(Object(A.a)("Flow Panel Moved",{direction:t}),n.stopPropagation(),e())},titleText:o,status:a,className:"flow-move-cell-button"})};var zh=({id:e})=>{const{flow:t}=Object(a.useContext)(dh.a),n=t.meta.get(e).title;let r=s.a.createElement("div",{className:"flow-panel--title"},n);return r=s.a.createElement("input",{type:"text",value:n,onChange:n=>{(n=>{t.meta.update(e,{title:n})})(n.target.value)},placeholder:"Enter an ID",className:"flow-panel--editable-title",autoComplete:"off",autoCorrect:"off",spellCheck:!1,maxLength:30}),s.a.createElement(s.a.Fragment,null,void 0,r)},Uh=n(383);var Hh=({onClickPrev:e,onClickNext:t,visible:n,disablePrev:a,disableNext:r,pageSize:o,startRow:i})=>{if(!n)return null;const l=a?h.ComponentStatus.Disabled:h.ComponentStatus.Default,c=r?h.ComponentStatus.Disabled:h.ComponentStatus.Default;return s.a.createElement("div",{className:"query-results--pagination"},s.a.createElement("span",{className:"query-results--pagination-label"},`Showing Results ${i} - ${i+o}`),s.a.createElement(h.Button,{className:"query-results--pagination-button",text:"Previous",status:l,icon:h.IconFont.CaretLeft,onClick:e,size:h.ComponentSize.ExtraSmall}),s.a.createElement(h.Button,{className:"query-results--pagination-button",text:"Next",status:c,icon:h.IconFont.CaretRight,onClick:t,size:h.ComponentSize.ExtraSmall}))};var Gh=()=>{const{flow:e}=Object(a.useContext)(dh.a),{id:t,results:n}=Object(a.useContext)(Rh.a),[r,o]=Object(a.useState)(Uh.a),[i,l]=Object(a.useState)("visible"),c=e.meta.get(t),u=!!n&&!!n.raw&&!!n.parsed.table.length,m=(n||{}).raw||"",d=Object(a.useMemo)(()=>m.split("\n"),[m]),[p,h]=Object(a.useState)(0),[_,g]=Object(a.useState)(0);Object(a.useEffect)(()=>{h(0)},[m]);const f=p<=0,b=p+_>=d.length;let y;return y=c.loading===W.RemoteDataState.NotStarted?"Run the Flow to See Results":c.loading===W.RemoteDataState.Loading?"Loading":"No Data Returned",s.a.createElement(Uh.b,{resizingEnabled:u,emptyText:y,error:n.error,hiddenText:"Results hidden",toggleVisibilityEnabled:!0,height:r,onUpdateHeight:e=>o(e),visibility:i,onUpdateVisibility:e=>l(e)},s.a.createElement("div",{className:"query-results"},s.a.createElement(Hh,{onClickPrev:()=>{Object(A.a)("Query Pagination Previous Button Clicked");const e=p-_;h(e<=0?0:e)},onClickNext:()=>{Object(A.a)("Query Pagination Next Button Clicked");const e=p+_,t=d.length-_;h(e>=t?t:e)},disablePrev:f,disableNext:b,visible:u&&"visible"===i,pageSize:_,startRow:p}),s.a.createElement("div",{className:"query-results--container"},s.a.createElement(bl.a,null,({width:e,height:t})=>{if(!e||!t)return!1;const n=Math.floor(t/27);if(g(n),Object(L.c)("flowsUiPagination")){const t=Object(ul.fromFlux)(m);return s.a.createElement(Ml,{parsedResults:t,startRow:p,width:e,height:27*n,disableVerticalScrolling:!0})}return s.a.createElement(Ml,{files:[d.slice(p,p+n).join("\n")],width:e,height:27*n,disableVerticalScrolling:!0})}))))};const Vh=({id:e,controls:t,persistentControl:n})=>{const{flow:r}=Object(a.useContext)(dh.a),o=()=>{r.data.remove(e),r.meta.remove(e)},i=r.data.indexOf(e),l=i>0,c=i<r.data.allIDs.length-1,u=Object(a.useCallback)(()=>{l&&r.data.move(e,i-1)},[i,l,r.data]),m=Object(a.useCallback)(()=>{c&&r.data.move(e,i+1)},[i,c,r.data]),d=Object(a.useCallback)(()=>o(),[o,e]);return s.a.createElement("div",{className:"flow-panel--header"},s.a.createElement("div",{className:"flow-panel--node-wrapper"},s.a.createElement("div",{className:"flow-panel--node"})),s.a.createElement(h.FlexBox,{className:"flow-panel--header-left",alignItems:h.AlignItems.Center,margin:h.ComponentSize.Small,justifyContent:h.JustifyContent.FlexStart},s.a.createElement(zh,{id:e})),!r.readOnly&&s.a.createElement(h.FlexBox,{className:"flow-panel--header-right",alignItems:h.AlignItems.Center,margin:h.ComponentSize.Small,justifyContent:h.JustifyContent.FlexEnd},t,s.a.createElement(L.a,{name:"flow-move-cells"},s.a.createElement(Bh,{direction:"up",onClick:u,active:l}),s.a.createElement(Bh,{direction:"down",onClick:m,active:c})),s.a.createElement(qh,{id:e}),s.a.createElement(Ah,{onRemove:d}),n))};var $h=({id:e,children:t,controls:n,persistentControl:r})=>{const{flow:o}=Object(a.useContext)(dh.a),i=Object(a.useContext)(uh),l=Object(a.useRef)(null),c=o.meta.get(e).visible,u=i.get(e).focus,m=f()("flow-panel",{"flow-panel__visible":c,"flow-panel__hidden":!c,"flow-panel__focus":u});Object(a.useEffect)(()=>{i.update(e,{panel:l})},[]);const d=Object(a.useCallback)(t=>{i.update(e,{focus:t})},[e,i]),p=["inputs","transform"].includes(jh.a[o.data.get(e).type].family);return o.readOnly&&!/^(visualization|markdown)$/.test(o.data.get(e).type)?null:s.a.createElement(h.ClickOutside,{onClickOutside:()=>{d(!1)}},s.a.createElement("div",{className:m,onClick:e=>{e.stopPropagation(),d(!0)},ref:l},s.a.createElement(Vh,{id:e,controls:n,persistentControl:r}),s.a.createElement("div",{className:"flow-panel--body"},t),p&&s.a.createElement("div",{className:"flow-panel--results"},s.a.createElement(Gh,null)),!o.readOnly&&s.a.createElement(Fh,{id:e})))};var Wh=({id:e})=>{const t=Object(a.useMemo)(()=>t=>{const n=Object.assign(Object.assign({},t),{id:e});return Object(a.createElement)($h,n)},[e]);return s.a.createElement(Rh.b,{id:e},s.a.createElement(Nh,{Context:t}))};n(1377);var Kh=()=>s.a.createElement("div",{className:"flow-empty"},s.a.createElement("div",{className:"flow-empty--graphic"}),s.a.createElement("h3",null,"Welcome to Flows"),s.a.createElement("p",null,"This is a more flexible way to explore, visualize, and (eventually) alert on your data"),s.a.createElement("p",null,"Get started by ",s.a.createElement("strong",null,"Adding a Cell")," below"),s.a.createElement("div",{className:"flow-empty--buttons"},s.a.createElement(Lh,{eventName:"Add from empty"})));var Qh=()=>{const{scrollPosition:e}=Object(a.useContext)(_h),{flow:t}=Object(a.useContext)(dh.a),{data:n}=t;if(!n||!n.allIDs.length)return s.a.createElement(Kh,null);const r=n.allIDs.map(e=>s.a.createElement(Wh,{key:`pipe-${e}`,id:e}));return s.a.createElement(h.DapperScrollbars,{className:"flow-main",autoHide:!0,noScrollX:!0,scrollTop:e},r)};const Yh={handleSetFlowMiniMapState:F.g};var Xh=Object(o.c)(e=>{const{app:{persisted:{flowMiniMapState:t}}}=e;return{flowMiniMapState:t}},Yh)(({flowMiniMapState:e,handleSetFlowMiniMapState:t})=>{const n="expanded"===e,a=n?h.IconFont.Minimize:h.IconFont.Maximize,r=n?"Click to minimize Table of Contents":"Click to maximize Table of Contents",o=`flow-minimap--header flows-toc-${n?"collapse":"expand"}`;return s.a.createElement("button",{className:o,onClick:()=>{Object(A.a)("Flow Toggled Table of Contents",{state:n?"collapsed":"expanded"}),t(n?"collapsed":"expanded")},title:r},n&&s.a.createElement("h6",{className:"flow-minimap--title"},"Table of Contents"),s.a.createElement(h.Icon,{className:"flow-minimap--icon",glyph:a}))});var Zh=({title:e,focus:t,onClick:n,visible:a})=>{const r=f()("flow-minimap--item",{"flow-minimap--item__focus":t,"flow-minimap--item__hidden":!a});return s.a.createElement("div",{className:r,onClick:()=>{n()}},e)};n(1378);var Jh=()=>{const{flow:e}=Object(a.useContext)(dh.a),t=Object(a.useContext)(uh),{scrollToPipe:n}=Object(a.useContext)(_h);if("collapsed"===Object(o.e)(e=>e.app.persisted.flowMiniMapState))return s.a.createElement(L.a,{name:"flow-move-cells"},s.a.createElement("div",{className:"flow-minimap__collapsed"},s.a.createElement(Xh,null)));const r=e.data.allIDs.map(a=>{const{title:r,visible:o}=e.meta.get(a),{panel:i,focus:l}=t.get(a);return s.a.createElement(Zh,{key:`minimap-${a}`,title:r,focus:l,visible:o,onClick:()=>{n(i),t.update(a,{focus:!0})}})});return s.a.createElement(L.a,{name:"flow-move-cells"},s.a.createElement("div",{className:"flow-minimap"},s.a.createElement(Xh,null),s.a.createElement(h.DapperScrollbars,{className:"flow-minimap--scroll",autoHide:!0},s.a.createElement("div",{className:"flow-minimap--list"},r))))};var e_=()=>s.a.createElement(h.Page,{titleTag:"Flows"},s.a.createElement(Ih,null),s.a.createElement(wh.b,null,s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1,className:"flow-page"},s.a.createElement("div",{className:"flow"},s.a.createElement(Jh,null),s.a.createElement(Qh,null)))));var t_=({onSubmit:e})=>{const t=Object(i.f)(),{canSubmit:n}=Object(a.useContext)(yh);return s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:()=>t.goBack(),titleText:"Cancel",type:h.ButtonType.Button}),s.a.createElement(h.Button,{text:"Export Task",color:h.ComponentColor.Success,type:h.ButtonType.Submit,onClick:e,status:n()?h.ComponentStatus.Default:h.ComponentStatus.Disabled,testID:"task-form-export"}))};var n_=()=>{const{handleSetTask:e,selectedTask:t}=Object(a.useContext)(yh),n=Object(o.e)(ve.b);let r="Loading tasks...",i=s.a.createElement(h.Dropdown.ItemEmpty,null,s.a.createElement(h.TechnoSpinner,{strokeWidth:h.ComponentSize.Small,diameterPixels:32}));const l=Object(o.d)();Object(a.useEffect)(()=>{l(Wt())},[l]),n.length&&(i=s.a.createElement(s.a.Fragment,null,n.map(n=>s.a.createElement(h.Dropdown.Item,{key:n.name,value:n,onClick:t=>e(t),selected:n.name===(null==t?void 0:t.name),title:n.name,wrapText:!0},n.name)))),(null==t?void 0:t.name)?(null==t?void 0:t.name)&&(r=t.name):r="Choose a task";return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{onClick:t,active:e,icon:h.IconFont.Disks},r),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},i),style:{width:"100%"}})};var a_=()=>s.a.createElement(h.Panel,{gradient:h.Gradients.LostGalaxy,testID:"panel",border:!0},s.a.createElement(h.Panel.Body,{justifyContent:h.JustifyContent.FlexStart,alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Large,size:h.ComponentSize.ExtraSmall},s.a.createElement(h.Icon,{glyph:h.IconFont.AlertTriangle}),s.a.createElement("p",{className:"margin-zero"}," Note: changes made to an existing task cannot be undone")));var s_=({formattedQueryText:e=""})=>s.a.createElement(h.Form.Element,{label:"",style:{height:300,position:"relative"}},s.a.createElement("div",{className:"flux-editor"},s.a.createElement("div",{className:"flux-editor--left-panel"},s.a.createElement(kr.a,{script:e,onChangeScript:()=>{},readOnly:!0}))));var r_=({formattedQueryText:e})=>{const{interval:t,handleSetEveryInterval:n,hasError:r}=Object(a.useContext)(yh);return Object(o.e)(ve.g)?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"You haven’t created any Tasks yet")):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Nine},s.a.createElement(h.Form.Element,{label:"Name",errorMessage:r&&"This field cannot be empty"},s.a.createElement(n_,null))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Three},s.a.createElement(h.Form.Element,{label:"Run Every",errorMessage:r&&"Invalid Time"},s.a.createElement(h.Input,{name:"schedule",type:h.InputType.Text,placeholder:"3h30s",value:t,onChange:e=>n(e.target.value),testID:"task-form-schedule-input",status:r?h.ComponentStatus.Error:h.ComponentStatus.Default}))),s.a.createElement(h.Grid.Column,null,s.a.createElement(a_,null)),s.a.createElement(h.Grid.Column,null,s.a.createElement(s_,{formattedQueryText:e})))};var o_=({formattedQueryText:e})=>{const{interval:t,handleSetEveryInterval:n,handleSetTaskName:r,hasError:o,taskName:i}=Object(a.useContext)(yh);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Nine},s.a.createElement(h.Form.Element,{label:"Name",errorMessage:o&&"This field cannot be empty"},s.a.createElement(h.Input,{name:"name",placeholder:"Name your task",onChange:e=>r(e.target.value),value:i,testID:"task-form-name",status:o?h.ComponentStatus.Error:h.ComponentStatus.Default}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Three},s.a.createElement(h.Form.Element,{label:"Run Every",errorMessage:o&&"Invalid Time"},s.a.createElement(h.Input,{name:"schedule",type:h.InputType.Text,placeholder:"3h30s",value:t,onChange:e=>n(e.target.value),testID:"task-form-schedule-input",status:o?h.ComponentStatus.Error:h.ComponentStatus.Default}))),s.a.createElement(h.Grid.Column,null,s.a.createElement(s_,{formattedQueryText:e})))};var i_=()=>{const{activeTab:e,handleSetActiveTab:t,handleSetError:n,interval:r,selectedTask:l,taskName:c}=Object(a.useContext)(yh),u=Object(i.g)().state,{queryText:m}=u[0],p=m.trim().split("|>").join("\n  |>"),_=Object(o.d)(),g=e===fh.Create?()=>{if(!/\d/.test(r))return void n(!0);_(Zt(p,`${`option v = {\n  timeRangeStart: -${r},\n  timeRangeStop: now()\n}`}\n\n${`option task = { \n  name: "${c}",\n  every: ${r},\n  offset: 0s\n}`}`))}:()=>{if(!/\d/.test(r)||!(null==l?void 0:l.name))return void n(!0);const e=`option task = { \n  name: "${l.name}",\n  every: ${r},\n  offset: 0s\n}`;_((({script:e,interval:t,preamble:n,task:a})=>async s=>{try{const r=await Gt(e,n),o=await fe.db({taskID:a.id,data:Object.assign(Object.assign({},a),{offset:"0s",every:t,flux:r})});if(200!==o.status)throw new Error(o.data.message);s(Yt()),s(Object($.c)(me.Hc()))}catch(e){console.error(e);const t=Object(d.b)(e);s(Object($.c)(me.Gc(t)))}})({script:p,preamble:`${`option v = {\n  timeRangeStart: -${r},\n  timeRangeStop: now()\n}`}\n\n${e}`,interval:r,task:l}))},f=Object(i.f)();return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:600},s.a.createElement(h.Overlay.Header,{title:"Export As Task",onDismiss:()=>f.goBack(),testID:"export-as-overlay--header"}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Tabs.Container,{orientation:h.Orientation.Horizontal},s.a.createElement(h.Tabs,{alignment:h.Alignment.Left,size:h.ComponentSize.Small},s.a.createElement(h.Tabs.Tab,{id:fh.Create,text:"Create New",testID:"task--radio-button",onClick:()=>t(fh.Create),active:e===fh.Create}),s.a.createElement(h.Tabs.Tab,{id:fh.Update,text:"Update Existing",testID:"variable-radio-button",onClick:()=>t(fh.Update),active:e===fh.Update})),s.a.createElement(h.Tabs.TabContents,null,s.a.createElement(h.Form,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,e===fh.Create?s.a.createElement(o_,{formattedQueryText:p}):s.a.createElement(r_,{formattedQueryText:p}),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(t_,{onSubmit:g}))))))))))};n(1379);const l_=()=>{const{id:e}=Object(i.h)(),{change:t}=Object(a.useContext)(ph.a);return Object(a.useEffect)(()=>{t(e)},[e,t]),null};var c_=()=>s.a.createElement(dh.b,null,s.a.createElement(l_,null),s.a.createElement(ch.b,null,s.a.createElement(mh,null,s.a.createElement(gh,null,s.a.createElement(vh,null,s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/flows/:id/export-task",component:i_}))),s.a.createElement(e_,null)))));let u_=class extends a.PureComponent{render(){const{activeTab:e,orgID:t,history:n}=this.props,a=e=>{n.push(`/orgs/${t}/load-data/${e}`)},r=[{text:"Sources",id:"sources",cloudExclude:!1,featureFlag:null},{text:"Buckets",id:"buckets",cloudExclude:!1,featureFlag:null},{text:"Telegraf",id:"telegrafs",cloudExclude:!1,featureFlag:null},{text:"Scrapers",id:"scrapers",cloudExclude:!0,featureFlag:null},{text:"Tokens",id:"tokens",cloudExclude:!1,featureFlag:null}],o=r.find(t=>t.id===e).text;return s.a.createElement(h.Tabs,{orientation:h.Orientation.Horizontal,size:h.ComponentSize.Large,dropdownBreakpoint:872,dropdownLabel:o},r.map(t=>{let n=s.a.createElement(h.Tabs.Tab,{key:t.id,text:t.text,id:t.id,onClick:a,active:t.id===e});return t.cloudExclude&&(n=s.a.createElement(w,{key:t.id},n)),t.featureFlag&&(n=s.a.createElement(L.a,{key:t.id,name:t.featureFlag},n)),n}))}};u_=Object(m.a)([p.a],u_);var m_=Object(i.j)(u_);var d_=Object(o.c)(e=>{return{orgID:Object(S.a)(e).id}})(({activeTab:e,orgID:t,children:n})=>s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(h.Tabs.Container,{orientation:h.Orientation.Horizontal},s.a.createElement(m_,{activeTab:e,orgID:t}),s.a.createElement(h.Tabs.TabContents,null,n))));var p_=()=>s.a.createElement(h.Page.Header,{fullWidth:!1,testID:"load-data--header"},s.a.createElement(h.Page.Title,{title:"Load Data"}),s.a.createElement(Ga,null));var h_=({childrenLeft:e,childrenRight:t})=>{let n=s.a.createElement(s.a.Fragment,null),a=s.a.createElement(s.a.Fragment,null);return e&&(n=s.a.createElement("div",{className:"tabbed-page--header-left"},e)),t&&(a=s.a.createElement("div",{className:"tabbed-page--header-right"},t)),s.a.createElement("div",{className:"tabbed-page--header","data-testid":"tabbed-page--header"},n,a)};class __ extends a.PureComponent{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ss.f,{align:ss.a.Center},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:ss.d.Small},this.deleteButton)))}get deleteButton(){const{bucket:e,onDeleteBucket:t}=this.props;return"user"===e.type?s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,shape:h.ButtonShape.Default,text:"Delete Bucket",testID:`context-delete-menu ${e.name}`},s.a.createElement(ss.f.Item,{label:"Confirm",action:t,value:e,testID:`context-delete-bucket ${e.name}`})):null}}var g_=n(276),f_=n.n(g_);const b_={notify:$.c};var y_=Object(o.c)(null,b_)(({bucket:e,notify:t})=>{const n=s.a.createElement("span",{"data-testid":"bucket-retention"},"Retention: ",Object(y.capitalize)(e.readableRetention));return"system"===e.type?s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement("span",{className:"system-bucket",key:`system-bucket-indicator-${e.id}`},"System Bucket"),n):s.a.createElement(h.ResourceCard.Meta,null,n,s.a.createElement(f_.a,{text:e.id,onCopy:(e,n)=>{const a=`${e.slice(0,30).trimRight()}...`;t(n?Object(me.T)(a,"Bucket ID"):Object(me.S)(a,"Bucket ID"))}},s.a.createElement("span",{className:"copy-bucket-id",title:"Click to Copy to Clipboard"},"ID: ",e.id,s.a.createElement("span",{className:"copy-bucket-id--helper"},"Copy to Clipboard"))))});class v_ extends a.PureComponent{constructor(){super(...arguments),this.triggerRef=Object(a.createRef)()}render(){const{onAddCollector:e,onAddLineProtocol:t,onAddClientLibrary:n,onAddScraper:a}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Popover,{color:h.ComponentColor.Secondary,appearance:h.Appearance.Outline,position:h.PopoverPosition.ToTheRight,triggerRef:this.triggerRef,distanceFromTrigger:8,contents:r=>s.a.createElement("div",{className:"bucket-add-data",onClick:r},s.a.createElement("div",{className:"bucket-add-data--option",onClick:e},s.a.createElement("div",{className:"bucket-add-data--option-header"},"Configure Telegraf Agent"),s.a.createElement("div",{className:"bucket-add-data--option-desc"},"Configure a Telegraf agent to push data into your bucket.")),s.a.createElement("div",{className:"bucket-add-data--option",onClick:t},s.a.createElement("div",{className:"bucket-add-data--option-header","data-testid":"bucket-add-line-protocol"},"Line Protocol"),s.a.createElement("div",{className:"bucket-add-data--option-desc"},"Quickly load an existing line protocol file.")),s.a.createElement("div",{className:"bucket-add-data--option",onClick:n},s.a.createElement("div",{className:"bucket-add-data--option-header","data-testid":"bucket-add-client-library"},"Client Library"),s.a.createElement("div",{className:"bucket-add-data--option-desc"},"Write data easily from your own application.")),s.a.createElement(w,null,s.a.createElement("div",{className:"bucket-add-data--option",onClick:a},s.a.createElement("div",{className:"bucket-add-data--option-header"},"Scrape Metrics"),s.a.createElement("div",{className:"bucket-add-data--option-desc"},"Add a scrape target to pull data into your bucket."))))}),s.a.createElement(h.Button,{ref:this.triggerRef,text:"Add Data",testID:"add-data--button",icon:h.IconFont.Plus,size:h.ComponentSize.ExtraSmall,color:h.ComponentColor.Secondary}))}}var x_=n(370),w_=n(177),E_=n(147);const k_={onAddBucketLabel:rt.a,onDeleteBucketLabel:rt.d,onSetDataLoadersBucket:x_.d,onSetDataLoadersType:w_.j};var S_=Object(o.c)(null,k_)(Object(i.j)(({bucket:e,bucketType:t,orgID:n,onFilterChange:a,onAddBucketLabel:r,onDeleteBucketLabel:o,onDeleteData:i,history:l,onSetDataLoadersBucket:c,onSetDataLoadersType:u})=>{if("system"===t)return null;return s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,style:{marginTop:"4px"}},s.a.createElement(Ts,{selectedLabelIDs:e.labels,onFilterChange:a,onAddLabel:t=>{r(e.id,t)},onRemoveLabel:t=>{o(e.id,t)}}),s.a.createElement(v_,{onAddCollector:()=>{c(n,e.name,e.id),u(E_.e.Streaming),l.push(`/orgs/${n}/load-data/buckets/${e.id}/telegrafs/new`)},onAddLineProtocol:()=>{c(n,e.name,e.id),l.push(`/orgs/${n}/load-data/buckets/${e.id}/line-protocols/new`)},onAddClientLibrary:()=>{c(n,e.name,e.id),u(E_.e.ClientLibrary),l.push(`/orgs/${n}/load-data/`)},onAddScraper:()=>{c(n,e.name,e.id),u(E_.e.Scraping),l.push(`/orgs/${n}/load-data/buckets/${e.id}/scrapers/new`)}}),s.a.createElement(h.Button,{text:"Settings",testID:"bucket-settings",size:h.ComponentSize.ExtraSmall,onClick:()=>{l.push(`/orgs/${n}/load-data/buckets/${e.id}/edit`)}}),s.a.createElement(L.a,{name:"deleteWithPredicate"},s.a.createElement(h.Button,{text:"Delete Data By Filter",testID:"bucket-delete-bucket",size:h.ComponentSize.ExtraSmall,onClick:()=>i(e)})))}));var C_=Object(i.j)(({bucket:e,onDeleteBucket:t,onFilterChange:n,onDeleteData:a,history:r,match:{params:{orgID:o}}})=>{return s.a.createElement(h.ResourceCard,{testID:`bucket-card ${e.name}`,contextMenu:!Object(gn.b)(e.name)&&s.a.createElement(__,{bucket:e,onDeleteBucket:t})},s.a.createElement(h.ResourceCard.Name,{testID:`bucket--card--name ${e.name}`,onClick:()=>{r.push(`/orgs/${o}/data-explorer?bucket=${e.name}`)},name:e.name}),s.a.createElement(y_,{bucket:e}),s.a.createElement(S_,{bucket:e,orgID:o,bucketType:e.type,onDeleteData:a,onFilterChange:n}))}),T_=n(428),O_=n(314);const D_=e=>({type:"SET_DEMODATA_STATUS",payload:{status:e}}),I_={removeBucket:e=>async t=>{try{if(await Object(T_.a)(e.id),200===(await Object(fe.w)({bucketID:e.id})).status)throw new Error("Request to remove demo data bucket did not succeed");t(Object(O_.g)(e.id)),Object(A.a)("demoData_bucketDeleted",{demo_dataset:e.name})}catch(n){t(Object($.c)(Object(me.qb)(e.name,n))),Object(ct.b)(n,{name:"deleteDemoDataBucket failed in deleteDemoDataBucketMembership"})}},notify:$.c};var j_=Object(o.c)(null,I_)(Object(i.j)(({bucket:e,history:t,match:{params:{orgID:n}},removeBucket:a,notify:r})=>{return s.a.createElement(h.ResourceCard,{testID:`bucket-card ${e.name}`,contextMenu:s.a.createElement(ss.f,{align:h.Alignment.Center},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,shape:h.ButtonShape.Default,text:"Delete Bucket",testID:`context-delete-menu ${e.name}`},s.a.createElement(ss.f.Item,{label:"Confirm",action:a,value:e,testID:`context-delete-bucket ${e.name}`}))))},s.a.createElement(h.ResourceCard.Name,{testID:`bucket--card--name ${e.name}`,onClick:()=>{t.push(`/orgs/${n}/data-explorer?bucket=${e.name}`)},name:e.name}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement("span",{className:"system-bucket",key:`system-bucket-indicator-${e.name}`},"Demo Data Bucket"),s.a.createElement(s.a.Fragment,null,"Retention: ",e.readableRetention),s.a.createElement(f_.a,{text:e.id,onCopy:(e,t)=>{const n=`${e.slice(0,30).trimRight()}...`;r(t?Object(me.T)(n,"Bucket ID"):Object(me.S)(n,"Bucket ID"))}},s.a.createElement("span",{className:"copy-bucket-id",title:"Click to Copy to Clipboard"},"ID: ",e.id,s.a.createElement("span",{className:"copy-bucket-id--helper"},"Copy to Clipboard")))),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small,style:{marginTop:"4px"}},s.a.createElement(h.Label,{id:"1",key:"1",name:"No Cost",color:"#757888",description:"",onDelete:null,onClick:null})))}));class R_ extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b),this.handleStartDeleteData=e=>{const{orgID:t}=this.props.match.params;this.props.history.push(`/orgs/${t}/load-data/buckets/${e.id}/delete-data`)}}render(){return s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:this.props.emptyState},this.listBuckets))}get listBuckets(){const{buckets:e,sortKey:t,sortDirection:n,sortType:a,onDeleteBucket:r,onFilterChange:o,onUpdateBucket:i}=this.props;return this.memGetSortedResources(e,t,n,a).map(e=>"demodata"===e.type?s.a.createElement(j_,{key:e.id,bucket:e}):s.a.createElement(C_,{key:e.id,bucket:e,onDeleteBucket:r,onDeleteData:this.handleStartDeleteData,onUpdateBucket:i,onFilterChange:o}))}}var N_=Object(i.j)(R_);var A_=()=>s.a.createElement(h.Panel,{gradient:h.Gradients.PolarExpress,border:!0},s.a.createElement(h.Panel.Header,null,s.a.createElement("h5",null,"What is a Bucket?")),s.a.createElement(h.Panel.Body,null,s.a.createElement("p",null,"A bucket is a named location where time series data is stored. All buckets have a ",s.a.createElement("b",null,"Retention Policy"),", a duration of time that each data point persists.",s.a.createElement("br",null),s.a.createElement("br",null),"Here's"," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/write-data/",target:"_blank"},"how to write data")," ","into your bucket.")));const P_={getDemoDataBucketMembership:({name:e,id:t})=>async(n,a)=>{const s=a(),{id:r}=Object(S.a)(s);try{await Object(T_.c)(t);const e=await Object(T_.e)(t);n(Object(O_.e)(e))}catch(t){return n(Object($.c)(Object(me.ob)(e,Object(d.b)(t)))),void Object(ct.b)(t,{name:"addDemoDataBucket failed in getDemoDataBucketMembership"})}try{const t=await I.c[e];if(!t)throw new Error("dashboard template was not found");const a=`/orgs/${r}/dashboards/${(await Object(Bt.a)(t,r)).id}`;n(Object($.c)(Object(me.rb)(e,a))),Object(A.a)("demoData_bucketAdded",{demo_dataset:e})}catch(t){const a=Object(d.b)(t);n(Object($.c)(Object(me.ob)(e,a))),"creating dashboard would exceed quota"!=a&&Object(ct.b)(t,{name:"addDemoDataDashboard failed in getDemoDataBucketMembership"})}}};var M_=Object(o.c)(e=>({ownBucketsByID:e.resources[W.ResourceType.Buckets].byID,demoDataBuckets:Object(y.get)(e,"cloud.demoData.buckets",[])}),P_)(({ownBucketsByID:e,demoDataBuckets:t,getDemoDataBucketMembership:n})=>{const r=Object(o.d)();if(Object(a.useEffect)(()=>{r((()=>async(e,t)=>{const{cloud:{demoData:{status:n}}}=t();n===W.RemoteDataState.NotStarted&&e(D_(W.RemoteDataState.Loading));try{e((e=>({type:"SET_DEMODATA_BUCKETS",payload:{buckets:e}}))(await Object(T_.d)()))}catch(t){console.error(t),Object(ct.b)(t,{name:"getDemoDataBuckets function"}),e(D_(W.RemoteDataState.Error))}})())},[r]),!t.length)return null;const i=Object(y.sortBy)(t,e=>e.name.toLocaleLowerCase()).map(t=>e[t.id]?s.a.createElement(h.Dropdown.Item,{testID:`dropdown-item--demodata-${t.name}`,className:"demodata-dropdown--item__added",id:t.id,key:t.id,value:t,selected:!0},s.a.createElement("div",{className:"demodata-dropdown--item-contents"},s.a.createElement(h.Icon,{glyph:h.IconFont.Checkmark,className:"demodata-dropdown--item-icon"}),t.name)):s.a.createElement(h.Dropdown.Item,{testID:`dropdown-item--demodata-${t.name}`,className:"demodata-dropdown--item",id:t.id,key:t.id,value:t,onClick:n,selected:!1},s.a.createElement("div",{className:"demodata-dropdown--item-contents"},s.a.createElement(h.Icon,{glyph:h.IconFont.Checkmark,className:"demodata-dropdown--item-icon"}),t.name)));return s.a.createElement(h.Dropdown,{testID:"dropdown--demodata",style:{width:"220px"},className:"demodata-dropdown",button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,icon:h.IconFont.Plus,color:h.ComponentColor.Secondary,testID:"dropdown-button--demodata"},"Add Demo Data"),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},i)})});const L_={onShowOverlay:k.c,onDismissOverlay:k.b};var F_=Object(o.c)(null,L_)(({color:e=h.ComponentColor.Primary,buttonText:t,resourceName:n,onShowOverlay:a,onDismissOverlay:r})=>{return s.a.createElement(h.Button,{icon:h.IconFont.Plus,text:t||`Create ${n}`,color:e,titleText:`Click to create ${n}`,onClick:()=>{a("asset-limit",{asset:`${n}s`},r)},testID:`create-${n.toLowerCase()}`})});const q_={onShowOverlay:k.c,onDismissOverlay:k.b};var B_,z_=Object(o.c)(e=>({limitStatus:Object($t.b)(e.cloud.limits)}),q_)(({limitStatus:e,onShowOverlay:t,onDismissOverlay:n})=>{const r=Object(o.d)();Object(a.useEffect)(()=>{r(Object(xt.c)())},[r]);return x.i&&e===xt.b.EXCEEDED?s.a.createElement(F_,{resourceName:"Bucket"}):s.a.createElement(h.Button,{icon:h.IconFont.Plus,color:h.ComponentColor.Primary,text:"Create Bucket",titleText:"Click to create a bucket",onClick:()=>{t("create-bucket",null,n)},testID:"Create Bucket"})});const U_=Ze();let H_=class extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.handleDeleteBucket=({id:e,name:t})=>{this.props.deleteBucket(e,t)},this.handleFilterUpdate=e=>{this.setState({searchTerm:e})},this.state={searchTerm:"",sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}componentDidMount(){this.props.checkBucketLimits()}render(){const{buckets:e,limitStatus:t}=this.props,{searchTerm:n,sortKey:a,sortDirection:r,sortType:o}=this.state,i=s.a.createElement(s.a.Fragment,null,s.a.createElement(Za,{placeholderText:"Filter buckets...",searchTerm:n,onSearch:this.handleFilterUpdate}),s.a.createElement(ts,{resourceType:W.ResourceType.Buckets,sortDirection:r,sortKey:a,sortType:o,onSelect:this.handleSort,width:238})),l=s.a.createElement(s.a.Fragment,null,s.a.createElement(L.a,{name:"demodata"},s.a.createElement(M_,null)),s.a.createElement(z_,null));return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:i,childrenRight:l}),s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Eight,widthMD:h.Columns.Ten},s.a.createElement(U_,{searchTerm:n,searchKeys:["name","readableRetention","labels[].name"],list:e},e=>s.a.createElement(N_,{buckets:e,emptyState:this.emptyState,onUpdateBucket:this.props.updateBucket,onDeleteBucket:this.handleDeleteBucket,onFilterChange:this.handleFilterUpdate,sortKey:a,sortDirection:r,sortType:o})),s.a.createElement(Fs,{resourceName:"buckets",limitStatus:t,className:"load-data--asset-alert"})),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four,widthMD:h.Columns.Two},s.a.createElement(A_,null)))))}get emptyState(){const{searchTerm:e}=this.state;return Object(y.isEmpty)(e)?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like there aren't any ",s.a.createElement("b",null,"Buckets"),", why not create one?"),s.a.createElement(z_,null)):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"No Buckets match your query"))}};H_=Object(m.a)([p.a,Object(m.b)("design:paramtypes",["function"==typeof(B_="undefined"!=typeof Props&&Props)?B_:Object])],H_);const G_={createBucket:rt.b,updateBucket:rt.h,deleteBucket:rt.c,checkBucketLimits:xt.c};var V_=Object(o.c)(e=>{return{buckets:Object(ve.a)(e,W.ResourceType.Buckets),limitStatus:Object($t.b)(e.cloud.limits)}},G_)(H_);const $_=[W.WritePrecision.Ns,W.WritePrecision.Us,W.WritePrecision.Ms,W.WritePrecision.S],W_={[W.WritePrecision.Ns]:E_.f.Nanoseconds,[W.WritePrecision.Us]:E_.f.Microseconds,[W.WritePrecision.S]:E_.f.Seconds,[W.WritePrecision.Ms]:E_.f.Milliseconds};class K_ extends a.PureComponent{render(){const{setPrecision:e,precision:t}=this.props;return s.a.createElement(h.Dropdown,{testID:"wizard-step--lp-precision--dropdown",style:{width:"220px"},button:(e,n)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:n},`Precision: ${W_[t]}`),menu:n=>s.a.createElement(h.Dropdown.Menu,{onCollapse:n},$_.map(n=>s.a.createElement(h.Dropdown.Item,{key:n,value:n,id:n,onClick:e,testID:`wizard-step--lp-precision-${n}`,selected:`${n}`===`${t}`},W_[n])))})}}var Q_=K_,Y_=class extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.tab)}}render(){const{tab:e,active:t}=this.props;return s.a.createElement(h.SelectGroup.Option,{name:"line-protocol",key:e,id:e,titleText:e,value:e,active:t,onClick:this.handleClick,testID:e},e)}},X_=class extends a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const{activeLPTab:t,onClick:n}=this.props;e!==t&&n(e)}}render(){const{tabs:e,activeLPTab:t}=this.props;return s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.Default},e.map(e=>s.a.createElement(Y_,{tab:e,key:e,active:t===e,onClick:this.handleTabClick})))}};var Z_=({uploadContent:e,fileName:t,fileSize:n})=>n>tg?s.a.createElement("div",{className:"drag-and-drop--header error","data-testid":"dnd--header-error"},t," is greater than 10MB"):e?s.a.createElement("div",{className:"drag-and-drop--header selected"},t):s.a.createElement("div",{className:"drag-and-drop--header empty"},"Drop a file here or click to upload. Max size 10MB.");var J_=({fileSize:e,uploadContent:t,onCancel:n,onSubmit:a})=>e>1e7?s.a.createElement("span",{className:"drag-and-drop--buttons"},s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",size:h.ComponentSize.Medium,type:h.ButtonType.Button,onClick:n,testID:"cancel-upload--button"})):t?s.a.createElement("span",{className:"drag-and-drop--buttons"},s.a.createElement(h.Button,{color:h.ComponentColor.Primary,text:"Write Data",size:h.ComponentSize.Medium,type:h.ButtonType.Submit,onClick:a,testID:"write-data--button"}),s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",size:h.ComponentSize.Medium,type:h.ButtonType.Submit,onClick:n,testID:"cancel-upload--button"})):null;var eg=({uploadContent:e})=>{const t=f()("drag-and-drop--graphic",{success:e});return s.a.createElement("div",{className:t})};const tg=1e7;let ng=0;class ag extends a.PureComponent{constructor(e){super(e),this.handleSubmit=()=>{this.props.onSubmit()},this.handleWindowDragOver=e=>{e.preventDefault()},this.handleFileClick=e=>{const t=e.currentTarget.files[0],n=t.size;this.setState({fileName:t.name,fileSize:n}),n>=tg||(e.preventDefault(),e.stopPropagation(),this.uploadFile(t))},this.handleFileDrop=e=>{const t=e.dataTransfer.files[0],n=t.size;this.setState({fileName:t.name,fileSize:t.size,dragClass:"drag-none"}),n>=tg||(e.preventDefault(),e.stopPropagation(),this.uploadFile(t))},this.uploadFile=e=>{const t=new FileReader;t.onload=()=>{this.setState({uploadContent:t.result,fileName:e.name},()=>{this.props.onSetBody(this.state.uploadContent)})},t.readAsText(e)},this.handleFileOpen=()=>{const{uploadContent:e}=this.state;""===e&&this.fileInput.current.click()},this.handleCancelFile=()=>{this.setState({uploadContent:"",fileSize:-1/0}),this.fileInput.current.value=""},this.handleDragEnter=e=>{ng+=1,e.preventDefault(),this.setState({dragClass:"drag-over"})},this.handleDragLeave=e=>{ng-=1,e.preventDefault(),0===ng&&this.setState({dragClass:"drag-none"})},this.fileInput=s.a.createRef(),this.state={fileSize:-1/0,inputContent:null,uploadContent:"",fileName:"",dragClass:"drag-none"}}componentDidMount(){window.addEventListener("dragover",this.handleWindowDragOver),window.addEventListener("drop",this.handleFileDrop),window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave)}componentWillUnmount(){window.removeEventListener("dragover",this.handleWindowDragOver),window.removeEventListener("drop",this.handleFileDrop),window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave)}render(){const{uploadContent:e,fileName:t,fileSize:n}=this.state;return s.a.createElement("div",{className:this.containerClass},s.a.createElement("div",{className:this.dragAreaClass,onClick:this.handleFileOpen},s.a.createElement(Z_,{uploadContent:e,fileName:t,fileSize:n}),s.a.createElement(eg,{uploadContent:e}),s.a.createElement("input",{type:"file","data-testid":"drag-and-drop--input",ref:this.fileInput,className:"drag-and-drop--input",accept:"*",onChange:this.handleFileClick}),s.a.createElement(J_,{onSubmit:this.handleSubmit,fileSize:n,onCancel:this.handleCancelFile,uploadContent:e})))}get containerClass(){const{dragClass:e}=this.state,{className:t}=this.props;return f()("drag-and-drop",{[e]:!0,[t]:t})}get dragAreaClass(){const{uploadContent:e}=this.state;return f()("drag-and-drop--form",{active:!e})}}var sg=ag;const rg=e=>({type:"SET_BODY",body:e}),og=(e,t="")=>({type:"SET_WRITE_STATUS",writeStatus:e,writeError:t});var ig=({onSubmit:e})=>{const[{body:t,tab:n},r]=Object(a.useContext)(xg),o=e=>{r(rg(e.target.value))},i=e=>{r(rg(e))};switch(n){case"Upload File":return s.a.createElement(sg,{className:"line-protocol--content",onSubmit:e,onSetBody:i});case"Enter Manually":return s.a.createElement(h.TextArea,{value:t,placeholder:"Write text here",onChange:o,testID:"line-protocol--text-area",className:"line-protocol--content"})}};const lg=(e,t)=>{let n="",a="";switch(e){case W.RemoteDataState.Loading:n="Loading...",a="Just a moment";break;case W.RemoteDataState.Done:n="Data Written Successfully",a="Hooray!";break;case W.RemoteDataState.Error:n="Unable to Write Data",a=`${t}`}return{status:n,message:a}},cg=e=>f()("line-protocol--status",{loading:e===W.RemoteDataState.Loading,success:e===W.RemoteDataState.Done,error:e===W.RemoteDataState.Error});var ug=()=>{const[{writeStatus:e,writeError:t}]=Object(a.useContext)(xg);return s.a.createElement("div",{className:"line-protocol--spinner"},s.a.createElement("p",{"data-testid":"line-protocol--status",className:cg(status)},lg(e,t).status),s.a.createElement(h.SparkleSpinner,{loading:e,sizePixels:220}),s.a.createElement("p",{className:cg(status)},lg(e,t).message))};var mg=({tabs:e,onSubmit:t})=>{const[n,r]=Object(a.useContext)(xg),{tab:o,precision:i,writeStatus:l}=n;return l!==W.RemoteDataState.NotStarted?s.a.createElement(ug,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"line-protocol--header"},s.a.createElement(X_,{activeLPTab:o,tabs:e,onClick:e=>{r(rg("")),r((e=>({type:"SET_TAB",tab:e}))(e))}}),s.a.createElement(Q_,{setPrecision:e=>{r((e=>({type:"SET_PRECISION",precision:e}))(e))},precision:i})),s.a.createElement(ig,{onSubmit:t}))};var dg=()=>s.a.createElement("p",null,"Need help writing InfluxDB Line Protocol?"," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/reference/syntax/line-protocol/",target:"_blank"},"See Documentation"));const pg=["Upload File","Enter Manually"];var hg=({onSubmit:e})=>s.a.createElement(h.Form,null,s.a.createElement(h.Overlay.Body,{style:{textAlign:"center"}},s.a.createElement(mg,{tabs:pg,onSubmit:e}),s.a.createElement(dg,null)));var _g=n(55);const gg=()=>({body:"",tab:"Upload File",writeStatus:W.RemoteDataState.NotStarted,writeError:"",precision:W.WritePrecision.Ns});var fg=(e=gg(),t)=>Object(_g.b)(e,e=>{switch(t.type){case"SET_BODY":return void(e.body=t.body);case"SET_TAB":return void(e.tab=t.tab);case"SET_WRITE_STATUS":return e.writeStatus=t.writeStatus,void(e.writeError=t.writeError);case"SET_PRECISION":return void(e.precision=t.precision);case"RESET_LINE_PROTOCOL_STATE":return e.body="",e.writeStatus=W.RemoteDataState.NotStarted,void(e.writeError="")}});var bg=({onSubmit:e,onCancel:t,onClose:n})=>{const[{writeStatus:r,body:o}]=Object(a.useContext)(xg),i=o?h.ComponentStatus.Default:h.ComponentStatus.Disabled;return r===W.RemoteDataState.Error?s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",size:h.ComponentSize.Medium,type:h.ButtonType.Button,onClick:t,testID:"lp-cancel--button"}):r===W.RemoteDataState.Done?s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Close",size:h.ComponentSize.Medium,type:h.ButtonType.Button,onClick:n,testID:"lp-close--button"}):s.a.createElement(h.Button,{color:h.ComponentColor.Primary,text:"Write Data",size:h.ComponentSize.Medium,type:h.ButtonType.Button,status:i,testID:"lp-write-data--button",onClick:e})};var yg=({onClose:e,onCancel:t})=>{const[{writeStatus:n}]=Object(a.useContext)(xg);return n===W.RemoteDataState.Error?s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Cancel",size:h.ComponentSize.Medium,type:h.ButtonType.Button,onClick:t,testID:"lp-cancel--button"}):n===W.RemoteDataState.Done?s.a.createElement(h.Button,{color:h.ComponentColor.Default,text:"Close",size:h.ComponentSize.Medium,type:h.ButtonType.Button,onClick:e,testID:"lp-close--button"}):null};var vg=({onSubmit:e})=>{const t=Object(i.f)(),{orgID:n}=Object(i.h)(),[{tab:r},o]=Object(a.useContext)(xg),l=()=>{o({type:"RESET_LINE_PROTOCOL_STATE"})},c=()=>{t.push(`/orgs/${n}/load-data/buckets`)};return"Enter Manually"===r?s.a.createElement(bg,{onClose:c,onCancel:l,onSubmit:e}):"Upload File"===r?s.a.createElement(yg,{onClose:c,onCancel:l}):null};const xg=s.a.createContext(null);var wg=()=>{const e=Object(i.f)(),{bucketID:t,orgID:n}=Object(i.h)(),{bucket:r,org:l}=Object(o.e)((e=>t=>{const n=Object(ve.c)(t,W.ResourceType.Buckets,e),a=Object(S.a)(t).name;return{bucket:(null==n?void 0:n.name)||"",org:a}})(t)),[c,u]=Object(a.useReducer)(fg,gg()),{body:m,precision:d}=c,p=()=>{(async(e,t,n,a,s)=>{var r;try{e(og(W.RemoteDataState.Loading));const o=await Object(fe.Db)({data:a,query:{org:t,bucket:n,precision:s}});if(204===o.status)e(og(W.RemoteDataState.Done));else if(429===o.status)e(og(W.RemoteDataState.Error,"Failed due to plan limits: read cardinality reached"));else{if(403!==o.status){const t=(null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.message)||"Failed to write data";throw e(og(W.RemoteDataState.Error,t)),new Error(t)}e(og(W.RemoteDataState.Error,o.data.message))}}catch(e){console.error(e)}})(u,l,r,m,d)};return s.a.createElement(xg.Provider,{value:[c,u]},s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:800},s.a.createElement(h.Overlay.Header,{title:"Add Data Using Line Protocol",onDismiss:()=>{e.push(`/orgs/${n}/load-data/buckets`)}}),s.a.createElement(hg,{onSubmit:p}),s.a.createElement(h.OverlayFooter,null,s.a.createElement(vg,{onSubmit:p})))))},Eg=n(1380),kg=n.n(Eg);const Sg=s.a.createElement("div",null),Cg=kg()({loader:()=>n.e(69).then(n.bind(null,1760)),loading:()=>Sg});let Tg=class extends a.PureComponent{constructor(){super(...arguments),this.handleDismiss=()=>{const{history:e,org:t}=this.props,{onClearDataLoaders:n,onClearSteps:a}=this.props;n(),a(),e.push(`/orgs/${t.id}/load-data/telegrafs`)}}componentDidMount(){const{bucket:e,buckets:t}=this.props;if(!e&&t&&t.length){const{orgID:e,name:n,id:a}=t[0];this.props.onSetBucketInfo(e,n,a)}this.props.onSetCurrentStepIndex(0)}render(){const{buckets:e}=this.props;return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:1200},s.a.createElement(h.Overlay.Header,{title:"Create a Telegraf Configuration",onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,{className:"data-loading--overlay"},s.a.createElement(Cg,{stepProps:this.stepProps,buckets:e}))))}get stepProps(){const{notify:e,currentStepIndex:t,onDecrementCurrentStepIndex:n,onIncrementCurrentStepIndex:a}=this.props;return{currentStepIndex:t,onIncrementCurrentStepIndex:a,onDecrementCurrentStepIndex:n,notify:e,onExit:this.handleDismiss}}};Tg=Object(m.a)([p.a],Tg);const Og={notify:$.c,onSetBucketInfo:x_.d,onIncrementCurrentStepIndex:x_.c,onDecrementCurrentStepIndex:x_.b,onSetCurrentStepIndex:x_.e,onClearDataLoaders:w_.c,onClearSteps:x_.a};var Dg=Object(o.c)(e=>{const{links:t,dataLoading:{dataLoaders:{telegrafPlugins:n},steps:{currentStep:a,substep:s,bucket:r}},me:{name:o},telegrafEditor:i}=e,l=Object(ve.a)(e,W.ResourceType.Buckets).filter(e=>!Object(gn.b)(e.name)),c=Object(S.a)(e);return{links:t,telegrafPlugins:n,text:i.text,currentStepIndex:a,substep:s,username:o,bucket:r,buckets:l,org:c}},Og)(Object(i.j)(Tg));const Ig={onUpdateBucket:rt.h};Object(o.c)(null,Ig);var jg=Object(o.c)(null,Ig)(Object(i.j)(({onUpdateBucket:e,match:t,history:n})=>{const{orgID:r,bucketID:i}=t.params,l=Object(o.d)(),[c,u]=Object(a.useState)(null),[m,d]=Object(a.useState)(h.RemoteDataState.Loading),[p,_]=Object(a.useState)(2592e3),g=Object(a.useCallback)(()=>{n.push(`/orgs/${r}/load-data/buckets`)},[r,n]);Object(a.useEffect)(()=>{(async()=>{const e=await fe.w({bucketID:i});if(200!==e.status)return l(Object($.c)(Object(me.sb)(i,e.data.message))),void g();u(e.data);const t=Object(y.get)(e.data,"retentionRules",[]).find(e=>"expire"===e.type);t&&_(t.everySeconds),d(h.RemoteDataState.Done)})()},[i,g,l]);const f=Object(y.get)(c,"retentionRules",[]).find(e=>"expire"===e.type),b=f?f.everySeconds:p,v=f?"expire":null;return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:500},s.a.createElement(h.Overlay.Header,{title:"Edit Bucket",onDismiss:g}),s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:m},s.a.createElement(h.Overlay.Body,null,s.a.createElement(Xn,{name:c?c.name:"",buttonText:"Save Changes",ruleType:v,onClose:g,onSubmit:t=>{t.preventDefault(),e(c),g()},disableRenaming:!0,onChangeInput:e=>{const t=e.target.name,n=e.target.value;u(Object.assign(Object.assign({},c),{[t]:n}))},retentionSeconds:b,onChangeRuleType:e=>{u(e?Object.assign(Object.assign({},c),{retentionRules:[{type:"expire",everySeconds:p}]}):Object.assign(Object.assign({},c),{retentionRules:[]}))},onChangeRetentionRule:e=>{u(Object.assign(Object.assign({},c),{retentionRules:[{type:"expire",everySeconds:e}]})),_(e)},onClickRename:()=>{n.push(`/orgs/${r}/load-data/buckets/${i}/rename`)}})))))}));let Rg=class extends a.PureComponent{render(){return s.a.createElement(h.Form,{onSubmit:this.props.onConfirm},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Column,margin:h.ComponentSize.Large},s.a.createElement(h.Alert,{color:h.ComponentColor.Danger,icon:h.IconFont.AlertTriangle},"Bad things could happen if you don't read this!"),s.a.createElement(h.Form.Element,{label:""},s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,this.props.message),s.a.createElement("ul",null,this.props.effectedItems.map(e=>s.a.createElement("li",{key:e},e))))),s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{color:h.ComponentColor.Danger,text:this.props.confirmButtonText,type:h.ButtonType.Submit,testID:"danger-confirmation-button"}))))}};var Ng=Rg=Object(m.a)([p.a],Rg);let Ag=class extends a.PureComponent{constructor(){super(...arguments),this.state={isConfirmed:!1},this.handleCloseOverlay=()=>{this.props.onClose()},this.handleConfirm=()=>{this.setState({isConfirmed:!0})}}render(){return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:400},s.a.createElement(h.Overlay.Header,{title:this.overlayTitle,onDismiss:this.handleCloseOverlay}),s.a.createElement(h.Overlay.Body,null,this.overlayContents)))}get overlayTitle(){const{title:e}=this.props;return this.state.isConfirmed?e:"Are you sure?"}get overlayContents(){const{message:e,effectedItems:t,confirmButtonText:n}=this.props;return this.state.isConfirmed?this.props.children:s.a.createElement(Ng,{onConfirm:this.handleConfirm,message:e,effectedItems:t,confirmButtonText:n})}};var Pg=Ag=Object(m.a)([p.a],Ag);class Mg extends a.PureComponent{constructor(){super(...arguments),this.state={bucket:this.props.startBucket},this.saveButtonStatus=e=>this.state.bucket.name===this.props.startBucket.name||e===ss.e.Error?ss.e.Disabled:e,this.handleValidation=e=>e?this.props.buckets.find(t=>t.name===e)?"This bucket name is taken":void 0:"Name is required",this.handleSubmit=()=>{const{startBucket:e,onRenameBucket:t}=this.props,{bucket:n}=this.state;t(e.name,n),this.handleClose()},this.handleChangeInput=e=>{const t=e.target.value,n=Object.assign(Object.assign({},this.state.bucket),{name:t});this.setState({bucket:n})},this.handleClose=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/load-data/buckets`)}}render(){const{bucket:e}=this.state;return s.a.createElement(h.Form,{onSubmit:this.handleSubmit},s.a.createElement(h.Form.ValidationElement,{label:"Name",validationFunc:this.handleValidation,value:e.name},t=>s.a.createElement(s.a.Fragment,null,s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Column,margin:h.ComponentSize.Large},s.a.createElement(h.Input,{placeholder:"Give your bucket a name",name:"name",autoFocus:!0,value:e.name,onChange:this.handleChangeInput,status:t}),s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.Button,{text:"Cancel",onClick:this.handleClose,type:h.ButtonType.Button}),s.a.createElement(h.Button,{text:"Change Bucket Name",color:h.ComponentColor.Danger,status:this.saveButtonStatus(t),type:h.ButtonType.Submit}))))))}}const Lg={onRenameBucket:rt.g},Fg=Object(o.c)((e,t)=>{const{bucketID:n}=t.match.params;return{startBucket:Object(ve.c)(e,W.ResourceType.Buckets,n),buckets:Object(ve.a)(e,W.ResourceType.Buckets).filter(e=>e.id!==n)}},Lg);var qg=Object(i.j)(Fg(Mg));let Bg=class extends a.PureComponent{constructor(){super(...arguments),this.handleClose=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/load-data/buckets`)}}render(){return s.a.createElement(Pg,{title:"Rename Bucket",message:this.message,effectedItems:this.effectedItems,onClose:this.handleClose,confirmButtonText:"I understand, let's rename my Bucket"},s.a.createElement(qg,null))}get message(){return"Updating the name of a Bucket can have unintended consequences. Anything that references this Bucket by name will stop working including:"}get effectedItems(){return["Queries","Dashboards","Tasks","Telegraf Configurations","Templates"]}};Bg=Object(m.a)([p.a],Bg);var zg=Object(i.j)(Bg);class Ug extends a.PureComponent{constructor(e){super(e),this.handleNameValidation=e=>e?null:"Name cannot be empty",this.handleUrlValidation=e=>{if(!e)return"Target URL cannot be empty";return v.a.startsWith(e,"http://")||v.a.startsWith(e,"https://")?null:'Target URL must begin with "http://"'}}render(){const{onInputChange:e,url:t,name:n,onSelectBucket:a,buckets:r,selectedBucketID:o,onSubmit:i,onDismiss:l}=this.props;return s.a.createElement(h.Form,{onSubmit:i},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.ValidationElement,{label:"Name",validationFunc:this.handleNameValidation,value:n},t=>s.a.createElement(h.Input,{value:n,name:"name",onChange:e,titleText:"Name",placeholder:"Name this scraper",autoFocus:!0,status:t}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Bucket to store scraped metrics"},s.a.createElement(Pn.a,{selectedBucketID:o,buckets:r,onSelectBucket:a}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Twelve},s.a.createElement(h.Form.ValidationElement,{label:"Target URL",validationFunc:this.handleUrlValidation,value:t},n=>s.a.createElement(h.Input,{value:t,name:"url",placeholder:"http://",onChange:e,titleText:"Target URL",status:n})))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:l,testID:"create-scraper--cancel"}),s.a.createElement(h.Button,{status:this.submitButtonStatus,text:"Create",color:h.ComponentColor.Success,testID:"create-scraper--submit",type:h.ButtonType.Submit}))))))}get submitButtonStatus(){const{name:e,url:t,selectedBucketID:n}=this.props;return t&&e&&n?h.ComponentStatus.Default:h.ComponentStatus.Disabled}}var Hg=Ug,Gg=n(148);class Vg extends a.PureComponent{constructor(e){super(e),this.handleInputChange=e=>{const t=e.target.value,n=e.target.name,a=Object.assign(Object.assign({},this.state.scraper),{[n]:t});this.setState({scraper:a})},this.handleSelectBucket=e=>{const{orgID:t,id:n}=e,a=Object.assign(Object.assign({},this.state.scraper),{orgID:t,bucketID:n});this.setState({scraper:a})},this.handleFormSubmit=e=>{const{onCreateScraper:t}=this.props,{scraper:n}=this.state;e.preventDefault(),t(n),this.onDismiss()},this.onDismiss=()=>{this.props.history.goBack()};const{match:{params:{bucketID:t,orgID:n}},buckets:a}=this.props,s=Object(y.get)(a,"0.id","");this.state={scraper:{name:"Name this Scraper",type:Gg.d.TypeEnum.Prometheus,url:`${this.origin}/metrics`,orgID:n,bucketID:t||s}}}render(){const{scraper:e}=this.state,{buckets:t}=this.props;return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:600},s.a.createElement(h.Overlay.Header,{title:"Create Scraper",onDismiss:this.onDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement("h5",{className:"wizard-step--sub-title"},"Scrapers collect data from multiple targets at regular intervals and to write to a bucket"),s.a.createElement(Hg,{buckets:t,url:e.url,name:e.name,selectedBucketID:e.bucketID,onInputChange:this.handleInputChange,onSelectBucket:this.handleSelectBucket,onSubmit:this.handleFormSubmit,onDismiss:this.onDismiss}))))}get origin(){return window.location.origin}}const $g={onCreateScraper:e=>async t=>{try{const n=await d.a.scrapers.create(e),a=Object(_e.a)(n,Rt.o);t(Object(qt.e)(a)),t(Object($.c)(Object(me.oc)()))}catch(e){console.error(e),t(Object($.c)(Object(me.nc)()))}}};var Wg=Object(o.c)(e=>({buckets:Object(ve.a)(e,W.ResourceType.Buckets)}),$g)(Object(i.j)(Vg));var Kg=Object(o.c)(e=>({buckets:Object(ve.a)(e,W.ResourceType.Buckets)}))(Object(i.j)(({buckets:e,history:t,match:{params:{orgID:n,bucketID:r}}})=>{const i=Object(o.d)(),l=e.find(e=>e.id===r),c=null==l?void 0:l.name;Object(a.useEffect)(()=>{c&&i(bm(c))},[c,i]);const u=()=>{i({type:"SET_PREDICATE_DEFAULT"}),t.push(`/orgs/${n}/load-data/buckets/`)};return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:600},s.a.createElement(h.Overlay.Header,{title:"Delete Data",onDismiss:u}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:l?W.RemoteDataState.Done:W.RemoteDataState.Loading},s.a.createElement(Tm,{handleDismiss:u})))))}));const Qg="/orgs/:orgID/load-data/buckets/:bucketID";let Yg=class extends a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Buckets","Load Data"])},s.a.createElement(du,null,s.a.createElement(p_,null),s.a.createElement(d_,{activeTab:"buckets"},s.a.createElement(_n,{resources:[W.ResourceType.Buckets,W.ResourceType.Labels,W.ResourceType.Telegrafs]},s.a.createElement(Ls,null,s.a.createElement(V_,null)))))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${Qg}/line-protocols/new`,component:wg}),s.a.createElement(i.a,{path:`${Qg}/telegrafs/new`,component:Dg}),s.a.createElement(i.a,{path:`${Qg}/scrapers/new`,component:Wg}),s.a.createElement(i.a,{path:`${Qg}/edit`,component:jg}),s.a.createElement(i.a,{path:`${Qg}/delete-data`,component:Kg}),s.a.createElement(i.a,{path:`${Qg}/rename`,component:zg})))}};var Xg=Yg=Object(m.a)([p.a],Yg);class Zg extends a.PureComponent{constructor(){super(...arguments),this.changeToggle=()=>{const{auth:e,onUpdate:t}=this.props;"active"===e.status?e.status="inactive":e.status="active",t(e)},this.handleDelete=()=>{const{id:e,description:t}=this.props.auth;this.props.onDelete(e,t)},this.handleClickDescription=()=>{const{onClickDescription:e,auth:t}=this.props;e(t.id)},this.handleUpdateName=e=>{const{auth:t,onUpdate:n}=this.props;n(Object.assign(Object.assign({},t),{description:e}))}}render(){const{description:e}=this.props.auth,{auth:t}=this.props,n=this.isTokenEnabled?"Active":"Inactive";return s.a.createElement(h.ResourceCard,{contextMenu:this.contextMenu,testID:`token-card ${t.description}`},s.a.createElement(h.ResourceCard.EditableName,{onUpdate:this.handleUpdateName,onClick:this.handleClickDescription,name:e,noNameString:Ds.j,testID:`token-name ${t.description}`}),s.a.createElement(h.ResourceCard.Meta,null,[s.a.createElement(s.a.Fragment,null,"Created at: ",t.createdAt)]),s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small},s.a.createElement(h.SlideToggle,{active:this.isTokenEnabled,size:h.ComponentSize.ExtraSmall,onChange:this.changeToggle}),s.a.createElement(h.InputLabel,{active:this.isTokenEnabled},n)))}get contextMenu(){return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger},s.a.createElement(ss.f.Item,{label:"Delete",action:this.handleDelete,testID:"delete-token"})))}get isTokenEnabled(){const{auth:e}=this.props;return"active"===e.status}}const Jg={onDelete:(e,t="")=>async n=>{try{const t=await fe.a({authID:e});if(204!==t.status)throw new Error(t.data.message);n(Object(ye.f)(e)),n(Object($.c)(Object(me.w)()))}catch(e){console.error(e),n(Object($.c)(Object(me.v)(t)))}},onUpdate:e=>async t=>{try{const n=await fe.T({authID:e.id,data:e});if(200!==n.status)throw new Error(n.data.message);t(xe()),t(Object($.c)(Object(me.y)()))}catch(n){console.error(n),t(Object($.c)(Object(me.x)(e.id)))}}};var ef=Object(o.c)(null,Jg)(Zg);class tf extends a.Component{constructor(){super(...arguments),this.handleClick=()=>{const{id:e,mode:t,selected:n,onToggle:a}=this.props;t!==sf.Read&&a&&(n===rf.Selected?a(e,rf.Unselected):n===rf.Unselected&&a(e,rf.Selected))}}render(){const{label:e,testID:t}=this.props;return s.a.createElement("li",{className:this.className,onClick:this.handleClick,"data-testid":t||"permissions--item"},this.checkbox,s.a.createElement("label",{className:"permissions-widget--item-label"},e))}get checkbox(){const{mode:e,selected:t}=this.props;return e===sf.Write?s.a.createElement("div",{className:"permissions-widget--checkbox"},s.a.createElement("span",{className:`icon ${ss.g.Checkmark}`})):t===rf.Selected?s.a.createElement("div",{className:"permissions-widget--icon"},s.a.createElement("span",{className:`icon ${ss.g.Checkmark}`})):s.a.createElement("div",{className:"permissions-widget--icon"},s.a.createElement("span",{className:`icon ${ss.g.Remove}`}))}get className(){const{selected:e,mode:t}=this.props;return f()("permissions-widget--item",{selected:e===rf.Selected,unselected:e===rf.Unselected,selectable:t===sf.Write})}}var nf=tf;class af extends a.Component{constructor(){super(...arguments),this.handleSelectAll=()=>{const{id:e,onSelectAll:t}=this.props;t&&t(e)},this.handleDeselectAll=()=>{const{id:e,onDeselectAll:t}=this.props;t&&t(e)}}render(){const{title:e,testID:t}=this.props;return s.a.createElement("section",{className:"permissions-widget--section","data-testid":t||"permissions-section"},s.a.createElement("header",{className:"permissions-widget--section-heading"},s.a.createElement("h3",{className:"permissions-widget--section-title"},e),this.selectionButtons),s.a.createElement("ul",{className:"permissions-widget--section-list"},this.sectionItems))}get sectionItems(){const{children:e,mode:t}=this.props;return s.a.Children.map(e,e=>e.type!==nf?null:s.a.createElement(nf,Object.assign({},e.props,{mode:t})))}get selectionButtons(){const{mode:e,title:t}=this.props;if(e===sf.Write)return s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.FlexEnd},s.a.createElement(h.Button,{text:"Select All",size:h.ComponentSize.ExtraSmall,titleText:`Select all permissions within ${t}`,onClick:this.handleSelectAll}),s.a.createElement(h.Button,{text:"Deselect All",size:h.ComponentSize.ExtraSmall,titleText:`Deselect all permissions within ${t}`,onClick:this.handleDeselectAll}))}}var sf,rf,of=af;!function(e){e.Read="read",e.Write="write"}(sf||(sf={})),function(e){e.Selected="selected",e.Unselected="unselected"}(rf||(rf={}));class lf extends a.Component{render(){return s.a.createElement("div",{className:this.className,style:this.style},s.a.createElement("div",{className:"permissions-widget--header"},this.headerText),s.a.createElement("div",{className:"permissions-widget--body"},s.a.createElement(h.DapperScrollbars,{autoHide:!1},this.sections)))}get className(){const{className:e}=this.props;return e?`permissions-widget ${e}`:"permissions-widget"}get sections(){const{children:e,mode:t}=this.props;return s.a.Children.map(e,e=>e.type!==of?null:s.a.createElement(of,Object.assign({},e.props,{mode:t})))}get style(){const{heightPixels:e}=this.props;return{height:`${e}px`}}get headerText(){const{mode:e}=this.props;return e===sf.Read?"Summary of access permissions":e===sf.Write?"Summary of access permissions, each item can be toggled ON or OFF":void 0}}lf.defaultProps={heightPixels:500},lf.Section=of,lf.Item=nf;var cf=lf;class uf extends a.PureComponent{constructor(){super(...arguments),this.itemID=(e,t)=>`${e}-${t}-${e||"*"}-${e||"*"}`,this.handleDismiss=()=>{this.props.onDismissOverlay()}}render(){const{description:e}=this.props.auth,t=this.permissions;return s.a.createElement(h.Overlay.Container,{maxWidth:830},s.a.createElement(h.Overlay.Header,{title:e,onDismiss:this.handleDismiss,wrapText:!0}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(jn.a,{copyText:this.props.auth.token,label:e,onCopyText:(e,t)=>t?Object(me.s)():Object(me.r)()}),s.a.createElement(cf,{mode:sf.Read,heightPixels:500},Object.keys(t).map(e=>s.a.createElement(cf.Section,{key:e,id:e,title:e,mode:sf.Read},t[e].map((t,n)=>s.a.createElement(cf.Item,{key:n,label:t,id:this.itemID(e,t),selected:rf.Selected})))))))}get permissions(){return this.props.auth.permissions.reduce((e,{action:t,resource:n})=>{const{type:a}=n,s=Object(y.get)(n,"name","");let r=`${a}`;s&&(r=`${a}-${s}`);let o=Object(y.get)(e,r,[]);return s&&o?Object.assign(Object.assign({},e),{[r]:[...o,t]}):(o=Object(y.get)(e,r||n.type,[]),Object.assign(Object.assign({},e),{[a]:[...o,t]}))},{})}}class mf extends a.PureComponent{constructor(e){super(e),this.memGetSortedResources=Object(as.a)(Ja.b),this.handleDismissOverlay=()=>{this.setState({isTokenOverlayVisible:!1})},this.handleClickDescription=e=>{const t=this.props.auths.find(t=>t.id===e);this.setState({isTokenOverlayVisible:!0,authInView:t})},this.state={isTokenOverlayVisible:!1,authInView:null}}render(){const{isTokenOverlayVisible:e,authInView:t}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:this.props.emptyState,testID:"token-list"},this.rows)),s.a.createElement(h.Overlay,{visible:e},s.a.createElement(uf,{auth:t,onDismissOverlay:this.handleDismissOverlay})))}get rows(){const{auths:e,sortDirection:t,sortKey:n,sortType:a}=this.props;return this.memGetSortedResources(e,n,t,a).map(e=>s.a.createElement(ef,{key:e.id,auth:e,onClickDescription:this.handleClickDescription}))}}class df extends a.PureComponent{constructor(){super(...arguments),this.handleSelect=e=>{e===this.allAccessOption?this.handleAllAccess():e===this.bucketReadWriteOption&&this.handleReadWrite()},this.handleAllAccess=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/load-data/tokens/generate/all-access`)},this.handleReadWrite=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/load-data/tokens/generate/buckets`)}}render(){return s.a.createElement(h.Dropdown,{testID:"dropdown--gen-token",style:{width:"160px"},button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,icon:h.IconFont.Plus,color:h.ComponentColor.Primary,testID:"dropdown-button--gen-token"},"Generate"),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},this.optionItems)})}get optionItems(){return[s.a.createElement(h.Dropdown.Item,{testID:"dropdown-item generate-token--read-write",id:this.bucketReadWriteOption,key:this.bucketReadWriteOption,value:this.bucketReadWriteOption,onClick:this.handleSelect},this.bucketReadWriteOption),s.a.createElement(h.Dropdown.Item,{testID:"dropdown-item generate-token--all-access",id:this.allAccessOption,key:this.allAccessOption,value:this.allAccessOption,onClick:this.handleSelect},this.allAccessOption)]}get bucketReadWriteOption(){return"Read/Write Token"}get allAccessOption(){return"All Access Token"}}var pf,hf=Object(i.j)(df);!function(e){e.Description="description",e.Status="status",e.CreatedAt="createdAt"}(pf||(pf={}));const _f=Ze();class gf extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.handleClickColumn=(e,t)=>{const n=Ja.a.String;this.setState({sortKey:t,sortDirection:e,sortType:n})},this.handleChangeSearchTerm=e=>{this.setState({searchTerm:e})},this.state={searchTerm:"",sortKey:"description",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}render(){const{searchTerm:e,sortKey:t,sortDirection:n,sortType:a}=this.state,{tokens:r}=this.props,o=s.a.createElement(s.a.Fragment,null,s.a.createElement(Za,{searchTerm:e,placeholderText:"Filter Tokens...",onSearch:this.handleChangeSearchTerm,testID:"input-field--filter"}),s.a.createElement(ts,{resourceType:W.ResourceType.Authorizations,sortDirection:n,sortKey:t,sortType:a,onSelect:this.handleSort,width:238})),i=s.a.createElement(hf,null);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:o,childrenRight:i}),s.a.createElement(_f,{list:r,searchTerm:e,searchKeys:this.searchKeys},r=>s.a.createElement(mf,{auths:r,emptyState:this.emptyState,searchTerm:e,sortKey:t,sortDirection:n,sortType:a,onClickColumn:this.handleClickColumn})))}get searchKeys(){return[pf.Status,pf.Description,pf.CreatedAt]}get emptyState(){const{searchTerm:e}=this.state;return Object(y.isEmpty)(e)?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like there aren't any ",s.a.createElement("b",null,"Tokens"),", why not generate one?"),s.a.createElement(hf,null)):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"No Tokens match your query"))}}var ff=Object(o.c)(e=>({tokens:Object(ve.a)(e,W.ResourceType.Authorizations)}))(Object(i.j)(gf));const bf="/orgs/:orgID/load-data/tokens/generate";let yf=class extends a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Tokens","Load Data"])},s.a.createElement(p_,null),s.a.createElement(d_,{activeTab:"tokens"},s.a.createElement(_n,{resources:[W.ResourceType.Authorizations]},s.a.createElement(ff,null)))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${bf}/all-access`,component:Km}),s.a.createElement(i.a,{path:`${bf}/buckets`,component:Qm})))}};var vf=yf=Object(m.a)([p.a],yf);class xf extends a.PureComponent{constructor(){super(...arguments),this.handleUpdateName=e=>{const{onUpdate:t,collector:n}=this.props;t(Object.assign(Object.assign({},n),{name:e}))},this.handleUpdateDescription=e=>{const{onUpdate:t,collector:n}=this.props;t(Object.assign(Object.assign({},n),{description:e}))},this.handleAddLabel=async e=>{const{collector:t,onAddLabels:n}=this.props;await n(t.id,[e])},this.handleRemoveLabel=async e=>{const{collector:t,onRemoveLabels:n}=this.props;await n(t.id,[e])},this.handleNameClick=e=>{e.preventDefault(),this.handleOpenConfig()},this.handleOpenConfig=()=>{const{collector:e,history:t,org:n}=this.props;t.push(`/orgs/${n.id}/load-data/telegrafs/${e.id}/view`)},this.handleDeleteConfig=()=>{this.props.onDelete(this.props.collector)}}render(){const{collector:e,org:t}=this.props;return s.a.createElement(h.ResourceCard,{key:`telegraf-id--${e.id}`,testID:"resource-card",contextMenu:this.contextMenu},s.a.createElement(h.ResourceCard.EditableName,{onUpdate:this.handleUpdateName,onClick:this.handleNameClick,name:e.name,noNameString:Ds.d,testID:"collector-card--name",buttonTestID:"collector-card--name-button",inputTestID:"collector-card--input"}),s.a.createElement(h.ResourceCard.EditableDescription,{onUpdate:this.handleUpdateDescription,description:e.description,placeholder:`Describe ${e.name}`}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement("span",{key:`bucket-key--${e.id}`,"data-testid":"bucket-name"},"Bucket: ",e.metadata.buckets.join(", ")),s.a.createElement(b.a,{to:`/orgs/${t.id}/load-data/telegrafs/${e.id}/instructions`,"data-testid":"setup-instructions-link"},"Setup Instructions")),this.labels)}get contextMenu(){return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{testID:"telegraf-delete-menu",icon:h.IconFont.Trash,color:h.ComponentColor.Danger},s.a.createElement(ss.f.Item,{testID:"telegraf-delete-button",label:"Delete",action:this.handleDeleteConfig})))}get labels(){const{collector:e,onFilterChange:t}=this.props;return s.a.createElement(Ts,{selectedLabelIDs:e.labels,onFilterChange:t,onAddLabel:this.handleAddLabel,onRemoveLabel:this.handleRemoveLabel})}}const wf={onAddLabels:(e,t)=>async n=>{try{await d.a.telegrafConfigs.addLabels(e,t);const a=await d.a.telegrafConfigs.get(e),s=Object(_e.a)(a,nn.b);n(Object(an.g)(s))}catch(e){console.error(e),n(Object($.c)(Object(me.p)()))}},onRemoveLabels:(e,t)=>async n=>{try{await d.a.telegrafConfigs.removeLabels(e,t);const a=await d.a.telegrafConfigs.get(e),s=Object(_e.a)(a,nn.b);n(Object(an.g)(s))}catch(e){console.error(e),n(Object($.c)(Object(me.hc)()))}}};var Ef=Object(o.c)(e=>{return{org:Object(S.a)(e)}},wf)(Object(i.j)(xf));class kf extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b)}render(){const{emptyState:e}=this.props;return s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:e},this.collectorsList))}get collectorsList(){const{collectors:e,sortKey:t,sortDirection:n,sortType:a,onDeleteTelegraf:r,onUpdateTelegraf:o,onFilterChange:i}=this.props,l=this.memGetSortedResources(e,t,n,a);if(void 0!==e)return l.map(e=>s.a.createElement(Ef,{key:e.id,collector:e,onDelete:e=>r(e.id,e.name),onUpdate:o,onFilterChange:i}))}}const Sf={onUpdateTelegraf:sn,onDeleteTelegraf:rn},Cf=Ze();class Tf extends a.PureComponent{render(){const{searchTerm:e,collectors:t,emptyState:n,onFilterChange:a,sortKey:r,sortDirection:o,sortType:i,onUpdateTelegraf:l,onDeleteTelegraf:c}=this.props;return s.a.createElement(Cf,{searchTerm:e,searchKeys:["metadata.buckets[]","name","labels[].name"],list:t},e=>s.a.createElement(kf,{collectors:e,emptyState:n,onFilterChange:a,sortKey:r,sortDirection:o,sortType:i,onUpdateTelegraf:l,onDeleteTelegraf:c}))}}const Of=Object(o.c)(e=>({collectors:Object(ve.a)(e,W.ResourceType.Telegrafs)}),Sf)(Tf);var Df=({hasNoTelegrafs:e=!1,textAlign:t="inherit",bodySize:n})=>s.a.createElement(h.Panel,{gradient:h.Gradients.PolarExpress,border:!0,style:{textAlign:t}},e&&s.a.createElement(h.EmptyState.Text,{style:{color:h.InfluxColors.Platinum,marginTop:16}},"What is Telegraf?"),!e&&s.a.createElement(h.Panel.Header,null,s.a.createElement("h5",null,"What is Telegraf?")),s.a.createElement(h.Panel.Body,{size:n},"Telegraf is an agent written in Go for collecting metrics and writing them into ",s.a.createElement("strong",null,"InfluxDB")," or other possible outputs.",s.a.createElement("br",null),s.a.createElement("br",null),"Here's a handy guide for"," ",s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/write-data/no-code/use-telegraf/",target:"_blank"},"Getting Started with Telegraf")));var If=({visible:e,resourceName:t})=>e&&s.a.createElement(h.Alert,{color:h.ComponentColor.Primary,icon:h.IconFont.AlertTriangle,className:"no-buckets-warning"},"You don't currently have any buckets. Any"," ",s.a.createElement("strong",null,t)," you have will not be able to write data until a bucket is created and they are directed to that bucket.");let jf=class extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.handleAddCollector=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/load-data/telegrafs/new`)},this.handleJustTheOutput=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/load-data/telegrafs/output`)},this.handleFilterChange=e=>{this.handleFilterUpdate(e)},this.handleFilterUpdate=e=>{this.setState({searchTerm:e})},this.state={dataLoaderOverlay:W.OverlayState.Closed,searchTerm:"",instructionsOverlay:W.OverlayState.Closed,collectorID:null,sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}render(){const{hasTelegrafs:e}=this.props,{searchTerm:t,sortKey:n,sortDirection:a,sortType:r}=this.state,o=s.a.createElement(s.a.Fragment,null,s.a.createElement(Za,{placeholderText:"Filter telegraf configurations...",searchTerm:t,onSearch:this.handleFilterChange}),s.a.createElement(ts,{resourceType:W.ResourceType.Telegrafs,sortDirection:a,sortKey:n,sortType:r,onSelect:this.handleSort})),i=s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Button,{text:"InfluxDB Output Plugin",icon:h.IconFont.Eye,color:h.ComponentColor.Secondary,onClick:this.handleJustTheOutput,titleText:"Output section of telegraf.conf for V2",testID:"button--output-only"}),this.createButton);return s.a.createElement(s.a.Fragment,null,s.a.createElement(If,{visible:this.hasNoBuckets,resourceName:"Telegraf Configurations"}),s.a.createElement(h_,{childrenLeft:o,childrenRight:i}),s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:e?h.Columns.Eight:h.Columns.Twelve,widthMD:e?h.Columns.Ten:h.Columns.Twelve},s.a.createElement(_n,{resources:[W.ResourceType.Labels]},s.a.createElement(Of,{searchTerm:t,emptyState:this.emptyState,onFilterChange:this.handleFilterUpdate,sortKey:n,sortDirection:a,sortType:r}))),e&&s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four,widthMD:h.Columns.Two},s.a.createElement(Df,null)))))}get hasNoBuckets(){const{buckets:e}=this.props;return!e||!e.length}get createButton(){let e=h.ComponentStatus.Default,t="Create a new Telegraf Configuration";return this.hasNoBuckets&&(e=h.ComponentStatus.Disabled,t="You need at least 1 bucket in order to create a Telegraf Configuration"),s.a.createElement(h.Button,{text:"Create Configuration",icon:h.IconFont.Plus,color:h.ComponentColor.Primary,onClick:this.handleAddCollector,status:e,titleText:t})}get emptyState(){const{orgName:e}=this.props,{searchTerm:t}=this.state;return v.a.isEmpty(t)?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,`${e}`," does not own any ",s.a.createElement("b",null,"Telegraf Configurations"),", why not create one?"),this.createButton,s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(Df,{hasNoTelegrafs:!0,textAlign:"center",bodySize:h.ComponentSize.Medium})):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"No ",s.a.createElement("b",null,"Telegraf Configurations")," match your query"))}};jf=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],jf);const Rf={onSetTelegrafConfigID:w_.m,onSetTelegrafConfigName:w_.n,onClearDataLoaders:w_.c,onUpdateTelegraf:sn,onDeleteTelegraf:rn};var Nf=Object(o.c)(e=>{const{telegrafs:t}=e.resources,n=Object(S.a)(e).name,a=Object(ve.a)(e,W.ResourceType.Buckets);return{hasTelegrafs:!!t.allIDs.length,orgName:n,buckets:a}},Rf)(Object(i.j)(jf)),Af=n(895);let Pf=class extends a.PureComponent{constructor(){super(...arguments),this.handleDismiss=()=>{const{history:e,match:{params:{orgID:t}},onClearDataLoaders:n}=this.props;this.setState({collectorID:null}),n(),e.push(`/orgs/${t}/load-data/telegrafs/`)}}render(){const{token:e}=this.props;return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:700},s.a.createElement(h.Overlay.Header,{title:"Telegraf Setup Instructions",onDismiss:this.handleDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(_n,{resources:[W.ResourceType.Authorizations]},s.a.createElement(Af.a,{token:e,configID:Object(y.get)(this.collector,"id","")})))))}get collector(){const{match:{params:{id:e}},collectors:t}=this.props;return t.find(t=>t.id===e)}};Pf=Object(m.a)([p.a],Pf);const Mf={onClearDataLoaders:w_.c};var Lf=Object(o.c)(e=>{const{me:{name:t}}=e;return{username:t,token:Object(ve.f)(e),collectors:Object(ve.a)(e,W.ResourceType.Telegrafs)}},Mf)(Object(i.j)(Pf));const Ff=Vm(Gm,"telegraf-config",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/telegrafs`)}),qf=Vm(Gm,"telegraf-output",(e,t)=>{e.push(`/orgs/${t.orgID}/load-data/telegrafs`)}),Bf="/orgs/:orgID/load-data/telegrafs";let zf=class extends a.PureComponent{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Telegraf","Load Data"])},s.a.createElement(du,null,s.a.createElement(p_,null),s.a.createElement(d_,{activeTab:"telegrafs"},s.a.createElement(_n,{resources:[W.ResourceType.Buckets,W.ResourceType.Telegrafs]},s.a.createElement(Nf,null))))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${Bf}/:id/view`,component:Ff}),s.a.createElement(i.a,{path:`${Bf}/:id/instructions`,component:Lf}),s.a.createElement(i.a,{path:`${Bf}/output`,component:qf}),s.a.createElement(i.a,{path:`${Bf}/new`,component:Dg})))}};var Uf=zf=Object(m.a)([p.a],zf);class Hf extends a.PureComponent{constructor(){super(...arguments),this.handleDeleteScraper=()=>{const{onDeleteScraper:e,scraper:t}=this.props;e(t)},this.handleUpdateScraperName=e=>{const{onUpdateScraper:t,scraper:n}=this.props;t(Object.assign(Object.assign({},n),{name:e}))}}render(){const{scraper:e}=this.props;return s.a.createElement(h.ResourceCard,{contextMenu:this.contextMenu},s.a.createElement(h.ResourceCard.EditableName,{onUpdate:this.handleUpdateScraperName,name:e.name,noNameString:Ds.g,buttonTestID:"editable-name",inputTestID:"input-field"}),s.a.createElement(h.ResourceCard.Meta,null,[s.a.createElement(s.a.Fragment,null,"Bucket: ",e.bucket),s.a.createElement(s.a.Fragment,null,"URL: ",e.url)]))}get contextMenu(){return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger},s.a.createElement(ss.f.Item,{label:"Delete",action:this.handleDeleteScraper,testID:"confirmation-button"})))}}class Gf extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b)}render(){const{emptyState:e}=this.props;return s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:e},this.scrapersList))}get scrapersList(){const{scrapers:e,sortKey:t,sortDirection:n,sortType:a,onDeleteScraper:r,onUpdateScraper:o}=this.props,i=this.memGetSortedResources(e,t,n,a);if(void 0!==e)return i.map(e=>s.a.createElement(Hf,{key:e.id,scraper:e,onDeleteScraper:r,onUpdateScraper:o}))}}const Vf=Ze();let $f=class extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.createScraperButton=e=>{let t=h.ComponentStatus.Default,n="Create a new Scraper";return this.hasNoBuckets&&(t=h.ComponentStatus.Disabled,n="You need at least 1 bucket in order to create a scraper"),s.a.createElement(h.Button,{text:"Create Scraper",icon:h.IconFont.Plus,color:h.ComponentColor.Primary,onClick:this.handleShowOverlay,status:t,titleText:n,testID:e})},this.handleUpdateScraper=e=>{const{onUpdateScraper:t}=this.props;t(e)},this.handleDeleteScraper=e=>{const{onDeleteScraper:t}=this.props;t(e)},this.handleShowOverlay=()=>{const{history:e,org:t}=this.props;this.hasNoBuckets||e.push(`/orgs/${t.id}/load-data/scrapers/new`)},this.handleFilterChange=e=>{this.setState({searchTerm:e})},this.state={searchTerm:"",sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}render(){const{searchTerm:e,sortKey:t,sortDirection:n,sortType:a}=this.state,{scrapers:r}=this.props,o=s.a.createElement(s.a.Fragment,null,s.a.createElement(Za,{placeholderText:"Filter scrapers...",searchTerm:e,onSearch:this.handleFilterChange}),s.a.createElement(ts,{resourceType:W.ResourceType.Scrapers,sortKey:t,sortDirection:n,sortType:a,onSelect:this.handleSort}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:o,childrenRight:this.createScraperButton("create-scraper-button-header")}),s.a.createElement(If,{visible:this.hasNoBuckets,resourceName:"Scrapers"}),s.a.createElement(Vf,{searchTerm:e,searchKeys:["name","url"],list:r},e=>s.a.createElement(Gf,{scrapers:e,emptyState:this.emptyState,onDeleteScraper:this.handleDeleteScraper,onUpdateScraper:this.handleUpdateScraper,sortKey:t,sortDirection:n,sortType:a})))}get hasNoBuckets(){const{buckets:e}=this.props;return!e||!e.length}get emptyState(){const{org:e}=this.props,{searchTerm:t}=this.state;return Object(y.isEmpty)(t)?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,`${e.name}`," does not own any ",s.a.createElement("b",null,"Scrapers"),", why not create one?"),this.createScraperButton("create-scraper-button-empty")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"No Scrapers match your query"))}};$f=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],$f);const Wf={onDeleteScraper:e=>async t=>{try{await d.a.scrapers.delete(e.id),t(Object(qt.g)(e.id)),t(Object($.c)(Object(me.qc)(e.name)))}catch(n){console.error(n),t(Object($.c)(Object(me.pc)(e.name)))}},onUpdateScraper:e=>async t=>{try{const n=await d.a.scrapers.update(e.id,e),a=Object(_e.a)(n,Rt.o);t(Object(qt.f)(a)),t(Object($.c)(Object(me.sc)(e.name)))}catch(n){console.error(n),t(Object($.c)(Object(me.rc)(e.name)))}}};var Kf=Object(o.c)(e=>({scrapers:Object(ve.a)(e,W.ResourceType.Scrapers),buckets:Object(ve.a)(e,W.ResourceType.Buckets),org:Object(S.a)(e)}),Wf)(Object(i.j)($f));let Qf=class extends a.Component{render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Scrapers","Load Data"])},s.a.createElement(p_,null),s.a.createElement(d_,{activeTab:"scrapers"},s.a.createElement(_n,{resources:[W.ResourceType.Scrapers,W.ResourceType.Buckets]},s.a.createElement(Kf,null)))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/load-data/scrapers/new",component:Wg})))}};var Yf=Qf=Object(m.a)([p.a],Qf);var Xf=()=>{const{searchTerm:e,setSearchTerm:t}=Object(a.useContext)(yS);return s.a.createElement(h.Input,{placeholder:"Search data writing methods...",value:e,size:h.ComponentSize.Large,icon:h.IconFont.Search,onChange:e=>{t(e.target.value)},autoFocus:!0})},Zf=n(1384),Jf=n.n(Zf),eb=n(1385),tb=n.n(eb),nb=n(1386),ab=n.n(nb),sb=n(1387),rb=n.n(sb),ob=n(1388),ib=n.n(ob),lb=n(1389),cb=n.n(lb),ub=n(1390),mb=n.n(ub),db=n(1391),pb=n.n(db),hb=n(1392),_b=n.n(hb),gb=n(1393),fb=n.n(gb);const bb=[{id:"arduino",name:"Arduino",url:`${zm}/arduino`,image:Jf.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/tobiasschuerg/InfluxDB-Client-for-Arduino)\n\n##### Install Library\n\nLibrary Manager\n\n```\n1. Open the Arduino IDE and click to the "Sketch" menu and then Include Library > Manage Libraries.\n2. Type \'influxdb\' in the search box\n3. Install the \'InfluxDBClient for Arduino\' library\n```\n\nManual Installation\n\n```\n1. cd <arduino-sketch-location>/library.\n2. git clone https://github.com/tobiasschuerg/InfluxDB-Client-for-Arduino\n3. Restart the Arduino IDE\n```\n\n##### Initialize the Client\n\n```\n#if defined(ESP32)\n#include <WiFiMulti.h>\nWiFiMulti wifiMulti;\n#define DEVICE "ESP32"\n#elif defined(ESP8266)\n#include <ESP8266WiFiMulti.h>\nESP8266WiFiMulti wifiMulti;\n#define DEVICE "ESP8266"\n#endif\n\n#include <InfluxDbClient.h>\n#include <InfluxDbCloud.h>\n\n// WiFi AP SSID\n#define WIFI_SSID "SSID"\n// WiFi password\n#define WIFI_PASSWORD "PASSWORD"\n// InfluxDB v2 server url, e.g. https://eu-central-1-1.aws.cloud2.influxdata.com (Use: InfluxDB UI -> Load Data -> Client Libraries)\n#define INFLUXDB_URL "<%= server %>"\n// InfluxDB v2 server or cloud API authentication token (Use: InfluxDB UI -> Data -> Tokens -> <select token>)\n#define INFLUXDB_TOKEN "<%= token %>"\n// InfluxDB v2 organization id (Use: InfluxDB UI -> User -> About -> Common Ids )\n#define INFLUXDB_ORG "<%= org %>"\n// InfluxDB v2 bucket name (Use: InfluxDB UI ->  Data -> Buckets)\n#define INFLUXDB_BUCKET "<%= bucket %>"\n\n// Set timezone string according to https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html\n// Examples:\n//  Pacific Time: "PST8PDT"\n//  Eastern: "EST5EDT"\n//  Japanesse: "JST-9"\n//  Central Europe: "CET-1CEST,M3.5.0,M10.5.0/3"\n#define TZ_INFO "CET-1CEST,M3.5.0,M10.5.0/3"\n\n// InfluxDB client instance with preconfigured InfluxCloud certificate\nInfluxDBClient client(INFLUXDB_URL, INFLUXDB_ORG, INFLUXDB_BUCKET, INFLUXDB_TOKEN, InfluxDbCloud2CACert);\n\n// Data point\nPoint sensor("wifi_status");\n\nvoid setup() {\n  Serial.begin(115200);\n\n  // Setup wifi\n  WiFi.mode(WIFI_STA);\n  wifiMulti.addAP(WIFI_SSID, WIFI_PASSWORD);\n\n  Serial.print("Connecting to wifi");\n  while (wifiMulti.run() != WL_CONNECTED) {\n    Serial.print(".");\n    delay(100);\n  }\n  Serial.println();\n\n  // Add tags\n  sensor.addTag("device", DEVICE);\n  sensor.addTag("SSID", WiFi.SSID());\n\n  // Accurate time is necessary for certificate validation and writing in batches\n  // For the fastest time sync find NTP servers in your area: https://www.pool.ntp.org/zone/\n  // Syncing progress and the time will be printed to Serial.\n  timeSync(TZ_INFO, "pool.ntp.org", "time.nis.gov");\n\n  // Check server connection\n  if (client.validateConnection()) {\n    Serial.print("Connected to InfluxDB: ");\n    Serial.println(client.getServerUrl());\n  } else {\n    Serial.print("InfluxDB connection failed: ");\n    Serial.println(client.getLastErrorMessage());\n  }\n}\n```\n\n##### Write Data\n\n```\nvoid loop() {\n  // Clear fields for reusing the point. Tags will remain untouched\n  sensor.clearFields();\n\n  // Store measured value into point\n  // Report RSSI of currently connected network\n  sensor.addField("rssi", WiFi.RSSI());\n\n  // Print what are we exactly writing\n  Serial.print("Writing: ");\n  Serial.println(sensor.toLineProtocol());\n\n  // If no Wifi signal, try to reconnect it\n  if ((WiFi.RSSI() == 0) && (wifiMulti.run() != WL_CONNECTED)) {\n    Serial.println("Wifi connection lost");\n  }\n\n  // Write point\n  if (!client.writePoint(sensor)) {\n    Serial.print("InfluxDB write failed: ");\n    Serial.println(client.getLastErrorMessage());\n  }\n\n  //Wait 10s\n  Serial.println("Wait 10s");\n  delay(10000);\n}\n```\n\n##### Execute a Flux query\n\n```\nvoid loop() {\n  // Construct a Flux query\n  // Query will find the worst RSSI for last hour for each connected WiFi network with this device\n  String query = "from(bucket: \\\\"" INFLUXDB_BUCKET "\\\\") |> range(start: -1h) |> filter(fn: (r) => r._measurement == \\\\"wifi_status\\\\" and r._field == \\\\"rssi\\\\"";\n  query += " and r.device == \\\\""  DEVICE  "\\\\")";\n  query += "|> min()";\n\n  // Print ouput header\n  Serial.print("==== ");\n  Serial.print(selectorFunction);\n  Serial.println(" ====");\n\n  // Print composed query\n  Serial.print("Querying with: ");\n  Serial.println(query);\n\n  // Send query to the server and get result\n  FluxQueryResult result = client.query(query);\n\n  // Iterate over rows. Even there is just one row, next() must be called at least once.\n  while (result.next()) {\n    // Get converted value for flux result column \'SSID\'\n    String ssid = result.getValueByName("SSID").getString();\n    Serial.print("SSID \'");\n    Serial.print(ssid);\n\n    Serial.print("\' with RSSI ");\n    // Get converted value for flux result column \'_value\' where there is RSSI value\n    long value = result.getValueByName("_value").getLong();\n    Serial.print(value);\n\n    // Get converted value for the _time column\n    FluxDateTime time = result.getValueByName("_time").getDateTime();\n\n    // Format date-time for printing\n    // Format string according to http://www.cplusplus.com/reference/ctime/strftime/\n    String timeStr = time.format("%F %T");\n\n    Serial.print(" at ");\n    Serial.print(timeStr);\n\n    Serial.println();\n  }\n\n  // Check if there was an error\n  if(result.getError() != "") {\n    Serial.print("Query result error: ");\n    Serial.println(result.getError());\n  }\n\n  // Close the result\n  result.close();\n}\n```\n'},{id:"csharp",name:"C#",url:`${zm}/csharp`,image:tb.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-csharp)\n\n##### Install Package\n\nLibrary Manager\n\n```\nInstall-Package InfluxDB.Client\n```\n\n.NET CLI\n\n```\ndotnet add package InfluxDB.Client\n```\n\nPackage Reference\n\n```\n<PackageReference Include="InfluxDB.Client" />\n```\n\nInitialize the Client\n\n```\nusing System;\nusing System.Threading.Tasks;\nusing InfluxDB.Client;\nusing InfluxDB.Client.Api.Domain;\nusing InfluxDB.Client.Core;\nusing InfluxDB.Client.Writes;\n\nnamespace Examples\n{\n  public class Examples\n  {\n    public static async Task Main(string[] args)\n    {\n      // You can generate a Token from the "Tokens Tab" in the UI\n      const string token = "<%= token %>";\n      const string bucket = "<%= bucket %>";\n      const string org = "<%= org %>";\n\n      var client = InfluxDBClientFactory.Create("<%= server %>", token.ToCharArray());\n    }\n  }\n}\n```\n\n##### Write Data\n\nOption 1: Use InfluxDB Line Protocol to write data\n\n```\nconst string data = "mem,host=host1 used_percent=23.43234543";\nusing (var writeApi = client.GetWriteApi())\n{\n  writeApi.WriteRecord(bucket, org, WritePrecision.Ns, data);\n}\n```\n\nOption 2: Use a Data Point to write data\n\n```\nvar point = PointData\n  .Measurement("mem")\n  .Tag("host", "host1")\n  .Field("used_percent", 23.43234543)\n  .Timestamp(DateTime.UtcNow, WritePrecision.Ns);\n\nusing (var writeApi = client.GetWriteApi())\n{\n  writeApi.WritePoint(bucket, org, point);\n}\n```\n\nOption 3: Use POCO and corresponding Class to write data\n\n```\nvar mem = new Mem { Host = "host1", UsedPercent = 23.43234543, Time = DateTime.UtcNow };\n\nusing (var writeApi = client.GetWriteApi())\n{\n  writeApi.WriteMeasurement(bucket, org, WritePrecision.Ns, mem);\n}\n```\n\n```\n// Public class\n[Measurement("mem")]\nprivate class Mem\n{\n  [Column("host", IsTag = true)] public string Host { get; set; }\n  [Column("used_percent")] public double? UsedPercent { get; set; }\n  [Column(IsTimestamp = true)] public DateTime Time { get; set; }\n}\n```\n\n##### Execute a Flux query\n\n```\nvar query = $"from(bucket: \\\\"{bucket}\\\\") |> range(start: -1h)";\nvar tables = await client.GetQueryApi().QueryAsync(query, org)\n```\n'},{id:"go",name:"GO",url:`${zm}/go`,image:ab.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-go)\n\n##### Initialize the Client\n\n```\npackage main\n\nimport (\n  "context"\n  "fmt"\n  "github.com/influxdata/influxdb-client-go/v2"\n  "time"\n)\n\nfunc main() {\n  // You can generate a Token from the "Tokens Tab" in the UI\n  const token = "<%= token %>"\n  const bucket = "<%= bucket %>"\n  const org = "<%= org %>"\n\n  client := influxdb2.NewClient("<%= server %>", token)\n  // always close client at the end\n  defer client.Close()\n}\n```\n\n##### Write Data\n\nOption 1: Use InfluxDB Line Protocol to write data\n\n```\n// get non-blocking write client\nwriteAPI := client.WriteAPI(org, bucket)\n\n// write line protocol\nwriteAPI.WriteRecord(fmt.Sprintf("stat,unit=temperature avg=%f,max=%f", 23.5, 45.0))\nwriteAPI.WriteRecord(fmt.Sprintf("stat,unit=temperature avg=%f,max=%f", 22.5, 45.0))\n// Flush writes\nwriteAPI.Flush()\n```\n\nOption 2: Use a Data Point to write data\n\n```\np := influxdb2.NewPoint("stat",\n  map[string]string{"unit": "temperature"},\n  map[string]interface{}{"avg": 24.5, "max": 45},\n  time.Now())\n// write point asynchronously\nwriteAPI.WritePoint(p)\n// create point using fluent style\np = influxdb2.NewPointWithMeasurement("stat").\n  AddTag("unit", "temperature").\n  AddField("avg", 23.2).\n  AddField("max", 45).\n  SetTime(time.Now())\n// write point asynchronously\nwriteAPI.WritePoint(p)\n// Flush writes\nwriteAPI.Flush()\n```\n\n##### Execute a Flux query\n\n```\nquery := fmt.Sprintf("from(bucket:\\"%v\\")|> range(start: -1h) |> filter(fn: (r) => r._measurement == \\"stat\\")", bucket)\n// Get query client\nqueryAPI := client.QueryAPI(org)\n// get QueryTableResult\nresult, err := queryAPI.Query(context.Background(), query)\nif err == nil {\n  // Iterate over query response\n  for result.Next() {\n    // Notice when group key has changed\n    if result.TableChanged() {\n      fmt.Printf("table: %s\\n", result.TableMetadata().String())\n    }\n    // Access data\n    fmt.Printf("value: %v\\n", result.Record().Value())\n  }\n  // check for an error\n  if result.Err() != nil {\n    fmt.Printf("query parsing error: %\\n", result.Err().Error())\n  }\n} else {\n  panic(err)\n}\n```\n'},{id:"java",name:"Java",url:`${zm}/java`,image:rb.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-java)\n\n##### Add Dependency\n\nBuild with Maven\n\n```\n<dependency>\n  <groupId>com.influxdb</groupId>\n  <artifactId>influxdb-client-java</artifactId>\n  <version>1.8.0</version>\n</dependency>\n```\n\nBuild with Gradle\n\n```\ndependencies {\n  compile "com.influxdb:influxdb-client-java:1.8.0"\n}\n```\n\n##### Initialize the Client\n\n```\npackage example;\n\nimport java.time.Instant;\nimport java.util.List;\n\nimport com.influxdb.annotations.Column;\nimport com.influxdb.annotations.Measurement;\nimport com.influxdb.client.InfluxDBClient;\nimport com.influxdb.client.InfluxDBClientFactory;\nimport com.influxdb.client.WriteApi;\nimport com.influxdb.client.domain.WritePrecision;\nimport com.influxdb.client.write.Point;\nimport com.influxdb.query.FluxTable;\n\npublic class InfluxDB2Example {\n  public static void main(final String[] args) {\n\n    // You can generate a Token from the "Tokens Tab" in the UI\n    String token = "<%= token %>";\n    String bucket = "<%= bucket %>";\n    String org = "<%= org %>";\n\n    InfluxDBClient client = InfluxDBClientFactory.create("<%= server %>", token.toCharArray());\n  }\n}\n```\n\n##### Write Data\n\nOption 1: Use InfluxDB Line Protocol to write data\n\n```\nString data = "mem,host=host1 used_percent=23.43234543";\ntry (WriteApi writeApi = client.getWriteApi()) {\n  writeApi.writeRecord(bucket, org, WritePrecision.NS, data);\n}\n```\n\nOption 2: Use a Data Point to write data\n\n```\nPoint point = Point\n  .measurement("mem")\n  .addTag("host", "host1")\n  .addField("used_percent", 23.43234543)\n  .time(Instant.now(), WritePrecision.NS);\n\ntry (WriteApi writeApi = client.getWriteApi()) {\n  writeApi.writePoint(bucket, org, point);\n}\n```\n\nOption 3: Use POJO and corresponding class to write data\n\n```\nMem mem = new Mem();\nmem.host = "host1";\nmem.used_percent = 23.43234543;\nmem.time = Instant.now();\n\ntry (WriteApi writeApi = client.getWriteApi()) {\n  writeApi.writeMeasurement(bucket, org, WritePrecision.NS, mem);\n}\n```\n\n```\n@Measurement(name = "mem")\npublic static class Mem {\n  @Column(tag = true)\n  String host;\n  @Column\n  Double used_percent;\n  @Column(timestamp = true)\n  Instant time;\n}\n```\n\n##### Execute a Flux query\n\n```\nString query = String.format("from(bucket: \\\\"%s\\\\") |> range(start: -1h)", bucket);\nList<FluxTable> tables = client.getQueryApi().query(query, org);\n```\n'},{id:"javascript-node",name:"JavaScript/Node.js",url:`${zm}/javascript-node`,image:ib.a,markdown:"For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-js)\n\n##### Install via NPM\n\n```\nnpm i @influxdata/influxdb-client\n```\n\n##### Initialize the Client\n\n```\nconst {InfluxDB} = require('@influxdata/influxdb-client')\n\n// You can generate a Token from the \"Tokens Tab\" in the UI\nconst token = '<%= token %>'\nconst org = '<%= org %>'\nconst bucket = '<%= bucket %>'\n\nconst client = new InfluxDB({url: '<%= server %>', token: token})\n```\n\n##### Write Data\n\n```\nconst {Point} = require('@influxdata/influxdb-client')\nconst writeApi = client.getWriteApi(org, bucket)\nwriteApi.useDefaultTags({host: 'host1'})\n\nconst point = new Point('mem')\n  .floatField('used_percent', 23.43234543)\nwriteApi.writePoint(point)\nwriteApi\n    .close()\n    .then(() => {\n        console.log('FINISHED')\n    })\n    .catch(e => {\n        console.error(e)\n        console.log('\\\\nFinished ERROR')\n    })\n```\n\n##### Execute a Flux query\n\n```\nconst queryApi = client.getQueryApi(org)\n\nconst query = \\`from(bucket: \\\"\\${bucket}\\\") |> range(start: -1h)\\`\nqueryApi.queryRows(query, {\n  next(row, tableMeta) {\n    const o = tableMeta.toObject(row)\n    console.log(\n      \\`\\${o._time} \\${o._measurement} in \\'\\${o.location}\\' (\\${o.example}): \\${o._field}=\\${o._value}\\`\n    )\n  },\n  error(error) {\n    console.error(error)\n    console.log('\\\\nFinished ERROR')\n  },\n  complete() {\n    console.log('\\\\nFinished SUCCESS')\n  },\n})\n```\n"},{id:"python",name:"Python",url:`${zm}/python`,image:cb.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-python)\n\n##### Install Package\n\n```\npip install influxdb-client\n```\n\n##### Initialize the Client\n\n```\nfrom datetime import datetime\n\nfrom influxdb_client import InfluxDBClient, Point, WritePrecision\nfrom influxdb_client.client.write_api import SYNCHRONOUS\n\n# You can generate a Token from the "Tokens Tab" in the UI\ntoken = "<%= token %>"\norg = "<%= org %>"\nbucket = "<%= bucket %>"\n\nclient = InfluxDBClient(url="<%= server %>", token=token)\n```\n\n##### Write Data\n\nOption 1: Use InfluxDB Line Protocol to write data\n\n```\nwrite_api = client.write_api(write_options=SYNCHRONOUS)\n\ndata = "mem,host=host1 used_percent=23.43234543"\nwrite_api.write(bucket, org, data)\n```\n\nOption 2: Use a Data Point to write data\n\n```\npoint = Point("mem")\\\\\n  .tag("host", "host1")\\\\\n  .field("used_percent", 23.43234543)\\\\\n  .time(datetime.utcnow(), WritePrecision.NS)\n\nwrite_api.write(bucket, org, point)\n```\n\nOption 3: Use a Batch Sequence to write data\n\n```\nsequence = ["mem,host=host1 used_percent=23.43234543",\n            "mem,host=host1 available_percent=15.856523"]\nwrite_api.write(bucket, org, sequence)\n```\n\n##### Execute a Flux query\n\n```\nquery = f\'from(bucket: \\\\"{bucket}\\\\") |> range(start: -1h)\'\ntables = client.query_api().query(query, org=org)\n```\n'},{id:"ruby",name:"Ruby",url:`${zm}/ruby`,image:mb.a,markdown:"For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-ruby)\n\n##### Install the Gem\n\n```\ngem install influxdb-client\n```\n\n##### Initialize the Client\n\n```\nrequire 'influxdb-client'\n\n# You can generate a Token from the \"Tokens Tab\" in the UI\ntoken = '<%= token %>'\norg = '<%= org %>'\nbucket = '<%= bucket %>'\n\nclient = InfluxDB2::Client.new('<%= server %>', token,\n  precision: InfluxDB2::WritePrecision::NANOSECOND)\n```\n\n##### Write Data\n\nOption 1: Use InfluxDB Line Protocol to write data\n\n```\nwrite_api = client.create_write_api\n\ndata = 'mem,host=host1 used_percent=23.43234543'\nwrite_api.write(data: data, bucket: bucket, org: org)\n```\n\nOption 2: Use a Data Point to write data\n\n```\npoint = InfluxDB2::Point.new(name: 'mem')\n  .add_tag('host', 'host1')\n  .add_field('used_percent', 23.43234543)\n  .time(Time.now.utc, InfluxDB2::WritePrecision::NANOSECOND)\n\nwrite_api.write(data: point, bucket: bucket, org: org)\n```\n\nOption 3: Use a Hash to write data\n\n```\nhash = {name: 'h2o',\n  tags: {host: 'aws', region: 'us'},\n  fields: {level: 5, saturation: '99%'},\n  time: Time.now.utc}\n\nwrite_api.write(data: hash, bucket: bucket, org: org)\n```\n\nOption 4: Use a Batch Sequence to write data\n\n```\npoint = InfluxDB2::Point.new(name: 'mem')\n  .add_tag('host', 'host1')\n  .add_field('used_percent', 23.43234543)\n  .time(Time.now.utc, InfluxDB2::WritePrecision::NANOSECOND)\n\nhash = {name: 'h2o',\n  tags: {host: 'aws', region: 'us'},\n  fields: {level: 5, saturation: '99%'},\n  time: Time.now.utc}\n\ndata = 'mem,host=host1 used_percent=23.23234543'\n\nwrite_api.write(data: [point, hash, data], bucket: bucket, org: org)\n```\n\n##### Execute a Flux query\n\n```\nquery = \"from(bucket: \\\\\"#{bucket}\\\\\") |> range(start: -1h)\"\ntables = client.create_query_api.query(query: query, org: org)\n```\n"},{id:"php",name:"PHP",url:`${zm}/php`,image:pb.a,markdown:"For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-php)\n\n##### Install via Composer\n\n```\ncomposer require influxdata/influxdb-client-php\n```\n\n##### Initialize the Client\n\n```\nuse InfluxDB2\\\\Client;\nuse InfluxDB2\\\\Model\\\\WritePrecision;\nuse InfluxDB2\\\\Point;\n\n# You can generate a Token from the \"Tokens Tab\" in the UI\n$token = '<%= token %>';\n$org = '<%= org %>';\n$bucket = '<%= bucket %>';\n\n$client = new Client([\n    \"url\" => \"<%= server %>\",\n    \"token\" => $token,\n]);\n```\n\n##### Write Data\n\nOption 1: Use InfluxDB Line Protocol to write data\n\n```\n$writeApi = $client->createWriteApi();\n\n$data = \"mem,host=host1 used_percent=23.43234543\";\n\n$writeApi->write($data, WritePrecision::S, $bucket, $org);\n```\n\nOption 2: Use a Data Point to write data\n\n```\n$point = Point::measurement('mem')\n  ->addTag('host', 'host1')\n  ->addField('used_percent', 23.43234543)\n  ->time(microtime(true));\n\n$writeApi->write($point, WritePrecision::S, $bucket, $org);\n```\n\nOption 3: Use an Array structure to write data\n\n```\n$dataArray = ['name' => 'cpu',\n  'tags' => ['host' => 'server_nl', 'region' => 'us'],\n  'fields' => ['internal' => 5, 'external' => 6],\n  'time' => microtime(true)];\n\n$writeApi->write($dataArray, WritePrecision::S, $bucket, $org);\n```\n\n##### Execute a Flux query\n\n```\n$query = \"from(bucket: \\\\\"{$bucket}\\\\\") |> range(start: -1h)\";\n$tables = $client->createQueryApi()->query($query, $org);\n```\n"},{id:"kotlin",name:"Kotlin",url:`${zm}/kotlin`,image:_b.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-java/tree/master/client-kotlin)\n\n##### Add Dependency\n\nBuild with Maven\n\n```\n<dependency>\n  <groupId>com.influxdb</groupId>\n  <artifactId>influxdb-client-kotlin</artifactId>\n  <version>1.8.0</version>\n</dependency>\n```\n\nBuild with Gradle\n\n```\ndependencies {\n  compile "com.influxdb:influxdb-client-kotlin:1.8.0"\n}\n```\n\n##### Initialize the Client\n\n```\npackage example\n\nimport com.influxdb.client.kotlin.InfluxDBClientKotlinFactory\nimport kotlinx.coroutines.channels.consumeEach\nimport kotlinx.coroutines.channels.filter\nimport kotlinx.coroutines.channels.take\nimport kotlinx.coroutines.runBlocking\n\nfun main() = runBlocking {\n\n    // You can generate a Token from the "Tokens Tab" in the UI\n    val token = "<%= token %>"\n    val org = "<%= org %>"\n    val bucket = "<%= bucket %>"\n\n    val client = InfluxDBClientKotlinFactory.create("<%= server %>", token.toCharArray(), org)\n}\n```\n\n##### Execute a Flux query\n\n```\nval query = ("from(bucket: \\\\"$bucket\\\\")"\n  + " |> range(start: -1d)"\n  + " |> filter(fn: (r) => (r[\\\\"_measurement\\\\"] == \\\\"cpu\\\\" and r[\\\\"_field\\\\"] == \\\\"usage_system\\\\"))")\n\n// Result is returned as a stream\nval results = client.getQueryKotlinApi().query(query)\n\n// Example of additional result stream processing on client side\nresults\n  // filter on client side using \\`filter\\` built-in operator\n  .filter { "cpu0" == it.getValueByKey("cpu") }\n  // take first 20 records\n  .take(20)\n  // print results\n  .consumeEach { println("Measurement: $\\{it.measurement}, value: $\\{it.value}") }\n\nclient.close()\n```\n'},{id:"scala",name:"Scala",url:`${zm}/scala`,image:fb.a,markdown:'For more detailed and up to date information check out the [GitHub Repository](https://github.com/influxdata/influxdb-client-java/tree/master/client-scala)\n\n##### Add Dependency\n\nBuild with sbt\n\n```\nlibraryDependencies += "com.influxdb" % "influxdb-client-scala" % "1.8.0"\n```\n\nBuild with Maven\n\n```\n<dependency>\n  <groupId>com.influxdb</groupId>\n  <artifactId>influxdb-client-scala</artifactId>\n  <version>1.8.0</version>\n</dependency>\n```\n\nBuild with Gradle\n\n```\ndependencies {\n  compile "com.influxdb:influxdb-client-scala:1.8.0"\n}\n```\n\n##### Initialize the Client\n\n```\npackage example\n\nimport akka.actor.ActorSystem\nimport akka.stream.scaladsl.Sink\nimport com.influxdb.client.scala.InfluxDBClientScalaFactory\nimport com.influxdb.query.FluxRecord\n\nimport scala.concurrent.Await\nimport scala.concurrent.duration.Duration\n\nobject InfluxDB2ScalaExample {\n\n  implicit val system: ActorSystem = ActorSystem("it-tests")\n\n  def main(args: Array[String]): Unit = {\n\n    // You can generate a Token from the "Tokens Tab" in the UI\n    val token = "<%= token %>"\n    val org = "<%= org %>"\n    val bucket = "<%= bucket %>"\n\n    val client = InfluxDBClientScalaFactory.create("<%= server %>", token.toCharArray, org)\n  }\n}\n```\n\n##### Execute a Flux query\n\n```\nval query = (s"""from(bucket: "$bucket")"""\n  + " |> range(start: -1d)"\n  + " |> filter(fn: (r) => (r[\\\\"_measurement\\\\"] == \\\\"cpu\\\\" and r[\\\\"_field\\\\"] == \\\\"usage_system\\\\"))")\n\n// Result is returned as a stream\nval results = client.getQueryScalaApi().query(query)\n\n// Example of additional result stream processing on client side\nval sink = results\n  // filter on client side using \\`filter\\` built-in operator\n  .filter(it => "cpu0" == it.getValueByKey("cpu"))\n  // take first 20 records\n  .take(20)\n  // print results\n  .runWith(Sink.foreach[FluxRecord](it => println(s"Measurement: $\\{it.getMeasurement}, value: $\\{it.getValue}")\n  ))\n\n// wait to finish\nAwait.result(sink, Duration.Inf)\n\nclient.close()\nsystem.terminate()\n```\n'}];var yb={id:zm,name:"Client Libraries",description:"Back-end, front-end, and mobile applications",items:bb,featureFlag:"load-data-client-libraries"},vb=n(1394),xb=n.n(vb),wb=n(1395),Eb=n.n(wb),kb=n(1396),Sb=n.n(kb),Cb=n(1397),Tb=n.n(Cb),Ob=n(1398),Db=n.n(Ob),Ib=n(1399),jb=n.n(Ib),Rb=n(1400),Nb=n.n(Rb),Ab=n(1401),Pb=n.n(Ab),Mb=n(1402),Lb=n.n(Mb),Fb=n(1403),qb=n.n(Fb),Bb=n(1404),zb=n.n(Bb),Ub=n(1405),Hb=n.n(Ub),Gb=n(1406),Vb=n.n(Gb),$b=n(1407),Wb=n.n($b),Kb=n(1408),Qb=n.n(Kb),Yb=n(1409),Xb=n.n(Yb),Zb=n(1410),Jb=n.n(Zb),ey=n(1411),ty=n.n(ey),ny=n(1412),ay=n.n(ny),sy=n(1413),ry=n.n(sy),oy=n(1414),iy=n.n(oy),ly=n(1415),cy=n.n(ly),uy=n(1416),my=n.n(uy),dy=n(1417),py=n.n(dy),hy=n(1418),_y=n.n(hy),gy=n(1419),fy=n.n(gy),by=n(1420),yy=n.n(by),vy=n(1421),xy=n.n(vy),wy=n(1422),Ey=n.n(wy),ky=n(1423),Sy=n.n(ky),Cy=n(1424),Ty=n.n(Cy),Oy=n(1425),Dy=n.n(Oy),Iy=n(1426),jy=n.n(Iy),Ry=n(1427),Ny=n.n(Ry),Ay=n(1428),Py=n.n(Ay),My=n(1429),Ly=n.n(My),Fy=n(1430),qy=n.n(Fy),By=n(1431),zy=n.n(By),Uy=n(1432),Hy=n.n(Uy),Gy=n(1433),Vy=n.n(Gy),$y=n(1434),Wy=n.n($y),Ky=n(1435),Qy=n.n(Ky),Yy=n(1436),Xy=n.n(Yy),Zy=n(1437),Jy=n.n(Zy),ev=n(1438),tv=n.n(ev),nv=n(1439),av=n.n(nv),sv=n(1440),rv=n.n(sv),ov=n(1441),iv=n.n(ov),lv=n(1442),cv=n.n(lv),uv=n(1443),mv=n.n(uv),dv=n(1444),pv=n.n(dv),hv=n(1445),_v=n.n(hv),gv=n(1446),fv=n.n(gv),bv=n(1447),yv=n.n(bv),vv=n(1448),xv=n.n(vv),wv=n(1449),Ev=n.n(wv),kv=n(1450),Sv=n.n(kv),Cv=n(1451),Tv=n.n(Cv),Ov=n(1452),Dv=n.n(Ov),Iv=n(1453),jv=n.n(Iv),Rv=n(1454),Nv=n.n(Rv),Av=n(1455),Pv=n.n(Av),Mv=n(1456),Lv=n.n(Mv),Fv=n(1457),qv=n.n(Fv),Bv=n(1458),zv=n.n(Bv),Uv=n(1459),Hv=n.n(Uv),Gv=n(1460),Vv=n.n(Gv),$v=n(1461),Wv=n.n($v),Kv=n(1462),Qv=n.n(Kv),Yv=n(1463),Xv=n.n(Yv),Zv=n(1464),Jv=n.n(Zv),ex=n(1465),tx=n.n(ex),nx=n(1466),ax=n.n(nx),sx=n(1467),rx=n.n(sx),ox=n(1468),ix=n.n(ox),lx=n(1469),cx=n.n(lx),ux=n(1470),mx=n.n(ux),dx=n(1471),px=n.n(dx),hx=n(1472),_x=n.n(hx),gx=n(1473),fx=n.n(gx),bx=n(1474),yx=n.n(bx),vx=n(1475),xx=n.n(vx),wx=n(1476),Ex=n.n(wx),kx=n(1477),Sx=n.n(kx),Cx=n(1478),Tx=n.n(Cx),Ox=n(1479),Dx=n.n(Ox),Ix=n(1480),jx=n.n(Ix),Rx=n(1481),Nx=n.n(Rx),Ax=n(1482),Px=n.n(Ax),Mx=n(1483),Lx=n.n(Mx),Fx=n(1484),qx=n.n(Fx),Bx=n(1485),zx=n.n(Bx),Ux=n(1486),Hx=n.n(Ux),Gx=n(1487),Vx=n.n(Gx),$x=n(1488),Wx=n.n($x),Kx=n(1489),Qx=n.n(Kx),Yx=n(1490),Xx=n.n(Yx),Zx=n(1491),Jx=n.n(Zx),ew=n(1492),tw=n.n(ew),nw=n(1493),aw=n.n(nw),sw=n(1494),rw=n.n(sw),ow=n(1495),iw=n.n(ow),lw=n(1496),cw=n.n(lw),uw=n(1497),mw=n.n(uw),dw=n(1498),pw=n.n(dw),hw=n(1499),_w=n.n(hw),gw=n(1500),fw=n.n(gw),bw=n(1501),yw=n.n(bw),vw=n(1502),xw=n.n(vw),ww=n(1503),Ew=n.n(ww),kw=n(1504),Sw=n.n(kw),Cw=n(1505),Tw=n.n(Cw),Ow=n(1506),Dw=n.n(Ow),Iw=n(1507),jw=n.n(Iw),Rw=n(1508),Nw=n.n(Rw),Aw=n(1509),Pw=n.n(Aw),Mw=n(1510),Lw=n.n(Mw),Fw=n(1511),qw=n.n(Fw),Bw=n(1512),zw=n.n(Bw),Uw=n(1513),Hw=n.n(Uw),Gw=n(1514),Vw=n.n(Gw),$w=n(1515),Ww=n.n($w),Kw=n(1516),Qw=n.n(Kw),Yw=n(1517),Xw=n.n(Yw),Zw=n(1518),Jw=n.n(Zw),eE=n(1519),tE=n.n(eE),nE=n(1520),aE=n.n(nE),sE=n(1521),rE=n.n(sE),oE=n(1522),iE=n.n(oE),lE=n(1523),cE=n.n(lE),uE=n(1524),mE=n.n(uE),dE=n(1525),pE=n.n(dE),hE=n(1526),_E=n.n(hE),gE=n(1527),fE=n.n(gE),bE=n(1528),yE=n.n(bE),vE=n(1529),xE=n.n(vE),wE=n(1530),EE=n.n(wE),kE=n(1531),SE=n.n(kE),CE=n(1532),TE=n.n(CE),OE=n(1533),DE=n.n(OE),IE=n(1534),jE=n.n(IE),RE=n(1535),NE=n.n(RE),AE=n(1536),PE=n.n(AE),ME=n(1537),LE=n.n(ME),FE=n(1538),qE=n.n(FE),BE=n(1539),zE=n.n(BE),UE=n(1540),HE=n.n(UE),GE=n(1541),VE=n.n(GE),$E=n(1542),WE=n.n($E),KE=n(1543),QE=n.n(KE),YE=n(1544),XE=n.n(YE),ZE=n(1545),JE=n.n(ZE),ek=n(1546),tk=n.n(ek),nk=n(1547),ak=n.n(nk),sk=n(1548),rk=n.n(sk),ok=n(1549),ik=n.n(ok),lk=n(1550),ck=n.n(lk),uk=n(1551),mk=n.n(uk),dk=n(1552),pk=n.n(dk),hk=n(1553),_k=n.n(hk),gk=n(1554),fk=n.n(gk),bk=n(1555),yk=n.n(bk),vk=n(1556),xk=n.n(vk),wk=n(1557),Ek=n.n(wk),kk=n(1558),Sk=n.n(kk),Ck=n(1559),Tk=n.n(Ck),Ok=n(1560),Dk=n.n(Ok),Ik=n(1561),jk=n.n(Ik),Rk=n(1562),Nk=n.n(Rk),Ak=n(1563),Pk=n.n(Ak),Mk=n(1564),Lk=n.n(Mk),Fk=n(1565),qk=n.n(Fk),Bk=n(1566),zk=n.n(Bk),Uk=n(1567),Hk=n.n(Uk),Gk=n(1568),Vk=n.n(Gk),$k=n(1569),Wk=n.n($k),Kk=n(1570),Qk=n.n(Kk),Yk=n(1571),Xk=n.n(Yk),Zk=n(1572),Jk=n.n(Zk),eS=n(1573),tS=n.n(eS),nS=n(1574),aS=n.n(nS),sS=n(1575),rS=n.n(sS),oS=n(1576),iS=n.n(oS),lS=n(1577),cS=n.n(lS);const uS=[{id:"activemq",name:"ActiveMQ",url:"telegraf-plugins/activemq",markdown:'# ActiveMQ Input Plugin\n\nThis plugin gather queues, topics & subscribers metrics using ActiveMQ Console API.\n\n### Configuration:\n\n```toml\n# Description\n[[inputs.activemq]]\n  ## ActiveMQ WebConsole URL\n  url = "http://127.0.0.1:8161"\n\n  ## Required ActiveMQ Endpoint\n  ##   deprecated in 1.11; use the url option\n  # server = "192.168.50.10"\n  # port = 8161\n\n  ## Credentials for basic HTTP authentication\n  # username = "admin"\n  # password = "admin"\n\n  ## Required ActiveMQ webadmin root path\n  # webadmin = "admin"\n\n  ## Maximum time to receive response.\n  # response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\nEvery effort was made to preserve the names based on the XML response from the ActiveMQ Console API.\n\n- activemq_queues\n  - tags:\n    - name\n    - source\n    - port\n  - fields:\n    - size\n    - consumer_count\n    - enqueue_count\n    - dequeue_count\n+ activemq_topics\n  - tags:\n    - name\n    - source\n    - port\n  - fields:\n    - size\n    - consumer_count\n    - enqueue_count\n    - dequeue_count\n- activemq_subscribers\n  - tags:\n    - client_id\n    - subscription_name\n    - connection_id\n    - destination_name\n    - selector\n    - active\n    - source\n    - port\n  - fields:\n    - pending_queue_size\n    - dispatched_queue_size\n    - dispatched_counter\n    - enqueue_counter\n    - dequeue_counter\n\n### Example Output\n\n```\nactivemq_queues,name=sandra,host=88284b2fe51b,source=localhost,port=8161 consumer_count=0i,enqueue_count=0i,dequeue_count=0i,size=0i 1492610703000000000\nactivemq_queues,name=Test,host=88284b2fe51b,source=localhost,port=8161 dequeue_count=0i,size=0i,consumer_count=0i,enqueue_count=0i 1492610703000000000\nactivemq_topics,name=ActiveMQ.Advisory.MasterBroker\\ ,host=88284b2fe51b,source=localhost,port=8161 size=0i,consumer_count=0i,enqueue_count=1i,dequeue_count=0i 1492610703000000000\nactivemq_topics,host=88284b2fe51b,name=AAA\\,source=localhost,port=8161  size=0i,consumer_count=1i,enqueue_count=0i,dequeue_count=0i 1492610703000000000\nactivemq_topics,name=ActiveMQ.Advisory.Topic\\,source=localhost,port=8161 ,host=88284b2fe51b enqueue_count=1i,dequeue_count=0i,size=0i,consumer_count=0i 1492610703000000000\nactivemq_topics,name=ActiveMQ.Advisory.Queue\\,source=localhost,port=8161 ,host=88284b2fe51b size=0i,consumer_count=0i,enqueue_count=2i,dequeue_count=0i 1492610703000000000\nactivemq_topics,name=AAAA\\ ,host=88284b2fe51b,source=localhost,port=8161 consumer_count=0i,enqueue_count=0i,dequeue_count=0i,size=0i 1492610703000000000\nactivemq_subscribers,connection_id=NOTSET,destination_name=AAA,,source=localhost,port=8161,selector=AA,active=no,host=88284b2fe51b,client_id=AAA,subscription_name=AAA pending_queue_size=0i,dispatched_queue_size=0i,dispatched_counter=0i,enqueue_counter=0i,dequeue_counter=0i 1492610703000000000\n```\n',image:xb.a},{id:"aerospike",name:"Aerospike",url:"telegraf-plugins/aerospike",markdown:'# Aerospike Input Plugin\n\nThe aerospike plugin queries aerospike server(s) and get node statistics & stats for\nall the configured namespaces.\n\nFor what the measurements mean, please consult the [Aerospike Metrics Reference Docs](http://www.aerospike.com/docs/reference/metrics).\n\nThe metric names, to make it less complicated in querying, have replaced all `-` with `_` as Aerospike metrics come in both forms (no idea why).\n\nAll metrics are attempted to be cast to integers, then booleans, then strings.\n\n### Configuration:\n```toml\n# Read stats from aerospike server(s)\n[[inputs.aerospike]]\n  ## Aerospike servers to connect to (with port)\n  ## This plugin will query all namespaces the aerospike\n  ## server has configured and get stats for them.\n  servers = ["localhost:3000"]\n\n  # username = "telegraf"\n  # password = "pa$$word"\n\n  ## Optional TLS Config\n  # enable_tls = false\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## If false, skip chain & host verification\n  # insecure_skip_verify = true\n  \n  # Feature Options\n  # Add namespace variable to limit the namespaces executed on\n  # Leave blank to do all\n  # disable_query_namespaces = true # default false\n  # namespaces = ["namespace1", "namespace2"]\n\n  # Enable set level telmetry\n  # query_sets = true # default: false\n  # Add namespace set combinations to limit sets executed on\n  # Leave blank to do all\n  # sets = ["namespace1/set1", "namespace1/set2"]\n  # sets = ["namespace1/set1", "namespace1/set2", "namespace3"]\n\n  # Histograms\n  # enable_ttl_histogram = true # default: false\n  # enable_object_size_linear_histogram = true # default: false\n\n  # by default, aerospike produces a 100 bucket histogram\n  # this is not great for most graphing tools, this will allow\n  # the ability to squash this to a smaller number of buckets \n  # To have a balanced histogram, the number of buckets chosen \n  # should divide evenly into 100.\n  # num_histogram_buckets = 100 # default: 10\n\n\n```\n\n### Measurements:\n\nThe aerospike metrics are under a few measurement names:\n\n***aerospike_node***: These are the aerospike **node** measurements, which are\navailable from the aerospike `statistics` command.\n\n      ie,\n      ```\n        telnet localhost 3003\n        statistics\n        ...\n      ```\n\n***aerospike_namespace***: These are aerospike namespace measurements, which\nare available from the aerospike `namespace/<namespace_name>` command.\n\n      ie,\n      ```\n        telnet localhost 3003\n        namespaces\n        <namespace_1>;<namespace_2>;etc.\n        namespace/<namespace_name>\n        ...\n      ```\n***aerospike_set***: These are aerospike set measurements, which\nare available from the aerospike `sets/<namespace_name>/<set_name>` command.\n\n      ie,\n      ```\n        telnet localhost 3003\n        sets\n        sets/<namespace_name>\n        sets/<namespace_name>/<set_name>\n        ...\n      ```\n***aerospike_histogram_ttl***: These are aerospike ttl hisogram measurements, which\nis available from the aerospike `histogram:namespace=<namespace_name>;[set=<set_name>;]type=ttl` command.\n\n      ie,\n      ```\n        telnet localhost 3003\n        histogram:namespace=<namespace_name>;type=ttl\n        histogram:namespace=<namespace_name>;[set=<set_name>;]type=ttl\n        ...\n      ```\n***aerospike_histogram_object_size_linear***: These are aerospike object size linear histogram measurements, which is available from the aerospike `histogram:namespace=<namespace_name>;[set=<set_name>;]type=object_size_linear` command.\n\n      ie,\n      ```\n        telnet localhost 3003\n        histogram:namespace=<namespace_name>;type=object_size_linear\n        histogram:namespace=<namespace_name>;[set=<set_name>;]type=object_size_linear\n        ...\n      ```\n\n### Tags:\n\nAll measurements have tags:\n\n- aerospike_host\n- node_name\n\nNamespace metrics have tags:\n\n- namespace_name\n\nSet metrics have tags:\n\n- namespace_name\n- set_name\n\nHistogram metrics have tags:\n- namespace_name\n- set_name (optional)\n- type\n\n### Example Output:\n\n```\n% telegraf --input-filter aerospike --test\n> aerospike_node,aerospike_host=localhost:3000,node_name="BB9020011AC4202" batch_error=0i,batch_index_complete=0i,batch_index_created_buffers=0i,batch_index_destroyed_buffers=0i,batch_index_error=0i,batch_index_huge_buffers=0i,batch_index_initiate=0i,batch_index_queue="0:0,0:0,0:0,0:0",batch_index_timeout=0i,batch_index_unused_buffers=0i,batch_initiate=0i,batch_queue=0i,batch_timeout=0i,client_connections=6i,cluster_integrity=true,cluster_key="8AF422E05281249E",cluster_size=1i,delete_queue=0i,demarshal_error=0i,early_tsvc_batch_sub_error=0i,early_tsvc_client_error=0i,early_tsvc_udf_sub_error=0i,fabric_connections=16i,fabric_msgs_rcvd=0i,fabric_msgs_sent=0i,heartbeat_connections=0i,heartbeat_received_foreign=0i,heartbeat_received_self=0i,info_complete=47i,info_queue=0i,migrate_allowed=true,migrate_partitions_remaining=0i,migrate_progress_recv=0i,migrate_progress_send=0i,objects=0i,paxos_principal="BB9020011AC4202",proxy_in_progress=0i,proxy_retry=0i,query_long_running=0i,query_short_running=0i,reaped_fds=0i,record_refs=0i,rw_in_progress=0i,scans_active=0i,sindex_gc_activity_dur=0i,sindex_gc_garbage_cleaned=0i,sindex_gc_garbage_found=0i,sindex_gc_inactivity_dur=0i,sindex_gc_list_creation_time=0i,sindex_gc_list_deletion_time=0i,sindex_gc_locktimedout=0i,sindex_gc_objects_validated=0i,sindex_ucgarbage_found=0i,sub_objects=0i,system_free_mem_pct=92i,system_swapping=false,tsvc_queue=0i,uptime=1457i 1468923222000000000\n> aerospike_namespace,aerospike_host=localhost:3000,namespace=test,node_name="BB9020011AC4202" allow_nonxdr_writes=true,allow_xdr_writes=true,available_bin_names=32768i,batch_sub_proxy_complete=0i,batch_sub_proxy_error=0i,batch_sub_proxy_timeout=0i,batch_sub_read_error=0i,batch_sub_read_not_found=0i,batch_sub_read_success=0i,batch_sub_read_timeout=0i,batch_sub_tsvc_error=0i,batch_sub_tsvc_timeout=0i,client_delete_error=0i,client_delete_not_found=0i,client_delete_success=0i,client_delete_timeout=0i,client_lang_delete_success=0i,client_lang_error=0i,client_lang_read_success=0i,client_lang_write_success=0i,client_proxy_complete=0i,client_proxy_error=0i,client_proxy_timeout=0i,client_read_error=0i,client_read_not_found=0i,client_read_success=0i,client_read_timeout=0i,client_tsvc_error=0i,client_tsvc_timeout=0i,client_udf_complete=0i,client_udf_error=0i,client_udf_timeout=0i,client_write_error=0i,client_write_success=0i,client_write_timeout=0i,cold_start_evict_ttl=4294967295i,conflict_resolution_policy="generation",current_time=206619222i,data_in_index=false,default_ttl=432000i,device_available_pct=99i,device_free_pct=100i,device_total_bytes=4294967296i,device_used_bytes=0i,disallow_null_setname=false,enable_benchmarks_batch_sub=false,enable_benchmarks_read=false,enable_benchmarks_storage=false,enable_benchmarks_udf=false,enable_benchmarks_udf_sub=false,enable_benchmarks_write=false,enable_hist_proxy=false,enable_xdr=false,evict_hist_buckets=10000i,evict_tenths_pct=5i,evict_ttl=0i,evicted_objects=0i,expired_objects=0i,fail_generation=0i,fail_key_busy=0i,fail_record_too_big=0i,fail_xdr_forbidden=0i,geo2dsphere_within.earth_radius_meters=6371000i,geo2dsphere_within.level_mod=1i,geo2dsphere_within.max_cells=12i,geo2dsphere_within.max_level=30i,geo2dsphere_within.min_level=1i,geo2dsphere_within.strict=true,geo_region_query_cells=0i,geo_region_query_falsepos=0i,geo_region_query_points=0i,geo_region_query_reqs=0i,high_water_disk_pct=50i,high_water_memory_pct=60i,hwm_breached=false,ldt_enabled=false,ldt_gc_rate=0i,ldt_page_size=8192i,master_objects=0i,master_sub_objects=0i,max_ttl=315360000i,max_void_time=0i,memory_free_pct=100i,memory_size=1073741824i,memory_used_bytes=0i,memory_used_data_bytes=0i,memory_used_index_bytes=0i,memory_used_sindex_bytes=0i,migrate_order=5i,migrate_record_receives=0i,migrate_record_retransmits=0i,migrate_records_skipped=0i,migrate_records_transmitted=0i,migrate_rx_instances=0i,migrate_rx_partitions_active=0i,migrate_rx_partitions_initial=0i,migrate_rx_partitions_remaining=0i,migrate_sleep=1i,migrate_tx_instances=0i,migrate_tx_partitions_active=0i,migrate_tx_partitions_imbalance=0i,migrate_tx_partitions_initial=0i,migrate_tx_partitions_remaining=0i,non_expirable_objects=0i,ns_forward_xdr_writes=false,nsup_cycle_duration=0i,nsup_cycle_sleep_pct=0i,objects=0i,prole_objects=0i,prole_sub_objects=0i,query_agg=0i,query_agg_abort=0i,query_agg_avg_rec_count=0i,query_agg_error=0i,query_agg_success=0i,query_fail=0i,query_long_queue_full=0i,query_long_reqs=0i,query_lookup_abort=0i,query_lookup_avg_rec_count=0i,query_lookup_error=0i,query_lookup_success=0i,query_lookups=0i,query_reqs=0i,query_short_queue_full=0i,query_short_reqs=0i,query_udf_bg_failure=0i,query_udf_bg_success=0i,read_consistency_level_override="off",repl_factor=1i,scan_aggr_abort=0i,scan_aggr_complete=0i,scan_aggr_error=0i,scan_basic_abort=0i,scan_basic_complete=0i,scan_basic_error=0i,scan_udf_bg_abort=0i,scan_udf_bg_complete=0i,scan_udf_bg_error=0i,set_deleted_objects=0i,sets_enable_xdr=true,sindex.data_max_memory="ULONG_MAX",sindex.num_partitions=32i,single_bin=false,stop_writes=false,stop_writes_pct=90i,storage_engine="device",storage_engine.cold_start_empty=false,storage_engine.data_in_memory=true,storage_engine.defrag_lwm_pct=50i,storage_engine.defrag_queue_min=0i,storage_engine.defrag_sleep=1000i,storage_engine.defrag_startup_minimum=10i,storage_engine.disable_odirect=false,storage_engine.enable_osync=false,storage_engine.file="/opt/aerospike/data/test.dat",storage_engine.filesize=4294967296i,storage_engine.flush_max_ms=1000i,storage_engine.fsync_max_sec=0i,storage_engine.max_write_cache=67108864i,storage_engine.min_avail_pct=5i,storage_engine.post_write_queue=0i,storage_engine.scheduler_mode="null",storage_engine.write_block_size=1048576i,storage_engine.write_threads=1i,sub_objects=0i,udf_sub_lang_delete_success=0i,udf_sub_lang_error=0i,udf_sub_lang_read_success=0i,udf_sub_lang_write_success=0i,udf_sub_tsvc_error=0i,udf_sub_tsvc_timeout=0i,udf_sub_udf_complete=0i,udf_sub_udf_error=0i,udf_sub_udf_timeout=0i,write_commit_level_override="off",xdr_write_error=0i,xdr_write_success=0i,xdr_write_timeout=0i,{test}_query_hist_track_back=300i,{test}_query_hist_track_slice=10i,{test}_query_hist_track_thresholds="1,8,64",{test}_read_hist_track_back=300i,{test}_read_hist_track_slice=10i,{test}_read_hist_track_thresholds="1,8,64",{test}_udf_hist_track_back=300i,{test}_udf_hist_track_slice=10i,{test}_udf_hist_track_thresholds="1,8,64",{test}_write_hist_track_back=300i,{test}_write_hist_track_slice=10i,{test}_write_hist_track_thresholds="1,8,64" 1468923222000000000\n> aerospike_set,aerospike_host=localhost:3000,node_name=BB99458B42826B0,set=test/test disable_eviction=false,memory_data_bytes=0i,objects=0i,set_enable_xdr="use-default",stop_writes_count=0i,tombstones=0i,truncate_lut=0i 1598033805000000000\n>> aerospike_histogram_ttl,aerospike_host=localhost:3000,namespace=test,node_name=BB98EE5B42826B0,set=test 0=0i,1=0i,10=0i,11=0i,12=0i,13=0i,14=0i,15=0i,16=0i,17=0i,18=0i,19=0i,2=0i,20=0i,21=0i,22=0i,23=0i,24=0i,25=0i,26=0i,27=0i,28=0i,29=0i,3=0i,30=0i,31=0i,32=0i,33=0i,34=0i,35=0i,36=0i,37=0i,38=0i,39=0i,4=0i,40=0i,41=0i,42=0i,43=0i,44=0i,45=0i,46=0i,47=0i,48=0i,49=0i,5=0i,50=0i,51=0i,52=0i,53=0i,54=0i,55=0i,56=0i,57=0i,58=0i,59=0i,6=0i,60=0i,61=0i,62=0i,63=0i,64=0i,65=0i,66=0i,67=0i,68=0i,69=0i,7=0i,70=0i,71=0i,72=0i,73=0i,74=0i,75=0i,76=0i,77=0i,78=0i,79=0i,8=0i,80=0i,81=0i,82=0i,83=0i,84=0i,85=0i,86=0i,87=0i,88=0i,89=0i,9=0i,90=0i,91=0i,92=0i,93=0i,94=0i,95=0i,96=0i,97=0i,98=0i,99=0i 1598034191000000000\n\n```\n',image:Eb.a},{id:"amqp_consumer",name:"AMQP Consumer",url:"telegraf-plugins/amqp_consumer",markdown:'# AMQP Consumer Input Plugin\n\nThis plugin provides a consumer for use with AMQP 0-9-1, a prominent implementation of this protocol being [RabbitMQ](https://www.rabbitmq.com/).\n\nMetrics are read from a topic exchange using the configured queue and binding_key.\n\nMessage payload should be formatted in one of the [Telegraf Data Formats](https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md).\n\nFor an introduction to AMQP see:\n- https://www.rabbitmq.com/tutorials/amqp-concepts.html\n- https://www.rabbitmq.com/getstarted.html\n\nThe following defaults are known to work with RabbitMQ:\n\n```toml\n[[inputs.amqp_consumer]]\n  ## Broker to consume from.\n  ##   deprecated in 1.7; use the brokers option\n  # url = "amqp://localhost:5672/influxdb"\n\n  ## Brokers to consume from.  If multiple brokers are specified a random broker\n  ## will be selected anytime a connection is established.  This can be\n  ## helpful for load balancing when not using a dedicated load balancer.\n  brokers = ["amqp://localhost:5672/influxdb"]\n\n  ## Authentication credentials for the PLAIN auth_method.\n  # username = ""\n  # password = ""\n\n  ## Name of the exchange to declare.  If unset, no exchange will be declared.\n  exchange = "telegraf"\n\n  ## Exchange type; common types are "direct", "fanout", "topic", "header", "x-consistent-hash".\n  # exchange_type = "topic"\n\n  ## If true, exchange will be passively declared.\n  # exchange_passive = false\n\n  ## Exchange durability can be either "transient" or "durable".\n  # exchange_durability = "durable"\n\n  ## Additional exchange arguments.\n  # exchange_arguments = { }\n  # exchange_arguments = {"hash_property" = "timestamp"}\n\n  ## AMQP queue name\n  queue = "telegraf"\n\n  ## AMQP queue durability can be "transient" or "durable".\n  queue_durability = "durable"\n\n  ## If true, queue will be passively declared.\n  # queue_passive = false\n\n  ## A binding between the exchange and queue using this binding key is\n  ## created.  If unset, no binding is created.\n  binding_key = "#"\n\n  ## Maximum number of messages server should give to the worker.\n  # prefetch_count = 50\n\n  ## Maximum messages to read from the broker that have not been written by an\n  ## output.  For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message from the queue contains 10 metrics and the\n  ## output metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Auth method. PLAIN and EXTERNAL are supported\n  ## Using EXTERNAL requires enabling the rabbitmq_auth_mechanism_ssl plugin as\n  ## described here: https://www.rabbitmq.com/plugins.html\n  # auth_method = "PLAIN"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Content encoding for message payloads, can be set to "gzip" to or\n  ## "identity" to apply no encoding.\n  # content_encoding = "identity"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n',image:Sb.a},{id:"apache",name:"Apache",url:"telegraf-plugins/apache",markdown:'# Apache Input Plugin\n\nThe Apache plugin collects server performance information using the [`mod_status`](https://httpd.apache.org/docs/2.4/mod/mod_status.html) module of the [Apache HTTP Server](https://httpd.apache.org/).\n\nTypically, the `mod_status` module is configured to expose a page at the `/server-status?auto` location of the Apache server.  The [ExtendedStatus](https://httpd.apache.org/docs/2.4/mod/core.html#extendedstatus) option must be enabled in order to collect all available fields.  For information about how to configure your server reference the [module documentation](https://httpd.apache.org/docs/2.4/mod/mod_status.html#enable).\n\n### Configuration:\n\n```toml\n# Read Apache status information (mod_status)\n[[inputs.apache]]\n  ## An array of URLs to gather from, must be directed at the machine\n  ## readable version of the mod_status page including the auto query string.\n  ## Default is "http://localhost/server-status?auto".\n  urls = ["http://localhost/server-status?auto"]\n\n  ## Credentials for basic HTTP authentication.\n  # username = "myuser"\n  # password = "mypassword"\n\n  ## Maximum time to receive response.\n  # response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Measurements & Fields:\n\n- apache\n  - BusyWorkers (float)\n  - BytesPerReq (float)\n  - BytesPerSec (float)\n  - ConnsAsyncClosing (float)\n  - ConnsAsyncKeepAlive (float)\n  - ConnsAsyncWriting (float)\n  - ConnsTotal (float)\n  - CPUChildrenSystem (float)\n  - CPUChildrenUser (float)\n  - CPULoad (float)\n  - CPUSystem (float)\n  - CPUUser (float)\n  - IdleWorkers (float)\n  - Load1 (float)\n  - Load5 (float)\n  - Load15 (float)\n  - ParentServerConfigGeneration (float)\n  - ParentServerMPMGeneration (float)\n  - ReqPerSec (float)\n  - ServerUptimeSeconds (float)\n  - TotalAccesses (float)\n  - TotalkBytes (float)\n  - Uptime (float)\n\nThe following fields are collected from the `Scoreboard`, and represent the number of requests in the given state:\n\n- apache\n  - scboard_closing (float)\n  - scboard_dnslookup (float)\n  - scboard_finishing (float)\n  - scboard_idle_cleanup (float)\n  - scboard_keepalive (float)\n  - scboard_logging (float)\n  - scboard_open (float)\n  - scboard_reading (float)\n  - scboard_sending (float)\n  - scboard_starting (float)\n  - scboard_waiting (float)\n\n### Tags:\n\n- All measurements have the following tags:\n    - port\n    - server\n\n### Example Output:\n\n```\napache,port=80,server=debian-stretch-apache BusyWorkers=1,BytesPerReq=0,BytesPerSec=0,CPUChildrenSystem=0,CPUChildrenUser=0,CPULoad=0.00995025,CPUSystem=0.01,CPUUser=0.01,ConnsAsyncClosing=0,ConnsAsyncKeepAlive=0,ConnsAsyncWriting=0,ConnsTotal=0,IdleWorkers=49,Load1=0.01,Load15=0,Load5=0,ParentServerConfigGeneration=3,ParentServerMPMGeneration=2,ReqPerSec=0.00497512,ServerUptimeSeconds=201,TotalAccesses=1,TotalkBytes=0,Uptime=201,scboard_closing=0,scboard_dnslookup=0,scboard_finishing=0,scboard_idle_cleanup=0,scboard_keepalive=0,scboard_logging=0,scboard_open=100,scboard_reading=0,scboard_sending=1,scboard_starting=0,scboard_waiting=49 1502489900000000000\n```\n',image:Tb.a},{id:"apcupsd",name:"APCUPSD",url:"telegraf-plugins/apcupsd",markdown:'# APCUPSD Input Plugin\n\nThis plugin reads data from an apcupsd daemon over its NIS network protocol.\n\n### Requirements\n\napcupsd should be installed and it\'s daemon should be running.\n\n### Configuration\n\n```toml\n[[inputs.apcupsd]]\n  # A list of running apcupsd server to connect to.\n  # If not provided will default to tcp://127.0.0.1:3551\n  servers = ["tcp://127.0.0.1:3551"]\n\n  ## Timeout for dialing server.\n  timeout = "5s"\n```\n\n### Metrics\n\n- apcupsd\n  - tags:\n    - serial\n    - status (string representing the set status_flags)\n    - ups_name\n    - model\n  - fields:\n    - status_flags ([status-bits][])\n    - input_voltage\n    - load_percent\n    - battery_charge_percent\n    - time_left_ns\n    - output_voltage\n    - internal_temp\n    - battery_voltage\n    - input_frequency\n    - time_on_battery_ns\n    - battery_date\n    - nominal_input_voltage\n    - nominal_battery_voltage\n    - nominal_power\n    - firmware\n\n\n\n### Example output\n\n```\napcupsd,serial=AS1231515,status=ONLINE,ups_name=name1 time_on_battery=0,load_percent=9.7,time_left_minutes=98,output_voltage=230.4,internal_temp=32.4,battery_voltage=27.4,input_frequency=50.2,input_voltage=230.4,battery_charge_percent=100,status_flags=8i 1490035922000000000\n```\n\n[status-bits]: http://www.apcupsd.org/manual/manual.html#status-bits\n',image:Db.a},{id:"aurora",name:"Aurora",url:"telegraf-plugins/aurora",markdown:'# Aurora Input Plugin\n\nThe Aurora Input Plugin gathers metrics from [Apache Aurora](https://aurora.apache.org/) schedulers.\n\nFor monitoring recommendations reference [Monitoring your Aurora cluster](https://aurora.apache.org/documentation/latest/operations/monitoring/)\n\n### Configuration:\n\n```toml\n[[inputs.aurora]]\n  ## Schedulers are the base addresses of your Aurora Schedulers\n  schedulers = ["http://127.0.0.1:8081"]\n\n  ## Set of role types to collect metrics from.\n  ##\n  ## The scheduler roles are checked each interval by contacting the\n  ## scheduler nodes; zookeeper is not contacted.\n  # roles = ["leader", "follower"]\n\n  ## Timeout is the max time for total network operations.\n  # timeout = "5s"\n\n  ## Username and password are sent using HTTP Basic Auth.\n  # username = "username"\n  # password = "pa$$word"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics:\n\n- aurora\n  - tags:\n    - scheduler (URL of scheduler)\n    - role (leader or follower)\n  - fields:\n    - Numeric metrics are collected from the `/vars` endpoint; string fields\n      are not gathered.\n\n\n### Troubleshooting:\n\nCheck the Scheduler role, the leader will return a 200 status:\n```\ncurl -v http://127.0.0.1:8081/leaderhealth\n```\n\nGet available metrics:\n```\ncurl http://127.0.0.1:8081/vars\n```\n\n### Example Output:\n\nThe example output below has been trimmed.\n```\n> aurora,role=leader,scheduler=http://debian-stretch-aurora-coordinator-3.virt:8081 CronBatchWorker_batch_locked_events=0i,CronBatchWorker_batch_locked_events_per_sec=0,CronBatchWorker_batch_locked_nanos_per_event=0,CronBatchWorker_batch_locked_nanos_total=0i,CronBatchWorker_batch_locked_nanos_total_per_sec=0,CronBatchWorker_batch_unlocked_events=0i,CronBatchWorker_batch_unlocked_events_per_sec=0,CronBatchWorker_batch_unlocked_nanos_per_event=0,CronBatchWorker_batch_unlocked_nanos_total=0i,CronBatchWorker_batch_unlocked_nanos_total_per_sec=0,CronBatchWorker_batches_processed=0i,CronBatchWorker_items_processed=0i,CronBatchWorker_last_processed_batch_size=0i,CronBatchWorker_queue_size=0i,TaskEventBatchWorker_batch_locked_events=0i,TaskEventBatchWorker_batch_locked_events_per_sec=0,TaskEventBatchWorker_batch_locked_nanos_per_event=0,TaskEventBatchWorker_batch_locked_nanos_total=0i,TaskEventBatchWorker_batch_locked_nanos_total_per_sec=0,TaskEventBatchWorker_batch_unlocked_events=0i,TaskEventBatchWorker_batch_unlocked_events_per_sec=0,TaskEventBatchWorker_batch_unlocked_nanos_per_event=0,TaskEventBatchWorker_batch_unlocked_nanos_total=0i,TaskEventBatchWorker_batch_unlocked_nanos_total_per_sec=0,TaskEventBatchWorker_batches_processed=0i,TaskEventBatchWorker_items_processed=0i,TaskEventBatchWorker_last_processed_batch_size=0i,TaskEventBatchWorker_queue_size=0i,TaskGroupBatchWorker_batch_locked_events=0i,TaskGroupBatchWorker_batch_locked_events_per_sec=0,TaskGroupBatchWorker_batch_locked_nanos_per_event=0,TaskGroupBatchWorker_batch_locked_nanos_total=0i,TaskGroupBatchWorker_batch_locked_nanos_total_per_sec=0,TaskGroupBatchWorker_batch_unlocked_events=0i,TaskGroupBatchWorker_batch_unlocked_events_per_sec=0,TaskGroupBatchWorker_batch_unlocked_nanos_per_event=0,TaskGroupBatchWorker_batch_unlocked_nanos_total=0i,TaskGroupBatchWorker_batch_unlocked_nanos_total_per_sec=0,TaskGroupBatchWorker_batches_processed=0i,TaskGroupBatchWorker_items_processed=0i,TaskGroupBatchWorker_last_processed_batch_size=0i,TaskGroupBatchWorker_queue_size=0i,assigner_launch_failures=0i,async_executor_uncaught_exceptions=0i,async_tasks_completed=1i,cron_job_collisions=0i,cron_job_concurrent_runs=0i,cron_job_launch_failures=0i,cron_job_misfires=0i,cron_job_parse_failures=0i,cron_job_triggers=0i,cron_jobs_loaded=1i,empty_slots_dedicated_large=0i,empty_slots_dedicated_medium=0i,empty_slots_dedicated_revocable_large=0i,empty_slots_dedicated_revocable_medium=0i,empty_slots_dedicated_revocable_small=0i,empty_slots_dedicated_revocable_xlarge=0i,empty_slots_dedicated_small=0i,empty_slots_dedicated_xlarge=0i,empty_slots_large=0i,empty_slots_medium=0i,empty_slots_revocable_large=0i,empty_slots_revocable_medium=0i,empty_slots_revocable_small=0i,empty_slots_revocable_xlarge=0i,empty_slots_small=0i,empty_slots_xlarge=0i,event_bus_dead_events=0i,event_bus_exceptions=1i,framework_registered=1i,globally_banned_offers_size=0i,http_200_responses_events=55i,http_200_responses_events_per_sec=0,http_200_responses_nanos_per_event=0,http_200_responses_nanos_total=310416694i,http_200_responses_nanos_total_per_sec=0,job_update_delete_errors=0i,job_update_recovery_errors=0i,job_update_state_change_errors=0i,job_update_store_delete_all_events=1i,job_update_store_delete_all_events_per_sec=0,job_update_store_delete_all_nanos_per_event=0,job_update_store_delete_all_nanos_total=1227254i,job_update_store_delete_all_nanos_total_per_sec=0,job_update_store_fetch_details_query_events=74i,job_update_store_fetch_details_query_events_per_sec=0,job_update_store_fetch_details_query_nanos_per_event=0,job_update_store_fetch_details_query_nanos_total=24643149i,job_update_store_fetch_details_query_nanos_total_per_sec=0,job_update_store_prune_history_events=59i,job_update_store_prune_history_events_per_sec=0,job_update_store_prune_history_nanos_per_event=0,job_update_store_prune_history_nanos_total=262868218i,job_update_store_prune_history_nanos_total_per_sec=0,job_updates_pruned=0i,jvm_available_processors=2i,jvm_class_loaded_count=6707i,jvm_class_total_loaded_count=6732i,jvm_class_unloaded_count=25i,jvm_gc_PS_MarkSweep_collection_count=2i,jvm_gc_PS_MarkSweep_collection_time_ms=223i,jvm_gc_PS_Scavenge_collection_count=27i,jvm_gc_PS_Scavenge_collection_time_ms=1691i,jvm_gc_collection_count=29i,jvm_gc_collection_time_ms=1914i,jvm_memory_free_mb=65i,jvm_memory_heap_mb_committed=157i,jvm_memory_heap_mb_max=446i,jvm_memory_heap_mb_used=91i,jvm_memory_max_mb=446i,jvm_memory_mb_total=157i,jvm_memory_non_heap_mb_committed=50i,jvm_memory_non_heap_mb_max=0i,jvm_memory_non_heap_mb_used=49i,jvm_threads_active=47i,jvm_threads_daemon=28i,jvm_threads_peak=48i,jvm_threads_started=62i,jvm_time_ms=1526530686927i,jvm_uptime_secs=79947i,log_entry_serialize_events=16i,log_entry_serialize_events_per_sec=0,log_entry_serialize_nanos_per_event=0,log_entry_serialize_nanos_total=4815321i,log_entry_serialize_nanos_total_per_sec=0,log_manager_append_events=16i,log_manager_append_events_per_sec=0,log_manager_append_nanos_per_event=0,log_manager_append_nanos_total=506453428i,log_manager_append_nanos_total_per_sec=0,log_manager_deflate_events=14i,log_manager_deflate_events_per_sec=0,log_manager_deflate_nanos_per_event=0,log_manager_deflate_nanos_total=21010565i,log_manager_deflate_nanos_total_per_sec=0 1526530687000000000\n```\n',image:jb.a},{id:"azure_storage_queue",name:"Azure Storage Queue",url:"telegraf-plugins/azure_storage_queue",markdown:'# Azure Storage Queue Input Plugin\n\nThis plugin gathers sizes of Azure Storage Queues.\n\n### Configuration:\n\n```toml\n# Description\n[[inputs.azure_storage_queue]]\n  ## Required Azure Storage Account name\n  account_name = "mystorageaccount"\n\n  ## Required Azure Storage Account access key\n  account_key = "storageaccountaccesskey"\n  \n  ## Set to false to disable peeking age of oldest message (executes faster)\n  # peek_oldest_message_age = true\n```\n\n### Metrics\n- azure_storage_queues\n  - tags:\n    - queue\n    - account\n  - fields:\n    - size (integer, count)\n    - oldest_message_age_ns (integer, nanoseconds) Age of message at the head of the queue.\n      Requires `peek_oldest_message_age` to be configured to `true`.\n      \n### Example Output\n\n```\nazure_storage_queues,queue=myqueue,account=mystorageaccount oldest_message_age=799714900i,size=7i 1565970503000000000\nazure_storage_queues,queue=myemptyqueue,account=mystorageaccount size=0i 1565970502000000000\n```',image:Nb.a},{id:"bcache",name:"bcache",url:"telegraf-plugins/bcache",markdown:'# bcache Input Plugin\n\nGet bcache stat from stats_total directory and dirty_data file.\n\n# Measurements\n\nMeta:\n\n- tags: `backing_dev=dev bcache_dev=dev`\n\nMeasurement names:\n\n- dirty_data\n- bypassed\n- cache_bypass_hits\n- cache_bypass_misses\n- cache_hit_ratio\n- cache_hits\n- cache_miss_collisions\n- cache_misses\n- cache_readaheads\n\n### Description\n\n```\ndirty_data\n  Amount of dirty data for this backing device in the cache. Continuously\n  updated unlike the cache set\'s version, but may be slightly off.\n\nbypassed\n  Amount of IO (both reads and writes) that has bypassed the cache\n\n\ncache_bypass_hits\ncache_bypass_misses\n  Hits and misses for IO that is intended to skip the cache are still counted,\n  but broken out here.\n\ncache_hits\ncache_misses\ncache_hit_ratio\n  Hits and misses are counted per individual IO as bcache sees them; a\n  partial hit is counted as a miss.\n\ncache_miss_collisions\n  Counts instances where data was going to be inserted into the cache from a\n  cache miss, but raced with a write and data was already present (usually 0\n  since the synchronization for cache misses was rewritten)\n\ncache_readaheads\n  Count of times readahead occurred.\n```\n\n# Example output\n\nUsing this configuration:\n\n```toml\n[bcache]\n  # Bcache sets path\n  # If not specified, then default is:\n  # bcachePath = "/sys/fs/bcache"\n  #\n  # By default, telegraf gather stats for all bcache devices\n  # Setting devices will restrict the stats to the specified\n  # bcache devices.\n  # bcacheDevs = ["bcache0", ...]\n```\n\nWhen run with:\n\n```\n./telegraf --config telegraf.conf --input-filter bcache --test\n```\n\nIt produces:\n\n```\n* Plugin: bcache, Collection 1\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_dirty_data value=11639194\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_bypassed value=5167704440832\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_bypass_hits value=146270986\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_bypass_misses value=0\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_hit_ratio value=90\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_hits value=511941651\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_miss_collisions value=157678\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_misses value=50647396\n> [backing_dev="md10" bcache_dev="bcache0"] bcache_cache_readaheads value=0\n```\n',image:Pb.a},{id:"beanstalkd",name:"Beanstalkd",url:"telegraf-plugins/beanstalkd",markdown:'# Beanstalkd Input Plugin\n\nThe `beanstalkd` plugin collects server stats as well as tube stats (reported by `stats` and `stats-tube` commands respectively).\n\n### Configuration:\n\n```toml\n[[inputs.beanstalkd]]\n  ## Server to collect data from\n  server = "localhost:11300"\n\n  ## List of tubes to gather stats about.\n  ## If no tubes specified then data gathered for each tube on server reported by list-tubes command\n  tubes = ["notifications"]\n```\n\n### Metrics:\n\nPlease see the [Beanstalk Protocol doc](https://raw.githubusercontent.com/kr/beanstalkd/master/doc/protocol.txt) for detailed explanation of `stats` and `stats-tube` commands output.\n\n`beanstalkd_overview` – statistical information about the system as a whole\n- fields\n  - cmd_delete\n  - cmd_pause_tube\n  - current_jobs_buried\n  - current_jobs_delayed\n  - current_jobs_ready\n  - current_jobs_reserved\n  - current_jobs_urgent\n  - current_using\n  - current_waiting\n  - current_watching\n  - pause\n  - pause_time_left\n  - total_jobs\n- tags\n  - name\n  - server (address taken from config)\n\n`beanstalkd_tube` – statistical information about the specified tube\n- fields\n  - binlog_current_index\n  - binlog_max_size\n  - binlog_oldest_index\n  - binlog_records_migrated\n  - binlog_records_written\n  - cmd_bury\n  - cmd_delete\n  - cmd_ignore\n  - cmd_kick\n  - cmd_list_tube_used\n  - cmd_list_tubes\n  - cmd_list_tubes_watched\n  - cmd_pause_tube\n  - cmd_peek\n  - cmd_peek_buried\n  - cmd_peek_delayed\n  - cmd_peek_ready\n  - cmd_put\n  - cmd_release\n  - cmd_reserve\n  - cmd_reserve_with_timeout\n  - cmd_stats\n  - cmd_stats_job\n  - cmd_stats_tube\n  - cmd_touch\n  - cmd_use\n  - cmd_watch\n  - current_connections\n  - current_jobs_buried\n  - current_jobs_delayed\n  - current_jobs_ready\n  - current_jobs_reserved\n  - current_jobs_urgent\n  - current_producers\n  - current_tubes\n  - current_waiting\n  - current_workers\n  - job_timeouts\n  - max_job_size\n  - pid\n  - rusage_stime\n  - rusage_utime\n  - total_connections\n  - total_jobs\n  - uptime\n- tags\n  - hostname\n  - id\n  - server (address taken from config)\n  - version\n\n### Example Output:\n```\nbeanstalkd_overview,host=server.local,hostname=a2ab22ed12e0,id=232485800aa11b24,server=localhost:11300,version=1.10 cmd_stats_tube=29482i,current_jobs_delayed=0i,current_jobs_urgent=6i,cmd_kick=0i,cmd_stats=7378i,cmd_stats_job=0i,current_waiting=0i,max_job_size=65535i,pid=6i,cmd_bury=0i,cmd_reserve_with_timeout=0i,cmd_touch=0i,current_connections=1i,current_jobs_ready=6i,current_producers=0i,cmd_delete=0i,cmd_list_tubes=7369i,cmd_peek_ready=0i,cmd_put=6i,cmd_use=3i,cmd_watch=0i,current_jobs_reserved=0i,rusage_stime=6.07,cmd_list_tubes_watched=0i,cmd_pause_tube=0i,total_jobs=6i,binlog_records_migrated=0i,cmd_list_tube_used=0i,cmd_peek_delayed=0i,cmd_release=0i,current_jobs_buried=0i,job_timeouts=0i,binlog_current_index=0i,binlog_max_size=10485760i,total_connections=7378i,cmd_peek_buried=0i,cmd_reserve=0i,current_tubes=4i,binlog_records_written=0i,cmd_peek=0i,rusage_utime=1.13,uptime=7099i,binlog_oldest_index=0i,current_workers=0i,cmd_ignore=0i 1528801650000000000\n\nbeanstalkd_tube,host=server.local,name=notifications,server=localhost:11300 pause_time_left=0i,current_jobs_buried=0i,current_jobs_delayed=0i,current_jobs_reserved=0i,current_using=0i,current_waiting=0i,pause=0i,total_jobs=3i,cmd_delete=0i,cmd_pause_tube=0i,current_jobs_ready=3i,current_jobs_urgent=3i,current_watching=0i 1528801650000000000\n```\n',image:Lb.a},{id:"bind",name:"BIND 9 Nameserver Statistics",url:"telegraf-plugins/bind",markdown:'# BIND 9 Nameserver Statistics Input Plugin\n\nThis plugin decodes the JSON or XML statistics provided by BIND 9 nameservers.\n\n### XML Statistics Channel\n\nVersion 2 statistics (BIND 9.6 - 9.9) and version 3 statistics (BIND 9.9+) are supported. Note that\nfor BIND 9.9 to support version 3 statistics, it must be built with the `--enable-newstats` compile\nflag, and it must be specifically requested via the correct URL. Version 3 statistics are the\ndefault (and only) XML format in BIND 9.10+.\n\n### JSON Statistics Channel\n\nJSON statistics schema version 1 (BIND 9.10+) is supported. As of writing, some distros still do\nnot enable support for JSON statistics in their BIND packages.\n\n### Configuration:\n\n- **urls** []string: List of BIND statistics channel URLs to collect from. Do not include a\n  trailing slash in the URL. Default is "http://localhost:8053/xml/v3".\n- **gather_memory_contexts** bool: Report per-context memory statistics.\n- **gather_views** bool: Report per-view query statistics.\n\nThe following table summarizes the URL formats which should be used, depending on your BIND\nversion and configured statistics channel.\n\n| BIND Version | Statistics Format | Example URL                   |\n| ------------ | ----------------- | ----------------------------- |\n| 9.6 - 9.8    | XML v2            | http://localhost:8053         |\n| 9.9          | XML v2            | http://localhost:8053/xml/v2  |\n| 9.9+         | XML v3            | http://localhost:8053/xml/v3  |\n| 9.10+        | JSON v1           | http://localhost:8053/json/v1 |\n\n#### Configuration of BIND Daemon\n\nAdd the following to your named.conf if running Telegraf on the same host as the BIND daemon:\n```\nstatistics-channels {\n    inet 127.0.0.1 port 8053;\n};\n```\n\nAlternatively, specify a wildcard address (e.g., 0.0.0.0) or specific IP address of an interface to\nconfigure the BIND daemon to listen on that address. Note that you should secure the statistics\nchannel with an ACL if it is publicly reachable. Consult the BIND Administrator Reference Manual\nfor more information.\n\n### Measurements & Fields:\n\n- bind_counter\n  - name=value (multiple)\n- bind_memory\n  - total_use\n  - in_use\n  - block_size\n  - context_size\n  - lost\n- bind_memory_context\n  - total\n  - in_use\n\n### Tags:\n\n- All measurements\n  - url\n  - source\n  - port\n- bind_counter\n  - type\n  - view (optional)\n- bind_memory_context\n  - id\n  - name\n\n### Sample Queries:\n\nThese are some useful queries (to generate dashboards or other) to run against data from this\nplugin:\n\n```sql\nSELECT non_negative_derivative(mean(/^A$|^PTR$/), 5m) FROM bind_counter \\\nWHERE "url" = \'localhost:8053\' AND "type" = \'qtype\' AND time > now() - 1h \\\nGROUP BY time(5m), "type"\n```\n\n```\nname: bind_counter\ntags: type=qtype\ntime                non_negative_derivative_A non_negative_derivative_PTR\n----                ------------------------- ---------------------------\n1553862000000000000 254.99444444430992        1388.311111111194\n1553862300000000000 354                       2135.716666666791\n1553862600000000000 316.8666666666977         2130.133333333768\n1553862900000000000 309.05000000004657        2126.75\n1553863200000000000 315.64999999990687        2128.483333332464\n1553863500000000000 308.9166666667443         2132.350000000559\n1553863800000000000 302.64999999990687        2131.1833333335817\n1553864100000000000 310.85000000009313        2132.449999999255\n1553864400000000000 314.3666666666977         2136.216666666791\n1553864700000000000 303.2333333331626         2133.8166666673496\n1553865000000000000 304.93333333334886        2127.333333333023\n1553865300000000000 317.93333333334886        2130.3166666664183\n1553865600000000000 280.6666666667443         1807.9071428570896\n```\n\n### Example Output\n\nHere is example output of this plugin:\n\n```\nbind_memory,host=LAP,port=8053,source=localhost,url=localhost:8053 block_size=12058624i,context_size=4575056i,in_use=4113717i,lost=0i,total_use=16663252i 1554276619000000000\nbind_counter,host=LAP,port=8053,source=localhost,type=opcode,url=localhost:8053 IQUERY=0i,NOTIFY=0i,QUERY=9i,STATUS=0i,UPDATE=0i 1554276619000000000\nbind_counter,host=LAP,port=8053,source=localhost,type=rcode,url=localhost:8053 17=0i,18=0i,19=0i,20=0i,21=0i,22=0i,BADCOOKIE=0i,BADVERS=0i,FORMERR=0i,NOERROR=7i,NOTAUTH=0i,NOTIMP=0i,NOTZONE=0i,NXDOMAIN=0i,NXRRSET=0i,REFUSED=0i,RESERVED11=0i,RESERVED12=0i,RESERVED13=0i,RESERVED14=0i,RESERVED15=0i,SERVFAIL=2i,YXDOMAIN=0i,YXRRSET=0i 1554276619000000000\nbind_counter,host=LAP,port=8053,source=localhost,type=qtype,url=localhost:8053 A=1i,ANY=1i,NS=1i,PTR=5i,SOA=1i 1554276619000000000\nbind_counter,host=LAP,port=8053,source=localhost,type=nsstat,url=localhost:8053 AuthQryRej=0i,CookieBadSize=0i,CookieBadTime=0i,CookieIn=9i,CookieMatch=0i,CookieNew=9i,CookieNoMatch=0i,DNS64=0i,ECSOpt=0i,ExpireOpt=0i,KeyTagOpt=0i,NSIDOpt=0i,OtherOpt=0i,QryAuthAns=7i,QryBADCOOKIE=0i,QryDropped=0i,QryDuplicate=0i,QryFORMERR=0i,QryFailure=0i,QryNXDOMAIN=0i,QryNXRedir=0i,QryNXRedirRLookup=0i,QryNoauthAns=0i,QryNxrrset=1i,QryRecursion=2i,QryReferral=0i,QrySERVFAIL=2i,QrySuccess=6i,QryTCP=1i,QryUDP=8i,RPZRewrites=0i,RateDropped=0i,RateSlipped=0i,RecQryRej=0i,RecursClients=0i,ReqBadEDNSVer=0i,ReqBadSIG=0i,ReqEdns0=9i,ReqSIG0=0i,ReqTCP=1i,ReqTSIG=0i,Requestv4=9i,Requestv6=0i,RespEDNS0=9i,RespSIG0=0i,RespTSIG=0i,Response=9i,TruncatedResp=0i,UpdateBadPrereq=0i,UpdateDone=0i,UpdateFail=0i,UpdateFwdFail=0i,UpdateRej=0i,UpdateReqFwd=0i,UpdateRespFwd=0i,XfrRej=0i,XfrReqDone=0i 1554276619000000000\nbind_counter,host=LAP,port=8053,source=localhost,type=zonestat,url=localhost:8053 AXFRReqv4=0i,AXFRReqv6=0i,IXFRReqv4=0i,IXFRReqv6=0i,NotifyInv4=0i,NotifyInv6=0i,NotifyOutv4=0i,NotifyOutv6=0i,NotifyRej=0i,SOAOutv4=0i,SOAOutv6=0i,XfrFail=0i,XfrSuccess=0i 1554276619000000000\nbind_counter,host=LAP,port=8053,source=localhost,type=sockstat,url=localhost:8053 FDWatchClose=0i,FDwatchConn=0i,FDwatchConnFail=0i,FDwatchRecvErr=0i,FDwatchSendErr=0i,FdwatchBindFail=0i,RawActive=1i,RawClose=0i,RawOpen=1i,RawOpenFail=0i,RawRecvErr=0i,TCP4Accept=6i,TCP4AcceptFail=0i,TCP4Active=9i,TCP4BindFail=0i,TCP4Close=5i,TCP4Conn=0i,TCP4ConnFail=0i,TCP4Open=8i,TCP4OpenFail=0i,TCP4RecvErr=0i,TCP4SendErr=0i,TCP6Accept=0i,TCP6AcceptFail=0i,TCP6Active=2i,TCP6BindFail=0i,TCP6Close=0i,TCP6Conn=0i,TCP6ConnFail=0i,TCP6Open=2i,TCP6OpenFail=0i,TCP6RecvErr=0i,TCP6SendErr=0i,UDP4Active=18i,UDP4BindFail=14i,UDP4Close=14i,UDP4Conn=0i,UDP4ConnFail=0i,UDP4Open=32i,UDP4OpenFail=0i,UDP4RecvErr=0i,UDP4SendErr=0i,UDP6Active=3i,UDP6BindFail=0i,UDP6Close=6i,UDP6Conn=0i,UDP6ConnFail=6i,UDP6Open=9i,UDP6OpenFail=0i,UDP6RecvErr=0i,UDP6SendErr=0i,UnixAccept=0i,UnixAcceptFail=0i,UnixActive=0i,UnixBindFail=0i,UnixClose=0i,UnixConn=0i,UnixConnFail=0i,UnixOpen=0i,UnixOpenFail=0i,UnixRecvErr=0i,UnixSendErr=0i 1554276619000000000\n```\n',image:qb.a},{id:"bond",name:"Bond",url:"telegraf-plugins/bond",markdown:'# Bond Input Plugin\n\nThe Bond input plugin collects network bond interface status for both the\nnetwork bond interface as well as slave interfaces.\nThe plugin collects these metrics from `/proc/net/bonding/*` files.\n\n### Configuration:\n\n```toml\n[[inputs.bond]]\n  ## Sets \'proc\' directory path\n  ## If not specified, then default is /proc\n  # host_proc = "/proc"\n\n  ## By default, telegraf gather stats for all bond interfaces\n  ## Setting interfaces will restrict the stats to the specified\n  ## bond interfaces.\n  # bond_interfaces = ["bond0"]\n```\n\n### Measurements & Fields:\n\n- bond\n  - active_slave (for active-backup mode)\n  - status\n\n- bond_slave\n  - failures\n  - status\n\n### Description:\n\n```\nactive_slave\n  Currently active slave interface for active-backup mode.\n\nstatus\n  Status of bond interface or bonds\'s slave interface (down = 0, up = 1).\n\nfailures\n  Amount of failures for bond\'s slave interface.\n```\n\n### Tags:\n\n- bond\n  - bond\n\n- bond_slave\n  - bond\n  - interface\n\n### Example output:\n\nConfiguration:\n\n```\n[[inputs.bond]]\n  ## Sets \'proc\' directory path\n  ## If not specified, then default is /proc\n  host_proc = "/proc"\n\n  ## By default, telegraf gather stats for all bond interfaces\n  ## Setting interfaces will restrict the stats to the specified\n  ## bond interfaces.\n  bond_interfaces = ["bond0", "bond1"]\n```\n\nRun:\n\n```\ntelegraf --config telegraf.conf --input-filter bond --test\n```\n\nOutput:\n\n```\n* Plugin: inputs.bond, Collection 1\n> bond,bond=bond1,host=local active_slave="eth0",status=1i 1509704525000000000\n> bond_slave,bond=bond1,interface=eth0,host=local status=1i,failures=0i 1509704525000000000\n> bond_slave,host=local,bond=bond1,interface=eth1 status=1i,failures=0i 1509704525000000000\n> bond,bond=bond0,host=isvetlov-mac.local status=1i 1509704525000000000\n> bond_slave,bond=bond0,interface=eth1,host=local status=1i,failures=0i 1509704525000000000\n> bond_slave,bond=bond0,interface=eth2,host=local status=1i,failures=0i 1509704525000000000\n```\n',image:zb.a},{id:"burrow",name:"Burrow Kafka Consumer Lag Checking",url:"telegraf-plugins/burrow",markdown:'# Burrow Kafka Consumer Lag Checking Input Plugin\n\nCollect Kafka topic, consumer and partition status\nvia [Burrow](https://github.com/linkedin/Burrow) HTTP [API](https://github.com/linkedin/Burrow/wiki/HTTP-Endpoint).\n\nSupported Burrow version: `1.x`\n\n### Configuration\n\n```toml\n[[inputs.burrow]]\n  ## Burrow API endpoints in format "schema://host:port".\n  ## Default is "http://localhost:8000".\n  servers = ["http://localhost:8000"]\n\n  ## Override Burrow API prefix.\n  ## Useful when Burrow is behind reverse-proxy.\n  # api_prefix = "/v3/kafka"\n\n  ## Maximum time to receive response.\n  # response_timeout = "5s"\n\n  ## Limit per-server concurrent connections.\n  ## Useful in case of large number of topics or consumer groups.\n  # concurrent_connections = 20\n\n  ## Filter clusters, default is no filtering.\n  ## Values can be specified as glob patterns.\n  # clusters_include = []\n  # clusters_exclude = []\n\n  ## Filter consumer groups, default is no filtering.\n  ## Values can be specified as glob patterns.\n  # groups_include = []\n  # groups_exclude = []\n\n  ## Filter topics, default is no filtering.\n  ## Values can be specified as glob patterns.\n  # topics_include = []\n  # topics_exclude = []\n\n  ## Credentials for basic HTTP authentication.\n  # username = ""\n  # password = ""\n\n  ## Optional SSL config\n  # ssl_ca = "/etc/telegraf/ca.pem"\n  # ssl_cert = "/etc/telegraf/cert.pem"\n  # ssl_key = "/etc/telegraf/key.pem"\n  # insecure_skip_verify = false\n```\n\n### Group/Partition Status mappings\n\n* `OK` = 1\n* `NOT_FOUND` = 2\n* `WARN` = 3\n* `ERR` = 4\n* `STOP` = 5\n* `STALL` = 6\n\n> unknown value will be mapped to 0\n\n### Fields\n\n* `burrow_group` (one event per each consumer group)\n  - status (string, see Partition Status mappings)\n  - status_code (int, `1..6`, see Partition status mappings)\n  - partition_count (int, `number of partitions`)\n  - offset (int64, `total offset of all partitions`)\n  - total_lag (int64, `totallag`)\n  - lag (int64, `maxlag.current_lag || 0`)\n  - timestamp (int64, `end.timestamp`)\n\n* `burrow_partition` (one event per each topic partition)\n  - status (string, see Partition Status mappings)\n  - status_code (int, `1..6`, see Partition status mappings)\n  - lag (int64, `current_lag || 0`)\n  - offset (int64, `end.timestamp`)\n  - timestamp (int64, `end.timestamp`)\n\n* `burrow_topic` (one event per topic offset)\n  - offset (int64)\n\n\n### Tags\n\n* `burrow_group`\n  - cluster (string)\n  - group (string)\n\n* `burrow_partition`\n  - cluster (string)\n  - group (string)\n  - topic (string)\n  - partition (int)\n  - owner (string)\n\n* `burrow_topic`\n  - cluster (string)\n  - topic (string)\n  - partition (int)\n',image:Hb.a},{id:"cassandra",name:"Cassandra",url:"telegraf-plugins/cassandra",markdown:'# Cassandra Input Plugin\n\n### **Deprecated in version 1.7**: Please use the [jolokia2](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/jolokia2) plugin with the [cassandra.conf](/plugins/inputs/jolokia2/examples/cassandra.conf) example configuration.\n\n#### Plugin arguments:\n- **context** string: Context root used for jolokia url\n- **servers** []string: List of servers with the format "<user:passwd@><host>:port"\n- **metrics** []string: List of Jmx paths that identify mbeans attributes\n\n#### Description\n\nThe Cassandra plugin collects Cassandra 3 / JVM metrics exposed as MBean\'s attributes through jolokia REST endpoint. All metrics are collected for each server configured.\n\nSee: https://jolokia.org/ and [Cassandra Documentation](http://docs.datastax.com/en/cassandra/3.x/cassandra/operations/monitoringCassandraTOC.html)\n\n# Measurements:\nCassandra plugin produces one or more measurements for each metric configured, adding Server\'s name  as `host` tag. More than one measurement is generated when querying table metrics with a wildcard for the keyspace or table name.\n\nGiven a configuration like:\n\n```toml\n[[inputs.cassandra]]\n  context = "/jolokia/read"\n  servers = [":8778"]\n  metrics = ["/java.lang:type=Memory/HeapMemoryUsage"]\n```\n\nThe collected metrics will be:\n\n```\njavaMemory,host=myHost,mname=HeapMemoryUsage HeapMemoryUsage_committed=1040187392,HeapMemoryUsage_init=1050673152,HeapMemoryUsage_max=1040187392,HeapMemoryUsage_used=368155000 1459551767230567084\n```\n\n# Useful Metrics:\n\nHere is a list of metrics that might be useful to monitor your cassandra cluster. This was put together from multiple sources on the web.\n\n- [How to monitor Cassandra performance metrics](https://www.datadoghq.com/blog/how-to-monitor-cassandra-performance-metrics)\n- [Cassandra Documentation](http://docs.datastax.com/en/cassandra/3.x/cassandra/operations/monitoringCassandraTOC.html)\n\n#### measurement = javaGarbageCollector\n\n- /java.lang:type=GarbageCollector,name=ConcurrentMarkSweep/CollectionTime\n- /java.lang:type=GarbageCollector,name=ConcurrentMarkSweep/CollectionCount\n- /java.lang:type=GarbageCollector,name=ParNew/CollectionTime\n- /java.lang:type=GarbageCollector,name=ParNew/CollectionCount\n\n#### measurement = javaMemory\n\n- /java.lang:type=Memory/HeapMemoryUsage\n- /java.lang:type=Memory/NonHeapMemoryUsage\n\n#### measurement = cassandraCache\n\n- /org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Hits\n- /org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Requests\n- /org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Entries\n- /org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Size\n- /org.apache.cassandra.metrics:type=Cache,scope=KeyCache,name=Capacity\n- /org.apache.cassandra.metrics:type=Cache,scope=RowCache,name=Hits\n- /org.apache.cassandra.metrics:type=Cache,scope=RowCache,name=Requests\n- /org.apache.cassandra.metrics:type=Cache,scope=RowCache,name=Entries\n- /org.apache.cassandra.metrics:type=Cache,scope=RowCache,name=Size\n- /org.apache.cassandra.metrics:type=Cache,scope=RowCache,name=Capacity\n\n#### measurement = cassandraClient\n\n- /org.apache.cassandra.metrics:type=Client,name=connectedNativeClients\n\n#### measurement = cassandraClientRequest\n\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=TotalLatency\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=TotalLatency\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Latency\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Latency\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Timeouts\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Timeouts\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Unavailables\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Unavailables\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Read,name=Failures\n- /org.apache.cassandra.metrics:type=ClientRequest,scope=Write,name=Failures\n\n#### measurement = cassandraCommitLog\n\n- /org.apache.cassandra.metrics:type=CommitLog,name=PendingTasks\n- /org.apache.cassandra.metrics:type=CommitLog,name=TotalCommitLogSize\n\n#### measurement = cassandraCompaction\n\n- /org.apache.cassandra.metrics:type=Compaction,name=CompletedTasks\n- /org.apache.cassandra.metrics:type=Compaction,name=PendingTasks\n- /org.apache.cassandra.metrics:type=Compaction,name=TotalCompactionsCompleted\n- /org.apache.cassandra.metrics:type=Compaction,name=BytesCompacted\n\n#### measurement = cassandraStorage\n\n- /org.apache.cassandra.metrics:type=Storage,name=Load\n- /org.apache.cassandra.metrics:type=Storage,name=Exceptions\n\n#### measurement = cassandraTable\nUsing wildcards for "keyspace" and "scope" can create a lot of series as metrics will be reported for every table and keyspace including internal system tables. Specify a keyspace name and/or a table name to limit them.\n\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=LiveDiskSpaceUsed\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=TotalDiskSpaceUsed\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=ReadLatency\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=CoordinatorReadLatency\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=WriteLatency\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=ReadTotalLatency\n- /org.apache.cassandra.metrics:type=Table,keyspace=\\*,scope=\\*,name=WriteTotalLatency\n\n\n#### measurement = cassandraThreadPools\n\n- /org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=CompactionExecutor,name=ActiveTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=internal,scope=AntiEntropyStage,name=ActiveTasks\n-  /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=PendingTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=CounterMutationStage,name=CurrentlyBlockedTasks        \n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=PendingTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=MutationStage,name=CurrentlyBlockedTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadRepairStage,name=PendingTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadRepairStage,name=CurrentlyBlockedTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=PendingTasks\n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=ReadStage,name=CurrentlyBlockedTasks\n-  /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=RequestResponseStage,name=PendingTasks        \n- /org.apache.cassandra.metrics:type=ThreadPools,path=request,scope=RequestResponseStage,name=CurrentlyBlockedTasks\n\n\n',image:Vb.a},{id:"ceph",name:"Ceph Storage",url:"telegraf-plugins/ceph",markdown:'# Ceph Storage Input Plugin\n\nCollects performance metrics from the MON and OSD nodes in a Ceph storage cluster.\n\nCeph has introduced a Telegraf and Influx plugin in the 13.x Mimic release. The Telegraf module sends to a Telegraf configured with a socket_listener. [Learn more in their docs](http://docs.ceph.com/docs/mimic/mgr/telegraf/)\n\n*Admin Socket Stats*\n\nThis gatherer works by scanning the configured SocketDir for OSD, MON, MDS and RGW socket files.  When it finds\na MON socket, it runs **ceph --admin-daemon $file perfcounters_dump**. For OSDs it runs **ceph --admin-daemon $file perf dump**\n\nThe resulting JSON is parsed and grouped into collections, based on top-level key.  Top-level keys are\nused as collection tags, and all sub-keys are flattened. For example:\n\n```json\n {\n   "paxos": {\n     "refresh": 9363435,\n     "refresh_latency": {\n       "avgcount": 9363435,\n       "sum": 5378.794002000\n     }\n   }\n }\n```\n\nWould be parsed into the following metrics, all of which would be tagged with collection=paxos:\n\n - refresh = 9363435\n - refresh_latency.avgcount: 9363435\n - refresh_latency.sum: 5378.794002000\n\n\n*Cluster Stats*\n\nThis gatherer works by invoking ceph commands against the cluster thus only requires the ceph client, valid\nceph configuration and an access key to function (the ceph_config and ceph_user configuration variables work\nin conjunction to specify these prerequisites). It may be run on any server you wish which has access to\nthe cluster.  The currently supported commands are:\n\n* ceph status\n* ceph df\n* ceph osd pool stats\n\n### Configuration:\n\n```toml\n# Collects performance metrics from the MON and OSD nodes in a Ceph storage cluster.\n[[inputs.ceph]]\n  ## This is the recommended interval to poll.  Too frequent and you will lose\n  ## data points due to timeouts during rebalancing and recovery\n  interval = \'1m\'\n\n  ## All configuration values are optional, defaults are shown below\n\n  ## location of ceph binary\n  ceph_binary = "/usr/bin/ceph"\n\n  ## directory in which to look for socket files\n  socket_dir = "/var/run/ceph"\n\n  ## prefix of MON and OSD socket files, used to determine socket type\n  mon_prefix = "ceph-mon"\n  osd_prefix = "ceph-osd"\n  mds_prefix = "ceph-mds"\n  rgw_prefix = "ceph-client"\n\n  ## suffix used to identify socket files\n  socket_suffix = "asok"\n\n  ## Ceph user to authenticate as, ceph will search for the corresponding keyring\n  ## e.g. client.admin.keyring in /etc/ceph, or the explicit path defined in the\n  ## client section of ceph.conf for example:\n  ##\n  ##     [client.telegraf]\n  ##         keyring = /etc/ceph/client.telegraf.keyring\n  ##\n  ## Consult the ceph documentation for more detail on keyring generation.\n  ceph_user = "client.admin"\n\n  ## Ceph configuration to use to locate the cluster\n  ceph_config = "/etc/ceph/ceph.conf"\n\n  ## Whether to gather statistics via the admin socket\n  gather_admin_socket_stats = true\n\n  ## Whether to gather statistics via ceph commands, requires ceph_user and ceph_config\n  ## to be specified\n  gather_cluster_stats = false\n```\n\n### Metrics:\n\n*Admin Socket Stats*\n\nAll fields are collected under the **ceph** measurement and stored as float64s. For a full list of fields, see the sample perf dumps in ceph_test.go.\n\nAll admin measurements will have the following tags:\n\n- type: either \'osd\', \'mon\', \'mds\' or \'rgw\' to indicate which type of node was queried\n- id: a unique string identifier, parsed from the socket file name for the node\n- collection: the top-level key under which these fields were reported. Possible values are:\n  - for MON nodes:\n    - cluster\n    - leveldb\n    - mon\n    - paxos\n    - throttle-mon_client_bytes\n    - throttle-mon_daemon_bytes\n    - throttle-msgr_dispatch_throttler-mon\n  - for OSD nodes:\n    - WBThrottle\n    - filestore\n    - leveldb\n    - mutex-FileJournal::completions_lock\n    - mutex-FileJournal::finisher_lock\n    - mutex-FileJournal::write_lock\n    - mutex-FileJournal::writeq_lock\n    - mutex-JOS::ApplyManager::apply_lock\n    - mutex-JOS::ApplyManager::com_lock\n    - mutex-JOS::SubmitManager::lock\n    - mutex-WBThrottle::lock\n    - objecter\n    - osd\n    - recoverystate_perf\n    - throttle-filestore_bytes\n    - throttle-filestore_ops\n    - throttle-msgr_dispatch_throttler-client\n    - throttle-msgr_dispatch_throttler-cluster\n    - throttle-msgr_dispatch_throttler-hb_back_server\n    - throttle-msgr_dispatch_throttler-hb_front_serve\n    - throttle-msgr_dispatch_throttler-hbclient\n    - throttle-msgr_dispatch_throttler-ms_objecter\n    - throttle-objecter_bytes\n    - throttle-objecter_ops\n    - throttle-osd_client_bytes\n    - throttle-osd_client_messages\n  - for MDS nodes:\n    - AsyncMessenger::Worker-0\n    - AsyncMessenger::Worker-1\n    - AsyncMessenger::Worker-2\n    - finisher-PurgeQueue\n    - mds\n    - mds_cache\n    - mds_log\n    - mds_mem\n    - mds_server\n    - mds_sessions\n    - objecter\n    - purge_queue\n    - throttle-msgr_dispatch_throttler-mds\n    - throttle-objecter_bytes\n    - throttle-objecter_ops\n    - throttle-write_buf_throttle\n  - for RGW nodes:\n    - AsyncMessenger::Worker-0\n    - AsyncMessenger::Worker-1\n    - AsyncMessenger::Worker-2\n    - cct\n    - finisher-radosclient\n    - mempool\n    - objecter\n    - rgw\n    - simple-throttler\n    - throttle-msgr_dispatch_throttler-radosclient\n    - throttle-objecter_bytes\n    - throttle-objecter_ops\n    - throttle-rgw_async_rados_ops\n\n*Cluster Stats*\n\n+ ceph_health\n  - fields:\n    - status\n    - overall_status\n\n- ceph_osdmap\n  - fields:\n    - epoch (float)\n    - num_osds (float)\n    - num_up_osds (float)\n    - num_in_osds (float)\n    - full (bool)\n    - nearfull (bool)\n    - num_remapped_pgs (float)\n\n+ ceph_pgmap\n  - fields:\n    - version (float)\n    - num_pgs (float)\n    - data_bytes (float)\n    - bytes_used (float)\n    - bytes_avail (float)\n    - bytes_total (float)\n    - read_bytes_sec (float)\n    - write_bytes_sec (float)\n    - op_per_sec (float, exists only in ceph <10)\n    - read_op_per_sec (float)\n    - write_op_per_sec (float)\n\n- ceph_pgmap_state\n  - tags:\n    - state\n  - fields:\n    - count (float)\n\n+ ceph_usage\n  - fields:\n    - total_bytes (float)\n    - total_used_bytes (float)\n    - total_avail_bytes (float)\n    - total_space (float, exists only in ceph <0.84)\n    - total_used (float, exists only in ceph <0.84)\n    - total_avail (float, exists only in ceph <0.84)\n\n- ceph_pool_usage\n  - tags:\n    - name\n  - fields:\n    - kb_used (float)\n    - bytes_used (float)\n    - objects (float)\n    - percent_used (float)\n    - max_avail (float)\n\n+ ceph_pool_stats\n  - tags:\n    - name\n  - fields:\n    - read_bytes_sec (float)\n    - write_bytes_sec (float)\n    - op_per_sec (float, exists only in ceph <10)\n    - read_op_per_sec (float)\n    - write_op_per_sec (float)\n    - recovering_objects_per_sec (float)\n    - recovering_bytes_per_sec (float)\n    - recovering_keys_per_sec (float)\n\n\n### Example Output:\n\n*Cluster Stats*\n\n```\nceph_health,host=stefanmon1 overall_status="",status="HEALTH_WARN" 1587118504000000000\nceph_osdmap,host=stefanmon1 epoch=203,full=false,nearfull=false,num_in_osds=8,num_osds=9,num_remapped_pgs=0,num_up_osds=8 1587118504000000000\nceph_pgmap,host=stefanmon1 bytes_avail=849879302144,bytes_total=858959904768,bytes_used=9080602624,data_bytes=5055,num_pgs=504,read_bytes_sec=0,read_op_per_sec=0,version=0,write_bytes_sec=0,write_op_per_sec=0 1587118504000000000\nceph_pgmap_state,host=stefanmon1,state=active+clean count=504 1587118504000000000\nceph_usage,host=stefanmon1 total_avail_bytes=849879302144,total_bytes=858959904768,total_used_bytes=196018176 1587118505000000000\nceph_pool_usage,host=stefanmon1,name=cephfs_data bytes_used=0,kb_used=0,max_avail=285804986368,objects=0,percent_used=0 1587118505000000000\nceph_pool_stats,host=stefanmon1,name=cephfs_data read_bytes_sec=0,read_op_per_sec=0,recovering_bytes_per_sec=0,recovering_keys_per_sec=0,recovering_objects_per_sec=0,write_bytes_sec=0,write_op_per_sec=0 1587118506000000000\n```\n\n*Admin Socket Stats*\n\n```\n> ceph,collection=cct,host=stefanmon1,id=stefanmon1,type=monitor total_workers=0,unhealthy_workers=0 1587117563000000000\n> ceph,collection=mempool,host=stefanmon1,id=stefanmon1,type=monitor bloom_filter_bytes=0,bloom_filter_items=0,bluefs_bytes=0,bluefs_items=0,bluestore_alloc_bytes=0,bluestore_alloc_items=0,bluestore_cache_data_bytes=0,bluestore_cache_data_items=0,bluestore_cache_onode_bytes=0,bluestore_cache_onode_items=0,bluestore_cache_other_bytes=0,bluestore_cache_other_items=0,bluestore_fsck_bytes=0,bluestore_fsck_items=0,bluestore_txc_bytes=0,bluestore_txc_items=0,bluestore_writing_bytes=0,bluestore_writing_deferred_bytes=0,bluestore_writing_deferred_items=0,bluestore_writing_items=0,buffer_anon_bytes=719152,buffer_anon_items=192,buffer_meta_bytes=352,buffer_meta_items=4,mds_co_bytes=0,mds_co_items=0,osd_bytes=0,osd_items=0,osd_mapbl_bytes=0,osd_mapbl_items=0,osd_pglog_bytes=0,osd_pglog_items=0,osdmap_bytes=15872,osdmap_items=138,osdmap_mapping_bytes=63112,osdmap_mapping_items=7626,pgmap_bytes=38680,pgmap_items=477,unittest_1_bytes=0,unittest_1_items=0,unittest_2_bytes=0,unittest_2_items=0 1587117563000000000\n> ceph,collection=throttle-mon_client_bytes,host=stefanmon1,id=stefanmon1,type=monitor get=1041157,get_or_fail_fail=0,get_or_fail_success=1041157,get_started=0,get_sum=64928901,max=104857600,put=1041157,put_sum=64928901,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117563000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-mon,host=stefanmon1,id=stefanmon1,type=monitor get=12695426,get_or_fail_fail=0,get_or_fail_success=12695426,get_started=0,get_sum=42542216884,max=104857600,put=12695426,put_sum=42542216884,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117563000000000\n> ceph,collection=finisher-mon_finisher,host=stefanmon1,id=stefanmon1,type=monitor complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117563000000000\n> ceph,collection=finisher-monstore,host=stefanmon1,id=stefanmon1,type=monitor complete_latency.avgcount=1609831,complete_latency.avgtime=0.015857621,complete_latency.sum=25528.09131035,queue_len=0 1587117563000000000\n> ceph,collection=mon,host=stefanmon1,id=stefanmon1,type=monitor election_call=25,election_lose=0,election_win=22,num_elections=94,num_sessions=3,session_add=174679,session_rm=439316,session_trim=137 1587117563000000000\n> ceph,collection=throttle-mon_daemon_bytes,host=stefanmon1,id=stefanmon1,type=monitor get=72697,get_or_fail_fail=0,get_or_fail_success=72697,get_started=0,get_sum=32261199,max=419430400,put=72697,put_sum=32261199,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117563000000000\n> ceph,collection=rocksdb,host=stefanmon1,id=stefanmon1,type=monitor compact=1,compact_queue_len=0,compact_queue_merge=1,compact_range=19126,get=62449211,get_latency.avgcount=62449211,get_latency.avgtime=0.000022216,get_latency.sum=1387.371811726,rocksdb_write_delay_time.avgcount=0,rocksdb_write_delay_time.avgtime=0,rocksdb_write_delay_time.sum=0,rocksdb_write_memtable_time.avgcount=0,rocksdb_write_memtable_time.avgtime=0,rocksdb_write_memtable_time.sum=0,rocksdb_write_pre_and_post_time.avgcount=0,rocksdb_write_pre_and_post_time.avgtime=0,rocksdb_write_pre_and_post_time.sum=0,rocksdb_write_wal_time.avgcount=0,rocksdb_write_wal_time.avgtime=0,rocksdb_write_wal_time.sum=0,submit_latency.avgcount=0,submit_latency.avgtime=0,submit_latency.sum=0,submit_sync_latency.avgcount=3219961,submit_sync_latency.avgtime=0.007532173,submit_sync_latency.sum=24253.303584224,submit_transaction=0,submit_transaction_sync=3219961 1587117563000000000\n> ceph,collection=AsyncMessenger::Worker-0,host=stefanmon1,id=stefanmon1,type=monitor msgr_active_connections=148317,msgr_created_connections=162806,msgr_recv_bytes=11557888328,msgr_recv_messages=5113369,msgr_running_fast_dispatch_time=0,msgr_running_recv_time=868.377161686,msgr_running_send_time=1626.525392721,msgr_running_total_time=4222.235694322,msgr_send_bytes=91516226816,msgr_send_messages=6973706 1587117563000000000\n> ceph,collection=AsyncMessenger::Worker-2,host=stefanmon1,id=stefanmon1,type=monitor msgr_active_connections=146396,msgr_created_connections=159788,msgr_recv_bytes=2162802496,msgr_recv_messages=689168,msgr_running_fast_dispatch_time=0,msgr_running_recv_time=164.148550562,msgr_running_send_time=153.462890368,msgr_running_total_time=644.188791379,msgr_send_bytes=7422484152,msgr_send_messages=749381 1587117563000000000\n> ceph,collection=cluster,host=stefanmon1,id=stefanmon1,type=monitor num_bytes=5055,num_mon=3,num_mon_quorum=3,num_object=245,num_object_degraded=0,num_object_misplaced=0,num_object_unfound=0,num_osd=9,num_osd_in=8,num_osd_up=8,num_pg=504,num_pg_active=504,num_pg_active_clean=504,num_pg_peering=0,num_pool=17,osd_bytes=858959904768,osd_bytes_avail=849889787904,osd_bytes_used=9070116864,osd_epoch=203 1587117563000000000\n> ceph,collection=paxos,host=stefanmon1,id=stefanmon1,type=monitor accept_timeout=1,begin=1609847,begin_bytes.avgcount=1609847,begin_bytes.sum=41408662074,begin_keys.avgcount=1609847,begin_keys.sum=4829541,begin_latency.avgcount=1609847,begin_latency.avgtime=0.007213392,begin_latency.sum=11612.457661116,collect=0,collect_bytes.avgcount=0,collect_bytes.sum=0,collect_keys.avgcount=0,collect_keys.sum=0,collect_latency.avgcount=0,collect_latency.avgtime=0,collect_latency.sum=0,collect_timeout=1,collect_uncommitted=17,commit=1609831,commit_bytes.avgcount=1609831,commit_bytes.sum=41087428442,commit_keys.avgcount=1609831,commit_keys.sum=11637931,commit_latency.avgcount=1609831,commit_latency.avgtime=0.006236333,commit_latency.sum=10039.442388355,lease_ack_timeout=0,lease_timeout=0,new_pn=33,new_pn_latency.avgcount=33,new_pn_latency.avgtime=3.844272773,new_pn_latency.sum=126.86100151,refresh=1609856,refresh_latency.avgcount=1609856,refresh_latency.avgtime=0.005900486,refresh_latency.sum=9498.932866761,restart=109,share_state=2,share_state_bytes.avgcount=2,share_state_bytes.sum=39612,share_state_keys.avgcount=2,share_state_keys.sum=2,start_leader=22,start_peon=0,store_state=14,store_state_bytes.avgcount=14,store_state_bytes.sum=51908281,store_state_keys.avgcount=14,store_state_keys.sum=7016,store_state_latency.avgcount=14,store_state_latency.avgtime=11.668377665,store_state_latency.sum=163.357287311 1587117563000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-mon-mgrc,host=stefanmon1,id=stefanmon1,type=monitor get=13225,get_or_fail_fail=0,get_or_fail_success=13225,get_started=0,get_sum=158700,max=104857600,put=13225,put_sum=158700,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117563000000000\n> ceph,collection=AsyncMessenger::Worker-1,host=stefanmon1,id=stefanmon1,type=monitor msgr_active_connections=147680,msgr_created_connections=162374,msgr_recv_bytes=29781706740,msgr_recv_messages=7170733,msgr_running_fast_dispatch_time=0,msgr_running_recv_time=1728.559151358,msgr_running_send_time=2086.681244508,msgr_running_total_time=6084.532916585,msgr_send_bytes=94062125718,msgr_send_messages=9161564 1587117563000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-cluster,host=stefanosd1,id=0,type=osd get=281745,get_or_fail_fail=0,get_or_fail_success=281745,get_started=0,get_sum=446024457,max=104857600,put=281745,put_sum=446024457,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-bluestore_throttle_bytes,host=stefanosd1,id=0,type=osd get=275707,get_or_fail_fail=0,get_or_fail_success=0,get_started=275707,get_sum=185073179842,max=67108864,put=268870,put_sum=185073179842,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_front_server,host=stefanosd1,id=0,type=osd get=2606982,get_or_fail_fail=0,get_or_fail_success=2606982,get_started=0,get_sum=5224391928,max=104857600,put=2606982,put_sum=5224391928,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=rocksdb,host=stefanosd1,id=0,type=osd compact=0,compact_queue_len=0,compact_queue_merge=0,compact_range=0,get=1570,get_latency.avgcount=1570,get_latency.avgtime=0.000051233,get_latency.sum=0.080436788,rocksdb_write_delay_time.avgcount=0,rocksdb_write_delay_time.avgtime=0,rocksdb_write_delay_time.sum=0,rocksdb_write_memtable_time.avgcount=0,rocksdb_write_memtable_time.avgtime=0,rocksdb_write_memtable_time.sum=0,rocksdb_write_pre_and_post_time.avgcount=0,rocksdb_write_pre_and_post_time.avgtime=0,rocksdb_write_pre_and_post_time.sum=0,rocksdb_write_wal_time.avgcount=0,rocksdb_write_wal_time.avgtime=0,rocksdb_write_wal_time.sum=0,submit_latency.avgcount=275707,submit_latency.avgtime=0.000174936,submit_latency.sum=48.231345334,submit_sync_latency.avgcount=268870,submit_sync_latency.avgtime=0.006097313,submit_sync_latency.sum=1639.384555624,submit_transaction=275707,submit_transaction_sync=268870 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_back_server,host=stefanosd1,id=0,type=osd get=2606982,get_or_fail_fail=0,get_or_fail_success=2606982,get_started=0,get_sum=5224391928,max=104857600,put=2606982,put_sum=5224391928,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-objecter_bytes,host=stefanosd1,id=0,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_back_client,host=stefanosd1,id=0,type=osd get=2610285,get_or_fail_fail=0,get_or_fail_success=2610285,get_started=0,get_sum=5231011140,max=104857600,put=2610285,put_sum=5231011140,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-1,host=stefanosd1,id=0,type=osd msgr_active_connections=2093,msgr_created_connections=29142,msgr_recv_bytes=7214238199,msgr_recv_messages=3928206,msgr_running_fast_dispatch_time=171.289615064,msgr_running_recv_time=278.531155966,msgr_running_send_time=489.482588813,msgr_running_total_time=1134.004853662,msgr_send_bytes=9814725232,msgr_send_messages=3814927 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-client,host=stefanosd1,id=0,type=osd get=488206,get_or_fail_fail=0,get_or_fail_success=488206,get_started=0,get_sum=104085134,max=104857600,put=488206,put_sum=104085134,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=finisher-defered_finisher,host=stefanosd1,id=0,type=osd complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117698000000000\n> ceph,collection=recoverystate_perf,host=stefanosd1,id=0,type=osd activating_latency.avgcount=87,activating_latency.avgtime=0.114348341,activating_latency.sum=9.948305683,active_latency.avgcount=25,active_latency.avgtime=1790.961574431,active_latency.sum=44774.039360795,backfilling_latency.avgcount=0,backfilling_latency.avgtime=0,backfilling_latency.sum=0,clean_latency.avgcount=25,clean_latency.avgtime=1790.830827794,clean_latency.sum=44770.770694867,down_latency.avgcount=0,down_latency.avgtime=0,down_latency.sum=0,getinfo_latency.avgcount=141,getinfo_latency.avgtime=0.446233476,getinfo_latency.sum=62.918920183,getlog_latency.avgcount=87,getlog_latency.avgtime=0.007708069,getlog_latency.sum=0.670602073,getmissing_latency.avgcount=87,getmissing_latency.avgtime=0.000077594,getmissing_latency.sum=0.006750701,incomplete_latency.avgcount=0,incomplete_latency.avgtime=0,incomplete_latency.sum=0,initial_latency.avgcount=166,initial_latency.avgtime=0.001313715,initial_latency.sum=0.218076764,notbackfilling_latency.avgcount=0,notbackfilling_latency.avgtime=0,notbackfilling_latency.sum=0,notrecovering_latency.avgcount=0,notrecovering_latency.avgtime=0,notrecovering_latency.sum=0,peering_latency.avgcount=141,peering_latency.avgtime=0.948324273,peering_latency.sum=133.713722563,primary_latency.avgcount=79,primary_latency.avgtime=567.706192991,primary_latency.sum=44848.78924634,recovered_latency.avgcount=87,recovered_latency.avgtime=0.000378284,recovered_latency.sum=0.032910791,recovering_latency.avgcount=2,recovering_latency.avgtime=0.338242008,recovering_latency.sum=0.676484017,replicaactive_latency.avgcount=23,replicaactive_latency.avgtime=1790.893991295,replicaactive_latency.sum=41190.561799786,repnotrecovering_latency.avgcount=25,repnotrecovering_latency.avgtime=1647.627024984,repnotrecovering_latency.sum=41190.675624616,reprecovering_latency.avgcount=2,reprecovering_latency.avgtime=0.311884638,reprecovering_latency.sum=0.623769276,repwaitbackfillreserved_latency.avgcount=0,repwaitbackfillreserved_latency.avgtime=0,repwaitbackfillreserved_latency.sum=0,repwaitrecoveryreserved_latency.avgcount=2,repwaitrecoveryreserved_latency.avgtime=0.000462873,repwaitrecoveryreserved_latency.sum=0.000925746,reset_latency.avgcount=372,reset_latency.avgtime=0.125056393,reset_latency.sum=46.520978537,start_latency.avgcount=372,start_latency.avgtime=0.000109397,start_latency.sum=0.040695881,started_latency.avgcount=206,started_latency.avgtime=418.299777245,started_latency.sum=86169.754112641,stray_latency.avgcount=231,stray_latency.avgtime=0.98203205,stray_latency.sum=226.849403565,waitactingchange_latency.avgcount=0,waitactingchange_latency.avgtime=0,waitactingchange_latency.sum=0,waitlocalbackfillreserved_latency.avgcount=0,waitlocalbackfillreserved_latency.avgtime=0,waitlocalbackfillreserved_latency.sum=0,waitlocalrecoveryreserved_latency.avgcount=2,waitlocalrecoveryreserved_latency.avgtime=0.002802377,waitlocalrecoveryreserved_latency.sum=0.005604755,waitremotebackfillreserved_latency.avgcount=0,waitremotebackfillreserved_latency.avgtime=0,waitremotebackfillreserved_latency.sum=0,waitremoterecoveryreserved_latency.avgcount=2,waitremoterecoveryreserved_latency.avgtime=0.012855439,waitremoterecoveryreserved_latency.sum=0.025710878,waitupthru_latency.avgcount=87,waitupthru_latency.avgtime=0.805727895,waitupthru_latency.sum=70.09832695 1587117698000000000\n> ceph,collection=cct,host=stefanosd1,id=0,type=osd total_workers=6,unhealthy_workers=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_front_client,host=stefanosd1,id=0,type=osd get=2610285,get_or_fail_fail=0,get_or_fail_success=2610285,get_started=0,get_sum=5231011140,max=104857600,put=2610285,put_sum=5231011140,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=bluefs,host=stefanosd1,id=0,type=osd bytes_written_slow=0,bytes_written_sst=9018781,bytes_written_wal=831081573,db_total_bytes=4294967296,db_used_bytes=434110464,files_written_sst=3,files_written_wal=2,gift_bytes=0,log_bytes=134291456,log_compactions=1,logged_bytes=1101668352,max_bytes_db=1234173952,max_bytes_slow=0,max_bytes_wal=0,num_files=11,reclaim_bytes=0,slow_total_bytes=0,slow_used_bytes=0,wal_total_bytes=0,wal_used_bytes=0 1587117698000000000\n> ceph,collection=mempool,host=stefanosd1,id=0,type=osd bloom_filter_bytes=0,bloom_filter_items=0,bluefs_bytes=10600,bluefs_items=458,bluestore_alloc_bytes=230288,bluestore_alloc_items=28786,bluestore_cache_data_bytes=622592,bluestore_cache_data_items=43,bluestore_cache_onode_bytes=249280,bluestore_cache_onode_items=380,bluestore_cache_other_bytes=192678,bluestore_cache_other_items=20199,bluestore_fsck_bytes=0,bluestore_fsck_items=0,bluestore_txc_bytes=8272,bluestore_txc_items=11,bluestore_writing_bytes=0,bluestore_writing_deferred_bytes=670130,bluestore_writing_deferred_items=176,bluestore_writing_items=0,buffer_anon_bytes=2412465,buffer_anon_items=297,buffer_meta_bytes=5896,buffer_meta_items=67,mds_co_bytes=0,mds_co_items=0,osd_bytes=2124800,osd_items=166,osd_mapbl_bytes=155152,osd_mapbl_items=10,osd_pglog_bytes=3214704,osd_pglog_items=6288,osdmap_bytes=710892,osdmap_items=4426,osdmap_mapping_bytes=0,osdmap_mapping_items=0,pgmap_bytes=0,pgmap_items=0,unittest_1_bytes=0,unittest_1_items=0,unittest_2_bytes=0,unittest_2_items=0 1587117698000000000\n> ceph,collection=osd,host=stefanosd1,id=0,type=osd agent_evict=0,agent_flush=0,agent_skip=0,agent_wake=0,cached_crc=0,cached_crc_adjusted=0,copyfrom=0,heartbeat_to_peers=7,loadavg=11,map_message_epoch_dups=21,map_message_epochs=40,map_messages=31,messages_delayed_for_map=0,missed_crc=0,numpg=166,numpg_primary=62,numpg_removing=0,numpg_replica=104,numpg_stray=0,object_ctx_cache_hit=476529,object_ctx_cache_total=476536,op=476525,op_before_dequeue_op_lat.avgcount=755708,op_before_dequeue_op_lat.avgtime=0.000205759,op_before_dequeue_op_lat.sum=155.493843473,op_before_queue_op_lat.avgcount=755702,op_before_queue_op_lat.avgtime=0.000047877,op_before_queue_op_lat.sum=36.181069552,op_cache_hit=0,op_in_bytes=0,op_latency.avgcount=476525,op_latency.avgtime=0.000365956,op_latency.sum=174.387387878,op_out_bytes=10882,op_prepare_latency.avgcount=476527,op_prepare_latency.avgtime=0.000205307,op_prepare_latency.sum=97.834380034,op_process_latency.avgcount=476525,op_process_latency.avgtime=0.000139616,op_process_latency.sum=66.530847665,op_r=476521,op_r_latency.avgcount=476521,op_r_latency.avgtime=0.00036559,op_r_latency.sum=174.21148267,op_r_out_bytes=10882,op_r_prepare_latency.avgcount=476523,op_r_prepare_latency.avgtime=0.000205302,op_r_prepare_latency.sum=97.831473175,op_r_process_latency.avgcount=476521,op_r_process_latency.avgtime=0.000139396,op_r_process_latency.sum=66.425498624,op_rw=2,op_rw_in_bytes=0,op_rw_latency.avgcount=2,op_rw_latency.avgtime=0.048818975,op_rw_latency.sum=0.097637951,op_rw_out_bytes=0,op_rw_prepare_latency.avgcount=2,op_rw_prepare_latency.avgtime=0.000467887,op_rw_prepare_latency.sum=0.000935775,op_rw_process_latency.avgcount=2,op_rw_process_latency.avgtime=0.013741256,op_rw_process_latency.sum=0.027482512,op_w=2,op_w_in_bytes=0,op_w_latency.avgcount=2,op_w_latency.avgtime=0.039133628,op_w_latency.sum=0.078267257,op_w_prepare_latency.avgcount=2,op_w_prepare_latency.avgtime=0.000985542,op_w_prepare_latency.sum=0.001971084,op_w_process_latency.avgcount=2,op_w_process_latency.avgtime=0.038933264,op_w_process_latency.sum=0.077866529,op_wip=0,osd_map_bl_cache_hit=22,osd_map_bl_cache_miss=40,osd_map_cache_hit=4570,osd_map_cache_miss=15,osd_map_cache_miss_low=0,osd_map_cache_miss_low_avg.avgcount=0,osd_map_cache_miss_low_avg.sum=0,osd_pg_biginfo=2050,osd_pg_fastinfo=265780,osd_pg_info=274542,osd_tier_flush_lat.avgcount=0,osd_tier_flush_lat.avgtime=0,osd_tier_flush_lat.sum=0,osd_tier_promote_lat.avgcount=0,osd_tier_promote_lat.avgtime=0,osd_tier_promote_lat.sum=0,osd_tier_r_lat.avgcount=0,osd_tier_r_lat.avgtime=0,osd_tier_r_lat.sum=0,pull=0,push=2,push_out_bytes=10,recovery_bytes=10,recovery_ops=2,stat_bytes=107369988096,stat_bytes_avail=106271539200,stat_bytes_used=1098448896,subop=253554,subop_in_bytes=168644225,subop_latency.avgcount=253554,subop_latency.avgtime=0.0073036,subop_latency.sum=1851.857230388,subop_pull=0,subop_pull_latency.avgcount=0,subop_pull_latency.avgtime=0,subop_pull_latency.sum=0,subop_push=0,subop_push_in_bytes=0,subop_push_latency.avgcount=0,subop_push_latency.avgtime=0,subop_push_latency.sum=0,subop_w=253554,subop_w_in_bytes=168644225,subop_w_latency.avgcount=253554,subop_w_latency.avgtime=0.0073036,subop_w_latency.sum=1851.857230388,tier_clean=0,tier_delay=0,tier_dirty=0,tier_evict=0,tier_flush=0,tier_flush_fail=0,tier_promote=0,tier_proxy_read=0,tier_proxy_write=0,tier_try_flush=0,tier_try_flush_fail=0,tier_whiteout=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-ms_objecter,host=stefanosd1,id=0,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-2,host=stefanosd1,id=0,type=osd msgr_active_connections=2055,msgr_created_connections=27411,msgr_recv_bytes=6431950009,msgr_recv_messages=3552443,msgr_running_fast_dispatch_time=162.271664213,msgr_running_recv_time=254.307853033,msgr_running_send_time=503.037285799,msgr_running_total_time=1130.21070681,msgr_send_bytes=10865436237,msgr_send_messages=3523374 1587117698000000000\n> ceph,collection=bluestore,host=stefanosd1,id=0,type=osd bluestore_allocated=24641536,bluestore_blob_split=0,bluestore_blobs=88,bluestore_buffer_bytes=622592,bluestore_buffer_hit_bytes=160578,bluestore_buffer_miss_bytes=540236,bluestore_buffers=43,bluestore_compressed=0,bluestore_compressed_allocated=0,bluestore_compressed_original=0,bluestore_extent_compress=0,bluestore_extents=88,bluestore_fragmentation_micros=1,bluestore_gc_merged=0,bluestore_onode_hits=532102,bluestore_onode_misses=388,bluestore_onode_reshard=0,bluestore_onode_shard_hits=0,bluestore_onode_shard_misses=0,bluestore_onodes=380,bluestore_read_eio=0,bluestore_reads_with_retries=0,bluestore_stored=1987856,bluestore_txc=275707,bluestore_write_big=0,bluestore_write_big_blobs=0,bluestore_write_big_bytes=0,bluestore_write_small=60,bluestore_write_small_bytes=343843,bluestore_write_small_deferred=22,bluestore_write_small_new=38,bluestore_write_small_pre_read=22,bluestore_write_small_unused=0,commit_lat.avgcount=275707,commit_lat.avgtime=0.00699778,commit_lat.sum=1929.337103334,compress_lat.avgcount=0,compress_lat.avgtime=0,compress_lat.sum=0,compress_rejected_count=0,compress_success_count=0,csum_lat.avgcount=67,csum_lat.avgtime=0.000032601,csum_lat.sum=0.002184323,decompress_lat.avgcount=0,decompress_lat.avgtime=0,decompress_lat.sum=0,deferred_write_bytes=0,deferred_write_ops=0,kv_commit_lat.avgcount=268870,kv_commit_lat.avgtime=0.006365428,kv_commit_lat.sum=1711.472749866,kv_final_lat.avgcount=268867,kv_final_lat.avgtime=0.000043227,kv_final_lat.sum=11.622427109,kv_flush_lat.avgcount=268870,kv_flush_lat.avgtime=0.000000223,kv_flush_lat.sum=0.060141588,kv_sync_lat.avgcount=268870,kv_sync_lat.avgtime=0.006365652,kv_sync_lat.sum=1711.532891454,omap_lower_bound_lat.avgcount=2,omap_lower_bound_lat.avgtime=0.000006524,omap_lower_bound_lat.sum=0.000013048,omap_next_lat.avgcount=6704,omap_next_lat.avgtime=0.000004721,omap_next_lat.sum=0.031654097,omap_seek_to_first_lat.avgcount=323,omap_seek_to_first_lat.avgtime=0.00000522,omap_seek_to_first_lat.sum=0.00168614,omap_upper_bound_lat.avgcount=4,omap_upper_bound_lat.avgtime=0.000013086,omap_upper_bound_lat.sum=0.000052344,read_lat.avgcount=227,read_lat.avgtime=0.000699457,read_lat.sum=0.158776879,read_onode_meta_lat.avgcount=311,read_onode_meta_lat.avgtime=0.000072207,read_onode_meta_lat.sum=0.022456667,read_wait_aio_lat.avgcount=84,read_wait_aio_lat.avgtime=0.001556141,read_wait_aio_lat.sum=0.130715885,state_aio_wait_lat.avgcount=275707,state_aio_wait_lat.avgtime=0.000000345,state_aio_wait_lat.sum=0.095246457,state_deferred_aio_wait_lat.avgcount=0,state_deferred_aio_wait_lat.avgtime=0,state_deferred_aio_wait_lat.sum=0,state_deferred_cleanup_lat.avgcount=0,state_deferred_cleanup_lat.avgtime=0,state_deferred_cleanup_lat.sum=0,state_deferred_queued_lat.avgcount=0,state_deferred_queued_lat.avgtime=0,state_deferred_queued_lat.sum=0,state_done_lat.avgcount=275696,state_done_lat.avgtime=0.00000286,state_done_lat.sum=0.788700007,state_finishing_lat.avgcount=275696,state_finishing_lat.avgtime=0.000000302,state_finishing_lat.sum=0.083437168,state_io_done_lat.avgcount=275707,state_io_done_lat.avgtime=0.000001041,state_io_done_lat.sum=0.287025147,state_kv_commiting_lat.avgcount=275707,state_kv_commiting_lat.avgtime=0.006424459,state_kv_commiting_lat.sum=1771.268407864,state_kv_done_lat.avgcount=275707,state_kv_done_lat.avgtime=0.000001627,state_kv_done_lat.sum=0.448805853,state_kv_queued_lat.avgcount=275707,state_kv_queued_lat.avgtime=0.000488565,state_kv_queued_lat.sum=134.7009424,state_prepare_lat.avgcount=275707,state_prepare_lat.avgtime=0.000082464,state_prepare_lat.sum=22.736065534,submit_lat.avgcount=275707,submit_lat.avgtime=0.000120236,submit_lat.sum=33.149934412,throttle_lat.avgcount=275707,throttle_lat.avgtime=0.000001571,throttle_lat.sum=0.433185935,write_pad_bytes=151773,write_penalty_read_ops=0 1587117698000000000\n> ceph,collection=finisher-objecter-finisher-0,host=stefanosd1,id=0,type=osd complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117698000000000\n> ceph,collection=objecter,host=stefanosd1,id=0,type=osd command_active=0,command_resend=0,command_send=0,linger_active=0,linger_ping=0,linger_resend=0,linger_send=0,map_epoch=203,map_full=0,map_inc=19,omap_del=0,omap_rd=0,omap_wr=0,op=0,op_active=0,op_laggy=0,op_pg=0,op_r=0,op_reply=0,op_resend=0,op_rmw=0,op_send=0,op_send_bytes=0,op_w=0,osd_laggy=0,osd_session_close=0,osd_session_open=0,osd_sessions=0,osdop_append=0,osdop_call=0,osdop_clonerange=0,osdop_cmpxattr=0,osdop_create=0,osdop_delete=0,osdop_getxattr=0,osdop_mapext=0,osdop_notify=0,osdop_other=0,osdop_pgls=0,osdop_pgls_filter=0,osdop_read=0,osdop_resetxattrs=0,osdop_rmxattr=0,osdop_setxattr=0,osdop_sparse_read=0,osdop_src_cmpxattr=0,osdop_stat=0,osdop_truncate=0,osdop_watch=0,osdop_write=0,osdop_writefull=0,osdop_writesame=0,osdop_zero=0,poolop_active=0,poolop_resend=0,poolop_send=0,poolstat_active=0,poolstat_resend=0,poolstat_send=0,statfs_active=0,statfs_resend=0,statfs_send=0 1587117698000000000\n> ceph,collection=finisher-commit_finisher,host=stefanosd1,id=0,type=osd complete_latency.avgcount=11,complete_latency.avgtime=0.003447516,complete_latency.sum=0.037922681,queue_len=0 1587117698000000000\n> ceph,collection=throttle-objecter_ops,host=stefanosd1,id=0,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=1024,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-0,host=stefanosd1,id=0,type=osd msgr_active_connections=2128,msgr_created_connections=33685,msgr_recv_bytes=8679123051,msgr_recv_messages=4200356,msgr_running_fast_dispatch_time=151.889337454,msgr_running_recv_time=297.632294886,msgr_running_send_time=599.20020523,msgr_running_total_time=1321.361931202,msgr_send_bytes=11716202897,msgr_send_messages=4347418 1587117698000000000\n> ceph,collection=throttle-osd_client_bytes,host=stefanosd1,id=0,type=osd get=476554,get_or_fail_fail=0,get_or_fail_success=476554,get_started=0,get_sum=103413728,max=524288000,put=476587,put_sum=103413728,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-bluestore_throttle_deferred_bytes,host=stefanosd1,id=0,type=osd get=11,get_or_fail_fail=0,get_or_fail_success=11,get_started=0,get_sum=7723117,max=201326592,put=0,put_sum=0,take=0,take_sum=0,val=7723117,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-cluster,host=stefanosd1,id=1,type=osd get=860895,get_or_fail_fail=0,get_or_fail_success=860895,get_started=0,get_sum=596482256,max=104857600,put=860895,put_sum=596482256,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-objecter_ops,host=stefanosd1,id=1,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=1024,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-objecter_bytes,host=stefanosd1,id=1,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=finisher-defered_finisher,host=stefanosd1,id=1,type=osd complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117698000000000\n> ceph,collection=osd,host=stefanosd1,id=1,type=osd agent_evict=0,agent_flush=0,agent_skip=0,agent_wake=0,cached_crc=0,cached_crc_adjusted=0,copyfrom=0,heartbeat_to_peers=7,loadavg=11,map_message_epoch_dups=29,map_message_epochs=50,map_messages=39,messages_delayed_for_map=0,missed_crc=0,numpg=188,numpg_primary=71,numpg_removing=0,numpg_replica=117,numpg_stray=0,object_ctx_cache_hit=1349777,object_ctx_cache_total=2934118,op=1319230,op_before_dequeue_op_lat.avgcount=3792053,op_before_dequeue_op_lat.avgtime=0.000405802,op_before_dequeue_op_lat.sum=1538.826381623,op_before_queue_op_lat.avgcount=3778690,op_before_queue_op_lat.avgtime=0.000033273,op_before_queue_op_lat.sum=125.731131596,op_cache_hit=0,op_in_bytes=0,op_latency.avgcount=1319230,op_latency.avgtime=0.002858138,op_latency.sum=3770.541581676,op_out_bytes=1789210,op_prepare_latency.avgcount=1336472,op_prepare_latency.avgtime=0.000279458,op_prepare_latency.sum=373.488913339,op_process_latency.avgcount=1319230,op_process_latency.avgtime=0.002666408,op_process_latency.sum=3517.606407526,op_r=1075394,op_r_latency.avgcount=1075394,op_r_latency.avgtime=0.000303779,op_r_latency.sum=326.682443032,op_r_out_bytes=1789210,op_r_prepare_latency.avgcount=1075394,op_r_prepare_latency.avgtime=0.000171228,op_r_prepare_latency.sum=184.138580631,op_r_process_latency.avgcount=1075394,op_r_process_latency.avgtime=0.00011609,op_r_process_latency.sum=124.842894319,op_rw=243832,op_rw_in_bytes=0,op_rw_latency.avgcount=243832,op_rw_latency.avgtime=0.014123636,op_rw_latency.sum=3443.79445124,op_rw_out_bytes=0,op_rw_prepare_latency.avgcount=261072,op_rw_prepare_latency.avgtime=0.000725265,op_rw_prepare_latency.sum=189.346543463,op_rw_process_latency.avgcount=243832,op_rw_process_latency.avgtime=0.013914089,op_rw_process_latency.sum=3392.700241086,op_w=4,op_w_in_bytes=0,op_w_latency.avgcount=4,op_w_latency.avgtime=0.016171851,op_w_latency.sum=0.064687404,op_w_prepare_latency.avgcount=6,op_w_prepare_latency.avgtime=0.00063154,op_w_prepare_latency.sum=0.003789245,op_w_process_latency.avgcount=4,op_w_process_latency.avgtime=0.01581803,op_w_process_latency.sum=0.063272121,op_wip=0,osd_map_bl_cache_hit=36,osd_map_bl_cache_miss=40,osd_map_cache_hit=5404,osd_map_cache_miss=14,osd_map_cache_miss_low=0,osd_map_cache_miss_low_avg.avgcount=0,osd_map_cache_miss_low_avg.sum=0,osd_pg_biginfo=2333,osd_pg_fastinfo=576157,osd_pg_info=591751,osd_tier_flush_lat.avgcount=0,osd_tier_flush_lat.avgtime=0,osd_tier_flush_lat.sum=0,osd_tier_promote_lat.avgcount=0,osd_tier_promote_lat.avgtime=0,osd_tier_promote_lat.sum=0,osd_tier_r_lat.avgcount=0,osd_tier_r_lat.avgtime=0,osd_tier_r_lat.sum=0,pull=0,push=22,push_out_bytes=0,recovery_bytes=0,recovery_ops=21,stat_bytes=107369988096,stat_bytes_avail=106271997952,stat_bytes_used=1097990144,subop=306946,subop_in_bytes=204236742,subop_latency.avgcount=306946,subop_latency.avgtime=0.006744881,subop_latency.sum=2070.314452989,subop_pull=0,subop_pull_latency.avgcount=0,subop_pull_latency.avgtime=0,subop_pull_latency.sum=0,subop_push=0,subop_push_in_bytes=0,subop_push_latency.avgcount=0,subop_push_latency.avgtime=0,subop_push_latency.sum=0,subop_w=306946,subop_w_in_bytes=204236742,subop_w_latency.avgcount=306946,subop_w_latency.avgtime=0.006744881,subop_w_latency.sum=2070.314452989,tier_clean=0,tier_delay=0,tier_dirty=8,tier_evict=0,tier_flush=0,tier_flush_fail=0,tier_promote=0,tier_proxy_read=0,tier_proxy_write=0,tier_try_flush=0,tier_try_flush_fail=0,tier_whiteout=0 1587117698000000000\n> ceph,collection=objecter,host=stefanosd1,id=1,type=osd command_active=0,command_resend=0,command_send=0,linger_active=0,linger_ping=0,linger_resend=0,linger_send=0,map_epoch=203,map_full=0,map_inc=19,omap_del=0,omap_rd=0,omap_wr=0,op=0,op_active=0,op_laggy=0,op_pg=0,op_r=0,op_reply=0,op_resend=0,op_rmw=0,op_send=0,op_send_bytes=0,op_w=0,osd_laggy=0,osd_session_close=0,osd_session_open=0,osd_sessions=0,osdop_append=0,osdop_call=0,osdop_clonerange=0,osdop_cmpxattr=0,osdop_create=0,osdop_delete=0,osdop_getxattr=0,osdop_mapext=0,osdop_notify=0,osdop_other=0,osdop_pgls=0,osdop_pgls_filter=0,osdop_read=0,osdop_resetxattrs=0,osdop_rmxattr=0,osdop_setxattr=0,osdop_sparse_read=0,osdop_src_cmpxattr=0,osdop_stat=0,osdop_truncate=0,osdop_watch=0,osdop_write=0,osdop_writefull=0,osdop_writesame=0,osdop_zero=0,poolop_active=0,poolop_resend=0,poolop_send=0,poolstat_active=0,poolstat_resend=0,poolstat_send=0,statfs_active=0,statfs_resend=0,statfs_send=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-0,host=stefanosd1,id=1,type=osd msgr_active_connections=1356,msgr_created_connections=12290,msgr_recv_bytes=8577187219,msgr_recv_messages=6387040,msgr_running_fast_dispatch_time=475.903632306,msgr_running_recv_time=425.937196699,msgr_running_send_time=783.676217521,msgr_running_total_time=1989.242459076,msgr_send_bytes=12583034449,msgr_send_messages=6074344 1587117698000000000\n> ceph,collection=bluestore,host=stefanosd1,id=1,type=osd bluestore_allocated=24182784,bluestore_blob_split=0,bluestore_blobs=88,bluestore_buffer_bytes=614400,bluestore_buffer_hit_bytes=142047,bluestore_buffer_miss_bytes=541480,bluestore_buffers=41,bluestore_compressed=0,bluestore_compressed_allocated=0,bluestore_compressed_original=0,bluestore_extent_compress=0,bluestore_extents=88,bluestore_fragmentation_micros=1,bluestore_gc_merged=0,bluestore_onode_hits=1403948,bluestore_onode_misses=1584732,bluestore_onode_reshard=0,bluestore_onode_shard_hits=0,bluestore_onode_shard_misses=0,bluestore_onodes=459,bluestore_read_eio=0,bluestore_reads_with_retries=0,bluestore_stored=1985647,bluestore_txc=593150,bluestore_write_big=0,bluestore_write_big_blobs=0,bluestore_write_big_bytes=0,bluestore_write_small=58,bluestore_write_small_bytes=343091,bluestore_write_small_deferred=20,bluestore_write_small_new=38,bluestore_write_small_pre_read=20,bluestore_write_small_unused=0,commit_lat.avgcount=593150,commit_lat.avgtime=0.006514834,commit_lat.sum=3864.274280733,compress_lat.avgcount=0,compress_lat.avgtime=0,compress_lat.sum=0,compress_rejected_count=0,compress_success_count=0,csum_lat.avgcount=60,csum_lat.avgtime=0.000028258,csum_lat.sum=0.001695512,decompress_lat.avgcount=0,decompress_lat.avgtime=0,decompress_lat.sum=0,deferred_write_bytes=0,deferred_write_ops=0,kv_commit_lat.avgcount=578129,kv_commit_lat.avgtime=0.00570707,kv_commit_lat.sum=3299.423186928,kv_final_lat.avgcount=578124,kv_final_lat.avgtime=0.000042752,kv_final_lat.sum=24.716171934,kv_flush_lat.avgcount=578129,kv_flush_lat.avgtime=0.000000209,kv_flush_lat.sum=0.121169044,kv_sync_lat.avgcount=578129,kv_sync_lat.avgtime=0.00570728,kv_sync_lat.sum=3299.544355972,omap_lower_bound_lat.avgcount=22,omap_lower_bound_lat.avgtime=0.000005979,omap_lower_bound_lat.sum=0.000131539,omap_next_lat.avgcount=13248,omap_next_lat.avgtime=0.000004836,omap_next_lat.sum=0.064077797,omap_seek_to_first_lat.avgcount=525,omap_seek_to_first_lat.avgtime=0.000004906,omap_seek_to_first_lat.sum=0.002575786,omap_upper_bound_lat.avgcount=0,omap_upper_bound_lat.avgtime=0,omap_upper_bound_lat.sum=0,read_lat.avgcount=406,read_lat.avgtime=0.000383254,read_lat.sum=0.155601529,read_onode_meta_lat.avgcount=483,read_onode_meta_lat.avgtime=0.000008805,read_onode_meta_lat.sum=0.004252832,read_wait_aio_lat.avgcount=77,read_wait_aio_lat.avgtime=0.001907361,read_wait_aio_lat.sum=0.146866799,state_aio_wait_lat.avgcount=593150,state_aio_wait_lat.avgtime=0.000000388,state_aio_wait_lat.sum=0.230498048,state_deferred_aio_wait_lat.avgcount=0,state_deferred_aio_wait_lat.avgtime=0,state_deferred_aio_wait_lat.sum=0,state_deferred_cleanup_lat.avgcount=0,state_deferred_cleanup_lat.avgtime=0,state_deferred_cleanup_lat.sum=0,state_deferred_queued_lat.avgcount=0,state_deferred_queued_lat.avgtime=0,state_deferred_queued_lat.sum=0,state_done_lat.avgcount=593140,state_done_lat.avgtime=0.000003048,state_done_lat.sum=1.80789161,state_finishing_lat.avgcount=593140,state_finishing_lat.avgtime=0.000000325,state_finishing_lat.sum=0.192952339,state_io_done_lat.avgcount=593150,state_io_done_lat.avgtime=0.000001202,state_io_done_lat.sum=0.713333116,state_kv_commiting_lat.avgcount=593150,state_kv_commiting_lat.avgtime=0.005788541,state_kv_commiting_lat.sum=3433.473378536,state_kv_done_lat.avgcount=593150,state_kv_done_lat.avgtime=0.000001472,state_kv_done_lat.sum=0.873559611,state_kv_queued_lat.avgcount=593150,state_kv_queued_lat.avgtime=0.000634215,state_kv_queued_lat.sum=376.18491577,state_prepare_lat.avgcount=593150,state_prepare_lat.avgtime=0.000089694,state_prepare_lat.sum=53.202464675,submit_lat.avgcount=593150,submit_lat.avgtime=0.000127856,submit_lat.sum=75.83816759,throttle_lat.avgcount=593150,throttle_lat.avgtime=0.000001726,throttle_lat.sum=1.023832181,write_pad_bytes=144333,write_penalty_read_ops=0 1587117698000000000\n> ceph,collection=throttle-osd_client_bytes,host=stefanosd1,id=1,type=osd get=2920772,get_or_fail_fail=0,get_or_fail_success=2920772,get_started=0,get_sum=739935873,max=524288000,put=4888498,put_sum=739935873,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_front_client,host=stefanosd1,id=1,type=osd get=2605442,get_or_fail_fail=0,get_or_fail_success=2605442,get_started=0,get_sum=5221305768,max=104857600,put=2605442,put_sum=5221305768,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-2,host=stefanosd1,id=1,type=osd msgr_active_connections=1375,msgr_created_connections=12689,msgr_recv_bytes=6393440855,msgr_recv_messages=3260458,msgr_running_fast_dispatch_time=120.622437418,msgr_running_recv_time=225.24709441,msgr_running_send_time=499.150587343,msgr_running_total_time=1043.340296846,msgr_send_bytes=11134862571,msgr_send_messages=3450760 1587117698000000000\n> ceph,collection=bluefs,host=stefanosd1,id=1,type=osd bytes_written_slow=0,bytes_written_sst=19824993,bytes_written_wal=1788507023,db_total_bytes=4294967296,db_used_bytes=522190848,files_written_sst=4,files_written_wal=2,gift_bytes=0,log_bytes=1056768,log_compactions=2,logged_bytes=1933271040,max_bytes_db=1483735040,max_bytes_slow=0,max_bytes_wal=0,num_files=12,reclaim_bytes=0,slow_total_bytes=0,slow_used_bytes=0,wal_total_bytes=0,wal_used_bytes=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_back_client,host=stefanosd1,id=1,type=osd get=2605442,get_or_fail_fail=0,get_or_fail_success=2605442,get_started=0,get_sum=5221305768,max=104857600,put=2605442,put_sum=5221305768,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-bluestore_throttle_deferred_bytes,host=stefanosd1,id=1,type=osd get=10,get_or_fail_fail=0,get_or_fail_success=10,get_started=0,get_sum=7052009,max=201326592,put=0,put_sum=0,take=0,take_sum=0,val=7052009,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=rocksdb,host=stefanosd1,id=1,type=osd compact=0,compact_queue_len=0,compact_queue_merge=0,compact_range=0,get=1586061,get_latency.avgcount=1586061,get_latency.avgtime=0.000083009,get_latency.sum=131.658296684,rocksdb_write_delay_time.avgcount=0,rocksdb_write_delay_time.avgtime=0,rocksdb_write_delay_time.sum=0,rocksdb_write_memtable_time.avgcount=0,rocksdb_write_memtable_time.avgtime=0,rocksdb_write_memtable_time.sum=0,rocksdb_write_pre_and_post_time.avgcount=0,rocksdb_write_pre_and_post_time.avgtime=0,rocksdb_write_pre_and_post_time.sum=0,rocksdb_write_wal_time.avgcount=0,rocksdb_write_wal_time.avgtime=0,rocksdb_write_wal_time.sum=0,submit_latency.avgcount=593150,submit_latency.avgtime=0.000172072,submit_latency.sum=102.064900673,submit_sync_latency.avgcount=578129,submit_sync_latency.avgtime=0.005447017,submit_sync_latency.sum=3149.078822012,submit_transaction=593150,submit_transaction_sync=578129 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_back_server,host=stefanosd1,id=1,type=osd get=2607669,get_or_fail_fail=0,get_or_fail_success=2607669,get_started=0,get_sum=5225768676,max=104857600,put=2607669,put_sum=5225768676,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=recoverystate_perf,host=stefanosd1,id=1,type=osd activating_latency.avgcount=104,activating_latency.avgtime=0.071646485,activating_latency.sum=7.451234493,active_latency.avgcount=33,active_latency.avgtime=1734.369034268,active_latency.sum=57234.178130859,backfilling_latency.avgcount=1,backfilling_latency.avgtime=2.598401698,backfilling_latency.sum=2.598401698,clean_latency.avgcount=33,clean_latency.avgtime=1734.213467342,clean_latency.sum=57229.044422292,down_latency.avgcount=0,down_latency.avgtime=0,down_latency.sum=0,getinfo_latency.avgcount=167,getinfo_latency.avgtime=0.373444627,getinfo_latency.sum=62.365252849,getlog_latency.avgcount=105,getlog_latency.avgtime=0.003575062,getlog_latency.sum=0.375381569,getmissing_latency.avgcount=104,getmissing_latency.avgtime=0.000157091,getmissing_latency.sum=0.016337565,incomplete_latency.avgcount=0,incomplete_latency.avgtime=0,incomplete_latency.sum=0,initial_latency.avgcount=188,initial_latency.avgtime=0.001833512,initial_latency.sum=0.344700343,notbackfilling_latency.avgcount=0,notbackfilling_latency.avgtime=0,notbackfilling_latency.sum=0,notrecovering_latency.avgcount=0,notrecovering_latency.avgtime=0,notrecovering_latency.sum=0,peering_latency.avgcount=167,peering_latency.avgtime=1.501818082,peering_latency.sum=250.803619796,primary_latency.avgcount=97,primary_latency.avgtime=591.344286378,primary_latency.sum=57360.395778762,recovered_latency.avgcount=104,recovered_latency.avgtime=0.000291138,recovered_latency.sum=0.030278433,recovering_latency.avgcount=2,recovering_latency.avgtime=0.142378096,recovering_latency.sum=0.284756192,replicaactive_latency.avgcount=32,replicaactive_latency.avgtime=1788.474901442,replicaactive_latency.sum=57231.196846165,repnotrecovering_latency.avgcount=34,repnotrecovering_latency.avgtime=1683.273587087,repnotrecovering_latency.sum=57231.301960987,reprecovering_latency.avgcount=2,reprecovering_latency.avgtime=0.418094818,reprecovering_latency.sum=0.836189637,repwaitbackfillreserved_latency.avgcount=0,repwaitbackfillreserved_latency.avgtime=0,repwaitbackfillreserved_latency.sum=0,repwaitrecoveryreserved_latency.avgcount=2,repwaitrecoveryreserved_latency.avgtime=0.000588413,repwaitrecoveryreserved_latency.sum=0.001176827,reset_latency.avgcount=433,reset_latency.avgtime=0.15669689,reset_latency.sum=67.849753631,start_latency.avgcount=433,start_latency.avgtime=0.000412707,start_latency.sum=0.178702508,started_latency.avgcount=245,started_latency.avgtime=468.419544137,started_latency.sum=114762.788313581,stray_latency.avgcount=266,stray_latency.avgtime=1.489291271,stray_latency.sum=396.151478238,waitactingchange_latency.avgcount=1,waitactingchange_latency.avgtime=0.982689906,waitactingchange_latency.sum=0.982689906,waitlocalbackfillreserved_latency.avgcount=1,waitlocalbackfillreserved_latency.avgtime=0.000542092,waitlocalbackfillreserved_latency.sum=0.000542092,waitlocalrecoveryreserved_latency.avgcount=2,waitlocalrecoveryreserved_latency.avgtime=0.00391669,waitlocalrecoveryreserved_latency.sum=0.007833381,waitremotebackfillreserved_latency.avgcount=1,waitremotebackfillreserved_latency.avgtime=0.003110409,waitremotebackfillreserved_latency.sum=0.003110409,waitremoterecoveryreserved_latency.avgcount=2,waitremoterecoveryreserved_latency.avgtime=0.012229338,waitremoterecoveryreserved_latency.sum=0.024458677,waitupthru_latency.avgcount=104,waitupthru_latency.avgtime=1.807608905,waitupthru_latency.sum=187.991326197 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-1,host=stefanosd1,id=1,type=osd msgr_active_connections=1289,msgr_created_connections=9469,msgr_recv_bytes=8348149800,msgr_recv_messages=5048791,msgr_running_fast_dispatch_time=313.754567889,msgr_running_recv_time=372.054833029,msgr_running_send_time=694.900405016,msgr_running_total_time=1656.294769387,msgr_send_bytes=11550148208,msgr_send_messages=5175962 1587117698000000000\n> ceph,collection=throttle-bluestore_throttle_bytes,host=stefanosd1,id=1,type=osd get=593150,get_or_fail_fail=0,get_or_fail_success=0,get_started=593150,get_sum=398147414260,max=67108864,put=578129,put_sum=398147414260,take=0,take_sum=0,val=0,wait.avgcount=29,wait.avgtime=0.000972655,wait.sum=0.028207005 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-ms_objecter,host=stefanosd1,id=1,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=cct,host=stefanosd1,id=1,type=osd total_workers=6,unhealthy_workers=0 1587117698000000000\n> ceph,collection=mempool,host=stefanosd1,id=1,type=osd bloom_filter_bytes=0,bloom_filter_items=0,bluefs_bytes=13064,bluefs_items=593,bluestore_alloc_bytes=230288,bluestore_alloc_items=28786,bluestore_cache_data_bytes=614400,bluestore_cache_data_items=41,bluestore_cache_onode_bytes=301104,bluestore_cache_onode_items=459,bluestore_cache_other_bytes=230945,bluestore_cache_other_items=26119,bluestore_fsck_bytes=0,bluestore_fsck_items=0,bluestore_txc_bytes=7520,bluestore_txc_items=10,bluestore_writing_bytes=0,bluestore_writing_deferred_bytes=657768,bluestore_writing_deferred_items=172,bluestore_writing_items=0,buffer_anon_bytes=2328515,buffer_anon_items=271,buffer_meta_bytes=5808,buffer_meta_items=66,mds_co_bytes=0,mds_co_items=0,osd_bytes=2406400,osd_items=188,osd_mapbl_bytes=139623,osd_mapbl_items=9,osd_pglog_bytes=6768784,osd_pglog_items=18179,osdmap_bytes=710892,osdmap_items=4426,osdmap_mapping_bytes=0,osdmap_mapping_items=0,pgmap_bytes=0,pgmap_items=0,unittest_1_bytes=0,unittest_1_items=0,unittest_2_bytes=0,unittest_2_items=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-client,host=stefanosd1,id=1,type=osd get=2932513,get_or_fail_fail=0,get_or_fail_success=2932513,get_started=0,get_sum=740620215,max=104857600,put=2932513,put_sum=740620215,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_front_server,host=stefanosd1,id=1,type=osd get=2607669,get_or_fail_fail=0,get_or_fail_success=2607669,get_started=0,get_sum=5225768676,max=104857600,put=2607669,put_sum=5225768676,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=finisher-commit_finisher,host=stefanosd1,id=1,type=osd complete_latency.avgcount=10,complete_latency.avgtime=0.002884646,complete_latency.sum=0.028846469,queue_len=0 1587117698000000000\n> ceph,collection=finisher-objecter-finisher-0,host=stefanosd1,id=1,type=osd complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117698000000000\n> ceph,collection=throttle-objecter_bytes,host=stefanosd1,id=2,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=finisher-commit_finisher,host=stefanosd1,id=2,type=osd complete_latency.avgcount=11,complete_latency.avgtime=0.002714416,complete_latency.sum=0.029858583,queue_len=0 1587117698000000000\n> ceph,collection=finisher-defered_finisher,host=stefanosd1,id=2,type=osd complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117698000000000\n> ceph,collection=objecter,host=stefanosd1,id=2,type=osd command_active=0,command_resend=0,command_send=0,linger_active=0,linger_ping=0,linger_resend=0,linger_send=0,map_epoch=203,map_full=0,map_inc=19,omap_del=0,omap_rd=0,omap_wr=0,op=0,op_active=0,op_laggy=0,op_pg=0,op_r=0,op_reply=0,op_resend=0,op_rmw=0,op_send=0,op_send_bytes=0,op_w=0,osd_laggy=0,osd_session_close=0,osd_session_open=0,osd_sessions=0,osdop_append=0,osdop_call=0,osdop_clonerange=0,osdop_cmpxattr=0,osdop_create=0,osdop_delete=0,osdop_getxattr=0,osdop_mapext=0,osdop_notify=0,osdop_other=0,osdop_pgls=0,osdop_pgls_filter=0,osdop_read=0,osdop_resetxattrs=0,osdop_rmxattr=0,osdop_setxattr=0,osdop_sparse_read=0,osdop_src_cmpxattr=0,osdop_stat=0,osdop_truncate=0,osdop_watch=0,osdop_write=0,osdop_writefull=0,osdop_writesame=0,osdop_zero=0,poolop_active=0,poolop_resend=0,poolop_send=0,poolstat_active=0,poolstat_resend=0,poolstat_send=0,statfs_active=0,statfs_resend=0,statfs_send=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_back_client,host=stefanosd1,id=2,type=osd get=2607136,get_or_fail_fail=0,get_or_fail_success=2607136,get_started=0,get_sum=5224700544,max=104857600,put=2607136,put_sum=5224700544,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=mempool,host=stefanosd1,id=2,type=osd bloom_filter_bytes=0,bloom_filter_items=0,bluefs_bytes=11624,bluefs_items=522,bluestore_alloc_bytes=230288,bluestore_alloc_items=28786,bluestore_cache_data_bytes=614400,bluestore_cache_data_items=41,bluestore_cache_onode_bytes=228288,bluestore_cache_onode_items=348,bluestore_cache_other_bytes=174158,bluestore_cache_other_items=18527,bluestore_fsck_bytes=0,bluestore_fsck_items=0,bluestore_txc_bytes=8272,bluestore_txc_items=11,bluestore_writing_bytes=0,bluestore_writing_deferred_bytes=670130,bluestore_writing_deferred_items=176,bluestore_writing_items=0,buffer_anon_bytes=2311664,buffer_anon_items=244,buffer_meta_bytes=5456,buffer_meta_items=62,mds_co_bytes=0,mds_co_items=0,osd_bytes=1920000,osd_items=150,osd_mapbl_bytes=155152,osd_mapbl_items=10,osd_pglog_bytes=3393520,osd_pglog_items=9128,osdmap_bytes=710892,osdmap_items=4426,osdmap_mapping_bytes=0,osdmap_mapping_items=0,pgmap_bytes=0,pgmap_items=0,unittest_1_bytes=0,unittest_1_items=0,unittest_2_bytes=0,unittest_2_items=0 1587117698000000000\n> ceph,collection=osd,host=stefanosd1,id=2,type=osd agent_evict=0,agent_flush=0,agent_skip=0,agent_wake=0,cached_crc=0,cached_crc_adjusted=0,copyfrom=0,heartbeat_to_peers=7,loadavg=11,map_message_epoch_dups=37,map_message_epochs=56,map_messages=37,messages_delayed_for_map=0,missed_crc=0,numpg=150,numpg_primary=59,numpg_removing=0,numpg_replica=91,numpg_stray=0,object_ctx_cache_hit=705923,object_ctx_cache_total=705951,op=690584,op_before_dequeue_op_lat.avgcount=1155697,op_before_dequeue_op_lat.avgtime=0.000217926,op_before_dequeue_op_lat.sum=251.856487141,op_before_queue_op_lat.avgcount=1148445,op_before_queue_op_lat.avgtime=0.000039696,op_before_queue_op_lat.sum=45.589516462,op_cache_hit=0,op_in_bytes=0,op_latency.avgcount=690584,op_latency.avgtime=0.002488685,op_latency.sum=1718.646504654,op_out_bytes=1026000,op_prepare_latency.avgcount=698700,op_prepare_latency.avgtime=0.000300375,op_prepare_latency.sum=209.872029659,op_process_latency.avgcount=690584,op_process_latency.avgtime=0.00230742,op_process_latency.sum=1593.46739165,op_r=548020,op_r_latency.avgcount=548020,op_r_latency.avgtime=0.000298287,op_r_latency.sum=163.467760649,op_r_out_bytes=1026000,op_r_prepare_latency.avgcount=548020,op_r_prepare_latency.avgtime=0.000186359,op_r_prepare_latency.sum=102.128629183,op_r_process_latency.avgcount=548020,op_r_process_latency.avgtime=0.00012716,op_r_process_latency.sum=69.686468884,op_rw=142562,op_rw_in_bytes=0,op_rw_latency.avgcount=142562,op_rw_latency.avgtime=0.010908597,op_rw_latency.sum=1555.151525732,op_rw_out_bytes=0,op_rw_prepare_latency.avgcount=150678,op_rw_prepare_latency.avgtime=0.000715043,op_rw_prepare_latency.sum=107.741399304,op_rw_process_latency.avgcount=142562,op_rw_process_latency.avgtime=0.01068836,op_rw_process_latency.sum=1523.754107887,op_w=2,op_w_in_bytes=0,op_w_latency.avgcount=2,op_w_latency.avgtime=0.013609136,op_w_latency.sum=0.027218273,op_w_prepare_latency.avgcount=2,op_w_prepare_latency.avgtime=0.001000586,op_w_prepare_latency.sum=0.002001172,op_w_process_latency.avgcount=2,op_w_process_latency.avgtime=0.013407439,op_w_process_latency.sum=0.026814879,op_wip=0,osd_map_bl_cache_hit=15,osd_map_bl_cache_miss=41,osd_map_cache_hit=4241,osd_map_cache_miss=14,osd_map_cache_miss_low=0,osd_map_cache_miss_low_avg.avgcount=0,osd_map_cache_miss_low_avg.sum=0,osd_pg_biginfo=1824,osd_pg_fastinfo=285998,osd_pg_info=294869,osd_tier_flush_lat.avgcount=0,osd_tier_flush_lat.avgtime=0,osd_tier_flush_lat.sum=0,osd_tier_promote_lat.avgcount=0,osd_tier_promote_lat.avgtime=0,osd_tier_promote_lat.sum=0,osd_tier_r_lat.avgcount=0,osd_tier_r_lat.avgtime=0,osd_tier_r_lat.sum=0,pull=0,push=1,push_out_bytes=0,recovery_bytes=0,recovery_ops=0,stat_bytes=107369988096,stat_bytes_avail=106271932416,stat_bytes_used=1098055680,subop=134165,subop_in_bytes=89501237,subop_latency.avgcount=134165,subop_latency.avgtime=0.007313523,subop_latency.sum=981.218888627,subop_pull=0,subop_pull_latency.avgcount=0,subop_pull_latency.avgtime=0,subop_pull_latency.sum=0,subop_push=0,subop_push_in_bytes=0,subop_push_latency.avgcount=0,subop_push_latency.avgtime=0,subop_push_latency.sum=0,subop_w=134165,subop_w_in_bytes=89501237,subop_w_latency.avgcount=134165,subop_w_latency.avgtime=0.007313523,subop_w_latency.sum=981.218888627,tier_clean=0,tier_delay=0,tier_dirty=4,tier_evict=0,tier_flush=0,tier_flush_fail=0,tier_promote=0,tier_proxy_read=0,tier_proxy_write=0,tier_try_flush=0,tier_try_flush_fail=0,tier_whiteout=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-1,host=stefanosd1,id=2,type=osd msgr_active_connections=746,msgr_created_connections=15212,msgr_recv_bytes=8633229006,msgr_recv_messages=4284202,msgr_running_fast_dispatch_time=153.820479102,msgr_running_recv_time=282.031655658,msgr_running_send_time=585.444749736,msgr_running_total_time=1231.431789242,msgr_send_bytes=11962769351,msgr_send_messages=4440622 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-ms_objecter,host=stefanosd1,id=2,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_front_client,host=stefanosd1,id=2,type=osd get=2607136,get_or_fail_fail=0,get_or_fail_success=2607136,get_started=0,get_sum=5224700544,max=104857600,put=2607136,put_sum=5224700544,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=bluefs,host=stefanosd1,id=2,type=osd bytes_written_slow=0,bytes_written_sst=9065815,bytes_written_wal=901884611,db_total_bytes=4294967296,db_used_bytes=546308096,files_written_sst=3,files_written_wal=2,gift_bytes=0,log_bytes=225726464,log_compactions=1,logged_bytes=1195945984,max_bytes_db=1234173952,max_bytes_slow=0,max_bytes_wal=0,num_files=11,reclaim_bytes=0,slow_total_bytes=0,slow_used_bytes=0,wal_total_bytes=0,wal_used_bytes=0 1587117698000000000\n> ceph,collection=recoverystate_perf,host=stefanosd1,id=2,type=osd activating_latency.avgcount=88,activating_latency.avgtime=0.086149065,activating_latency.sum=7.581117751,active_latency.avgcount=29,active_latency.avgtime=1790.849396082,active_latency.sum=51934.632486379,backfilling_latency.avgcount=0,backfilling_latency.avgtime=0,backfilling_latency.sum=0,clean_latency.avgcount=29,clean_latency.avgtime=1790.754765195,clean_latency.sum=51931.888190683,down_latency.avgcount=0,down_latency.avgtime=0,down_latency.sum=0,getinfo_latency.avgcount=134,getinfo_latency.avgtime=0.427567953,getinfo_latency.sum=57.294105786,getlog_latency.avgcount=88,getlog_latency.avgtime=0.011810192,getlog_latency.sum=1.03929697,getmissing_latency.avgcount=88,getmissing_latency.avgtime=0.000104598,getmissing_latency.sum=0.009204673,incomplete_latency.avgcount=0,incomplete_latency.avgtime=0,incomplete_latency.sum=0,initial_latency.avgcount=150,initial_latency.avgtime=0.001251361,initial_latency.sum=0.187704197,notbackfilling_latency.avgcount=0,notbackfilling_latency.avgtime=0,notbackfilling_latency.sum=0,notrecovering_latency.avgcount=0,notrecovering_latency.avgtime=0,notrecovering_latency.sum=0,peering_latency.avgcount=134,peering_latency.avgtime=0.998405763,peering_latency.sum=133.786372331,primary_latency.avgcount=75,primary_latency.avgtime=693.473306562,primary_latency.sum=52010.497992212,recovered_latency.avgcount=88,recovered_latency.avgtime=0.000609715,recovered_latency.sum=0.053654964,recovering_latency.avgcount=1,recovering_latency.avgtime=0.100713031,recovering_latency.sum=0.100713031,replicaactive_latency.avgcount=21,replicaactive_latency.avgtime=1790.852354921,replicaactive_latency.sum=37607.89945336,repnotrecovering_latency.avgcount=21,repnotrecovering_latency.avgtime=1790.852315529,repnotrecovering_latency.sum=37607.898626121,reprecovering_latency.avgcount=0,reprecovering_latency.avgtime=0,reprecovering_latency.sum=0,repwaitbackfillreserved_latency.avgcount=0,repwaitbackfillreserved_latency.avgtime=0,repwaitbackfillreserved_latency.sum=0,repwaitrecoveryreserved_latency.avgcount=0,repwaitrecoveryreserved_latency.avgtime=0,repwaitrecoveryreserved_latency.sum=0,reset_latency.avgcount=346,reset_latency.avgtime=0.126826803,reset_latency.sum=43.882073917,start_latency.avgcount=346,start_latency.avgtime=0.000233277,start_latency.sum=0.080713962,started_latency.avgcount=196,started_latency.avgtime=457.885378797,started_latency.sum=89745.534244237,stray_latency.avgcount=212,stray_latency.avgtime=1.013774396,stray_latency.sum=214.920172121,waitactingchange_latency.avgcount=0,waitactingchange_latency.avgtime=0,waitactingchange_latency.sum=0,waitlocalbackfillreserved_latency.avgcount=0,waitlocalbackfillreserved_latency.avgtime=0,waitlocalbackfillreserved_latency.sum=0,waitlocalrecoveryreserved_latency.avgcount=1,waitlocalrecoveryreserved_latency.avgtime=0.001572379,waitlocalrecoveryreserved_latency.sum=0.001572379,waitremotebackfillreserved_latency.avgcount=0,waitremotebackfillreserved_latency.avgtime=0,waitremotebackfillreserved_latency.sum=0,waitremoterecoveryreserved_latency.avgcount=1,waitremoterecoveryreserved_latency.avgtime=0.012729633,waitremoterecoveryreserved_latency.sum=0.012729633,waitupthru_latency.avgcount=88,waitupthru_latency.avgtime=0.857137729,waitupthru_latency.sum=75.428120205 1587117698000000000\n> ceph,collection=throttle-objecter_ops,host=stefanosd1,id=2,type=osd get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=1024,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=bluestore,host=stefanosd1,id=2,type=osd bluestore_allocated=24248320,bluestore_blob_split=0,bluestore_blobs=83,bluestore_buffer_bytes=614400,bluestore_buffer_hit_bytes=161362,bluestore_buffer_miss_bytes=534799,bluestore_buffers=41,bluestore_compressed=0,bluestore_compressed_allocated=0,bluestore_compressed_original=0,bluestore_extent_compress=0,bluestore_extents=83,bluestore_fragmentation_micros=1,bluestore_gc_merged=0,bluestore_onode_hits=723852,bluestore_onode_misses=364,bluestore_onode_reshard=0,bluestore_onode_shard_hits=0,bluestore_onode_shard_misses=0,bluestore_onodes=348,bluestore_read_eio=0,bluestore_reads_with_retries=0,bluestore_stored=1984402,bluestore_txc=295997,bluestore_write_big=0,bluestore_write_big_blobs=0,bluestore_write_big_bytes=0,bluestore_write_small=60,bluestore_write_small_bytes=343843,bluestore_write_small_deferred=22,bluestore_write_small_new=38,bluestore_write_small_pre_read=22,bluestore_write_small_unused=0,commit_lat.avgcount=295997,commit_lat.avgtime=0.006994931,commit_lat.sum=2070.478673619,compress_lat.avgcount=0,compress_lat.avgtime=0,compress_lat.sum=0,compress_rejected_count=0,compress_success_count=0,csum_lat.avgcount=47,csum_lat.avgtime=0.000034434,csum_lat.sum=0.001618423,decompress_lat.avgcount=0,decompress_lat.avgtime=0,decompress_lat.sum=0,deferred_write_bytes=0,deferred_write_ops=0,kv_commit_lat.avgcount=291889,kv_commit_lat.avgtime=0.006347015,kv_commit_lat.sum=1852.624108527,kv_final_lat.avgcount=291885,kv_final_lat.avgtime=0.00004358,kv_final_lat.sum=12.720529751,kv_flush_lat.avgcount=291889,kv_flush_lat.avgtime=0.000000211,kv_flush_lat.sum=0.061636079,kv_sync_lat.avgcount=291889,kv_sync_lat.avgtime=0.006347227,kv_sync_lat.sum=1852.685744606,omap_lower_bound_lat.avgcount=1,omap_lower_bound_lat.avgtime=0.000004482,omap_lower_bound_lat.sum=0.000004482,omap_next_lat.avgcount=6933,omap_next_lat.avgtime=0.000003956,omap_next_lat.sum=0.027427456,omap_seek_to_first_lat.avgcount=309,omap_seek_to_first_lat.avgtime=0.000005879,omap_seek_to_first_lat.sum=0.001816658,omap_upper_bound_lat.avgcount=0,omap_upper_bound_lat.avgtime=0,omap_upper_bound_lat.sum=0,read_lat.avgcount=229,read_lat.avgtime=0.000394981,read_lat.sum=0.090450704,read_onode_meta_lat.avgcount=295,read_onode_meta_lat.avgtime=0.000016832,read_onode_meta_lat.sum=0.004965516,read_wait_aio_lat.avgcount=66,read_wait_aio_lat.avgtime=0.001237841,read_wait_aio_lat.sum=0.081697561,state_aio_wait_lat.avgcount=295997,state_aio_wait_lat.avgtime=0.000000357,state_aio_wait_lat.sum=0.105827433,state_deferred_aio_wait_lat.avgcount=0,state_deferred_aio_wait_lat.avgtime=0,state_deferred_aio_wait_lat.sum=0,state_deferred_cleanup_lat.avgcount=0,state_deferred_cleanup_lat.avgtime=0,state_deferred_cleanup_lat.sum=0,state_deferred_queued_lat.avgcount=0,state_deferred_queued_lat.avgtime=0,state_deferred_queued_lat.sum=0,state_done_lat.avgcount=295986,state_done_lat.avgtime=0.000003017,state_done_lat.sum=0.893199127,state_finishing_lat.avgcount=295986,state_finishing_lat.avgtime=0.000000306,state_finishing_lat.sum=0.090792683,state_io_done_lat.avgcount=295997,state_io_done_lat.avgtime=0.000001066,state_io_done_lat.sum=0.315577655,state_kv_commiting_lat.avgcount=295997,state_kv_commiting_lat.avgtime=0.006423586,state_kv_commiting_lat.sum=1901.362268572,state_kv_done_lat.avgcount=295997,state_kv_done_lat.avgtime=0.00000155,state_kv_done_lat.sum=0.458963064,state_kv_queued_lat.avgcount=295997,state_kv_queued_lat.avgtime=0.000477234,state_kv_queued_lat.sum=141.260101773,state_prepare_lat.avgcount=295997,state_prepare_lat.avgtime=0.000091806,state_prepare_lat.sum=27.174436583,submit_lat.avgcount=295997,submit_lat.avgtime=0.000135729,submit_lat.sum=40.17557682,throttle_lat.avgcount=295997,throttle_lat.avgtime=0.000002734,throttle_lat.sum=0.809479837,write_pad_bytes=151773,write_penalty_read_ops=0 1587117698000000000\n> ceph,collection=throttle-bluestore_throttle_bytes,host=stefanosd1,id=2,type=osd get=295997,get_or_fail_fail=0,get_or_fail_success=0,get_started=295997,get_sum=198686579299,max=67108864,put=291889,put_sum=198686579299,take=0,take_sum=0,val=0,wait.avgcount=83,wait.avgtime=0.003670612,wait.sum=0.304660858 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-cluster,host=stefanosd1,id=2,type=osd get=452060,get_or_fail_fail=0,get_or_fail_success=452060,get_started=0,get_sum=269934345,max=104857600,put=452060,put_sum=269934345,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-bluestore_throttle_deferred_bytes,host=stefanosd1,id=2,type=osd get=11,get_or_fail_fail=0,get_or_fail_success=11,get_started=0,get_sum=7723117,max=201326592,put=0,put_sum=0,take=0,take_sum=0,val=7723117,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_front_server,host=stefanosd1,id=2,type=osd get=2607433,get_or_fail_fail=0,get_or_fail_success=2607433,get_started=0,get_sum=5225295732,max=104857600,put=2607433,put_sum=5225295732,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=finisher-objecter-finisher-0,host=stefanosd1,id=2,type=osd complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117698000000000\n> ceph,collection=cct,host=stefanosd1,id=2,type=osd total_workers=6,unhealthy_workers=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-2,host=stefanosd1,id=2,type=osd msgr_active_connections=670,msgr_created_connections=13455,msgr_recv_bytes=6334605563,msgr_recv_messages=3287843,msgr_running_fast_dispatch_time=137.016615819,msgr_running_recv_time=240.687997039,msgr_running_send_time=471.710658466,msgr_running_total_time=1034.029109337,msgr_send_bytes=9753423475,msgr_send_messages=3439611 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-client,host=stefanosd1,id=2,type=osd get=710355,get_or_fail_fail=0,get_or_fail_success=710355,get_started=0,get_sum=166306283,max=104857600,put=710355,put_sum=166306283,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-hb_back_server,host=stefanosd1,id=2,type=osd get=2607433,get_or_fail_fail=0,get_or_fail_success=2607433,get_started=0,get_sum=5225295732,max=104857600,put=2607433,put_sum=5225295732,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=AsyncMessenger::Worker-0,host=stefanosd1,id=2,type=osd msgr_active_connections=705,msgr_created_connections=17953,msgr_recv_bytes=7261438733,msgr_recv_messages=4496034,msgr_running_fast_dispatch_time=254.716476808,msgr_running_recv_time=272.196741555,msgr_running_send_time=571.102924903,msgr_running_total_time=1338.461077493,msgr_send_bytes=10772250508,msgr_send_messages=4192781 1587117698000000000\n> ceph,collection=rocksdb,host=stefanosd1,id=2,type=osd compact=0,compact_queue_len=0,compact_queue_merge=0,compact_range=0,get=1424,get_latency.avgcount=1424,get_latency.avgtime=0.000030752,get_latency.sum=0.043792142,rocksdb_write_delay_time.avgcount=0,rocksdb_write_delay_time.avgtime=0,rocksdb_write_delay_time.sum=0,rocksdb_write_memtable_time.avgcount=0,rocksdb_write_memtable_time.avgtime=0,rocksdb_write_memtable_time.sum=0,rocksdb_write_pre_and_post_time.avgcount=0,rocksdb_write_pre_and_post_time.avgtime=0,rocksdb_write_pre_and_post_time.sum=0,rocksdb_write_wal_time.avgcount=0,rocksdb_write_wal_time.avgtime=0,rocksdb_write_wal_time.sum=0,submit_latency.avgcount=295997,submit_latency.avgtime=0.000173137,submit_latency.sum=51.248072285,submit_sync_latency.avgcount=291889,submit_sync_latency.avgtime=0.006094397,submit_sync_latency.sum=1778.887521449,submit_transaction=295997,submit_transaction_sync=291889 1587117698000000000\n> ceph,collection=throttle-osd_client_bytes,host=stefanosd1,id=2,type=osd get=698701,get_or_fail_fail=0,get_or_fail_success=698701,get_started=0,get_sum=165630172,max=524288000,put=920880,put_sum=165630172,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117698000000000\n> ceph,collection=mds_sessions,host=stefanmds1,id=stefanmds1,type=mds average_load=0,avg_session_uptime=0,session_add=0,session_count=0,session_remove=0,sessions_open=0,sessions_stale=0,total_load=0 1587117476000000000\n> ceph,collection=mempool,host=stefanmds1,id=stefanmds1,type=mds bloom_filter_bytes=0,bloom_filter_items=0,bluefs_bytes=0,bluefs_items=0,bluestore_alloc_bytes=0,bluestore_alloc_items=0,bluestore_cache_data_bytes=0,bluestore_cache_data_items=0,bluestore_cache_onode_bytes=0,bluestore_cache_onode_items=0,bluestore_cache_other_bytes=0,bluestore_cache_other_items=0,bluestore_fsck_bytes=0,bluestore_fsck_items=0,bluestore_txc_bytes=0,bluestore_txc_items=0,bluestore_writing_bytes=0,bluestore_writing_deferred_bytes=0,bluestore_writing_deferred_items=0,bluestore_writing_items=0,buffer_anon_bytes=132069,buffer_anon_items=82,buffer_meta_bytes=0,buffer_meta_items=0,mds_co_bytes=44208,mds_co_items=154,osd_bytes=0,osd_items=0,osd_mapbl_bytes=0,osd_mapbl_items=0,osd_pglog_bytes=0,osd_pglog_items=0,osdmap_bytes=16952,osdmap_items=139,osdmap_mapping_bytes=0,osdmap_mapping_items=0,pgmap_bytes=0,pgmap_items=0,unittest_1_bytes=0,unittest_1_items=0,unittest_2_bytes=0,unittest_2_items=0 1587117476000000000\n> ceph,collection=objecter,host=stefanmds1,id=stefanmds1,type=mds command_active=0,command_resend=0,command_send=0,linger_active=0,linger_ping=0,linger_resend=0,linger_send=0,map_epoch=203,map_full=0,map_inc=1,omap_del=0,omap_rd=28,omap_wr=1,op=33,op_active=0,op_laggy=0,op_pg=0,op_r=26,op_reply=33,op_resend=2,op_rmw=0,op_send=35,op_send_bytes=364,op_w=7,osd_laggy=0,osd_session_close=91462,osd_session_open=91468,osd_sessions=6,osdop_append=0,osdop_call=0,osdop_clonerange=0,osdop_cmpxattr=0,osdop_create=0,osdop_delete=5,osdop_getxattr=14,osdop_mapext=0,osdop_notify=0,osdop_other=0,osdop_pgls=0,osdop_pgls_filter=0,osdop_read=8,osdop_resetxattrs=0,osdop_rmxattr=0,osdop_setxattr=0,osdop_sparse_read=0,osdop_src_cmpxattr=0,osdop_stat=2,osdop_truncate=0,osdop_watch=0,osdop_write=0,osdop_writefull=0,osdop_writesame=0,osdop_zero=1,poolop_active=0,poolop_resend=0,poolop_send=0,poolstat_active=0,poolstat_resend=0,poolstat_send=0,statfs_active=0,statfs_resend=0,statfs_send=0 1587117476000000000\n> ceph,collection=cct,host=stefanmds1,id=stefanmds1,type=mds total_workers=1,unhealthy_workers=0 1587117476000000000\n> ceph,collection=mds_server,host=stefanmds1,id=stefanmds1,type=mds cap_revoke_eviction=0,dispatch_client_request=0,dispatch_server_request=0,handle_client_request=0,handle_client_session=0,handle_slave_request=0,req_create_latency.avgcount=0,req_create_latency.avgtime=0,req_create_latency.sum=0,req_getattr_latency.avgcount=0,req_getattr_latency.avgtime=0,req_getattr_latency.sum=0,req_getfilelock_latency.avgcount=0,req_getfilelock_latency.avgtime=0,req_getfilelock_latency.sum=0,req_link_latency.avgcount=0,req_link_latency.avgtime=0,req_link_latency.sum=0,req_lookup_latency.avgcount=0,req_lookup_latency.avgtime=0,req_lookup_latency.sum=0,req_lookuphash_latency.avgcount=0,req_lookuphash_latency.avgtime=0,req_lookuphash_latency.sum=0,req_lookupino_latency.avgcount=0,req_lookupino_latency.avgtime=0,req_lookupino_latency.sum=0,req_lookupname_latency.avgcount=0,req_lookupname_latency.avgtime=0,req_lookupname_latency.sum=0,req_lookupparent_latency.avgcount=0,req_lookupparent_latency.avgtime=0,req_lookupparent_latency.sum=0,req_lookupsnap_latency.avgcount=0,req_lookupsnap_latency.avgtime=0,req_lookupsnap_latency.sum=0,req_lssnap_latency.avgcount=0,req_lssnap_latency.avgtime=0,req_lssnap_latency.sum=0,req_mkdir_latency.avgcount=0,req_mkdir_latency.avgtime=0,req_mkdir_latency.sum=0,req_mknod_latency.avgcount=0,req_mknod_latency.avgtime=0,req_mknod_latency.sum=0,req_mksnap_latency.avgcount=0,req_mksnap_latency.avgtime=0,req_mksnap_latency.sum=0,req_open_latency.avgcount=0,req_open_latency.avgtime=0,req_open_latency.sum=0,req_readdir_latency.avgcount=0,req_readdir_latency.avgtime=0,req_readdir_latency.sum=0,req_rename_latency.avgcount=0,req_rename_latency.avgtime=0,req_rename_latency.sum=0,req_renamesnap_latency.avgcount=0,req_renamesnap_latency.avgtime=0,req_renamesnap_latency.sum=0,req_rmdir_latency.avgcount=0,req_rmdir_latency.avgtime=0,req_rmdir_latency.sum=0,req_rmsnap_latency.avgcount=0,req_rmsnap_latency.avgtime=0,req_rmsnap_latency.sum=0,req_rmxattr_latency.avgcount=0,req_rmxattr_latency.avgtime=0,req_rmxattr_latency.sum=0,req_setattr_latency.avgcount=0,req_setattr_latency.avgtime=0,req_setattr_latency.sum=0,req_setdirlayout_latency.avgcount=0,req_setdirlayout_latency.avgtime=0,req_setdirlayout_latency.sum=0,req_setfilelock_latency.avgcount=0,req_setfilelock_latency.avgtime=0,req_setfilelock_latency.sum=0,req_setlayout_latency.avgcount=0,req_setlayout_latency.avgtime=0,req_setlayout_latency.sum=0,req_setxattr_latency.avgcount=0,req_setxattr_latency.avgtime=0,req_setxattr_latency.sum=0,req_symlink_latency.avgcount=0,req_symlink_latency.avgtime=0,req_symlink_latency.sum=0,req_unlink_latency.avgcount=0,req_unlink_latency.avgtime=0,req_unlink_latency.sum=0 1587117476000000000\n> ceph,collection=AsyncMessenger::Worker-2,host=stefanmds1,id=stefanmds1,type=mds msgr_active_connections=84,msgr_created_connections=68511,msgr_recv_bytes=238078,msgr_recv_messages=2655,msgr_running_fast_dispatch_time=0.004247777,msgr_running_recv_time=25.369012545,msgr_running_send_time=3.743427461,msgr_running_total_time=130.277111559,msgr_send_bytes=172767043,msgr_send_messages=18172 1587117476000000000\n> ceph,collection=mds_log,host=stefanmds1,id=stefanmds1,type=mds ev=0,evadd=0,evex=0,evexd=0,evexg=0,evtrm=0,expos=4194304,jlat.avgcount=0,jlat.avgtime=0,jlat.sum=0,rdpos=4194304,replayed=1,seg=1,segadd=0,segex=0,segexd=0,segexg=0,segtrm=0,wrpos=0 1587117476000000000\n> ceph,collection=AsyncMessenger::Worker-0,host=stefanmds1,id=stefanmds1,type=mds msgr_active_connections=595,msgr_created_connections=943825,msgr_recv_bytes=78618003,msgr_recv_messages=914080,msgr_running_fast_dispatch_time=0.001544386,msgr_running_recv_time=459.627068807,msgr_running_send_time=469.337032316,msgr_running_total_time=2744.084305898,msgr_send_bytes=61684163658,msgr_send_messages=1858008 1587117476000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-mds,host=stefanmds1,id=stefanmds1,type=mds get=1216458,get_or_fail_fail=0,get_or_fail_success=1216458,get_started=0,get_sum=51976882,max=104857600,put=1216458,put_sum=51976882,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117476000000000\n> ceph,collection=AsyncMessenger::Worker-1,host=stefanmds1,id=stefanmds1,type=mds msgr_active_connections=226,msgr_created_connections=42679,msgr_recv_bytes=63140151,msgr_recv_messages=299727,msgr_running_fast_dispatch_time=26.316138629,msgr_running_recv_time=36.969916165,msgr_running_send_time=70.457421128,msgr_running_total_time=226.230019936,msgr_send_bytes=193154464,msgr_send_messages=310481 1587117476000000000\n> ceph,collection=mds,host=stefanmds1,id=stefanmds1,type=mds caps=0,dir_commit=0,dir_fetch=12,dir_merge=0,dir_split=0,exported=0,exported_inodes=0,forward=0,imported=0,imported_inodes=0,inode_max=2147483647,inodes=10,inodes_bottom=3,inodes_expired=0,inodes_pin_tail=0,inodes_pinned=10,inodes_top=7,inodes_with_caps=0,load_cent=0,openino_backtrace_fetch=0,openino_dir_fetch=0,openino_peer_discover=0,q=0,reply=0,reply_latency.avgcount=0,reply_latency.avgtime=0,reply_latency.sum=0,request=0,subtrees=2,traverse=0,traverse_dir_fetch=0,traverse_discover=0,traverse_forward=0,traverse_hit=0,traverse_lock=0,traverse_remote_ino=0 1587117476000000000\n> ceph,collection=purge_queue,host=stefanmds1,id=stefanmds1,type=mds pq_executed=0,pq_executing=0,pq_executing_ops=0 1587117476000000000\n> ceph,collection=throttle-write_buf_throttle,host=stefanmds1,id=stefanmds1,type=mds get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=3758096384,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117476000000000\n> ceph,collection=throttle-write_buf_throttle-0x5624e9377f40,host=stefanmds1,id=stefanmds1,type=mds get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=3758096384,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117476000000000\n> ceph,collection=mds_cache,host=stefanmds1,id=stefanmds1,type=mds ireq_enqueue_scrub=0,ireq_exportdir=0,ireq_flush=0,ireq_fragmentdir=0,ireq_fragstats=0,ireq_inodestats=0,num_recovering_enqueued=0,num_recovering_prioritized=0,num_recovering_processing=0,num_strays=0,num_strays_delayed=0,num_strays_enqueuing=0,recovery_completed=0,recovery_started=0,strays_created=0,strays_enqueued=0,strays_migrated=0,strays_reintegrated=0 1587117476000000000\n> ceph,collection=throttle-objecter_bytes,host=stefanmds1,id=stefanmds1,type=mds get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=104857600,put=16,put_sum=1016,take=33,take_sum=1016,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117476000000000\n> ceph,collection=throttle-objecter_ops,host=stefanmds1,id=stefanmds1,type=mds get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=1024,put=33,put_sum=33,take=33,take_sum=33,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117476000000000\n> ceph,collection=mds_mem,host=stefanmds1,id=stefanmds1,type=mds cap=0,cap+=0,cap-=0,dir=12,dir+=12,dir-=0,dn=10,dn+=10,dn-=0,heap=322284,ino=13,ino+=13,ino-=0,rss=76032 1587117476000000000\n> ceph,collection=finisher-PurgeQueue,host=stefanmds1,id=stefanmds1,type=mds complete_latency.avgcount=4,complete_latency.avgtime=0.000176985,complete_latency.sum=0.000707941,queue_len=0 1587117476000000000\n> ceph,collection=cct,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw total_workers=0,unhealthy_workers=0 1587117156000000000\n> ceph,collection=throttle-objecter_bytes,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=791732,get_or_fail_fail=0,get_or_fail_success=791732,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=rgw,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw cache_hit=0,cache_miss=791706,failed_req=0,get=0,get_b=0,get_initial_lat.avgcount=0,get_initial_lat.avgtime=0,get_initial_lat.sum=0,keystone_token_cache_hit=0,keystone_token_cache_miss=0,pubsub_event_lost=0,pubsub_event_triggered=0,pubsub_events=0,pubsub_push_failed=0,pubsub_push_ok=0,pubsub_push_pending=0,pubsub_store_fail=0,pubsub_store_ok=0,put=0,put_b=0,put_initial_lat.avgcount=0,put_initial_lat.avgtime=0,put_initial_lat.sum=0,qactive=0,qlen=0,req=791705 1587117156000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-radosclient,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=2697988,get_or_fail_fail=0,get_or_fail_success=2697988,get_started=0,get_sum=444563051,max=104857600,put=2697988,put_sum=444563051,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=finisher-radosclient,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw complete_latency.avgcount=2,complete_latency.avgtime=0.003530161,complete_latency.sum=0.007060323,queue_len=0 1587117156000000000\n> ceph,collection=throttle-rgw_async_rados_ops,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=0,get_or_fail_fail=0,get_or_fail_success=0,get_started=0,get_sum=0,max=64,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=throttle-objecter_ops,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=791732,get_or_fail_fail=0,get_or_fail_success=791732,get_started=0,get_sum=791732,max=24576,put=791732,put_sum=791732,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=throttle-objecter_bytes-0x5598969981c0,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=1637900,get_or_fail_fail=0,get_or_fail_success=1637900,get_started=0,get_sum=0,max=104857600,put=0,put_sum=0,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=objecter,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw command_active=0,command_resend=0,command_send=0,linger_active=8,linger_ping=1905736,linger_resend=4,linger_send=13,map_epoch=203,map_full=0,map_inc=17,omap_del=0,omap_rd=0,omap_wr=0,op=2697488,op_active=0,op_laggy=0,op_pg=0,op_r=791730,op_reply=2697476,op_resend=1,op_rmw=0,op_send=2697490,op_send_bytes=362,op_w=1905758,osd_laggy=5,osd_session_close=59558,osd_session_open=59566,osd_sessions=8,osdop_append=0,osdop_call=1,osdop_clonerange=0,osdop_cmpxattr=0,osdop_create=8,osdop_delete=0,osdop_getxattr=0,osdop_mapext=0,osdop_notify=0,osdop_other=791714,osdop_pgls=0,osdop_pgls_filter=0,osdop_read=16,osdop_resetxattrs=0,osdop_rmxattr=0,osdop_setxattr=0,osdop_sparse_read=0,osdop_src_cmpxattr=0,osdop_stat=791706,osdop_truncate=0,osdop_watch=1905750,osdop_write=0,osdop_writefull=0,osdop_writesame=0,osdop_zero=0,poolop_active=0,poolop_resend=0,poolop_send=0,poolstat_active=0,poolstat_resend=0,poolstat_send=0,statfs_active=0,statfs_resend=0,statfs_send=0 1587117156000000000\n> ceph,collection=AsyncMessenger::Worker-2,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw msgr_active_connections=11,msgr_created_connections=59839,msgr_recv_bytes=342697143,msgr_recv_messages=1441603,msgr_running_fast_dispatch_time=161.807937536,msgr_running_recv_time=118.174064257,msgr_running_send_time=207.679154333,msgr_running_total_time=698.527662129,msgr_send_bytes=530785909,msgr_send_messages=1679950 1587117156000000000\n> ceph,collection=mempool,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw bloom_filter_bytes=0,bloom_filter_items=0,bluefs_bytes=0,bluefs_items=0,bluestore_alloc_bytes=0,bluestore_alloc_items=0,bluestore_cache_data_bytes=0,bluestore_cache_data_items=0,bluestore_cache_onode_bytes=0,bluestore_cache_onode_items=0,bluestore_cache_other_bytes=0,bluestore_cache_other_items=0,bluestore_fsck_bytes=0,bluestore_fsck_items=0,bluestore_txc_bytes=0,bluestore_txc_items=0,bluestore_writing_bytes=0,bluestore_writing_deferred_bytes=0,bluestore_writing_deferred_items=0,bluestore_writing_items=0,buffer_anon_bytes=225471,buffer_anon_items=163,buffer_meta_bytes=0,buffer_meta_items=0,mds_co_bytes=0,mds_co_items=0,osd_bytes=0,osd_items=0,osd_mapbl_bytes=0,osd_mapbl_items=0,osd_pglog_bytes=0,osd_pglog_items=0,osdmap_bytes=33904,osdmap_items=278,osdmap_mapping_bytes=0,osdmap_mapping_items=0,pgmap_bytes=0,pgmap_items=0,unittest_1_bytes=0,unittest_1_items=0,unittest_2_bytes=0,unittest_2_items=0 1587117156000000000\n> ceph,collection=throttle-msgr_dispatch_throttler-radosclient-0x559896998120,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=1652935,get_or_fail_fail=0,get_or_fail_success=1652935,get_started=0,get_sum=276333029,max=104857600,put=1652935,put_sum=276333029,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=AsyncMessenger::Worker-1,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw msgr_active_connections=17,msgr_created_connections=84859,msgr_recv_bytes=211170759,msgr_recv_messages=922646,msgr_running_fast_dispatch_time=31.487443762,msgr_running_recv_time=83.190789333,msgr_running_send_time=174.670510496,msgr_running_total_time=484.22086275,msgr_send_bytes=1322113179,msgr_send_messages=1636839 1587117156000000000\n> ceph,collection=finisher-radosclient-0x559896998080,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw complete_latency.avgcount=0,complete_latency.avgtime=0,complete_latency.sum=0,queue_len=0 1587117156000000000\n> ceph,collection=throttle-objecter_ops-0x559896997b80,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw get=1637900,get_or_fail_fail=0,get_or_fail_success=1637900,get_started=0,get_sum=1637900,max=24576,put=1637900,put_sum=1637900,take=0,take_sum=0,val=0,wait.avgcount=0,wait.avgtime=0,wait.sum=0 1587117156000000000\n> ceph,collection=AsyncMessenger::Worker-0,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw msgr_active_connections=18,msgr_created_connections=74757,msgr_recv_bytes=489001094,msgr_recv_messages=1986686,msgr_running_fast_dispatch_time=168.60950961,msgr_running_recv_time=142.903031533,msgr_running_send_time=267.911165712,msgr_running_total_time=824.885614951,msgr_send_bytes=707973504,msgr_send_messages=2463727 1587117156000000000\n> ceph,collection=objecter-0x559896997720,host=stefanrgw1,id=rgw.stefanrgw1.4219.94113851143184,type=rgw command_active=0,command_resend=0,command_send=0,linger_active=0,linger_ping=0,linger_resend=0,linger_send=0,map_epoch=203,map_full=0,map_inc=8,omap_del=0,omap_rd=0,omap_wr=0,op=1637998,op_active=0,op_laggy=0,op_pg=0,op_r=1062803,op_reply=1637998,op_resend=15,op_rmw=0,op_send=1638013,op_send_bytes=63321099,op_w=575195,osd_laggy=0,osd_session_close=125555,osd_session_open=125563,osd_sessions=8,osdop_append=0,osdop_call=1637886,osdop_clonerange=0,osdop_cmpxattr=0,osdop_create=0,osdop_delete=0,osdop_getxattr=0,osdop_mapext=0,osdop_notify=0,osdop_other=112,osdop_pgls=0,osdop_pgls_filter=0,osdop_read=0,osdop_resetxattrs=0,osdop_rmxattr=0,osdop_setxattr=0,osdop_sparse_read=0,osdop_src_cmpxattr=0,osdop_stat=0,osdop_truncate=0,osdop_watch=0,osdop_write=0,osdop_writefull=0,osdop_writesame=0,osdop_zero=0,poolop_active=0,poolop_resend=0,poolop_send=0,poolstat_active=0,poolstat_resend=0,poolstat_send=0,statfs_active=0,statfs_resend=0,statfs_send=0 1587117156000000000\n```\n',image:Wb.a},{id:"cgroup",name:"CGroup",url:"telegraf-plugins/cgroup",markdown:'# CGroup Input Plugin\n\nThis input plugin will capture specific statistics per cgroup.\n\nConsider restricting paths to the set of cgroups you really\nwant to monitor if you have a large number of cgroups, to avoid\nany cardinality issues.\n\nFollowing file formats are supported:\n\n* Single value\n\n```\nVAL\\n\n```\n\n* New line separated values\n\n```\nVAL0\\n\nVAL1\\n\n```\n\n* Space separated values\n\n```\nVAL0 VAL1 ...\\n\n```\n\n* New line separated key-space-value\'s\n\n```\nKEY0 VAL0\\n\nKEY1 VAL1\\n\n```\n\n\n### Tags:\n\nAll measurements have the following tags:\n  - path\n\n\n### Configuration:\n\n```toml\n# [[inputs.cgroup]]\n  # paths = [\n  #   "/sys/fs/cgroup/memory",           # root cgroup\n  #   "/sys/fs/cgroup/memory/child1",    # container cgroup\n  #   "/sys/fs/cgroup/memory/child2/*",  # all children cgroups under child2, but not child2 itself\n  # ]\n  # files = ["memory.*usage*", "memory.limit_in_bytes"]\n```\n\n### usage examples:\n\n```toml\n# [[inputs.cgroup]]\n  # paths = [\n  #   "/sys/fs/cgroup/cpu",              # root cgroup\n  #   "/sys/fs/cgroup/cpu/*",            # all container cgroups\n  #   "/sys/fs/cgroup/cpu/*/*",          # all children cgroups under each container cgroup\n  # ]\n  # files = ["cpuacct.usage", "cpu.cfs_period_us", "cpu.cfs_quota_us"]\n\n# [[inputs.cgroup]]\n  # paths = [\n  #   "/sys/fs/cgroup/unified/*",        # root cgroup\n  # ]\n  # files = ["*"]\n```\n',image:Qb.a},{id:"chrony",name:"chrony",url:"telegraf-plugins/chrony",markdown:"# chrony Input Plugin\n\nGet standard chrony metrics, requires chronyc executable.\n\nBelow is the documentation of the various headers returned by `chronyc tracking`.\n\n- Reference ID - This is the refid and name (or IP address) if available, of the\nserver to which the computer is currently synchronised. If this is 127.127.1.1\nit means the computer is not synchronised to any external source and that you\nhave the ‘local’ mode operating (via the local command in chronyc (see section local),\nor the local directive in the ‘/etc/chrony.conf’ file (see section local)).\n- Stratum - The stratum indicates how many hops away from a computer with an attached\nreference clock we are. Such a computer is a stratum-1 computer, so the computer in the\nexample is two hops away (i.e. a.b.c is a stratum-2 and is synchronised from a stratum-1).\n- Ref time - This is the time (UTC) at which the last measurement from the reference\nsource was processed.\n- System time - In normal operation, chronyd never steps the system clock, because any\njump in the timescale can have adverse consequences for certain application programs.\nInstead, any error in the system clock is corrected by slightly speeding up or slowing\ndown the system clock until the error has been removed, and then returning to the system\nclock’s normal speed. A consequence of this is that there will be a period when the\nsystem clock (as read by other programs using the gettimeofday() system call, or by the\ndate command in the shell) will be different from chronyd's estimate of the current true\ntime (which it reports to NTP clients when it is operating in server mode). The value\nreported on this line is the difference due to this effect.\n- Last offset - This is the estimated local offset on the last clock update.\n- RMS offset - This is a long-term average of the offset value.\n- Frequency - The ‘frequency’ is the rate by which the system’s clock would be\nwrong if chronyd was not correcting it. It is expressed in ppm (parts per million).\nFor example, a value of 1ppm would mean that when the system’s clock thinks it has\nadvanced 1 second, it has actually advanced by 1.000001 seconds relative to true time.\n- Residual freq - This shows the ‘residual frequency’ for the currently selected\nreference source. This reflects any difference between what the measurements from the\nreference source indicate the frequency should be and the frequency currently being used.\nThe reason this is not always zero is that a smoothing procedure is applied to the\nfrequency. Each time a measurement from the reference source is obtained and a new\nresidual frequency computed, the estimated accuracy of this residual is compared with the\nestimated accuracy (see ‘skew’ next) of the existing frequency value. A weighted average\nis computed for the new frequency, with weights depending on these accuracies. If the\nmeasurements from the reference source follow a consistent trend, the residual will be\ndriven to zero over time.\n- Skew - This is the estimated error bound on the frequency.\n- Root delay - This is the total of the network path delays to the stratum-1 computer\nfrom which the computer is ultimately synchronised. In certain extreme situations, this\nvalue can be negative. (This can arise in a symmetric peer arrangement where the computers’\nfrequencies are not tracking each other and the network delay is very short relative to the\nturn-around time at each computer.)\n- Root dispersion - This is the total dispersion accumulated through all the computers\nback to the stratum-1 computer from which the computer is ultimately synchronised.\nDispersion is due to system clock resolution, statistical measurement variations etc.\n- Leap status - This is the leap status, which can be Normal, Insert second,\nDelete second or Not synchronised.\n\n### Configuration:\n\n```toml\n# Get standard chrony metrics, requires chronyc executable.\n[[inputs.chrony]]\n  ## If true, chronyc tries to perform a DNS lookup for the time server.\n  # dns_lookup = false\n```\n\n### Measurements & Fields:\n\n- chrony\n    - system_time (float, seconds)\n    - last_offset (float, seconds)\n    - rms_offset (float, seconds)\n    - frequency (float, ppm)\n    - residual_freq (float, ppm)\n    - skew (float, ppm)\n    - root_delay (float, seconds)\n    - root_dispersion (float, seconds)\n    - update_interval (float, seconds)\n\n### Tags:\n\n- All measurements have the following tags:\n    - reference_id\n    - stratum\n    - leap_status\n\n### Example Output:\n\n```\n$ telegraf --config telegraf.conf --input-filter chrony --test\n* Plugin: chrony, Collection 1\n> chrony,leap_status=normal,reference_id=192.168.1.1,stratum=3 frequency=-35.657,system_time=0.000027073,last_offset=-0.000013616,residual_freq=-0,rms_offset=0.000027073,root_delay=0.000644,root_dispersion=0.003444,skew=0.001,update_interval=1031.2 1463750789687639161\n```\n\n\n\n\n",image:Xb.a},{id:"cisco_telemetry_mdt",name:"Cisco Model-Driven Telemetry (MDT)",url:"telegraf-plugins/cisco_telemetry_mdt",markdown:'# Cisco Model-Driven Telemetry (MDT) Input Plugin\n\nCisco model-driven telemetry (MDT) is an input plugin that consumes\ntelemetry data from Cisco IOS XR, IOS XE and NX-OS platforms. It supports TCP & GRPC dialout transports.\nGRPC-based transport can utilize TLS for authentication and encryption.\nTelemetry data is expected to be GPB-KV (self-describing-gpb) encoded.\n\nThe GRPC dialout transport is supported on various IOS XR (64-bit) 6.1.x and later, IOS XE 16.10 and later, as well as NX-OS 7.x and later platforms.\n\nThe TCP dialout transport is supported on IOS XR (32-bit and 64-bit) 6.1.x and later.\n\n\n### Configuration:\n\n```toml\n[[inputs.cisco_telemetry_mdt]]\n ## Telemetry transport can be "tcp" or "grpc".  TLS is only supported when\n ## using the grpc transport.\n transport = "grpc"\n\n ## Address and port to host telemetry listener\n service_address = ":57000"\n\n ## Enable TLS; grpc transport only.\n # tls_cert = "/etc/telegraf/cert.pem"\n # tls_key = "/etc/telegraf/key.pem"\n\n ## Enable TLS client authentication and define allowed CA certificates; grpc\n ##  transport only.\n # tls_allowed_cacerts = ["/etc/telegraf/clientca.pem"]\n\n ## Define (for certain nested telemetry measurements with embedded tags) which fields are tags\n # embedded_tags = ["Cisco-IOS-XR-qos-ma-oper:qos/interface-table/interface/input/service-policy-names/service-policy-instance/statistics/class-stats/class-name"]\n\n ## Define aliases to map telemetry encoding paths to simple measurement names\n [inputs.cisco_telemetry_mdt.aliases]\n   ifstats = "ietf-interfaces:interfaces-state/interface/statistics"\n```\n\n### Example Output:\n```\nifstats,path=ietf-interfaces:interfaces-state/interface/statistics,host=linux,name=GigabitEthernet2,source=csr1kv,subscription=101 in-unicast-pkts=27i,in-multicast-pkts=0i,discontinuity-time="2019-05-23T07:40:23.000362+00:00",in-octets=5233i,in-errors=0i,out-multicast-pkts=0i,out-discards=0i,in-broadcast-pkts=0i,in-discards=0i,in-unknown-protos=0i,out-unicast-pkts=0i,out-broadcast-pkts=0i,out-octets=0i,out-errors=0i 1559150462624000000\nifstats,path=ietf-interfaces:interfaces-state/interface/statistics,host=linux,name=GigabitEthernet1,source=csr1kv,subscription=101 in-octets=3394770806i,in-broadcast-pkts=0i,in-multicast-pkts=0i,out-broadcast-pkts=0i,in-unknown-protos=0i,out-octets=350212i,in-unicast-pkts=9477273i,in-discards=0i,out-unicast-pkts=2726i,out-discards=0i,discontinuity-time="2019-05-23T07:40:23.000363+00:00",in-errors=30i,out-multicast-pkts=0i,out-errors=0i 1559150462624000000\n```\n',image:Jb.a},{id:"clickhouse",name:"ClickHouse",url:"telegraf-plugins/clickhouse",markdown:'# ClickHouse Input Plugin\n\nThis plugin gathers the statistic data from [ClickHouse](https://github.com/ClickHouse/ClickHouse) server.\n\n### Configuration\n```toml\n# Read metrics from one or many ClickHouse servers\n[[inputs.clickhouse]]\n  ## Username for authorization on ClickHouse server\n  ## example: username = "default"\n  username = "default"\n\n  ## Password for authorization on ClickHouse server\n  ## example: password = "super_secret"\n\n  ## HTTP(s) timeout while getting metrics values\n  ## The timeout includes connection time, any redirects, and reading the response body.\n  ##   example: timeout = 1s\n  # timeout = 5s\n\n  ## List of servers for metrics scraping\n  ## metrics scrape via HTTP(s) clickhouse interface\n  ## https://clickhouse.tech/docs/en/interfaces/http/\n  ##    example: servers = ["http://127.0.0.1:8123","https://custom-server.mdb.yandexcloud.net"]\n  servers         = ["http://127.0.0.1:8123"]\n\n  ## If "auto_discovery"" is "true" plugin tries to connect to all servers available in the cluster\n  ## with using same "user:password" described in "user" and "password" parameters\n  ## and get this server hostname list from "system.clusters" table\n  ## see\n  ## - https://clickhouse.tech/docs/en/operations/system_tables/#system-clusters\n  ## - https://clickhouse.tech/docs/en/operations/server_settings/settings/#server_settings_remote_servers\n  ## - https://clickhouse.tech/docs/en/operations/table_engines/distributed/\n  ## - https://clickhouse.tech/docs/en/operations/table_engines/replication/#creating-replicated-tables\n  ##    example: auto_discovery = false\n  # auto_discovery = true\n\n  ## Filter cluster names in "system.clusters" when "auto_discovery" is "true"\n  ## when this filter present then "WHERE cluster IN (...)" filter will apply\n  ## please use only full cluster names here, regexp and glob filters is not allowed\n  ## for "/etc/clickhouse-server/config.d/remote.xml"\n  ## <yandex>\n  ##  <remote_servers>\n  ##    <my-own-cluster>\n  ##        <shard>\n  ##          <replica><host>clickhouse-ru-1.local</host><port>9000</port></replica>\n  ##          <replica><host>clickhouse-ru-2.local</host><port>9000</port></replica>\n  ##        </shard>\n  ##        <shard>\n  ##          <replica><host>clickhouse-eu-1.local</host><port>9000</port></replica>\n  ##          <replica><host>clickhouse-eu-2.local</host><port>9000</port></replica>\n  ##        </shard>\n  ##    </my-onw-cluster>\n  ##  </remote_servers>\n  ##\n  ## </yandex>\n  ##\n  ## example: cluster_include = ["my-own-cluster"]\n  # cluster_include = []\n\n  ## Filter cluster names in "system.clusters" when "auto_discovery" is "true"\n  ## when this filter present then "WHERE cluster NOT IN (...)" filter will apply\n  ##    example: cluster_exclude = ["my-internal-not-discovered-cluster"]\n  # cluster_exclude = []\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\n- clickhouse_events\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - all rows from [system.events][]\n\n+ clickhouse_metrics\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - all rows from [system.metrics][]\n\n- clickhouse_asynchronous_metrics\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - all rows from [system.asynchronous_metrics][]\n\n+ clickhouse_tables\n  - tags:\n    - source (ClickHouse server hostname)\n    - table\n    - database\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - bytes\n    - parts\n    - rows\n\n- clickhouse_zookeeper\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - root_nodes (count of node from [system.zookeeper][] where path=/)   \n\n+ clickhouse_replication_queue\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - too_many_tries_replicas (count of replicas which have  num_tries > 1 in `system.replication_queue`)\n\n- clickhouse_detached_parts\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - detached_parts (total detached parts for all tables and databases from [system.detached_parts][])\n    \n+ clickhouse_dictionaries\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n    - dict_origin (xml Filename when dictionary created from *_dictionary.xml, database.table when dictionary created from DDL)\n  - fields:\n    - is_loaded (0 - when dictionary data not successful load, 1 - when dictionary data loading fail, see [system.dictionaries][] for details)\n    - bytes_allocated (how many bytes allocated in RAM after a dictionary loaded)\n\n- clickhouse_mutations\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - running - gauge which show how much mutation doesn\'t complete now, see [system.mutations][] for details\n    - failed - counter which show total failed mutations from first clickhouse-server run\n    - completed - counter which show total successful finished mutations from first clickhouse-server run\n\n+ clickhouse_disks\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n    - name (disk name in storage configuration)\n    - path (path to disk)\n  - fields:\n    - free_space_percent - 0-100, gauge which show current percent of free disk space bytes relative to total disk space bytes        \n    - keep_free_space_percent - 0-100, gauge which show current percent of required keep free disk bytes relative to total disk space bytes             \n\n- clickhouse_processes\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n  - fields:\n    - percentile_50 - float gauge which show 50% percentile (quantile 0.5) for `elapsed` field of running processes, see [system.processes][] for details     \n    - percentile_90 - float gauge which show 90% percentile (quantile 0.9) for `elapsed` field of running processes, see [system.processes][] for details     \n    - longest_running - float gauge which show maximum value for `elapsed` field of running processes, see [system.processes][] for details\n\n- clickhouse_text_log\n  - tags:\n    - source (ClickHouse server hostname)\n    - cluster (Name of the cluster [optional])\n    - shard_num (Shard number in the cluster [optional])\n    - level (message level, only message with level less or equal Notice is collects), see details on [system.text_log][]   \n  - fields:\n    - messages_last_10_min - gauge which show how many messages collected\n           \n### Example Output\n\n```\nclickhouse_events,cluster=test_cluster_two_shards_localhost,host=kshvakov,source=localhost,shard_num=1 read_compressed_bytes=212i,arena_alloc_chunks=35i,function_execute=85i,merge_tree_data_writer_rows=3i,rw_lock_acquired_read_locks=421i,file_open=46i,io_buffer_alloc_bytes=86451985i,inserted_bytes=196i,regexp_created=3i,real_time_microseconds=116832i,query=23i,network_receive_elapsed_microseconds=268i,merge_tree_data_writer_compressed_bytes=1080i,arena_alloc_bytes=212992i,disk_write_elapsed_microseconds=556i,inserted_rows=3i,compressed_read_buffer_bytes=81i,read_buffer_from_file_descriptor_read_bytes=148i,write_buffer_from_file_descriptor_write=47i,merge_tree_data_writer_blocks=3i,soft_page_faults=896i,hard_page_faults=7i,select_query=21i,merge_tree_data_writer_uncompressed_bytes=196i,merge_tree_data_writer_blocks_already_sorted=3i,user_time_microseconds=40196i,compressed_read_buffer_blocks=5i,write_buffer_from_file_descriptor_write_bytes=3246i,io_buffer_allocs=296i,created_write_buffer_ordinary=12i,disk_read_elapsed_microseconds=59347044i,network_send_elapsed_microseconds=1538i,context_lock=1040i,insert_query=1i,system_time_microseconds=14582i,read_buffer_from_file_descriptor_read=3i 1569421000000000000\nclickhouse_asynchronous_metrics,cluster=test_cluster_two_shards_localhost,host=kshvakov,source=localhost,shard_num=1 jemalloc.metadata_thp=0i,replicas_max_relative_delay=0i,jemalloc.mapped=1803177984i,jemalloc.allocated=1724839256i,jemalloc.background_thread.run_interval=0i,jemalloc.background_thread.num_threads=0i,uncompressed_cache_cells=0i,replicas_max_absolute_delay=0i,mark_cache_bytes=0i,compiled_expression_cache_count=0i,replicas_sum_queue_size=0i,number_of_tables=35i,replicas_max_merges_in_queue=0i,replicas_max_inserts_in_queue=0i,replicas_sum_merges_in_queue=0i,replicas_max_queue_size=0i,mark_cache_files=0i,jemalloc.background_thread.num_runs=0i,jemalloc.active=1726210048i,uptime=158i,jemalloc.retained=380481536i,replicas_sum_inserts_in_queue=0i,uncompressed_cache_bytes=0i,number_of_databases=2i,jemalloc.metadata=9207704i,max_part_count_for_partition=1i,jemalloc.resident=1742442496i 1569421000000000000\nclickhouse_metrics,cluster=test_cluster_two_shards_localhost,host=kshvakov,source=localhost,shard_num=1 replicated_send=0i,write=0i,ephemeral_node=0i,zoo_keeper_request=0i,distributed_files_to_insert=0i,replicated_fetch=0i,background_schedule_pool_task=0i,interserver_connection=0i,leader_replica=0i,delayed_inserts=0i,global_thread_active=41i,merge=0i,readonly_replica=0i,memory_tracking_in_background_schedule_pool=0i,memory_tracking_for_merges=0i,zoo_keeper_session=0i,context_lock_wait=0i,storage_buffer_bytes=0i,background_pool_task=0i,send_external_tables=0i,zoo_keeper_watch=0i,part_mutation=0i,disk_space_reserved_for_merge=0i,distributed_send=0i,version_integer=19014003i,local_thread=0i,replicated_checks=0i,memory_tracking=0i,memory_tracking_in_background_processing_pool=0i,leader_election=0i,revision=54425i,open_file_for_read=0i,open_file_for_write=0i,storage_buffer_rows=0i,rw_lock_waiting_readers=0i,rw_lock_waiting_writers=0i,rw_lock_active_writers=0i,local_thread_active=0i,query_preempted=0i,tcp_connection=1i,http_connection=1i,read=2i,query_thread=0i,dict_cache_requests=0i,rw_lock_active_readers=1i,global_thread=43i,query=1i 1569421000000000000\nclickhouse_tables,cluster=test_cluster_two_shards_localhost,database=system,host=kshvakov,source=localhost,shard_num=1,table=trace_log bytes=754i,parts=1i,rows=1i 1569421000000000000\nclickhouse_tables,cluster=test_cluster_two_shards_localhost,database=default,host=kshvakov,source=localhost,shard_num=1,table=example bytes=326i,parts=2i,rows=2i 1569421000000000000\n```\n\n[system.events]: https://clickhouse.tech/docs/en/operations/system-tables/events/\n[system.metrics]: https://clickhouse.tech/docs/en/operations/system-tables/metrics/\n[system.asynchronous_metrics]: https://clickhouse.tech/docs/en/operations/system-tables/asynchronous_metrics/\n[system.zookeeper]: https://clickhouse.tech/docs/en/operations/system-tables/zookeeper/ \n[system.detached_parts]: https://clickhouse.tech/docs/en/operations/system-tables/detached_parts/\n[system.dictionaries]: https://clickhouse.tech/docs/en/operations/system-tables/dictionaries/  \n[system.mutations]: https://clickhouse.tech/docs/en/operations/system-tables/mutations/  \n[system.disks]: https://clickhouse.tech/docs/en/operations/system-tables/disks/  \n[system.processes]: https://clickhouse.tech/docs/en/operations/system-tables/processes/  \n[system.text_log]: https://clickhouse.tech/docs/en/operations/system-tables/text_log/  \n',image:ty.a},{id:"cloud_pubsub",name:"Google Cloud PubSub",url:"telegraf-plugins/cloud_pubsub",markdown:'# Google Cloud PubSub Input Plugin\n\nThe GCP PubSub plugin ingests metrics from [Google Cloud PubSub][pubsub]\nand creates metrics using one of the supported [input data formats][].\n\n\n### Configuration\n\n```toml\n[[inputs.cloud_pubsub]]\n  ## Required. Name of Google Cloud Platform (GCP) Project that owns\n  ## the given PubSub subscription.\n  project = "my-project"\n\n  ## Required. Name of PubSub subscription to ingest metrics from.\n  subscription = "my-subscription"\n\n  ## Required. Data format to consume.\n  ## Each data format has its own unique set of configuration options.\n  ## Read more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n\n  ## Optional. Filepath for GCP credentials JSON file to authorize calls to\n  ## PubSub APIs. If not set explicitly, Telegraf will attempt to use\n  ## Application Default Credentials, which is preferred.\n  # credentials_file = "path/to/my/creds.json"\n\n  ## Optional. Number of seconds to wait before attempting to restart the \n  ## PubSub subscription receiver after an unexpected error. \n  ## If the streaming pull for a PubSub Subscription fails (receiver),\n  ## the agent attempts to restart receiving messages after this many seconds.\n  # retry_delay_seconds = 5\n\n  ## Optional. Maximum byte length of a message to consume.\n  ## Larger messages are dropped with an error. If less than 0 or unspecified,\n  ## treated as no limit.\n  # max_message_len = 1000000\n\n  ## Optional. Maximum messages to read from PubSub that have not been written\n  ## to an output. Defaults to %d.\n  ## For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message contains 10 metrics and the output\n  ## metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## The following are optional Subscription ReceiveSettings in PubSub.\n  ## Read more about these values:\n  ## https://godoc.org/cloud.google.com/go/pubsub#ReceiveSettings\n\n  ## Optional. Maximum number of seconds for which a PubSub subscription\n  ## should auto-extend the PubSub ACK deadline for each message. If less than\n  ## 0, auto-extension is disabled.\n  # max_extension = 0\n\n  ## Optional. Maximum number of unprocessed messages in PubSub\n  ## (unacknowledged but not yet expired in PubSub).\n  ## A value of 0 is treated as the default PubSub value.\n  ## Negative values will be treated as unlimited.\n  # max_outstanding_messages = 0\n\n  ## Optional. Maximum size in bytes of unprocessed messages in PubSub\n  ## (unacknowledged but not yet expired in PubSub).\n  ## A value of 0 is treated as the default PubSub value.\n  ## Negative values will be treated as unlimited.\n  # max_outstanding_bytes = 0\n\n  ## Optional. Max number of goroutines a PubSub Subscription receiver can spawn\n  ## to pull messages from PubSub concurrently. This limit applies to each\n  ## subscription separately and is treated as the PubSub default if less than\n  ## 1. Note this setting does not limit the number of messages that can be\n  ## processed concurrently (use "max_outstanding_messages" instead).\n  # max_receiver_go_routines = 0\n\n  ## Optional. If true, Telegraf will attempt to base64 decode the \n  ## PubSub message data before parsing. Many GCP services that\n  ## output JSON to Google PubSub base64-encode the JSON payload.\n  # base64_data = false\n```\n\n### Multiple Subscriptions and Topics\n\nThis plugin assumes you have already created a PULL subscription for a given\nPubSub topic. To learn how to do so, see [how to create a subscription][pubsub create sub].\n\nEach plugin agent can listen to one subscription at a time, so you will\nneed to run multiple instances of the plugin to pull messages from multiple\nsubscriptions/topics.\n\n\n\n[pubsub]: https://cloud.google.com/pubsub\n[pubsub create sub]: https://cloud.google.com/pubsub/docs/admin#create_a_pull_subscription\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n',image:ry.a},{id:"cloud_pubsub_push",name:"Google Cloud PubSub Push",url:"telegraf-plugins/cloud_pubsub_push",markdown:'# Google Cloud PubSub Push Input Plugin\n\nThe Google Cloud PubSub Push listener is a service input plugin that listens for messages sent via an HTTP POST from [Google Cloud PubSub][pubsub].\nThe plugin expects messages in Google\'s Pub/Sub JSON Format ONLY.\nThe intent of the plugin is to allow Telegraf to serve as an endpoint of the Google Pub/Sub \'Push\' service.\nGoogle\'s PubSub service will **only** send over HTTPS/TLS so this plugin must be behind a valid proxy or must be configured to use TLS.\n\nEnable TLS by specifying the file names of a service TLS certificate and key.\n\nEnable mutually authenticated TLS and authorize client connections by signing certificate authority by including a list of allowed CA certificate file names in `tls_allowed_cacerts`.\n\n\n### Configuration:\n\nThis is a sample configuration for the plugin.\n\n```toml\n[[inputs.cloud_pubsub_push]]\n  ## Address and port to host HTTP listener on\n  service_address = ":8080"\n\n  ## Application secret to verify messages originate from Cloud Pub/Sub\n  # token = ""\n\n  ## Path to listen to.\n  # path = "/"\n\n  ## Maximum duration before timing out read of the request\n  # read_timeout = "10s"\n  ## Maximum duration before timing out write of the response. This should be set to a value\n  ## large enough that you can send at least \'metric_batch_size\' number of messages within the\n  ## duration.\n  # write_timeout = "10s"\n\n  ## Maximum allowed http request body size in bytes.\n  ## 0 means to use the default of 524,288,00 bytes (500 mebibytes)\n  # max_body_size = "500MB"\n\n  ## Whether to add the pubsub metadata, such as message attributes and subscription as a tag.\n  # add_meta = false\n\n  ## Optional. Maximum messages to read from PubSub that have not been written\n  ## to an output. Defaults to 1000.\n  ## For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message contains 10 metrics and the output\n  ## metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Set one or more allowed client CA certificate file names to\n  ## enable mutually authenticated TLS connections\n  # tls_allowed_cacerts = ["/etc/telegraf/clientca.pem"]\n\n  ## Add service certificate and key\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\nThis plugin assumes you have already created a PUSH subscription for a given\nPubSub topic.\n\n[pubsub]: https://cloud.google.com/pubsub\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n',image:ay.a},{id:"cloudwatch",name:"Amazon CloudWatch Statistics",url:"telegraf-plugins/cloudwatch",markdown:'# Amazon CloudWatch Statistics Input Plugin\n\nThis plugin will pull Metric Statistics from Amazon CloudWatch.\n\n### Amazon Authentication\n\nThis plugin uses a credential chain for Authentication with the CloudWatch\nAPI endpoint. In the following order the plugin will attempt to authenticate.\n1. Assumed credentials via STS if `role_arn` attribute is specified (source credentials are evaluated from subsequent rules)\n2. Explicit credentials from `access_key`, `secret_key`, and `token` attributes\n3. Shared profile from `profile` attribute\n4. [Environment Variables](https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/configuring-sdk.html#environment-variables)\n5. [Shared Credentials](https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/configuring-sdk.html#shared-credentials-file)\n6. [EC2 Instance Profile](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html)\n\n### Configuration:\n\n```toml\n[[inputs.cloudwatch]]\n  ## Amazon Region\n  region = "us-east-1"\n\n  ## Amazon Credentials\n  ## Credentials are loaded in the following order\n  ## 1) Assumed credentials via STS if role_arn is specified\n  ## 2) explicit credentials from \'access_key\' and \'secret_key\'\n  ## 3) shared profile from \'profile\'\n  ## 4) environment variables\n  ## 5) shared credentials file\n  ## 6) EC2 Instance Profile\n  # access_key = ""\n  # secret_key = ""\n  # token = ""\n  # role_arn = ""\n  # profile = ""\n  # shared_credential_file = ""\n\n  ## Endpoint to make request against, the correct endpoint is automatically\n  ## determined and this option should only be set if you wish to override the\n  ## default.\n  ##   ex: endpoint_url = "http://localhost:8000"\n  # endpoint_url = ""\n\n  # The minimum period for Cloudwatch metrics is 1 minute (60s). However not all\n  # metrics are made available to the 1 minute period. Some are collected at\n  # 3 minute, 5 minute, or larger intervals. See https://aws.amazon.com/cloudwatch/faqs/#monitoring.\n  # Note that if a period is configured that is smaller than the minimum for a\n  # particular metric, that metric will not be returned by the Cloudwatch API\n  # and will not be collected by Telegraf.\n  #\n  ## Requested CloudWatch aggregation Period (required - must be a multiple of 60s)\n  period = "5m"\n\n  ## Collection Delay (required - must account for metrics availability via CloudWatch API)\n  delay = "5m"\n\n  ## Recommended: use metric \'interval\' that is a multiple of \'period\' to avoid\n  ## gaps or overlap in pulled data\n  interval = "5m"\n\n  ## Recommended if "delay" and "period" are both within 3 hours of request time. Invalid values will be ignored.\n  ## Recently Active feature will only poll for CloudWatch ListMetrics values that occurred within the last 3 Hours.\n  ## If enabled, it will reduce total API usage of the CloudWatch ListMetrics API and require less memory to retain.\n  ## Do not enable if "period" or "delay" is longer than 3 hours, as it will not return data more than 3 hours old.\n  ## See https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_ListMetrics.html\n  #recently_active = "PT3H"\n\n  ## Configure the TTL for the internal cache of metrics.\n  # cache_ttl = "1h"\n\n  ## Metric Statistic Namespace (required)\n  namespace = "AWS/ELB"\n\n  ## Maximum requests per second. Note that the global default AWS rate limit is\n  ## 50 reqs/sec, so if you define multiple namespaces, these should add up to a\n  ## maximum of 50.\n  ## See http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch_limits.html\n  # ratelimit = 25\n\n  ## Timeout for http requests made by the cloudwatch client.\n  # timeout = "5s"\n\n  ## Namespace-wide statistic filters. These allow fewer queries to be made to\n  ## cloudwatch.\n  # statistic_include = [ "average", "sum", "minimum", "maximum", sample_count" ]\n  # statistic_exclude = []\n\n  ## Metrics to Pull\n  ## Defaults to all Metrics in Namespace if nothing is provided\n  ## Refreshes Namespace available metrics every 1h\n  #[[inputs.cloudwatch.metrics]]\n  #  names = ["Latency", "RequestCount"]\n  #\n  #  ## Statistic filters for Metric.  These allow for retrieving specific\n  #  ## statistics for an individual metric.\n  #  # statistic_include = [ "average", "sum", "minimum", "maximum", sample_count" ]\n  #  # statistic_exclude = []\n  #\n  #  ## Dimension filters for Metric.  All dimensions defined for the metric names\n  #  ## must be specified in order to retrieve the metric statistics.\n  #  [[inputs.cloudwatch.metrics.dimensions]]\n  #    name = "LoadBalancerName"\n  #    value = "p-example"\n```\n#### Requirements and Terminology\n\nPlugin Configuration utilizes [CloudWatch concepts](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/cloudwatch_concepts.html) and access pattern to allow monitoring of any CloudWatch Metric.\n\n- `region` must be a valid AWS [Region](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/cloudwatch_concepts.html#CloudWatchRegions) value\n- `period` must be a valid CloudWatch [Period](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/cloudwatch_concepts.html#CloudWatchPeriods) value\n- `namespace` must be a valid CloudWatch [Namespace](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/cloudwatch_concepts.html#Namespace) value\n- `names` must be valid CloudWatch [Metric](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/cloudwatch_concepts.html#Metric) names\n- `dimensions` must be valid CloudWatch [Dimension](http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/cloudwatch_concepts.html#Dimension) name/value pairs\n\nOmitting or specifying a value of `\'*\'` for a dimension value configures all available metrics that contain a dimension with the specified name\nto be retrieved. If specifying >1 dimension, then the metric must contain *all* the configured dimensions where the the value of the\nwildcard dimension is ignored.\n\nExample:\n```\n[[inputs.cloudwatch]]\n  period = "1m"\n  interval = "5m"\n\n  [[inputs.cloudwatch.metrics]]\n    names = ["Latency"]\n\n    ## Dimension filters for Metric (optional)\n    [[inputs.cloudwatch.metrics.dimensions]]\n      name = "LoadBalancerName"\n      value = "p-example"\n\n    [[inputs.cloudwatch.metrics.dimensions]]\n      name = "AvailabilityZone"\n      value = "*"\n```\n\nIf the following ELBs are available:\n- name: `p-example`, availabilityZone: `us-east-1a`\n- name: `p-example`, availabilityZone: `us-east-1b`\n- name: `q-example`, availabilityZone: `us-east-1a`\n- name: `q-example`, availabilityZone: `us-east-1b`\n\n\nThen 2 metrics will be output:\n- name: `p-example`, availabilityZone: `us-east-1a`\n- name: `p-example`, availabilityZone: `us-east-1b`\n\nIf the `AvailabilityZone` wildcard dimension was omitted, then a single metric (name: `p-example`)\nwould be exported containing the aggregate values of the ELB across availability zones.\n\nTo maximize efficiency and savings, consider making fewer requests by increasing `interval` but keeping `period` at the duration you would like metrics to be reported. The above example will request metrics from Cloudwatch every 5 minutes but will output five metrics timestamped one minute apart.\n\n#### Restrictions and Limitations\n- CloudWatch metrics are not available instantly via the CloudWatch API. You should adjust your collection `delay` to account for this lag in metrics availability based on your [monitoring subscription level](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-cloudwatch-new.html)\n- CloudWatch API usage incurs cost - see [GetMetricData Pricing](https://aws.amazon.com/cloudwatch/pricing/)\n\n### Measurements & Fields:\n\nEach CloudWatch Namespace monitored records a measurement with fields for each available Metric Statistic.\nNamespace and Metrics are represented in [snake case](https://en.wikipedia.org/wiki/Snake_case)\n\n- cloudwatch_{namespace}\n  - {metric}_sum         (metric Sum value)\n  - {metric}_average     (metric Average value)\n  - {metric}_minimum     (metric Minimum value)\n  - {metric}_maximum     (metric Maximum value)\n  - {metric}_sample_count (metric SampleCount value)\n\n\n### Tags:\nEach measurement is tagged with the following identifiers to uniquely identify the associated metric\nTag Dimension names are represented in [snake case](https://en.wikipedia.org/wiki/Snake_case)\n\n- All measurements have the following tags:\n  - region           (CloudWatch Region)\n  - {dimension-name} (Cloudwatch Dimension value - one for each metric dimension)\n\n### Troubleshooting:\n\nYou can use the aws cli to get a list of available metrics and dimensions:\n```\naws cloudwatch list-metrics --namespace AWS/EC2 --region us-east-1\naws cloudwatch list-metrics --namespace AWS/EC2 --region us-east-1 --metric-name CPUCreditBalance\n```\n\nIf the expected metrics are not returned, you can try getting them manually\nfor a short period of time:\n```\naws cloudwatch get-metric-data \\\n  --start-time 2018-07-01T00:00:00Z \\\n  --end-time 2018-07-01T00:15:00Z \\\n  --metric-data-queries \'[\n  {\n    "Id": "avgCPUCreditBalance",\n    "MetricStat": {\n      "Metric": {\n        "Namespace": "AWS/EC2",\n        "MetricName": "CPUCreditBalance",\n        "Dimensions": [\n          {\n            "Name": "InstanceId",\n            "Value": "i-deadbeef"\n          }\n        ]\n      },\n      "Period": 300,\n      "Stat": "Average"\n    },\n    "Label": "avgCPUCreditBalance"\n  }\n]\'\n```\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter cloudwatch --test\n> cloudwatch_aws_elb,load_balancer_name=p-example,region=us-east-1 latency_average=0.004810798017284538,latency_maximum=0.1100282669067383,latency_minimum=0.0006084442138671875,latency_sample_count=4029,latency_sum=19.382705211639404 1459542420000000000\n```\n',image:iy.a},{id:"conntrack",name:"Conntrack",url:"telegraf-plugins/conntrack",markdown:'# Conntrack Input Plugin\n\nCollects stats from Netfilter\'s conntrack-tools.\n\nThe conntrack-tools provide a mechanism for tracking various aspects of\nnetwork connections as they are processed by netfilter. At runtime, \nconntrack exposes many of those connection statistics within /proc/sys/net.\nDepending on your kernel version, these files can be found in either\n/proc/sys/net/ipv4/netfilter or /proc/sys/net/netfilter and will be\nprefixed with either ip_ or nf_.  This plugin reads the files specified \nin its configuration and publishes each one as a field, with the prefix\nnormalized to ip_.  \n\nIn order to simplify configuration in a heterogeneous environment, a superset\nof directory and filenames can be specified.  Any locations that don\'t exist\nwill be ignored.\n\nFor more information on conntrack-tools, see the \n[Netfilter Documentation](http://conntrack-tools.netfilter.org/).\n\n\n### Configuration:\n\n```toml\n # Collects conntrack stats from the configured directories and files.\n [[inputs.conntrack]]\n   ## The following defaults would work with multiple versions of conntrack.\n   ## Note the nf_ and ip_ filename prefixes are mutually exclusive across\n   ## kernel versions, as are the directory locations.\n\n   ## Superset of filenames to look for within the conntrack dirs.\n   ## Missing files will be ignored.\n   files = ["ip_conntrack_count","ip_conntrack_max",\n            "nf_conntrack_count","nf_conntrack_max"]\n\n   ## Directories to search within for the conntrack files above.\n   ## Missing directories will be ignored.\n   dirs = ["/proc/sys/net/ipv4/netfilter","/proc/sys/net/netfilter"]\n```\n\n### Measurements & Fields:\n\n- conntrack\n    - ip_conntrack_count (int, count): the number of entries in the conntrack table \n    - ip_conntrack_max (int, size): the max capacity of the conntrack table\n\n### Tags:\n\nThis input does not use tags.\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter conntrack --test\nconntrack,host=myhost ip_conntrack_count=2,ip_conntrack_max=262144 1461620427667995735\n```\n',image:cy.a},{id:"consul",name:"Consul",url:"telegraf-plugins/consul",markdown:'# Consul Input Plugin\n\nThis plugin will collect statistics about all health checks registered in the\nConsul. It uses [Consul API](https://www.consul.io/docs/agent/http/health.html#health_state)\nto query the data. It will not report the\n[telemetry](https://www.consul.io/docs/agent/telemetry.html) but Consul can\nreport those stats already using StatsD protocol if needed.\n\n### Configuration:\n\n```toml\n# Gather health check statuses from services registered in Consul\n[[inputs.consul]]\n  ## Consul server address\n  # address = "localhost:8500"\n\n  ## URI scheme for the Consul server, one of "http", "https"\n  # scheme = "http"\n\n  ## Metric version controls the mapping from Consul metrics into\n  ## Telegraf metrics. Version 2 moved all fields with string values\n  ## to tags.\n  ##\n  ##   example: metric_version = 1; deprecated in 1.16\n  ##            metric_version = 2; recommended version\n  # metric_version = 1\n\n  ## ACL token used in every request\n  # token = ""\n\n  ## HTTP Basic Authentication username and password.\n  # username = ""\n  # password = ""\n\n  ## Data center to query the health checks from\n  # datacenter = ""\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = true\n\n  ## Consul checks\' tag splitting\n  # When tags are formatted like "key:value" with ":" as a delimiter then\n  # they will be splitted and reported as proper key:value in Telegraf\n  # tag_delimiter = ":"\n```\n\n### Metrics:\n##### metric_version = 1:\n- consul_health_checks\n  - tags:\n  \t- node (node that check/service is registered on)\n  \t- service_name\n  \t- check_id\n  - fields:\n    - check_name\n    - service_id\n    - status\n    - passing (integer)\n    - critical (integer)\n    - warning (integer)\n\n##### metric_version = 2:\n- consul_health_checks\n  - tags:\n  \t- node (node that check/service is registered on)\n  \t- service_name\n  \t- check_id\n  \t- check_name\n    - service_id\n    - status\n  - fields:\n    - passing (integer)\n    - critical (integer)\n    - warning (integer)\n    \n`passing`, `critical`, and `warning` are integer representations of the health\ncheck state. A value of `1` represents that the status was the state of the\nthe health check at this sample. `status` is string representation of the same state.\n\n## Example output\n\n```\nconsul_health_checks,host=wolfpit,node=consul-server-node,check_id="serfHealth" check_name="Serf Health Status",service_id="",status="passing",passing=1i,critical=0i,warning=0i 1464698464486439902\nconsul_health_checks,host=wolfpit,node=consul-server-node,service_name=www.example.com,check_id="service:www-example-com.test01" check_name="Service \'www.example.com\' check",service_id="www-example-com.test01",status="critical",passing=0i,critical=1i,warning=0i 1464698464486519036\n```\n',image:my.a},{id:"couchbase",name:"Couchbase",url:"telegraf-plugins/couchbase",markdown:'# Couchbase Input Plugin\n\n## Configuration:\n\n```toml\n# Read per-node and per-bucket metrics from Couchbase\n[[inputs.couchbase]]\n  ## specify servers via a url matching:\n  ##  [protocol://][:password]@address[:port]\n  ##  e.g.\n  ##    http://couchbase-0.example.com/\n  ##    http://admin:secret@couchbase-0.example.com:8091/\n  ##\n  ## If no servers are specified, then localhost is used as the host.\n  ## If no protocol is specified, HTTP is used.\n  ## If no port is specified, 8091 is used.\n  servers = ["http://localhost:8091"]\n```\n\n## Measurements:\n\n### couchbase_node\n\nTags:\n- cluster: sanitized string from `servers` configuration field e.g.: `http://user:password@couchbase-0.example.com:8091/endpoint` -> `http://couchbase-0.example.com:8091/endpoint`\n- hostname: Couchbase\'s name for the node and port, e.g., `172.16.10.187:8091`\n\nFields:\n- memory_free (unit: bytes, example: 23181365248.0)\n- memory_total (unit: bytes, example: 64424656896.0)\n\n### couchbase_bucket\n\nTags:\n- cluster: whatever you called it in `servers` in the configuration, e.g.: `http://couchbase-0.example.com/`)\n- bucket: the name of the couchbase bucket, e.g., `blastro-df`\n\nFields:\n- quota_percent_used (unit: percent, example: 68.85424936294555)\n- ops_per_sec (unit: count, example: 5686.789686789687)\n- disk_fetches (unit: count, example: 0.0)\n- item_count (unit: count, example: 943239752.0)\n- disk_used (unit: bytes, example: 409178772321.0)\n- data_used (unit: bytes, example: 212179309111.0)\n- mem_used (unit: bytes, example: 202156957464.0)\n\n\n## Example output\n\n```\ncouchbase_node,cluster=http://localhost:8091/,hostname=172.17.0.2:8091 memory_free=7705575424,memory_total=16558182400 1547829754000000000\ncouchbase_bucket,bucket=beer-sample,cluster=http://localhost:8091/ quota_percent_used=27.09285736083984,ops_per_sec=0,disk_fetches=0,item_count=7303,disk_used=21662946,data_used=9325087,mem_used=28408920 1547829754000000000\n```\n',image:py.a},{id:"couchdb",name:"CouchDB",url:"telegraf-plugins/couchdb",markdown:'# CouchDB Input Plugin\n\nThe CouchDB plugin gathers metrics of CouchDB using [_stats] endpoint.\n\n### Configuration\n\n```toml\n[[inputs.couchdb]]\n  ## Works with CouchDB stats endpoints out of the box\n  ## Multiple Hosts from which to read CouchDB stats:\n  hosts = ["http://localhost:8086/_stats"]\n\n  ## Use HTTP Basic Authentication.\n  # basic_username = "telegraf"\n  # basic_password = "p@ssw0rd"\n```\n\n### Measurements & Fields:\n\nStatistics specific to the internals of CouchDB:\n\n- couchdb_auth_cache_misses\n- couchdb_database_writes\n- couchdb_open_databases\n- couchdb_auth_cache_hits\n- couchdb_request_time\n- couchdb_database_reads\n- couchdb_open_os_files\n\nStatistics of HTTP requests by method:\n\n- httpd_request_methods_put\n- httpd_request_methods_get\n- httpd_request_methods_copy\n- httpd_request_methods_delete\n- httpd_request_methods_post\n- httpd_request_methods_head\n\nStatistics of HTTP requests by response code:\n\n- httpd_status_codes_200\n- httpd_status_codes_201\n- httpd_status_codes_202\n- httpd_status_codes_301\n- httpd_status_codes_304\n- httpd_status_codes_400\n- httpd_status_codes_401\n- httpd_status_codes_403\n- httpd_status_codes_404\n- httpd_status_codes_405\n- httpd_status_codes_409\n- httpd_status_codes_412\n- httpd_status_codes_500\n\nhttpd statistics:\n\n- httpd_clients_requesting_changes\n- httpd_temporary_view_reads\n- httpd_requests\n- httpd_bulk_requests\n- httpd_view_reads\n\n### Tags:\n\n- server (url of the couchdb _stats endpoint)\n\n### Example output:\n\n**Post Couchdb 2.0**\n```\ncouchdb,server=http://couchdb22:5984/_node/_local/_stats couchdb_auth_cache_hits_value=0,httpd_request_methods_delete_value=0,couchdb_auth_cache_misses_value=0,httpd_request_methods_get_value=42,httpd_status_codes_304_value=0,httpd_status_codes_400_value=0,httpd_request_methods_head_value=0,httpd_status_codes_201_value=0,couchdb_database_reads_value=0,httpd_request_methods_copy_value=0,couchdb_request_time_max=0,httpd_status_codes_200_value=42,httpd_status_codes_301_value=0,couchdb_open_os_files_value=2,httpd_request_methods_put_value=0,httpd_request_methods_post_value=0,httpd_status_codes_202_value=0,httpd_status_codes_403_value=0,httpd_status_codes_409_value=0,couchdb_database_writes_value=0,couchdb_request_time_min=0,httpd_status_codes_412_value=0,httpd_status_codes_500_value=0,httpd_status_codes_401_value=0,httpd_status_codes_404_value=0,httpd_status_codes_405_value=0,couchdb_open_databases_value=0 1536707179000000000\n```\n\n**Pre Couchdb 2.0**\n```\ncouchdb,server=http://couchdb16:5984/_stats couchdb_request_time_sum=96,httpd_status_codes_200_sum=37,httpd_status_codes_200_min=0,httpd_requests_mean=0.005,httpd_requests_min=0,couchdb_request_time_stddev=3.833,couchdb_request_time_min=1,httpd_request_methods_get_stddev=0.073,httpd_request_methods_get_min=0,httpd_status_codes_200_mean=0.005,httpd_status_codes_200_max=1,httpd_requests_sum=37,couchdb_request_time_current=96,httpd_request_methods_get_sum=37,httpd_request_methods_get_mean=0.005,httpd_request_methods_get_max=1,httpd_status_codes_200_stddev=0.073,couchdb_request_time_mean=2.595,couchdb_request_time_max=25,httpd_request_methods_get_current=37,httpd_status_codes_200_current=37,httpd_requests_current=37,httpd_requests_stddev=0.073,httpd_requests_max=1 1536707179000000000\n```\n\n[_stats]: http://docs.couchdb.org/en/1.6.1/api/server/common.html?highlight=stats#get--_stats\n',image:_y.a},{id:"cpu",name:"CPU",url:"telegraf-plugins/cpu",markdown:"# CPU Input Plugin\n\nThe `cpu` plugin gather metrics on the system CPUs.\n\n#### Configuration\n```toml\n[[inputs.cpu]]\n  ## Whether to report per-cpu stats or not\n  percpu = true\n  ## Whether to report total system cpu stats or not\n  totalcpu = true\n  ## If true, collect raw CPU time metrics.\n  collect_cpu_time = false\n  ## If true, compute and report the sum of all non-idle CPU states.\n  report_active = false\n```\n\n### Metrics\n\nOn Linux, consult `man proc` for details on the meanings of these values.\n\n- cpu\n  - tags:\n    - cpu (CPU ID or `cpu-total`)\n  - fields:\n    - time_user (float)\n    - time_system (float)\n    - time_idle (float)\n    - time_active (float)\n    - time_nice (float)\n    - time_iowait (float)\n    - time_irq (float)\n    - time_softirq (float)\n    - time_steal (float)\n    - time_guest (float)\n    - time_guest_nice (float)\n    - usage_user (float, percent)\n    - usage_system (float, percent)\n    - usage_idle (float, percent)\n    - usage_active (float)\n    - usage_nice (float, percent)\n    - usage_iowait (float, percent)\n    - usage_irq (float, percent)\n    - usage_softirq (float, percent)\n    - usage_steal (float, percent)\n    - usage_guest (float, percent)\n    - usage_guest_nice (float, percent)\n\n### Troubleshooting\n\nOn Linux systems the `/proc/stat` file is used to gather CPU times.\nPercentages are based on the last 2 samples.\n\n### Example Output\n\n```\ncpu,cpu=cpu0,host=loaner time_active=202224.15999999992,time_guest=30250.35,time_guest_nice=0,time_idle=1527035.04,time_iowait=1352,time_irq=0,time_nice=169.28,time_softirq=6281.4,time_steal=0,time_system=40097.14,time_user=154324.34 1568760922000000000\ncpu,cpu=cpu0,host=loaner usage_active=31.249999981810106,usage_guest=2.083333333080696,usage_guest_nice=0,usage_idle=68.7500000181899,usage_iowait=0,usage_irq=0,usage_nice=0,usage_softirq=0,usage_steal=0,usage_system=4.166666666161392,usage_user=25.000000002273737 1568760922000000000\ncpu,cpu=cpu1,host=loaner time_active=201890.02000000002,time_guest=30508.41,time_guest_nice=0,time_idle=264641.18,time_iowait=210.44,time_irq=0,time_nice=181.75,time_softirq=4537.88,time_steal=0,time_system=39480.7,time_user=157479.25 1568760922000000000\ncpu,cpu=cpu1,host=loaner usage_active=12.500000010610771,usage_guest=2.0833333328280585,usage_guest_nice=0,usage_idle=87.49999998938922,usage_iowait=0,usage_irq=0,usage_nice=0,usage_softirq=2.0833333332070145,usage_steal=0,usage_system=4.166666665656117,usage_user=4.166666666414029 1568760922000000000\ncpu,cpu=cpu2,host=loaner time_active=201382.78999999998,time_guest=30325.8,time_guest_nice=0,time_idle=264686.63,time_iowait=202.77,time_irq=0,time_nice=162.81,time_softirq=3378.34,time_steal=0,time_system=39270.59,time_user=158368.28 1568760922000000000\ncpu,cpu=cpu2,host=loaner usage_active=15.999999993480742,usage_guest=1.9999999999126885,usage_guest_nice=0,usage_idle=84.00000000651926,usage_iowait=0,usage_irq=0,usage_nice=0,usage_softirq=2.0000000002764864,usage_steal=0,usage_system=3.999999999825377,usage_user=7.999999998923158 1568760922000000000\ncpu,cpu=cpu3,host=loaner time_active=198953.51000000007,time_guest=30344.43,time_guest_nice=0,time_idle=265504.09,time_iowait=187.64,time_irq=0,time_nice=197.47,time_softirq=2301.47,time_steal=0,time_system=39313.73,time_user=156953.2 1568760922000000000\ncpu,cpu=cpu3,host=loaner usage_active=10.41666667424579,usage_guest=0,usage_guest_nice=0,usage_idle=89.58333332575421,usage_iowait=0,usage_irq=0,usage_nice=0,usage_softirq=0,usage_steal=0,usage_system=4.166666666666667,usage_user=6.249999998484175 1568760922000000000\ncpu,cpu=cpu-total,host=loaner time_active=804450.5299999998,time_guest=121429,time_guest_nice=0,time_idle=2321866.96,time_iowait=1952.86,time_irq=0,time_nice=711.32,time_softirq=16499.1,time_steal=0,time_system=158162.17,time_user=627125.08 1568760922000000000\ncpu,cpu=cpu-total,host=loaner usage_active=17.616580305880305,usage_guest=1.036269430422946,usage_guest_nice=0,usage_idle=82.3834196941197,usage_iowait=0,usage_irq=0,usage_nice=0,usage_softirq=1.0362694300459534,usage_steal=0,usage_system=4.145077721691784,usage_user=11.398963731636465 1568760922000000000\n```\n",image:fy.a},{id:"dcos",name:"DC/OS",url:"telegraf-plugins/dcos",markdown:'# DC/OS Input Plugin\n\nThis input plugin gathers metrics from a DC/OS cluster\'s [metrics component](https://docs.mesosphere.com/1.10/metrics/).\n\n**Series Cardinality Warning**\n\nDepending on the work load of your DC/OS cluster, this plugin can quickly\ncreate a high number of series which, when unchecked, can cause high load on\nyour database.\n\n- Use the\n  [measurement filtering](https://docs.influxdata.com/telegraf/latest/administration/configuration/#measurement-filtering)\n  options to exclude unneeded tags.\n- Write to a database with an appropriate\n  [retention policy](https://docs.influxdata.com/influxdb/latest/guides/downsampling_and_retention/).\n- Limit series cardinality in your database using the\n  [`max-series-per-database`](https://docs.influxdata.com/influxdb/latest/administration/config/#max-series-per-database-1000000) and\n  [`max-values-per-tag`](https://docs.influxdata.com/influxdb/latest/administration/config/#max-values-per-tag-100000) settings.\n- Consider using the\n  [Time Series Index](https://docs.influxdata.com/influxdb/latest/concepts/time-series-index/).\n- Monitor your databases\n  [series cardinality](https://docs.influxdata.com/influxdb/latest/query_language/spec/#show-cardinality).\n\n### Configuration:\n```toml\n[[inputs.dcos]]\n  ## The DC/OS cluster URL.\n  cluster_url = "https://dcos-master-1"\n\n  ## The ID of the service account.\n  service_account_id = "telegraf"\n  ## The private key file for the service account.\n  service_account_private_key = "/etc/telegraf/telegraf-sa-key.pem"\n\n  ## Path containing login token.  If set, will read on every gather.\n  # token_file = "/home/dcos/.dcos/token"\n\n  ## In all filter options if both include and exclude are empty all items\n  ## will be collected.  Arrays may contain glob patterns.\n  ##\n  ## Node IDs to collect metrics from.  If a node is excluded, no metrics will\n  ## be collected for its containers or apps.\n  # node_include = []\n  # node_exclude = []\n  ## Container IDs to collect container metrics from.\n  # container_include = []\n  # container_exclude = []\n  ## Container IDs to collect app metrics from.\n  # app_include = []\n  # app_exclude = []\n\n  ## Maximum concurrent connections to the cluster.\n  # max_connections = 10\n  ## Maximum time to receive a response from cluster.\n  # response_timeout = "20s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## If false, skip chain & host verification\n  # insecure_skip_verify = true\n\n  ## Recommended filtering to reduce series cardinality.\n  # [inputs.dcos.tagdrop]\n  #   path = ["/var/lib/mesos/slave/slaves/*"]\n```\n\n#### Enterprise Authentication\n\nWhen using Enterprise DC/OS, it is recommended to use a service account to\nauthenticate with the cluster.\n\nThe plugin requires the following permissions:\n```\ndcos:adminrouter:ops:system-metrics full\ndcos:adminrouter:ops:mesos full\n```\n\nFollow the directions to [create a service account and assign permissions](https://docs.mesosphere.com/1.10/security/service-auth/custom-service-auth/).\n\nQuick configuration using the Enterprise CLI:\n```\ndcos security org service-accounts keypair telegraf-sa-key.pem telegraf-sa-cert.pem\ndcos security org service-accounts create -p telegraf-sa-cert.pem -d "Telegraf DC/OS input plugin" telegraf\ndcos security org users grant telegraf dcos:adminrouter:ops:system-metrics full\ndcos security org users grant telegraf dcos:adminrouter:ops:mesos full\n```\n\n#### Open Source Authentication\n\nThe Open Source DC/OS does not provide service accounts.  Instead you can use\nof the following options:\n\n1. [Disable authentication](https://dcos.io/docs/1.10/security/managing-authentication/#authentication-opt-out)\n2. Use the `token_file` parameter to read a authentication token from a file.\n\nThen `token_file` can be set by using the [dcos cli] to login periodically.\nThe cli can login for at most XXX days, you will need to ensure the cli\nperforms a new login before this time expires.\n```\ndcos auth login --username foo --password bar\ndcos config show core.dcos_acs_token > ~/.dcos/token\n```\n\nAnother option to create a `token_file` is to generate a token using the\ncluster secret.  This will allow you to set the expiration date manually or\neven create a never expiring token.  However, if the cluster secret or the\ntoken is compromised it cannot be revoked and may require a full reinstall of\nthe cluster.  For more information on this technique reference\n[this blog post](https://medium.com/@richardgirges/authenticating-open-source-dc-os-with-third-party-services-125fa33a5add).\n\n### Metrics:\n\nPlease consult the [Metrics Reference](https://docs.mesosphere.com/1.10/metrics/reference/)\nfor details about field interpretation.\n\n- dcos_node\n  - tags:\n    - cluster\n    - hostname\n    - path (filesystem fields only)\n    - interface (network fields only)\n  - fields:\n    - system_uptime (float)\n    - cpu_cores (float)\n    - cpu_total (float)\n    - cpu_user (float)\n    - cpu_system (float)\n    - cpu_idle (float)\n    - cpu_wait (float)\n    - load_1min (float)\n    - load_5min (float)\n    - load_15min (float)\n    - filesystem_capacity_total_bytes (int)\n    - filesystem_capacity_used_bytes (int)\n    - filesystem_capacity_free_bytes (int)\n    - filesystem_inode_total (float)\n    - filesystem_inode_used (float)\n    - filesystem_inode_free (float)\n    - memory_total_bytes (int)\n    - memory_free_bytes (int)\n    - memory_buffers_bytes (int)\n    - memory_cached_bytes (int)\n    - swap_total_bytes (int)\n    - swap_free_bytes (int)\n    - swap_used_bytes (int)\n    - network_in_bytes (int)\n    - network_out_bytes (int)\n    - network_in_packets (float)\n    - network_out_packets (float)\n    - network_in_dropped (float)\n    - network_out_dropped (float)\n    - network_in_errors (float)\n    - network_out_errors (float)\n    - process_count (float)\n\n- dcos_container\n  - tags:\n    - cluster\n    - hostname\n    - container_id\n    - task_name\n  - fields:\n    - cpus_limit (float)\n    - cpus_system_time (float)\n    - cpus_throttled_time (float)\n    - cpus_user_time (float)\n    - disk_limit_bytes (int)\n    - disk_used_bytes (int)\n    - mem_limit_bytes (int)\n    - mem_total_bytes (int)\n    - net_rx_bytes (int)\n    - net_rx_dropped (float)\n    - net_rx_errors (float)\n    - net_rx_packets (float)\n    - net_tx_bytes (int)\n    - net_tx_dropped (float)\n    - net_tx_errors (float)\n    - net_tx_packets (float)\n\n- dcos_app\n  - tags:\n    - cluster\n    - hostname\n    - container_id\n    - task_name\n  - fields:\n    - fields are application specific\n\n### Example Output:\n\n```\ndcos_node,cluster=enterprise,hostname=192.168.122.18,path=/boot filesystem_capacity_free_bytes=918188032i,filesystem_capacity_total_bytes=1063256064i,filesystem_capacity_used_bytes=145068032i,filesystem_inode_free=523958,filesystem_inode_total=524288,filesystem_inode_used=330 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=dummy0 network_in_bytes=0i,network_in_dropped=0,network_in_errors=0,network_in_packets=0,network_out_bytes=0i,network_out_dropped=0,network_out_errors=0,network_out_packets=0 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=docker0 network_in_bytes=0i,network_in_dropped=0,network_in_errors=0,network_in_packets=0,network_out_bytes=0i,network_out_dropped=0,network_out_errors=0,network_out_packets=0 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18 cpu_cores=2,cpu_idle=81.62,cpu_system=4.19,cpu_total=13.670000000000002,cpu_user=9.48,cpu_wait=0,load_15min=0.7,load_1min=0.22,load_5min=0.6,memory_buffers_bytes=970752i,memory_cached_bytes=1830473728i,memory_free_bytes=1178636288i,memory_total_bytes=3975073792i,process_count=198,swap_free_bytes=859828224i,swap_total_bytes=859828224i,swap_used_bytes=0i,system_uptime=18874 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=lo network_in_bytes=1090992450i,network_in_dropped=0,network_in_errors=0,network_in_packets=1546938,network_out_bytes=1090992450i,network_out_dropped=0,network_out_errors=0,network_out_packets=1546938 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,path=/ filesystem_capacity_free_bytes=1668378624i,filesystem_capacity_total_bytes=6641680384i,filesystem_capacity_used_bytes=4973301760i,filesystem_inode_free=3107856,filesystem_inode_total=3248128,filesystem_inode_used=140272 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=minuteman network_in_bytes=0i,network_in_dropped=0,network_in_errors=0,network_in_packets=0,network_out_bytes=210i,network_out_dropped=0,network_out_errors=0,network_out_packets=3 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=eth0 network_in_bytes=539886216i,network_in_dropped=1,network_in_errors=0,network_in_packets=979808,network_out_bytes=112395836i,network_out_dropped=0,network_out_errors=0,network_out_packets=891239 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=spartan network_in_bytes=0i,network_in_dropped=0,network_in_errors=0,network_in_packets=0,network_out_bytes=210i,network_out_dropped=0,network_out_errors=0,network_out_packets=3 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,path=/var/lib/docker/overlay filesystem_capacity_free_bytes=1668378624i,filesystem_capacity_total_bytes=6641680384i,filesystem_capacity_used_bytes=4973301760i,filesystem_inode_free=3107856,filesystem_inode_total=3248128,filesystem_inode_used=140272 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=vtep1024 network_in_bytes=0i,network_in_dropped=0,network_in_errors=0,network_in_packets=0,network_out_bytes=0i,network_out_dropped=0,network_out_errors=0,network_out_packets=0 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,path=/var/lib/docker/plugins filesystem_capacity_free_bytes=1668378624i,filesystem_capacity_total_bytes=6641680384i,filesystem_capacity_used_bytes=4973301760i,filesystem_inode_free=3107856,filesystem_inode_total=3248128,filesystem_inode_used=140272 1511859222000000000\ndcos_node,cluster=enterprise,hostname=192.168.122.18,interface=d-dcos network_in_bytes=0i,network_in_dropped=0,network_in_errors=0,network_in_packets=0,network_out_bytes=0i,network_out_dropped=0,network_out_errors=0,network_out_packets=0 1511859222000000000\ndcos_app,cluster=enterprise,container_id=9a78d34a-3bbf-467e-81cf-a57737f154ee,hostname=192.168.122.18 container_received_bytes_per_sec=0,container_throttled_bytes_per_sec=0 1511859222000000000\ndcos_container,cluster=enterprise,container_id=cbf19b77-3b8d-4bcf-b81f-824b67279629,hostname=192.168.122.18 cpus_limit=0.3,cpus_system_time=307.31,cpus_throttled_time=102.029930607,cpus_user_time=268.57,disk_limit_bytes=268435456i,disk_used_bytes=30953472i,mem_limit_bytes=570425344i,mem_total_bytes=13316096i,net_rx_bytes=0i,net_rx_dropped=0,net_rx_errors=0,net_rx_packets=0,net_tx_bytes=0i,net_tx_dropped=0,net_tx_errors=0,net_tx_packets=0 1511859222000000000\ndcos_app,cluster=enterprise,container_id=cbf19b77-3b8d-4bcf-b81f-824b67279629,hostname=192.168.122.18 container_received_bytes_per_sec=0,container_throttled_bytes_per_sec=0 1511859222000000000\ndcos_container,cluster=enterprise,container_id=5725e219-f66e-40a8-b3ab-519d85f4c4dc,hostname=192.168.122.18,task_name=hello-world cpus_limit=0.6,cpus_system_time=25.6,cpus_throttled_time=327.977109217,cpus_user_time=566.54,disk_limit_bytes=0i,disk_used_bytes=0i,mem_limit_bytes=1107296256i,mem_total_bytes=335941632i,net_rx_bytes=0i,net_rx_dropped=0,net_rx_errors=0,net_rx_packets=0,net_tx_bytes=0i,net_tx_dropped=0,net_tx_errors=0,net_tx_packets=0 1511859222000000000\ndcos_app,cluster=enterprise,container_id=5725e219-f66e-40a8-b3ab-519d85f4c4dc,hostname=192.168.122.18 container_received_bytes_per_sec=0,container_throttled_bytes_per_sec=0 1511859222000000000\ndcos_app,cluster=enterprise,container_id=c76e1488-4fb7-4010-a4cf-25725f8173f9,hostname=192.168.122.18 container_received_bytes_per_sec=0,container_throttled_bytes_per_sec=0 1511859222000000000\ndcos_container,cluster=enterprise,container_id=cbe0b2f9-061f-44ac-8f15-4844229e8231,hostname=192.168.122.18,task_name=telegraf cpus_limit=0.2,cpus_system_time=8.109999999,cpus_throttled_time=93.183916045,cpus_user_time=17.97,disk_limit_bytes=0i,disk_used_bytes=0i,mem_limit_bytes=167772160i,mem_total_bytes=0i,net_rx_bytes=0i,net_rx_dropped=0,net_rx_errors=0,net_rx_packets=0,net_tx_bytes=0i,net_tx_dropped=0,net_tx_errors=0,net_tx_packets=0 1511859222000000000\ndcos_container,cluster=enterprise,container_id=b64115de-3d2a-431d-a805-76e7c46453f1,hostname=192.168.122.18 cpus_limit=0.2,cpus_system_time=2.69,cpus_throttled_time=20.064861214,cpus_user_time=6.56,disk_limit_bytes=268435456i,disk_used_bytes=29360128i,mem_limit_bytes=297795584i,mem_total_bytes=13733888i,net_rx_bytes=0i,net_rx_dropped=0,net_rx_errors=0,net_rx_packets=0,net_tx_bytes=0i,net_tx_dropped=0,net_tx_errors=0,net_tx_packets=0 1511859222000000000\ndcos_app,cluster=enterprise,container_id=b64115de-3d2a-431d-a805-76e7c46453f1,hostname=192.168.122.18 container_received_bytes_per_sec=0,container_throttled_bytes_per_sec=0 1511859222000000000\n```\n',image:yy.a},{id:"disk",name:"Disk",url:"telegraf-plugins/disk",markdown:'# Disk Input Plugin\n\nThe disk input plugin gathers metrics about disk usage.\n\nNote that `used_percent` is calculated by doing `used / (used + free)`, _not_\n`used / total`, which is how the unix `df` command does it. See\nhttps://en.wikipedia.org/wiki/Df_(Unix) for more details.\n\n### Configuration:\n\n```toml\n[[inputs.disk]]\n  ## By default stats will be gathered for all mount points.\n  ## Set mount_points will restrict the stats to only the specified mount points.\n  # mount_points = ["/"]\n\n  ## Ignore mount points by filesystem type.\n  ignore_fs = ["tmpfs", "devtmpfs", "devfs", "iso9660", "overlay", "aufs", "squashfs"]\n```\n\n#### Docker container\n\nTo monitor the Docker engine host from within a container you will need to\nmount the host\'s filesystem into the container and set the `HOST_PROC`\nenvironment variable to the location of the `/proc` filesystem.  If desired, you can\nalso set the `HOST_MOUNT_PREFIX` environment variable to the prefix containing\nthe `/proc` directory, when present this variable is stripped from the\nreported `path` tag.\n\n```\ndocker run -v /:/hostfs:ro -e HOST_MOUNT_PREFIX=/hostfs -e HOST_PROC=/hostfs/proc telegraf\n```\n\n### Metrics:\n\n- disk\n  - tags:\n    - fstype (filesystem type)\n    - device (device file)\n    - path (mount point path)\n    - mode (whether the mount is rw or ro)\n  - fields:\n    - free (integer, bytes)\n    - total (integer, bytes)\n    - used (integer, bytes)\n    - used_percent (float, percent)\n    - inodes_free (integer, files)\n    - inodes_total (integer, files)\n    - inodes_used (integer, files)\n\n### Troubleshooting\n\nOn Linux, the list of disks is taken from the `/proc/self/mounts` file and a\n[statfs] call is made on the second column.  If any expected filesystems are\nmissing ensure that the `telegraf` user can read these files:\n```\n$ sudo -u telegraf cat /proc/self/mounts | grep sda2\n/dev/sda2 /home ext4 rw,relatime,data=ordered 0 0\n$ sudo -u telegraf stat /home\n```\n\nIt may be desired to use POSIX ACLs to provide additional access:\n```\nsudo setfacl -R -m u:telegraf:X /var/lib/docker/volumes/\n```\n\n### Example Output:\n\n```\ndisk,fstype=hfs,mode=ro,path=/ free=398407520256i,inodes_free=97267461i,inodes_total=121847806i,inodes_used=24580345i,total=499088621568i,used=100418957312i,used_percent=20.131039916242397 1453832006274071563\ndisk,fstype=devfs,mode=rw,path=/dev free=0i,inodes_free=0i,inodes_total=628i,inodes_used=628i,total=185856i,used=185856i,used_percent=100 1453832006274137913\ndisk,fstype=autofs,mode=rw,path=/net free=0i,inodes_free=0i,inodes_total=0i,inodes_used=0i,total=0i,used=0i,used_percent=0 1453832006274157077\ndisk,fstype=autofs,mode=rw,path=/home free=0i,inodes_free=0i,inodes_total=0i,inodes_used=0i,total=0i,used=0i,used_percent=0 1453832006274169688\n```\n\n[statfs]: http://man7.org/linux/man-pages/man2/statfs.2.html\n',image:Ey.a},{id:"diskio",name:"DiskIO",url:"telegraf-plugins/diskio",markdown:'# DiskIO Input Plugin\n\nThe diskio input plugin gathers metrics about disk traffic and timing.\n\n### Configuration:\n\n```toml\n# Read metrics about disk IO by device\n[[inputs.diskio]]\n  ## By default, telegraf will gather stats for all devices including\n  ## disk partitions.\n  ## Setting devices will restrict the stats to the specified devices.\n  # devices = ["sda", "sdb"]\n  ## Uncomment the following line if you need disk serial numbers.\n  # skip_serial_number = false\n  #\n  ## On systems which support it, device metadata can be added in the form of\n  ## tags.\n  ## Currently only Linux is supported via udev properties. You can view\n  ## available properties for a device by running:\n  ## \'udevadm info -q property -n /dev/sda\'\n  ## Note: Most, but not all, udev properties can be accessed this way. Properties\n  ## that are currently inaccessible include DEVTYPE, DEVNAME, and DEVPATH.\n  # device_tags = ["ID_FS_TYPE", "ID_FS_USAGE"]\n  #\n  ## Using the same metadata source as device_tags, you can also customize the\n  ## name of the device via templates.\n  ## The \'name_templates\' parameter is a list of templates to try and apply to\n  ## the device. The template may contain variables in the form of \'$PROPERTY\' or\n  ## \'${PROPERTY}\'. The first template which does not contain any variables not\n  ## present for the device is used as the device name tag.\n  ## The typical use case is for LVM volumes, to get the VG/LV name instead of\n  ## the near-meaningless DM-0 name.\n  # name_templates = ["$ID_FS_LABEL","$DM_VG_NAME/$DM_LV_NAME"]\n```\n\n#### Docker container\n\nTo monitor the Docker engine host from within a container you will need to\nmount the host\'s filesystem into the container and set the `HOST_PROC`\nenvironment variable to the location of the `/proc` filesystem.  Additionally,\nit is required to use privileged mode to provide access to `/dev`.\n\nIf you are using the `device_tags` or `name_templates` options, you will need\nto bind mount `/run/udev` into the container.\n\n```\ndocker run --privileged -v /:/hostfs:ro -v /run/udev:/run/udev:ro -e HOST_PROC=/hostfs/proc telegraf\n```\n\n### Metrics:\n\n- diskio\n  - tags:\n    - name (device name)\n    - serial (device serial number)\n  - fields:\n    - reads (integer, counter)\n    - writes (integer, counter)\n    - read_bytes (integer, counter, bytes)\n    - write_bytes (integer, counter, bytes)\n    - read_time (integer, counter, milliseconds)\n    - write_time (integer, counter, milliseconds)\n    - io_time (integer, counter, milliseconds)\n    - weighted_io_time (integer, counter, milliseconds)\n    - iops_in_progress (integer, gauge)\n    - merged_reads (integer, counter)\n    - merged_writes (integer, counter)\n\nOn linux these values correspond to the values in\n[`/proc/diskstats`](https://www.kernel.org/doc/Documentation/ABI/testing/procfs-diskstats)\nand\n[`/sys/block/<dev>/stat`](https://www.kernel.org/doc/Documentation/block/stat.txt).\n\n#### `reads` & `writes`:\n\nThese values increment when an I/O request completes.\n\n#### `read_bytes` & `write_bytes`:\n\nThese values count the number of bytes read from or written to this\nblock device.\n\n#### `read_time` & `write_time`:\n\nThese values count the number of milliseconds that I/O requests have\nwaited on this block device.  If there are multiple I/O requests waiting,\nthese values will increase at a rate greater than 1000/second; for\nexample, if 60 read requests wait for an average of 30 ms, the read_time\nfield will increase by 60*30 = 1800.\n\n#### `io_time`:\n\nThis value counts the number of milliseconds during which the device has\nhad I/O requests queued.\n\n#### `weighted_io_time`:\n\nThis value counts the number of milliseconds that I/O requests have waited\non this block device.  If there are multiple I/O requests waiting, this\nvalue will increase as the product of the number of milliseconds times the\nnumber of requests waiting (see `read_time` above for an example).\n\n#### `iops_in_progress`:\n\nThis value counts the number of I/O requests that have been issued to\nthe device driver but have not yet completed.  It does not include I/O\nrequests that are in the queue but not yet issued to the device driver.\n\n#### `merged_reads` & `merged_writes`:\n\nReads and writes which are adjacent to each other may be merged for\nefficiency.  Thus two 4K reads may become one 8K read before it is\nultimately handed to the disk, and so it will be counted (and queued)\nas only one I/O. These fields lets you know how often this was done.\n\n### Sample Queries:\n\n#### Calculate percent IO utilization per disk and host:\n```\nSELECT non_negative_derivative(last("io_time"),1ms) FROM "diskio" WHERE time > now() - 30m GROUP BY "host","name",time(60s)\n```\n\n#### Calculate average queue depth:\n`iops_in_progress` will give you an instantaneous value. This will give you the average between polling intervals.\n```\nSELECT non_negative_derivative(last("weighted_io_time"),1ms) from "diskio" WHERE time > now() - 30m GROUP BY "host","name",time(60s)\n```\n\n### Example Output:\n\n```\ndiskio,name=sda1 merged_reads=0i,reads=2353i,writes=10i,write_bytes=2117632i,write_time=49i,io_time=1271i,weighted_io_time=1350i,read_bytes=31350272i,read_time=1303i,iops_in_progress=0i,merged_writes=0i 1578326400000000000\ndiskio,name=centos/var_log reads=1063077i,writes=591025i,read_bytes=139325491712i,write_bytes=144233131520i,read_time=650221i,write_time=24368817i,io_time=852490i,weighted_io_time=25037394i,iops_in_progress=1i,merged_reads=0i,merged_writes=0i 1578326400000000000\ndiskio,name=sda write_time=49i,io_time=1317i,weighted_io_time=1404i,reads=2495i,read_time=1357i,write_bytes=2117632i,iops_in_progress=0i,merged_reads=0i,merged_writes=0i,writes=10i,read_bytes=38956544i 1578326400000000000\n\n```\n',image:xy.a},{id:"disque",name:"Disque",url:"telegraf-plugins/disque",markdown:'# Disque Input Plugin\n\n[Disque](https://github.com/antirez/disque) is an ongoing experiment to build a distributed, in-memory, message broker.\n\n\n### Configuration:\n\n```toml\n[[inputs.disque]]  \n  ## An array of URI to gather stats about. Specify an ip or hostname\n  ## with optional port and password.\n  ## ie disque://localhost, disque://10.10.3.33:18832, 10.0.0.1:10000, etc.\n  ## If no servers are specified, then localhost is used as the host.\n  servers = ["localhost"]\n```\n\n### Metrics\n\n\n- disque\n  - disque_host\n    - uptime_in_seconds\n    - connected_clients\n    - blocked_clients\n    - used_memory\n    - used_memory_rss\n    - used_memory_peak\n    - total_connections_received\n    - total_commands_processed\n    - instantaneous_ops_per_sec\n    - latest_fork_usec\n    - mem_fragmentation_ratio\n    - used_cpu_sys\n    - used_cpu_user\n    - used_cpu_sys_children\n    - used_cpu_user_children\n    - registered_jobs\n    - registered_queues\n',image:Sy.a},{id:"dmcache",name:"DMCache",url:"telegraf-plugins/dmcache",markdown:"# DMCache Input Plugin\n\nThis plugin provide a native collection for dmsetup based statistics for dm-cache.\n\nThis plugin requires sudo, that is why you should setup and be sure that the telegraf is able to execute sudo without a password.\n\n`sudo /sbin/dmsetup status --target cache` is the full command that telegraf will run for debugging purposes.\n\n### Configuration\n\n```toml\n[[inputs.dmcache]]\n  ## Whether to report per-device stats or not\n  per_device = true\n```\n\n### Measurements & Fields:\n\n- dmcache\n    - length\n    - target\n    - metadata_blocksize\n    - metadata_used\n    - metadata_total\n    - cache_blocksize\n    - cache_used\n    - cache_total\n    - read_hits\n    - read_misses\n    - write_hits\n    - write_misses\n    - demotions\n    - promotions\n    - dirty\n\n### Tags:\n\n- All measurements have the following tags:\n    - device\n\n### Example Output:\n\n```\n$ ./telegraf --test --config /etc/telegraf/telegraf.conf --input-filter dmcache\n* Plugin: inputs.dmcache, Collection 1\n> dmcache,device=example cache_blocksize=0i,read_hits=995134034411520i,read_misses=916807089127424i,write_hits=195107267543040i,metadata_used=12861440i,write_misses=563725346013184i,promotions=3265223720960i,dirty=0i,metadata_blocksize=0i,cache_used=1099511627776ii,cache_total=0i,length=0i,metadata_total=1073741824i,demotions=3265223720960i 1491482035000000000\n```\n",image:Ty.a},{id:"dns_query",name:"DNS Query",url:"telegraf-plugins/dns_query",markdown:'# DNS Query Input Plugin\n\nThe DNS plugin gathers dns query times in miliseconds - like [Dig](https://en.wikipedia.org/wiki/Dig_\\(command\\))\n\n### Configuration:\n```toml\n# Query given DNS server and gives statistics\n[[inputs.dns_query]]\n  ## servers to query\n  servers = ["8.8.8.8"]\n\n  ## Network is the network protocol name.\n  # network = "udp"\n\n  ## Domains or subdomains to query.\n  # domains = ["."]\n\n  ## Query record type.\n  ## Possible values: A, AAAA, CNAME, MX, NS, PTR, TXT, SOA, SPF, SRV.\n  # record_type = "A"\n\n  ## Dns server port.\n  # port = 53\n\n  ## Query timeout in seconds.\n  # timeout = 2\n```\n\n### Metrics:\n\n- dns_query\n  - tags:\n    - server\n    - domain\n    - record_type\n    - result\n    - rcode\n  - fields:\n    - query_time_ms (float)\n    - result_code (int, success = 0, timeout = 1, error = 2)\n    - rcode_value (int)\n\n\n### Rcode Descriptions\n|rcode_value|rcode|Description|\n|---|-----------|-----------------------------------|\n|0  | NoError   | No Error                          |\n|1  | FormErr   | Format Error                      |\n|2  | ServFail  | Server Failure                    |\n|3  | NXDomain  | Non-Existent Domain               |\n|4  | NotImp    | Not Implemented                   |\n|5  | Refused   | Query Refused                     |\n|6  | YXDomain  | Name Exists when it should not    |\n|7  | YXRRSet   | RR Set Exists when it should not  |\n|8  | NXRRSet   | RR Set that should exist does not |\n|9  | NotAuth   | Server Not Authoritative for zone |\n|10 | NotZone   | Name not contained in zone        |\n|16 | BADSIG    | TSIG Signature Failure            |\n|16 | BADVERS   | Bad OPT Version                   |\n|17 | BADKEY    | Key not recognized                |\n|18 | BADTIME   | Signature out of time window      |\n|19 | BADMODE   | Bad TKEY Mode                     |\n|20 | BADNAME   | Duplicate key name                |\n|21 | BADALG    | Algorithm not supported           |\n|22 | BADTRUNC  | Bad Truncation                    |\n|23 | BADCOOKIE | Bad/missing Server Cookie         |\n\n\n### Example Output:\n\n```\ndns_query,domain=google.com,rcode=NOERROR,record_type=A,result=success,server=127.0.0.1 rcode_value=0i,result_code=0i,query_time_ms=0.13746 1550020750001000000\n```\n',image:Dy.a},{id:"docker",name:"Docker",url:"telegraf-plugins/docker",markdown:'# Docker Input Plugin\n\nThe docker plugin uses the Docker Engine API to gather metrics on running\ndocker containers.\n\nThe docker plugin uses the [Official Docker Client](https://github.com/moby/moby/tree/master/client)\nto gather stats from the [Engine API](https://docs.docker.com/engine/api/v1.24/).\n\n### Configuration:\n\n```toml\n# Read metrics about docker containers\n[[inputs.docker]]\n  ## Docker Endpoint\n  ##   To use TCP, set endpoint = "tcp://[ip]:[port]"\n  ##   To use environment variables (ie, docker-machine), set endpoint = "ENV"\n  endpoint = "unix:///var/run/docker.sock"\n\n  ## Set to true to collect Swarm metrics(desired_replicas, running_replicas)\n  ## Note: configure this in one of the manager nodes in a Swarm cluster.\n  ## configuring in multiple Swarm managers results in duplication of metrics.\n  gather_services = false\n\n  ## Only collect metrics for these containers. Values will be appended to\n  ## container_name_include.\n  ## Deprecated (1.4.0), use container_name_include\n  container_names = []\n\n  ## Set the source tag for the metrics to the container ID hostname, eg first 12 chars\n  source_tag = false\n\n  ## Containers to include and exclude. Collect all if empty. Globs accepted.\n  container_name_include = []\n  container_name_exclude = []\n\n  ## Container states to include and exclude. Globs accepted.\n  ## When empty only containers in the "running" state will be captured.\n  ## example: container_state_include = ["created", "restarting", "running", "removing", "paused", "exited", "dead"]\n  ## example: container_state_exclude = ["created", "restarting", "running", "removing", "paused", "exited", "dead"]\n  # container_state_include = []\n  # container_state_exclude = []\n\n  ## Timeout for docker list, info, and stats commands\n  timeout = "5s"\n\n  ## Whether to report for each container per-device blkio (8:0, 8:1...) and\n  ## network (eth0, eth1, ...) stats or not\n  perdevice = true\n\n  ## Whether to report for each container total blkio and network stats or not\n  total = false\n\n  ## docker labels to include and exclude as tags.  Globs accepted.\n  ## Note that an empty array for both will include all labels as tags\n  docker_label_include = []\n  docker_label_exclude = []\n\n  ## Which environment variables should we use as a tag\n  tag_env = ["JAVA_HOME", "HEAP_SIZE"]\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n#### Environment Configuration\n\nWhen using the `"ENV"` endpoint, the connection is configured using the\n[cli Docker environment variables](https://godoc.org/github.com/moby/moby/client#NewEnvClient).\n\n#### Security\n\nGiving telegraf access to the Docker daemon expands the [attack surface](https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface) that could result in an attacker gaining root access to a machine. This is especially relevant if the telegraf configuration can be changed by untrusted users.\n\n#### Docker Daemon Permissions\n\nTypically, telegraf must be given permission to access the docker daemon unix\nsocket when using the default endpoint. This can be done by adding the\n`telegraf` unix user (created when installing a Telegraf package) to the\n`docker` unix group with the following command:\n\n```\nsudo usermod -aG docker telegraf\n```\n\nIf telegraf is run within a container, the unix socket will need to be exposed\nwithin the telegraf container. This can be done in the docker CLI by add the\noption `-v /var/run/docker.sock:/var/run/docker.sock` or adding the following\nlines to the telegraf container definition in a docker compose file:\n\n```\nvolumes:\n  - /var/run/docker.sock:/var/run/docker.sock\n```\n\n#### source tag\n\nSelecting the containers measurements can be tricky if you have many containers with the same name.\nTo alleviate this issue you can set the below value to `true`\n\n```toml\nsource_tag = true\n```\n\nThis will cause all measurements to have the `source` tag be set to the first 12 characters of the container id. The first 12 characters is the common hostname for containers that have no explicit hostname set, as defined by docker.\n\n#### Kubernetes Labels\n\nKubernetes may add many labels to your containers, if they are not needed you\nmay prefer to exclude them:\n```\n  docker_label_exclude = ["annotation.kubernetes*"]\n```\n\n### Metrics:\n\n- docker\n  - tags:\n    - unit\n    - engine_host\n    - server_version\n  + fields:\n    - n_used_file_descriptors\n    - n_cpus\n    - n_containers\n    - n_containers_running\n    - n_containers_stopped\n    - n_containers_paused\n    - n_images\n    - n_goroutines\n    - n_listener_events\n    - memory_total\n    - pool_blocksize (requires devicemapper storage driver) (deprecated see: `docker_devicemapper`)\n\nThe `docker_data` and `docker_metadata` measurements are available only for\nsome storage drivers such as devicemapper.\n\n+ docker_data (deprecated see: `docker_devicemapper`)\n  - tags:\n    - unit\n    - engine_host\n    - server_version\n  + fields:\n    - available\n    - total\n    - used\n\n- docker_metadata (deprecated see: `docker_devicemapper`)\n  - tags:\n    - unit\n    - engine_host\n    - server_version\n  + fields:\n    - available\n    - total\n    - used\n\nThe above measurements for the devicemapper storage driver can now be found in the new `docker_devicemapper` measurement\n\n- docker_devicemapper\n  - tags:\n    - engine_host\n    - server_version\n    - pool_name\n  + fields:\n    - pool_blocksize_bytes\n    - data_space_used_bytes\n    - data_space_total_bytes\n    - data_space_available_bytes\n    - metadata_space_used_bytes\n    - metadata_space_total_bytes\n    - metadata_space_available_bytes\n    - thin_pool_minimum_free_space_bytes\n\n+ docker_container_mem\n  - tags:\n    - engine_host\n    - server_version\n    - container_image\n    - container_name\n    - container_status\n    - container_version\n  + fields:\n    - total_pgmajfault\n    - cache\n    - mapped_file\n    - total_inactive_file\n    - pgpgout\n    - rss\n    - total_mapped_file\n    - writeback\n    - unevictable\n    - pgpgin\n    - total_unevictable\n    - pgmajfault\n    - total_rss\n    - total_rss_huge\n    - total_writeback\n    - total_inactive_anon\n    - rss_huge\n    - hierarchical_memory_limit\n    - total_pgfault\n    - total_active_file\n    - active_anon\n    - total_active_anon\n    - total_pgpgout\n    - total_cache\n    - inactive_anon\n    - active_file\n    - pgfault\n    - inactive_file\n    - total_pgpgin\n    - max_usage\n    - usage\n    - failcnt\n    - limit\n    - container_id\n\n- docker_container_cpu\n  - tags:\n    - engine_host\n    - server_version\n    - container_image\n    - container_name\n    - container_status\n    - container_version\n    - cpu\n  + fields:\n    - throttling_periods\n    - throttling_throttled_periods\n    - throttling_throttled_time\n    - usage_in_kernelmode\n    - usage_in_usermode\n    - usage_system\n    - usage_total\n    - usage_percent\n    - container_id\n\n+ docker_container_net\n  - tags:\n    - engine_host\n    - server_version\n    - container_image\n    - container_name\n    - container_status\n    - container_version\n    - network\n  + fields:\n    - rx_dropped\n    - rx_bytes\n    - rx_errors\n    - tx_packets\n    - tx_dropped\n    - rx_packets\n    - tx_errors\n    - tx_bytes\n    - container_id\n\n- docker_container_blkio\n  - tags:\n    - engine_host\n    - server_version\n    - container_image\n    - container_name\n    - container_status\n    - container_version\n    - device\n  - fields:\n    - io_service_bytes_recursive_async\n    - io_service_bytes_recursive_read\n    - io_service_bytes_recursive_sync\n    - io_service_bytes_recursive_total\n    - io_service_bytes_recursive_write\n    - io_serviced_recursive_async\n    - io_serviced_recursive_read\n    - io_serviced_recursive_sync\n    - io_serviced_recursive_total\n    - io_serviced_recursive_write\n    - container_id\n\nThe `docker_container_health` measurements report on a containers\n[HEALTHCHECK](https://docs.docker.com/engine/reference/builder/#healthcheck)\nstatus if configured.\n\n- docker_container_health (container must use the HEALTHCHECK)\n  - tags:\n    - engine_host\n    - server_version\n    - container_image\n    - container_name\n    - container_status\n    - container_version\n  - fields:\n  \t- health_status (string)\n  \t- failing_streak (integer)\n\n- docker_container_status\n  - tags:\n    - engine_host\n    - server_version\n    - container_image\n    - container_name\n    - container_status\n    - container_version\n  - fields:\n    - container_id\n    - oomkilled (boolean)\n    - pid (integer)\n    - exitcode (integer)\n    - started_at (integer)\n    - finished_at (integer)\n    - uptime_ns (integer)\n\n- docker_swarm\n  - tags:\n    - service_id\n    - service_name\n    - service_mode\n  - fields:\n    - tasks_desired\n    - tasks_running\n\n### Example Output:\n\n```\ndocker,engine_host=debian-stretch-docker,server_version=17.09.0-ce n_containers=6i,n_containers_paused=0i,n_containers_running=1i,n_containers_stopped=5i,n_cpus=2i,n_goroutines=41i,n_images=2i,n_listener_events=0i,n_used_file_descriptors=27i 1524002041000000000\ndocker,engine_host=debian-stretch-docker,server_version=17.09.0-ce,unit=bytes memory_total=2101661696i 1524002041000000000\ndocker_container_mem,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,engine_host=debian-stretch-docker,server_version=17.09.0-ce active_anon=8327168i,active_file=2314240i,cache=27402240i,container_id="adc4ba9593871bf2ab95f3ffde70d1b638b897bb225d21c2c9c84226a10a8cf4",hierarchical_memory_limit=9223372036854771712i,inactive_anon=0i,inactive_file=25088000i,limit=2101661696i,mapped_file=20582400i,max_usage=36646912i,pgfault=4193i,pgmajfault=214i,pgpgin=9243i,pgpgout=520i,rss=8327168i,rss_huge=0i,total_active_anon=8327168i,total_active_file=2314240i,total_cache=27402240i,total_inactive_anon=0i,total_inactive_file=25088000i,total_mapped_file=20582400i,total_pgfault=4193i,total_pgmajfault=214i,total_pgpgin=9243i,total_pgpgout=520i,total_rss=8327168i,total_rss_huge=0i,total_unevictable=0i,total_writeback=0i,unevictable=0i,usage=36528128i,usage_percent=0.4342225020025297,writeback=0i 1524002042000000000\ndocker_container_cpu,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,cpu=cpu-total,engine_host=debian-stretch-docker,server_version=17.09.0-ce container_id="adc4ba9593871bf2ab95f3ffde70d1b638b897bb225d21c2c9c84226a10a8cf4",throttling_periods=0i,throttling_throttled_periods=0i,throttling_throttled_time=0i,usage_in_kernelmode=40000000i,usage_in_usermode=100000000i,usage_percent=0,usage_system=6394210000000i,usage_total=117319068i 1524002042000000000\ndocker_container_cpu,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,cpu=cpu0,engine_host=debian-stretch-docker,server_version=17.09.0-ce container_id="adc4ba9593871bf2ab95f3ffde70d1b638b897bb225d21c2c9c84226a10a8cf4",usage_total=20825265i 1524002042000000000\ndocker_container_cpu,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,cpu=cpu1,engine_host=debian-stretch-docker,server_version=17.09.0-ce container_id="adc4ba9593871bf2ab95f3ffde70d1b638b897bb225d21c2c9c84226a10a8cf4",usage_total=96493803i 1524002042000000000\ndocker_container_net,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,engine_host=debian-stretch-docker,network=eth0,server_version=17.09.0-ce container_id="adc4ba9593871bf2ab95f3ffde70d1b638b897bb225d21c2c9c84226a10a8cf4",rx_bytes=1576i,rx_dropped=0i,rx_errors=0i,rx_packets=20i,tx_bytes=0i,tx_dropped=0i,tx_errors=0i,tx_packets=0i 1524002042000000000\ndocker_container_blkio,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,device=254:0,engine_host=debian-stretch-docker,server_version=17.09.0-ce container_id="adc4ba9593871bf2ab95f3ffde70d1b638b897bb225d21c2c9c84226a10a8cf4",io_service_bytes_recursive_async=27398144i,io_service_bytes_recursive_read=27398144i,io_service_bytes_recursive_sync=0i,io_service_bytes_recursive_total=27398144i,io_service_bytes_recursive_write=0i,io_serviced_recursive_async=529i,io_serviced_recursive_read=529i,io_serviced_recursive_sync=0i,io_serviced_recursive_total=529i,io_serviced_recursive_write=0i 1524002042000000000\ndocker_container_health,container_image=telegraf,container_name=zen_ritchie,container_status=running,container_version=unknown,engine_host=debian-stretch-docker,server_version=17.09.0-ce failing_streak=0i,health_status="healthy" 1524007529000000000\ndocker_swarm,service_id=xaup2o9krw36j2dy1mjx1arjw,service_mode=replicated,service_name=test tasks_desired=3,tasks_running=3 1508968160000000000\n```\n',image:Ny.a},{id:"docker_log",name:"Docker Log",url:"telegraf-plugins/docker_log",markdown:'# Docker Log Input Plugin\n\nThe docker log plugin uses the Docker Engine API to get logs on running\ndocker containers.\n\nThe docker plugin uses the [Official Docker Client][] to gather logs from the\n[Engine API][].\n\n**Note:** This plugin works only for containers with the `local` or\n`json-file` or `journald` logging driver.\n\n[Official Docker Client]: https://github.com/moby/moby/tree/master/client\n[Engine API]: https://docs.docker.com/engine/api/v1.24/\n\n### Configuration\n\n```toml\n[[inputs.docker_log]]\n  ## Docker Endpoint\n  ##   To use TCP, set endpoint = "tcp://[ip]:[port]"\n  ##   To use environment variables (ie, docker-machine), set endpoint = "ENV"\n  # endpoint = "unix:///var/run/docker.sock"\n\n  ## When true, container logs are read from the beginning; otherwise\n  ## reading begins at the end of the log.\n  # from_beginning = false\n\n  ## Timeout for Docker API calls.\n  # timeout = "5s"\n\n  ## Containers to include and exclude. Globs accepted.\n  ## Note that an empty array for both will include all containers\n  # container_name_include = []\n  # container_name_exclude = []\n\n  ## Container states to include and exclude. Globs accepted.\n  ## When empty only containers in the "running" state will be captured.\n  # container_state_include = []\n  # container_state_exclude = []\n\n  ## docker labels to include and exclude as tags.  Globs accepted.\n  ## Note that an empty array for both will include all labels as tags\n  # docker_label_include = []\n  # docker_label_exclude = []\n\n  ## Set the source tag for the metrics to the container ID hostname, eg first 12 chars\n  source_tag = false\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n#### Environment Configuration\n\nWhen using the `"ENV"` endpoint, the connection is configured using the\n[CLI Docker environment variables][env]\n\n[env]: https://godoc.org/github.com/moby/moby/client#NewEnvClient\n\n### source tag\n\nSelecting the containers can be tricky if you have many containers with the same name.\nTo alleviate this issue you can set the below value to `true`\n\n```toml\nsource_tag = true\n```\n\nThis will cause all data points to have the `source` tag be set to the first 12 characters of the container id. The first 12 characters is the common hostname for containers that have no explicit hostname set, as defined by docker.\n\n### Metrics\n\n- docker_log\n  - tags:\n    - container_image\n    - container_version\n    - container_name\n    - stream (stdout, stderr, or tty)\n    - source\n  - fields:\n    - container_id\n    - message\n\n### Example Output\n\n```\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! [agent] Config: Interval:10s, Quiet:false, Hostname:\\"371ee5d3e587\\", Flush Interval:10s" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Tags enabled: host=371ee5d3e587" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Loaded outputs: file" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Loaded processors:" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Loaded aggregators:" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Loaded inputs: net" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Using config file: /etc/telegraf/telegraf.conf" 1560913872000000000\ndocker_log,container_image=telegraf,container_name=sharp_bell,container_version=alpine,stream=stderr container_id="371ee5d3e58726112f499be62cddef800138ca72bbba635ed2015fbf475b1023",message="2019-06-19T03:11:11Z I! Starting Telegraf 1.10.4" 1560913872000000000\n```\n',image:jy.a},{id:"dovecot",name:"Dovecot",url:"telegraf-plugins/dovecot",markdown:'# Dovecot Input Plugin\n\nThe dovecot plugin uses the Dovecot [v2.1 stats protocol][stats old] to gather\nmetrics on configured domains.\n\nWhen using Dovecot v2.3 you are still able to use this protocol by following\nthe [upgrading steps][upgrading].\n\n### Configuration:\n\n```toml\n# Read metrics about dovecot servers\n[[inputs.dovecot]]\n  ## specify dovecot servers via an address:port list\n  ##  e.g.\n  ##    localhost:24242\n  ##\n  ## If no servers are specified, then localhost is used as the host.\n  servers = ["localhost:24242"]\n\n  ## Type is one of "user", "domain", "ip", or "global"\n  type = "global"\n  \n  ## Wildcard matches like "*.com". An empty string "" is same as "*"\n  ## If type = "ip" filters should be <IP/network>\n  filters = [""]\n```\n\n### Metrics:\n\n- dovecot\n  - tags:\n\t- server (hostname)\n\t- type (query type)\n\t- ip (ip addr)\n\t- user (username)\n\t- domain (domain name)\n  - fields:\n\t- reset_timestamp (string)\n\t- last_update (string)\n\t- num_logins (integer)\n\t- num_cmds (integer)\n\t- num_connected_sessions (integer)\n\t- user_cpu (float)\n\t- sys_cpu (float)\n\t- clock_time (float)\n\t- min_faults (integer)\n\t- maj_faults (integer)\n\t- vol_cs (integer)\n\t- invol_cs (integer)\n\t- disk_input (integer)\n\t- disk_output (integer)\n\t- read_count (integer)\n\t- read_bytes (integer)\n\t- write_count (integer)\n\t- write_bytes (integer)\n\t- mail_lookup_path (integer)\n\t- mail_lookup_attr (integer)\n\t- mail_read_count (integer)\n\t- mail_read_bytes (integer)\n\t- mail_cache_hits (integer)\n\n\n### Example Output:\n\n```\ndovecot,server=dovecot-1.domain.test,type=global clock_time=101196971074203.94,disk_input=6493168218112i,disk_output=17978638815232i,invol_cs=1198855447i,last_update="2016-04-08 11:04:13.000379245 +0200 CEST",mail_cache_hits=68192209i,mail_lookup_attr=0i,mail_lookup_path=653861i,mail_read_bytes=86705151847i,mail_read_count=566125i,maj_faults=17208i,min_faults=1286179702i,num_cmds=917469i,num_connected_sessions=8896i,num_logins=174827i,read_bytes=30327690466186i,read_count=1772396430i,reset_timestamp="2016-04-08 10:28:45 +0200 CEST",sys_cpu=157965.692,user_cpu=219337.48,vol_cs=2827615787i,write_bytes=17150837661940i,write_count=992653220i 1460106266642153907\n```\n\n[stats old]: http://wiki2.dovecot.org/Statistics/Old\n[upgrading]: https://wiki2.dovecot.org/Upgrading/2.3#Statistics_Redesign\n',image:Py.a},{id:"ecs",name:"Amazon ECS",url:"telegraf-plugins/ecs",markdown:'# Amazon ECS Input Plugin\n\nAmazon ECS, Fargate compatible, input plugin which uses the Amazon ECS metadata and\nstats [v2][task-metadata-endpoint-v2] or [v3][task-metadata-endpoint-v3] API endpoints\nto gather stats on running containers in a Task.\n\nThe telegraf container must be run in the same Task as the workload it is\ninspecting.\n\nThis is similar to (and reuses a few pieces of) the [Docker][docker-input]\ninput plugin, with some ECS specific modifications for AWS metadata and stats\nformats.\n\nThe amazon-ecs-agent (though it _is_ a container running on the host) is not\npresent in the metadata/stats endpoints.\n\n### Configuration\n\n```toml\n# Read metrics about ECS containers\n[[inputs.ecs]]\n  ## ECS metadata url.\n  ## Metadata v2 API is used if set explicitly. Otherwise,\n  ## v3 metadata endpoint API is used if available.\n  # endpoint_url = ""\n\n  ## Containers to include and exclude. Globs accepted.\n  ## Note that an empty array for both will include all containers\n  # container_name_include = []\n  # container_name_exclude = []\n\n  ## Container states to include and exclude. Globs accepted.\n  ## When empty only containers in the "RUNNING" state will be captured.\n  ## Possible values are "NONE", "PULLED", "CREATED", "RUNNING",\n  ## "RESOURCES_PROVISIONED", "STOPPED".\n  # container_status_include = []\n  # container_status_exclude = []\n\n  ## ecs labels to include and exclude as tags.  Globs accepted.\n  ## Note that an empty array for both will include all labels as tags\n  ecs_label_include = [ "com.amazonaws.ecs.*" ]\n  ecs_label_exclude = []\n\n  ## Timeout for queries.\n  # timeout = "5s"\n```\n\n### Configuration (enforce v2 metadata)\n\n```toml\n# Read metrics about ECS containers\n[[inputs.ecs]]\n  ## ECS metadata url.\n  ## Metadata v2 API is used if set explicitly. Otherwise,\n  ## v3 metadata endpoint API is used if available.\n  endpoint_url = "http://169.254.170.2"\n\n  ## Containers to include and exclude. Globs accepted.\n  ## Note that an empty array for both will include all containers\n  # container_name_include = []\n  # container_name_exclude = []\n\n  ## Container states to include and exclude. Globs accepted.\n  ## When empty only containers in the "RUNNING" state will be captured.\n  ## Possible values are "NONE", "PULLED", "CREATED", "RUNNING",\n  ## "RESOURCES_PROVISIONED", "STOPPED".\n  # container_status_include = []\n  # container_status_exclude = []\n\n  ## ecs labels to include and exclude as tags.  Globs accepted.\n  ## Note that an empty array for both will include all labels as tags\n  ecs_label_include = [ "com.amazonaws.ecs.*" ]\n  ecs_label_exclude = []\n\n  ## Timeout for queries.\n  # timeout = "5s"\n```\n\n### Metrics\n\n- ecs_task\n  - tags:\n    - cluster\n    - task_arn\n    - family\n    - revision\n    - id\n    - name\n  - fields:\n    - revision (string)\n    - desired_status (string)\n    - known_status (string)\n    - limit_cpu (float)\n    - limit_mem (float)\n\n+ ecs_container_mem\n  - tags:\n    - cluster\n    - task_arn\n    - family\n    - revision\n    - id\n    - name\n  - fields:\n    - container_id\n    - active_anon\n    - active_file\n    - cache\n    - hierarchical_memory_limit\n    - inactive_anon\n    - inactive_file\n    - mapped_file\n    - pgfault\n    - pgmajfault\n    - pgpgin\n    - pgpgout\n    - rss\n    - rss_huge\n    - total_active_anon\n    - total_active_file\n    - total_cache\n    - total_inactive_anon\n    - total_inactive_file\n    - total_mapped_file\n    - total_pgfault\n    - total_pgmajfault\n    - total_pgpgin\n    - total_pgpgout\n    - total_rss\n    - total_rss_huge\n    - total_unevictable\n    - total_writeback\n    - unevictable\n    - writeback\n    - fail_count\n    - limit\n    - max_usage\n    - usage\n    - usage_percent\n\n- ecs_container_cpu\n  - tags:\n    - cluster\n    - task_arn\n    - family\n    - revision\n    - id\n    - name\n    - cpu\n  - fields:\n    - container_id\n    - usage_total\n    - usage_in_usermode\n    - usage_in_kernelmode\n    - usage_system\n    - throttling_periods\n    - throttling_throttled_periods\n    - throttling_throttled_time\n    - usage_percent\n    - usage_total\n\n+ ecs_container_net\n  - tags:\n    - cluster\n    - task_arn\n    - family\n    - revision\n    - id\n    - name\n    - network\n  - fields:\n    - container_id\n    - rx_packets\n    - rx_dropped\n    - rx_bytes\n    - rx_errors\n    - tx_packets\n    - tx_dropped\n    - tx_bytes\n    - tx_errors\n\n- ecs_container_blkio\n  - tags:\n    - cluster\n    - task_arn\n    - family\n    - revision\n    - id\n    - name\n    - device\n  - fields:\n    - container_id\n    - io_service_bytes_recursive_async\n    - io_service_bytes_recursive_read\n    - io_service_bytes_recursive_sync\n    - io_service_bytes_recursive_total\n    - io_service_bytes_recursive_write\n    - io_serviced_recursive_async\n    - io_serviced_recursive_read\n    - io_serviced_recursive_sync\n    - io_serviced_recursive_total\n    - io_serviced_recursive_write\n\n+ ecs_container_meta\n  - tags:\n    - cluster\n    - task_arn\n    - family\n    - revision\n    - id\n    - name\n  - fields:\n    - container_id\n    - docker_name\n    - image\n    - image_id\n    - desired_status\n    - known_status\n    - limit_cpu\n    - limit_mem\n    - created_at\n    - started_at\n    - type\n\n\n### Example Output\n\n```\necs_task,cluster=test,family=nginx,host=c4b301d4a123,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a revision="2",desired_status="RUNNING",known_status="RUNNING",limit_cpu=0.5,limit_mem=512 1542641488000000000\necs_container_mem,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a active_anon=40960i,active_file=8192i,cache=790528i,pgpgin=1243i,total_pgfault=1298i,total_rss=40960i,limit=1033658368i,max_usage=4825088i,hierarchical_memory_limit=536870912i,rss=40960i,total_active_file=8192i,total_mapped_file=618496i,usage_percent=0.05349543109392212,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",pgfault=1298i,pgmajfault=6i,pgpgout=1040i,total_active_anon=40960i,total_inactive_file=782336i,total_pgpgin=1243i,usage=552960i,inactive_file=782336i,mapped_file=618496i,total_cache=790528i,total_pgpgout=1040i 1542642001000000000\necs_container_cpu,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,cpu=cpu-total,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a usage_in_kernelmode=0i,throttling_throttled_periods=0i,throttling_periods=0i,throttling_throttled_time=0i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",usage_percent=0,usage_total=26426156i,usage_in_usermode=20000000i,usage_system=2336100000000i 1542642001000000000\necs_container_cpu,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,cpu=cpu0,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",usage_total=26426156i 1542642001000000000\necs_container_net,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,network=eth0,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a rx_errors=0i,rx_packets=36i,tx_errors=0i,tx_bytes=648i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",rx_dropped=0i,rx_bytes=5338i,tx_packets=8i,tx_dropped=0i 1542642001000000000\necs_container_net,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,network=eth5,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a rx_errors=0i,tx_packets=9i,rx_packets=26i,tx_errors=0i,rx_bytes=4641i,tx_dropped=0i,tx_bytes=690i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",rx_dropped=0i 1542642001000000000\necs_container_net,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,network=total,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a rx_dropped=0i,rx_bytes=9979i,rx_errors=0i,rx_packets=62i,tx_bytes=1338i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",tx_packets=17i,tx_dropped=0i,tx_errors=0i 1542642001000000000\necs_container_blkio,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,device=253:1,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a io_service_bytes_recursive_sync=790528i,io_service_bytes_recursive_total=790528i,io_serviced_recursive_sync=10i,io_serviced_recursive_write=0i,io_serviced_recursive_async=0i,io_serviced_recursive_total=10i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",io_service_bytes_recursive_read=790528i,io_service_bytes_recursive_write=0i,io_service_bytes_recursive_async=0i,io_serviced_recursive_read=10i 1542642001000000000\necs_container_blkio,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,device=253:2,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a io_service_bytes_recursive_sync=790528i,io_service_bytes_recursive_total=790528i,io_serviced_recursive_async=0i,io_serviced_recursive_total=10i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",io_service_bytes_recursive_read=790528i,io_service_bytes_recursive_write=0i,io_service_bytes_recursive_async=0i,io_serviced_recursive_read=10i,io_serviced_recursive_write=0i,io_serviced_recursive_sync=10i 1542642001000000000\necs_container_blkio,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,device=253:4,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a io_service_bytes_recursive_write=0i,io_service_bytes_recursive_sync=790528i,io_service_bytes_recursive_async=0i,io_service_bytes_recursive_total=790528i,io_serviced_recursive_async=0i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",io_service_bytes_recursive_read=790528i,io_serviced_recursive_read=10i,io_serviced_recursive_write=0i,io_serviced_recursive_sync=10i,io_serviced_recursive_total=10i 1542642001000000000\necs_container_blkio,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,device=202:26368,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a io_serviced_recursive_read=10i,io_serviced_recursive_write=0i,io_serviced_recursive_sync=10i,io_serviced_recursive_async=0i,io_serviced_recursive_total=10i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",io_service_bytes_recursive_sync=790528i,io_service_bytes_recursive_total=790528i,io_service_bytes_recursive_async=0i,io_service_bytes_recursive_read=790528i,io_service_bytes_recursive_write=0i 1542642001000000000\necs_container_blkio,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,device=total,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a io_serviced_recursive_async=0i,io_serviced_recursive_read=40i,io_serviced_recursive_sync=40i,io_serviced_recursive_write=0i,io_serviced_recursive_total=40i,io_service_bytes_recursive_read=3162112i,io_service_bytes_recursive_write=0i,io_service_bytes_recursive_async=0i,container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",io_service_bytes_recursive_sync=3162112i,io_service_bytes_recursive_total=3162112i 1542642001000000000\necs_container_meta,cluster=test,com.amazonaws.ecs.cluster=test,com.amazonaws.ecs.container-name=~internal~ecs~pause,com.amazonaws.ecs.task-arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a,com.amazonaws.ecs.task-definition-family=nginx,com.amazonaws.ecs.task-definition-version=2,family=nginx,host=c4b301d4a123,id=e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba,name=~internal~ecs~pause,revision=2,task_arn=arn:aws:ecs:aws-region-1:012345678901:task/a1234abc-a0a0-0a01-ab01-0abc012a0a0a limit_mem=0,type="CNI_PAUSE",container_id="e6af031b91deb3136a2b7c42f262ed2ab554e2fe2736998c7d8edf4afe708dba",docker_name="ecs-nginx-2-internalecspause",limit_cpu=0,known_status="RESOURCES_PROVISIONED",image="amazon/amazon-ecs-pause:0.1.0",image_id="",desired_status="RESOURCES_PROVISIONED" 1542642001000000000\n```\n\n[docker-input]: /plugins/inputs/docker/README.md\n[task-metadata-endpoint-v2]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint-v2.html\n[task-metadata-endpoint-v3] https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint-v3.html\n',image:Ly.a},{id:"elasticsearch",name:"Elasticsearch",url:"telegraf-plugins/elasticsearch",markdown:'# Elasticsearch Input Plugin\n\nThe [elasticsearch](https://www.elastic.co/) plugin queries endpoints to obtain\n[Node Stats](https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-nodes-stats.html)\nand optionally\n[Cluster-Health](https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-health.html)\nmetrics.\n\nIn addition, the following optional queries are only made by the master node:\n [Cluster Stats](https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-stats.html)\n [Indices Stats](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-stats.html)\n [Shard Stats](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-stats.html)\n\nSpecific Elasticsearch endpoints that are queried:\n- Node: either /_nodes/stats or /_nodes/_local/stats depending on \'local\' configuration setting\n- Cluster Heath:  /_cluster/health?level=indices\n- Cluster Stats:  /_cluster/stats\n- Indices Stats:  /_all/_stats\n- Shard Stats:  /_all/_stats?level=shards\n\nNote that specific statistics information can change between Elasticsearch versions. In general, this plugin attempts to stay as version-generic as possible by tagging high-level categories only and using a generic json parser to make unique field names of whatever statistics names are provided at the mid-low level.\n\n### Configuration\n\n```toml\n[[inputs.elasticsearch]]\n  ## specify a list of one or more Elasticsearch servers\n  ## you can add username and password to your url to use basic authentication:\n  ## servers = ["http://user:pass@localhost:9200"]\n  servers = ["http://localhost:9200"]\n\n  ## Timeout for HTTP requests to the elastic search server(s)\n  http_timeout = "5s"\n\n  ## When local is true (the default), the node will read only its own stats.\n  ## Set local to false when you want to read the node stats from all nodes\n  ## of the cluster.\n  local = true\n\n  ## Set cluster_health to true when you want to obtain cluster health stats\n  cluster_health = false\n\n  ## Adjust cluster_health_level when you want to obtain detailed health stats\n  ## The options are\n  ##  - indices (default)\n  ##  - cluster\n  # cluster_health_level = "indices"\n\n  ## Set cluster_stats to true when you want to obtain cluster stats.\n  cluster_stats = false\n\n  ## Only gather cluster_stats from the master node. To work this require local = true\n  cluster_stats_only_from_master = true\n\n  ## Indices to collect; can be one or more indices names or _all\n  indices_include = ["_all"]\n\n  ## One of "shards", "cluster", "indices"\n  ## Currently only "shards" is implemented\n  indices_level = "shards"\n\n  ## node_stats is a list of sub-stats that you want to have gathered. Valid options\n  ## are "indices", "os", "process", "jvm", "thread_pool", "fs", "transport", "http",\n  ## "breaker". Per default, all stats are gathered.\n  # node_stats = ["jvm", "http"]\n\n  ## HTTP Basic Authentication username and password.\n  # username = ""\n  # password = ""\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\nEmitted when `cluster_health = true`:\n\n- elasticsearch_cluster_health\n  - tags:\n    - name\n  - fields:\n    - active_primary_shards (integer)\n    - active_shards (integer)\n    - active_shards_percent_as_number (float)\n    - delayed_unassigned_shards (integer)\n    - initializing_shards (integer)\n    - number_of_data_nodes (integer)\n    - number_of_in_flight_fetch (integer)\n    - number_of_nodes (integer)\n    - number_of_pending_tasks (integer)\n    - relocating_shards (integer)\n    - status (string, one of green, yellow or red)\n    - status_code (integer, green = 1, yellow = 2, red = 3),\n    - task_max_waiting_in_queue_millis (integer)\n    - timed_out (boolean)\n    - unassigned_shards (integer)\n\nEmitted when `cluster_health = true` and `cluster_health_level = "indices"`:\n\n- elasticsearch_cluster_health_indices\n  - tags:\n    - index\n    - name\n  - fields:\n    - active_primary_shards (integer)\n    - active_shards (integer)\n    - initializing_shards (integer)\n    - number_of_replicas (integer)\n    - number_of_shards (integer)\n    - relocating_shards (integer)\n    - status (string, one of green, yellow or red)\n    - status_code (integer, green = 1, yellow = 2, red = 3),\n    - unassigned_shards (integer)\n\nEmitted when `cluster_stats = true`:\n\n- elasticsearch_clusterstats_indices\n  - tags:\n    - cluster_name\n    - node_name\n    - status\n  - fields:\n    - completion_size_in_bytes (float)\n    - count (float)\n    - docs_count (float)\n    - docs_deleted (float)\n    - fielddata_evictions (float)\n    - fielddata_memory_size_in_bytes (float)\n    - query_cache_cache_count (float)\n    - query_cache_cache_size (float)\n    - query_cache_evictions (float)\n    - query_cache_hit_count (float)\n    - query_cache_memory_size_in_bytes (float)\n    - query_cache_miss_count (float)\n    - query_cache_total_count (float)\n    - segments_count (float)\n    - segments_doc_values_memory_in_bytes (float)\n    - segments_fixed_bit_set_memory_in_bytes (float)\n    - segments_index_writer_memory_in_bytes (float)\n    - segments_max_unsafe_auto_id_timestamp (float)\n    - segments_memory_in_bytes (float)\n    - segments_norms_memory_in_bytes (float)\n    - segments_points_memory_in_bytes (float)\n    - segments_stored_fields_memory_in_bytes (float)\n    - segments_term_vectors_memory_in_bytes (float)\n    - segments_terms_memory_in_bytes (float)\n    - segments_version_map_memory_in_bytes (float)\n    - shards_index_primaries_avg (float)\n    - shards_index_primaries_max (float)\n    - shards_index_primaries_min (float)\n    - shards_index_replication_avg (float)\n    - shards_index_replication_max (float)\n    - shards_index_replication_min (float)\n    - shards_index_shards_avg (float)\n    - shards_index_shards_max (float)\n    - shards_index_shards_min (float)\n    - shards_primaries (float)\n    - shards_replication (float)\n    - shards_total (float)\n    - store_size_in_bytes (float)\n\n+ elasticsearch_clusterstats_nodes\n  - tags:\n    - cluster_name\n    - node_name\n    - status\n  - fields:\n    - count_coordinating_only (float)\n    - count_data (float)\n    - count_ingest (float)\n    - count_master (float)\n    - count_total (float)\n    - fs_available_in_bytes (float)\n    - fs_free_in_bytes (float)\n    - fs_total_in_bytes (float)\n    - jvm_max_uptime_in_millis (float)\n    - jvm_mem_heap_max_in_bytes (float)\n    - jvm_mem_heap_used_in_bytes (float)\n    - jvm_threads (float)\n    - jvm_versions_0_count (float)\n    - jvm_versions_0_version (string)\n    - jvm_versions_0_vm_name (string)\n    - jvm_versions_0_vm_vendor (string)\n    - jvm_versions_0_vm_version (string)\n    - network_types_http_types_security4 (float)\n    - network_types_transport_types_security4 (float)\n    - os_allocated_processors (float)\n    - os_available_processors (float)\n    - os_mem_free_in_bytes (float)\n    - os_mem_free_percent (float)\n    - os_mem_total_in_bytes (float)\n    - os_mem_used_in_bytes (float)\n    - os_mem_used_percent (float)\n    - os_names_0_count (float)\n    - os_names_0_name (string)\n    - os_pretty_names_0_count (float)\n    - os_pretty_names_0_pretty_name (string)\n    - process_cpu_percent (float)\n    - process_open_file_descriptors_avg (float)\n    - process_open_file_descriptors_max (float)\n    - process_open_file_descriptors_min (float)\n    - versions_0 (string)\n\nEmitted when the appropriate `node_stats` options are set.\n\n- elasticsearch_transport\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - rx_count (float)\n    - rx_size_in_bytes (float)\n    - server_open (float)\n    - tx_count (float)\n    - tx_size_in_bytes (float)\n\n+ elasticsearch_breakers\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - accounting_estimated_size_in_bytes (float)\n    - accounting_limit_size_in_bytes (float)\n    - accounting_overhead (float)\n    - accounting_tripped (float)\n    - fielddata_estimated_size_in_bytes (float)\n    - fielddata_limit_size_in_bytes (float)\n    - fielddata_overhead (float)\n    - fielddata_tripped (float)\n    - in_flight_requests_estimated_size_in_bytes (float)\n    - in_flight_requests_limit_size_in_bytes (float)\n    - in_flight_requests_overhead (float)\n    - in_flight_requests_tripped (float)\n    - parent_estimated_size_in_bytes (float)\n    - parent_limit_size_in_bytes (float)\n    - parent_overhead (float)\n    - parent_tripped (float)\n    - request_estimated_size_in_bytes (float)\n    - request_limit_size_in_bytes (float)\n    - request_overhead (float)\n    - request_tripped (float)\n\n- elasticsearch_fs\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - data_0_available_in_bytes (float)\n    - data_0_free_in_bytes (float)\n    - data_0_total_in_bytes (float)\n    - io_stats_devices_0_operations (float)\n    - io_stats_devices_0_read_kilobytes (float)\n    - io_stats_devices_0_read_operations (float)\n    - io_stats_devices_0_write_kilobytes (float)\n    - io_stats_devices_0_write_operations (float)\n    - io_stats_total_operations (float)\n    - io_stats_total_read_kilobytes (float)\n    - io_stats_total_read_operations (float)\n    - io_stats_total_write_kilobytes (float)\n    - io_stats_total_write_operations (float)\n    - timestamp (float)\n    - total_available_in_bytes (float)\n    - total_free_in_bytes (float)\n    - total_total_in_bytes (float)\n\n+ elasticsearch_http\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - current_open (float)\n    - total_opened (float)\n\n- elasticsearch_indices\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - completion_size_in_bytes (float)\n    - docs_count (float)\n    - docs_deleted (float)\n    - fielddata_evictions (float)\n    - fielddata_memory_size_in_bytes (float)\n    - flush_periodic (float)\n    - flush_total (float)\n    - flush_total_time_in_millis (float)\n    - get_current (float)\n    - get_exists_time_in_millis (float)\n    - get_exists_total (float)\n    - get_missing_time_in_millis (float)\n    - get_missing_total (float)\n    - get_time_in_millis (float)\n    - get_total (float)\n    - indexing_delete_current (float)\n    - indexing_delete_time_in_millis (float)\n    - indexing_delete_total (float)\n    - indexing_index_current (float)\n    - indexing_index_failed (float)\n    - indexing_index_time_in_millis (float)\n    - indexing_index_total (float)\n    - indexing_noop_update_total (float)\n    - indexing_throttle_time_in_millis (float)\n    - merges_current (float)\n    - merges_current_docs (float)\n    - merges_current_size_in_bytes (float)\n    - merges_total (float)\n    - merges_total_auto_throttle_in_bytes (float)\n    - merges_total_docs (float)\n    - merges_total_size_in_bytes (float)\n    - merges_total_stopped_time_in_millis (float)\n    - merges_total_throttled_time_in_millis (float)\n    - merges_total_time_in_millis (float)\n    - query_cache_cache_count (float)\n    - query_cache_cache_size (float)\n    - query_cache_evictions (float)\n    - query_cache_hit_count (float)\n    - query_cache_memory_size_in_bytes (float)\n    - query_cache_miss_count (float)\n    - query_cache_total_count (float)\n    - recovery_current_as_source (float)\n    - recovery_current_as_target (float)\n    - recovery_throttle_time_in_millis (float)\n    - refresh_listeners (float)\n    - refresh_total (float)\n    - refresh_total_time_in_millis (float)\n    - request_cache_evictions (float)\n    - request_cache_hit_count (float)\n    - request_cache_memory_size_in_bytes (float)\n    - request_cache_miss_count (float)\n    - search_fetch_current (float)\n    - search_fetch_time_in_millis (float)\n    - search_fetch_total (float)\n    - search_open_contexts (float)\n    - search_query_current (float)\n    - search_query_time_in_millis (float)\n    - search_query_total (float)\n    - search_scroll_current (float)\n    - search_scroll_time_in_millis (float)\n    - search_scroll_total (float)\n    - search_suggest_current (float)\n    - search_suggest_time_in_millis (float)\n    - search_suggest_total (float)\n    - segments_count (float)\n    - segments_doc_values_memory_in_bytes (float)\n    - segments_fixed_bit_set_memory_in_bytes (float)\n    - segments_index_writer_memory_in_bytes (float)\n    - segments_max_unsafe_auto_id_timestamp (float)\n    - segments_memory_in_bytes (float)\n    - segments_norms_memory_in_bytes (float)\n    - segments_points_memory_in_bytes (float)\n    - segments_stored_fields_memory_in_bytes (float)\n    - segments_term_vectors_memory_in_bytes (float)\n    - segments_terms_memory_in_bytes (float)\n    - segments_version_map_memory_in_bytes (float)\n    - store_size_in_bytes (float)\n    - translog_earliest_last_modified_age (float)\n    - translog_operations (float)\n    - translog_size_in_bytes (float)\n    - translog_uncommitted_operations (float)\n    - translog_uncommitted_size_in_bytes (float)\n    - warmer_current (float)\n    - warmer_total (float)\n    - warmer_total_time_in_millis (float)\n\n+ elasticsearch_jvm\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - buffer_pools_direct_count (float)\n    - buffer_pools_direct_total_capacity_in_bytes (float)\n    - buffer_pools_direct_used_in_bytes (float)\n    - buffer_pools_mapped_count (float)\n    - buffer_pools_mapped_total_capacity_in_bytes (float)\n    - buffer_pools_mapped_used_in_bytes (float)\n    - classes_current_loaded_count (float)\n    - classes_total_loaded_count (float)\n    - classes_total_unloaded_count (float)\n    - gc_collectors_old_collection_count (float)\n    - gc_collectors_old_collection_time_in_millis (float)\n    - gc_collectors_young_collection_count (float)\n    - gc_collectors_young_collection_time_in_millis (float)\n    - mem_heap_committed_in_bytes (float)\n    - mem_heap_max_in_bytes (float)\n    - mem_heap_used_in_bytes (float)\n    - mem_heap_used_percent (float)\n    - mem_non_heap_committed_in_bytes (float)\n    - mem_non_heap_used_in_bytes (float)\n    - mem_pools_old_max_in_bytes (float)\n    - mem_pools_old_peak_max_in_bytes (float)\n    - mem_pools_old_peak_used_in_bytes (float)\n    - mem_pools_old_used_in_bytes (float)\n    - mem_pools_survivor_max_in_bytes (float)\n    - mem_pools_survivor_peak_max_in_bytes (float)\n    - mem_pools_survivor_peak_used_in_bytes (float)\n    - mem_pools_survivor_used_in_bytes (float)\n    - mem_pools_young_max_in_bytes (float)\n    - mem_pools_young_peak_max_in_bytes (float)\n    - mem_pools_young_peak_used_in_bytes (float)\n    - mem_pools_young_used_in_bytes (float)\n    - threads_count (float)\n    - threads_peak_count (float)\n    - timestamp (float)\n    - uptime_in_millis (float)\n\n- elasticsearch_os\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - cgroup_cpu_cfs_period_micros (float)\n    - cgroup_cpu_cfs_quota_micros (float)\n    - cgroup_cpu_stat_number_of_elapsed_periods (float)\n    - cgroup_cpu_stat_number_of_times_throttled (float)\n    - cgroup_cpu_stat_time_throttled_nanos (float)\n    - cgroup_cpuacct_usage_nanos (float)\n    - cpu_load_average_15m (float)\n    - cpu_load_average_1m (float)\n    - cpu_load_average_5m (float)\n    - cpu_percent (float)\n    - mem_free_in_bytes (float)\n    - mem_free_percent (float)\n    - mem_total_in_bytes (float)\n    - mem_used_in_bytes (float)\n    - mem_used_percent (float)\n    - swap_free_in_bytes (float)\n    - swap_total_in_bytes (float)\n    - swap_used_in_bytes (float)\n    - timestamp (float)\n\n+ elasticsearch_process\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - cpu_percent (float)\n    - cpu_total_in_millis (float)\n    - max_file_descriptors (float)\n    - mem_total_virtual_in_bytes (float)\n    - open_file_descriptors (float)\n    - timestamp (float)\n\n- elasticsearch_thread_pool\n  - tags:\n    - cluster_name\n    - node_attribute_ml.enabled\n    - node_attribute_ml.machine_memory\n    - node_attribute_ml.max_open_jobs\n    - node_attribute_xpack.installed\n    - node_host\n    - node_id\n    - node_name\n  - fields:\n    - analyze_active (float)\n    - analyze_completed (float)\n    - analyze_largest (float)\n    - analyze_queue (float)\n    - analyze_rejected (float)\n    - analyze_threads (float)\n    - ccr_active (float)\n    - ccr_completed (float)\n    - ccr_largest (float)\n    - ccr_queue (float)\n    - ccr_rejected (float)\n    - ccr_threads (float)\n    - fetch_shard_started_active (float)\n    - fetch_shard_started_completed (float)\n    - fetch_shard_started_largest (float)\n    - fetch_shard_started_queue (float)\n    - fetch_shard_started_rejected (float)\n    - fetch_shard_started_threads (float)\n    - fetch_shard_store_active (float)\n    - fetch_shard_store_completed (float)\n    - fetch_shard_store_largest (float)\n    - fetch_shard_store_queue (float)\n    - fetch_shard_store_rejected (float)\n    - fetch_shard_store_threads (float)\n    - flush_active (float)\n    - flush_completed (float)\n    - flush_largest (float)\n    - flush_queue (float)\n    - flush_rejected (float)\n    - flush_threads (float)\n    - force_merge_active (float)\n    - force_merge_completed (float)\n    - force_merge_largest (float)\n    - force_merge_queue (float)\n    - force_merge_rejected (float)\n    - force_merge_threads (float)\n    - generic_active (float)\n    - generic_completed (float)\n    - generic_largest (float)\n    - generic_queue (float)\n    - generic_rejected (float)\n    - generic_threads (float)\n    - get_active (float)\n    - get_completed (float)\n    - get_largest (float)\n    - get_queue (float)\n    - get_rejected (float)\n    - get_threads (float)\n    - index_active (float)\n    - index_completed (float)\n    - index_largest (float)\n    - index_queue (float)\n    - index_rejected (float)\n    - index_threads (float)\n    - listener_active (float)\n    - listener_completed (float)\n    - listener_largest (float)\n    - listener_queue (float)\n    - listener_rejected (float)\n    - listener_threads (float)\n    - management_active (float)\n    - management_completed (float)\n    - management_largest (float)\n    - management_queue (float)\n    - management_rejected (float)\n    - management_threads (float)\n    - ml_autodetect_active (float)\n    - ml_autodetect_completed (float)\n    - ml_autodetect_largest (float)\n    - ml_autodetect_queue (float)\n    - ml_autodetect_rejected (float)\n    - ml_autodetect_threads (float)\n    - ml_datafeed_active (float)\n    - ml_datafeed_completed (float)\n    - ml_datafeed_largest (float)\n    - ml_datafeed_queue (float)\n    - ml_datafeed_rejected (float)\n    - ml_datafeed_threads (float)\n    - ml_utility_active (float)\n    - ml_utility_completed (float)\n    - ml_utility_largest (float)\n    - ml_utility_queue (float)\n    - ml_utility_rejected (float)\n    - ml_utility_threads (float)\n    - refresh_active (float)\n    - refresh_completed (float)\n    - refresh_largest (float)\n    - refresh_queue (float)\n    - refresh_rejected (float)\n    - refresh_threads (float)\n    - rollup_indexing_active (float)\n    - rollup_indexing_completed (float)\n    - rollup_indexing_largest (float)\n    - rollup_indexing_queue (float)\n    - rollup_indexing_rejected (float)\n    - rollup_indexing_threads (float)\n    - search_active (float)\n    - search_completed (float)\n    - search_largest (float)\n    - search_queue (float)\n    - search_rejected (float)\n    - search_threads (float)\n    - search_throttled_active (float)\n    - search_throttled_completed (float)\n    - search_throttled_largest (float)\n    - search_throttled_queue (float)\n    - search_throttled_rejected (float)\n    - search_throttled_threads (float)\n    - security-token-key_active (float)\n    - security-token-key_completed (float)\n    - security-token-key_largest (float)\n    - security-token-key_queue (float)\n    - security-token-key_rejected (float)\n    - security-token-key_threads (float)\n    - snapshot_active (float)\n    - snapshot_completed (float)\n    - snapshot_largest (float)\n    - snapshot_queue (float)\n    - snapshot_rejected (float)\n    - snapshot_threads (float)\n    - warmer_active (float)\n    - warmer_completed (float)\n    - warmer_largest (float)\n    - warmer_queue (float)\n    - warmer_rejected (float)\n    - warmer_threads (float)\n    - watcher_active (float)\n    - watcher_completed (float)\n    - watcher_largest (float)\n    - watcher_queue (float)\n    - watcher_rejected (float)\n    - watcher_threads (float)\n    - write_active (float)\n    - write_completed (float)\n    - write_largest (float)\n    - write_queue (float)\n    - write_rejected (float)\n    - write_threads (float)\n\nEmitted when the appropriate `indices_stats` options are set.\n\n- elasticsearch_indices_stats_(primaries|total)\n  - tags:\n    - index_name\n  - fields:\n    - completion_size_in_bytes (float)\n    - docs_count (float)\n    - docs_deleted (float)\n    - fielddata_evictions (float)\n    - fielddata_memory_size_in_bytes (float)\n    - flush_periodic (float)\n    - flush_total (float)\n    - flush_total_time_in_millis (float)\n    - get_current (float)\n    - get_exists_time_in_millis (float)\n    - get_exists_total (float)\n    - get_missing_time_in_millis (float)\n    - get_missing_total (float)\n    - get_time_in_millis (float)\n    - get_total (float)\n    - indexing_delete_current (float)\n    - indexing_delete_time_in_millis (float)\n    - indexing_delete_total (float)\n    - indexing_index_current (float)\n    - indexing_index_failed (float)\n    - indexing_index_time_in_millis (float)\n    - indexing_index_total (float)\n    - indexing_is_throttled (float)\n    - indexing_noop_update_total (float)\n    - indexing_throttle_time_in_millis (float)\n    - merges_current (float)\n    - merges_current_docs (float)\n    - merges_current_size_in_bytes (float)\n    - merges_total (float)\n    - merges_total_auto_throttle_in_bytes (float)\n    - merges_total_docs (float)\n    - merges_total_size_in_bytes (float)\n    - merges_total_stopped_time_in_millis (float)\n    - merges_total_throttled_time_in_millis (float)\n    - merges_total_time_in_millis (float)\n    - query_cache_cache_count (float)\n    - query_cache_cache_size (float)\n    - query_cache_evictions (float)\n    - query_cache_hit_count (float)\n    - query_cache_memory_size_in_bytes (float)\n    - query_cache_miss_count (float)\n    - query_cache_total_count (float)\n    - recovery_current_as_source (float)\n    - recovery_current_as_target (float)\n    - recovery_throttle_time_in_millis (float)\n    - refresh_external_total (float)\n    - refresh_external_total_time_in_millis (float)\n    - refresh_listeners (float)\n    - refresh_total (float)\n    - refresh_total_time_in_millis (float)\n    - request_cache_evictions (float)\n    - request_cache_hit_count (float)\n    - request_cache_memory_size_in_bytes (float)\n    - request_cache_miss_count (float)\n    - search_fetch_current (float)\n    - search_fetch_time_in_millis (float)\n    - search_fetch_total (float)\n    - search_open_contexts (float)\n    - search_query_current (float)\n    - search_query_time_in_millis (float)\n    - search_query_total (float)\n    - search_scroll_current (float)\n    - search_scroll_time_in_millis (float)\n    - search_scroll_total (float)\n    - search_suggest_current (float)\n    - search_suggest_time_in_millis (float)\n    - search_suggest_total (float)\n    - segments_count (float)\n    - segments_doc_values_memory_in_bytes (float)\n    - segments_fixed_bit_set_memory_in_bytes (float)\n    - segments_index_writer_memory_in_bytes (float)\n    - segments_max_unsafe_auto_id_timestamp (float)\n    - segments_memory_in_bytes (float)\n    - segments_norms_memory_in_bytes (float)\n    - segments_points_memory_in_bytes (float)\n    - segments_stored_fields_memory_in_bytes (float)\n    - segments_term_vectors_memory_in_bytes (float)\n    - segments_terms_memory_in_bytes (float)\n    - segments_version_map_memory_in_bytes (float)\n    - store_size_in_bytes (float)\n    - translog_earliest_last_modified_age (float)\n    - translog_operations (float)\n    - translog_size_in_bytes (float)\n    - translog_uncommitted_operations (float)\n    - translog_uncommitted_size_in_bytes (float)\n    - warmer_current (float)\n    - warmer_total (float)\n    - warmer_total_time_in_millis (float)\n\nEmitted when the appropriate `shards_stats` options are set.\n\n- elasticsearch_indices_stats_shards_total\n  - fields:\n    - failed (float)\n    - successful (float)\n    - total (float)\n\n- elasticsearch_indices_stats_shards\n  - tags:\n    - index_name\n    - node_name\n    - shard_name\n    - type\n  - fields:\n    - commit_generation (float)\n    - commit_num_docs (float)\n    - completion_size_in_bytes (float)\n    - docs_count (float)\n    - docs_deleted (float)\n    - fielddata_evictions (float)\n    - fielddata_memory_size_in_bytes (float)\n    - flush_periodic (float)\n    - flush_total (float)\n    - flush_total_time_in_millis (float)\n    - get_current (float)\n    - get_exists_time_in_millis (float)\n    - get_exists_total (float)\n    - get_missing_time_in_millis (float)\n    - get_missing_total (float)\n    - get_time_in_millis (float)\n    - get_total (float)\n    - indexing_delete_current (float)\n    - indexing_delete_time_in_millis (float)\n    - indexing_delete_total (float)\n    - indexing_index_current (float)\n    - indexing_index_failed (float)\n    - indexing_index_time_in_millis (float)\n    - indexing_index_total (float)\n    - indexing_is_throttled (bool)\n    - indexing_noop_update_total (float)\n    - indexing_throttle_time_in_millis (float)\n    - merges_current (float)\n    - merges_current_docs (float)\n    - merges_current_size_in_bytes (float)\n    - merges_total (float)\n    - merges_total_auto_throttle_in_bytes (float)\n    - merges_total_docs (float)\n    - merges_total_size_in_bytes (float)\n    - merges_total_stopped_time_in_millis (float)\n    - merges_total_throttled_time_in_millis (float)\n    - merges_total_time_in_millis (float)\n    - query_cache_cache_count (float)\n    - query_cache_cache_size (float)\n    - query_cache_evictions (float)\n    - query_cache_hit_count (float)\n    - query_cache_memory_size_in_bytes (float)\n    - query_cache_miss_count (float)\n    - query_cache_total_count (float)\n    - recovery_current_as_source (float)\n    - recovery_current_as_target (float)\n    - recovery_throttle_time_in_millis (float)\n    - refresh_external_total (float)\n    - refresh_external_total_time_in_millis (float)\n    - refresh_listeners (float)\n    - refresh_total (float)\n    - refresh_total_time_in_millis (float)\n    - request_cache_evictions (float)\n    - request_cache_hit_count (float)\n    - request_cache_memory_size_in_bytes (float)\n    - request_cache_miss_count (float)\n    - retention_leases_primary_term (float)\n    - retention_leases_version (float)\n    - routing_state (int) (UNASSIGNED = 1, INITIALIZING = 2, STARTED = 3, RELOCATING = 4, other = 0)\n    - search_fetch_current (float)\n    - search_fetch_time_in_millis (float)\n    - search_fetch_total (float)\n    - search_open_contexts (float)\n    - search_query_current (float)\n    - search_query_time_in_millis (float)\n    - search_query_total (float)\n    - search_scroll_current (float)\n    - search_scroll_time_in_millis (float)\n    - search_scroll_total (float)\n    - search_suggest_current (float)\n    - search_suggest_time_in_millis (float)\n    - search_suggest_total (float)\n    - segments_count (float)\n    - segments_doc_values_memory_in_bytes (float)\n    - segments_fixed_bit_set_memory_in_bytes (float)\n    - segments_index_writer_memory_in_bytes (float)\n    - segments_max_unsafe_auto_id_timestamp (float)\n    - segments_memory_in_bytes (float)\n    - segments_norms_memory_in_bytes (float)\n    - segments_points_memory_in_bytes (float)\n    - segments_stored_fields_memory_in_bytes (float)\n    - segments_term_vectors_memory_in_bytes (float)\n    - segments_terms_memory_in_bytes (float)\n    - segments_version_map_memory_in_bytes (float)\n    - seq_no_global_checkpoint (float)\n    - seq_no_local_checkpoint (float)\n    - seq_no_max_seq_no (float)\n    - shard_path_is_custom_data_path (bool)\n    - store_size_in_bytes (float)\n    - translog_earliest_last_modified_age (float)\n    - translog_operations (float)\n    - translog_size_in_bytes (float)\n    - translog_uncommitted_operations (float)\n    - translog_uncommitted_size_in_bytes (float)\n    - warmer_current (float)\n    - warmer_total (float)\n    - warmer_total_time_in_millis (float)\n',image:qy.a},{id:"ethtool",name:"Ethtool",url:"telegraf-plugins/ethtool",markdown:'# Ethtool Input Plugin\n\nThe ethtool input plugin pulls ethernet device stats.  Fields pulled will depend on the network device and driver\n\n### Configuration:\n\n```toml\n# Returns ethtool statistics for given interfaces\n[[inputs.ethtool]]\n  ## List of interfaces to pull metrics for\n  # interface_include = ["eth0"]\n\n  ## List of interfaces to ignore when pulling metrics.\n  # interface_exclude = ["eth1"]\n```\n\nInterfaces can be included or ignored using\n\n- `interface_include`\n- `interface_exclude`\n\nNote that loopback interfaces will be automatically ignored\n\n### Metrics:\n\nMetrics are dependant on the network device and driver\n\n### Example Output:\n\n```\nethtool,driver=igb,host=test01,interface=mgmt0 tx_queue_1_packets=280782i,rx_queue_5_csum_err=0i,tx_queue_4_restart=0i,tx_multicast=7i,tx_queue_1_bytes=39674885i,rx_queue_2_alloc_failed=0i,tx_queue_5_packets=173970i,tx_single_coll_ok=0i,rx_queue_1_drops=0i,tx_queue_2_restart=0i,tx_aborted_errors=0i,rx_queue_6_csum_err=0i,tx_queue_5_restart=0i,tx_queue_4_bytes=64810835i,tx_abort_late_coll=0i,tx_queue_4_packets=109102i,os2bmc_tx_by_bmc=0i,tx_bytes=427527435i,tx_queue_7_packets=66665i,dropped_smbus=0i,rx_queue_0_csum_err=0i,tx_flow_control_xoff=0i,rx_packets=25926536i,rx_queue_7_csum_err=0i,rx_queue_3_bytes=84326060i,rx_multicast=83771i,rx_queue_4_alloc_failed=0i,rx_queue_3_drops=0i,rx_queue_3_csum_err=0i,rx_errors=0i,tx_errors=0i,tx_queue_6_packets=183236i,rx_broadcast=24378893i,rx_queue_7_packets=88680i,tx_dropped=0i,rx_frame_errors=0i,tx_queue_3_packets=161045i,tx_packets=1257017i,rx_queue_1_csum_err=0i,tx_window_errors=0i,tx_dma_out_of_sync=0i,rx_length_errors=0i,rx_queue_5_drops=0i,tx_timeout_count=0i,rx_queue_4_csum_err=0i,rx_flow_control_xon=0i,tx_heartbeat_errors=0i,tx_flow_control_xon=0i,collisions=0i,tx_queue_0_bytes=29465801i,rx_queue_6_drops=0i,rx_queue_0_alloc_failed=0i,tx_queue_1_restart=0i,rx_queue_0_drops=0i,tx_broadcast=9i,tx_carrier_errors=0i,tx_queue_7_bytes=13777515i,tx_queue_7_restart=0i,rx_queue_5_bytes=50732006i,rx_queue_7_bytes=35744457i,tx_deferred_ok=0i,tx_multi_coll_ok=0i,rx_crc_errors=0i,rx_fifo_errors=0i,rx_queue_6_alloc_failed=0i,tx_queue_2_packets=175206i,tx_queue_0_packets=107011i,rx_queue_4_bytes=201364548i,rx_queue_6_packets=372573i,os2bmc_rx_by_host=0i,multicast=83771i,rx_queue_4_drops=0i,rx_queue_5_packets=130535i,rx_queue_6_bytes=139488035i,tx_fifo_errors=0i,tx_queue_5_bytes=84899130i,rx_queue_0_packets=24529563i,rx_queue_3_alloc_failed=0i,rx_queue_7_drops=0i,tx_queue_6_bytes=96288614i,tx_queue_2_bytes=22132949i,tx_tcp_seg_failed=0i,rx_queue_1_bytes=246703840i,rx_queue_0_bytes=1506870738i,tx_queue_0_restart=0i,rx_queue_2_bytes=111344804i,tx_tcp_seg_good=0i,tx_queue_3_restart=0i,rx_no_buffer_count=0i,rx_smbus=0i,rx_queue_1_packets=273865i,rx_over_errors=0i,os2bmc_tx_by_host=0i,rx_queue_1_alloc_failed=0i,rx_queue_7_alloc_failed=0i,rx_short_length_errors=0i,tx_hwtstamp_timeouts=0i,tx_queue_6_restart=0i,rx_queue_2_packets=207136i,tx_queue_3_bytes=70391970i,rx_queue_3_packets=112007i,rx_queue_4_packets=212177i,tx_smbus=0i,rx_long_byte_count=2480280632i,rx_queue_2_csum_err=0i,rx_missed_errors=0i,rx_bytes=2480280632i,rx_queue_5_alloc_failed=0i,rx_queue_2_drops=0i,os2bmc_rx_by_bmc=0i,rx_align_errors=0i,rx_long_length_errors=0i,rx_hwtstamp_cleared=0i,rx_flow_control_xoff=0i 1564658080000000000\nethtool,driver=igb,host=test02,interface=mgmt0 rx_queue_2_bytes=111344804i,tx_queue_3_bytes=70439858i,multicast=83771i,rx_broadcast=24378975i,tx_queue_0_packets=107011i,rx_queue_6_alloc_failed=0i,rx_queue_6_drops=0i,rx_hwtstamp_cleared=0i,tx_window_errors=0i,tx_tcp_seg_good=0i,rx_queue_1_drops=0i,tx_queue_1_restart=0i,rx_queue_7_csum_err=0i,rx_no_buffer_count=0i,tx_queue_1_bytes=39675245i,tx_queue_5_bytes=84899130i,tx_broadcast=9i,rx_queue_1_csum_err=0i,tx_flow_control_xoff=0i,rx_queue_6_csum_err=0i,tx_timeout_count=0i,os2bmc_tx_by_bmc=0i,rx_queue_6_packets=372577i,rx_queue_0_alloc_failed=0i,tx_flow_control_xon=0i,rx_queue_2_drops=0i,tx_queue_2_packets=175206i,rx_queue_3_csum_err=0i,tx_abort_late_coll=0i,tx_queue_5_restart=0i,tx_dropped=0i,rx_queue_2_alloc_failed=0i,tx_multi_coll_ok=0i,rx_queue_1_packets=273865i,rx_flow_control_xon=0i,tx_single_coll_ok=0i,rx_length_errors=0i,rx_queue_7_bytes=35744457i,rx_queue_4_alloc_failed=0i,rx_queue_6_bytes=139488395i,rx_queue_2_csum_err=0i,rx_long_byte_count=2480288216i,rx_queue_1_alloc_failed=0i,tx_queue_0_restart=0i,rx_queue_0_csum_err=0i,tx_queue_2_bytes=22132949i,rx_queue_5_drops=0i,tx_dma_out_of_sync=0i,rx_queue_3_drops=0i,rx_queue_4_packets=212177i,tx_queue_6_restart=0i,rx_packets=25926650i,rx_queue_7_packets=88680i,rx_frame_errors=0i,rx_queue_3_bytes=84326060i,rx_short_length_errors=0i,tx_queue_7_bytes=13777515i,rx_queue_3_alloc_failed=0i,tx_queue_6_packets=183236i,rx_queue_0_drops=0i,rx_multicast=83771i,rx_queue_2_packets=207136i,rx_queue_5_csum_err=0i,rx_queue_5_packets=130535i,rx_queue_7_alloc_failed=0i,tx_smbus=0i,tx_queue_3_packets=161081i,rx_queue_7_drops=0i,tx_queue_2_restart=0i,tx_multicast=7i,tx_fifo_errors=0i,tx_queue_3_restart=0i,rx_long_length_errors=0i,tx_queue_6_bytes=96288614i,tx_queue_1_packets=280786i,tx_tcp_seg_failed=0i,rx_align_errors=0i,tx_errors=0i,rx_crc_errors=0i,rx_queue_0_packets=24529673i,rx_flow_control_xoff=0i,tx_queue_0_bytes=29465801i,rx_over_errors=0i,rx_queue_4_drops=0i,os2bmc_rx_by_bmc=0i,rx_smbus=0i,dropped_smbus=0i,tx_hwtstamp_timeouts=0i,rx_errors=0i,tx_queue_4_packets=109102i,tx_carrier_errors=0i,tx_queue_4_bytes=64810835i,tx_queue_4_restart=0i,rx_queue_4_csum_err=0i,tx_queue_7_packets=66665i,tx_aborted_errors=0i,rx_missed_errors=0i,tx_bytes=427575843i,collisions=0i,rx_queue_1_bytes=246703840i,rx_queue_5_bytes=50732006i,rx_bytes=2480288216i,os2bmc_rx_by_host=0i,rx_queue_5_alloc_failed=0i,rx_queue_3_packets=112007i,tx_deferred_ok=0i,os2bmc_tx_by_host=0i,tx_heartbeat_errors=0i,rx_queue_0_bytes=1506877506i,tx_queue_7_restart=0i,tx_packets=1257057i,rx_queue_4_bytes=201364548i,rx_fifo_errors=0i,tx_queue_5_packets=173970i 1564658090000000000\n```\n',image:zy.a},{id:"eventhub_consumer",name:"Event Hub Consumer",url:"telegraf-plugins/eventhub_consumer",markdown:'# Event Hub Consumer Input Plugin\n\nThis plugin provides a consumer for use with Azure Event Hubs and Azure IoT Hub.\n\n### IoT Hub Setup\n\nThe main focus for development of this plugin is Azure IoT hub:\n\n1. Create an Azure IoT Hub by following any of the guides provided here: https://docs.microsoft.com/en-us/azure/iot-hub/\n2. Create a device, for example a [simulated Raspberry Pi](https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-raspberry-pi-web-simulator-get-started)\n3. The connection string needed for the plugin is located under *Shared access policies*, both the *iothubowner* and *service* policies should work\n\n### Configuration\n\n```toml\n[[inputs.eventhub_consumer]]\n  ## The default behavior is to create a new Event Hub client from environment variables.\n  ## This requires one of the following sets of environment variables to be set:\n  ##\n  ## 1) Expected Environment Variables:\n  ##    - "EVENTHUB_NAMESPACE"\n  ##    - "EVENTHUB_NAME"\n  ##    - "EVENTHUB_CONNECTION_STRING"\n  ##\n  ## 2) Expected Environment Variables:\n  ##    - "EVENTHUB_NAMESPACE"\n  ##    - "EVENTHUB_NAME"\n  ##    - "EVENTHUB_KEY_NAME"\n  ##    - "EVENTHUB_KEY_VALUE"\n\n  ## Uncommenting the option below will create an Event Hub client based solely on the connection string.\n  ## This can either be the associated environment variable or hard coded directly.\n  # connection_string = ""\n\n  ## Set persistence directory to a valid folder to use a file persister instead of an in-memory persister\n  # persistence_dir = ""\n\n  ## Change the default consumer group\n  # consumer_group = ""\n\n  ## By default the event hub receives all messages present on the broker, alternative modes can be set below.\n  ## The timestamp should be in https://github.com/toml-lang/toml#offset-date-time format (RFC 3339).\n  ## The 3 options below only apply if no valid persister is read from memory or file (e.g. first run).\n  # from_timestamp =\n  # latest = true\n\n  ## Set a custom prefetch count for the receiver(s)\n  # prefetch_count = 1000\n\n  ## Add an epoch to the receiver(s)\n  # epoch = 0\n\n  ## Change to set a custom user agent, "telegraf" is used by default\n  # user_agent = "telegraf"\n\n  ## To consume from a specific partition, set the partition_ids option.\n  ## An empty array will result in receiving from all partitions.\n  # partition_ids = ["0","1"]\n\n  ## Max undelivered messages\n  # max_undelivered_messages = 1000\n\n  ## Set either option below to true to use a system property as timestamp.\n  ## You have the choice between EnqueuedTime and IoTHubEnqueuedTime.\n  ## It is recommended to use this setting when the data itself has no timestamp.\n  # enqueued_time_as_ts = true\n  # iot_hub_enqueued_time_as_ts = true\n\n  ## Tags or fields to create from keys present in the application property bag.\n  ## These could for example be set by message enrichments in Azure IoT Hub.\n  # application_property_tags = []\n  # application_property_fields = []\n\n  ## Tag or field name to use for metadata\n  ## By default all metadata is disabled\n  # sequence_number_field = "SequenceNumber"\n  # enqueued_time_field = "EnqueuedTime"\n  # offset_field = "Offset"\n  # partition_id_tag = "PartitionID"\n  # partition_key_tag = "PartitionKey"\n  # iot_hub_device_connection_id_tag = "IoTHubDeviceConnectionID"\n  # iot_hub_auth_generation_id_tag = "IoTHubAuthGenerationID"\n  # iot_hub_connection_auth_method_tag = "IoTHubConnectionAuthMethod"\n  # iot_hub_connection_module_id_tag = "IoTHubConnectionModuleID"\n  # iot_hub_enqueued_time_field = "IoTHubEnqueuedTime"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n#### Environment Variables\n\n[Full documentation of the available environment variables][envvar].\n\n[envvar]: https://github.com/Azure/azure-event-hubs-go#environment-variables\n',image:Hy.a},{id:"exec",name:"Exec",url:"telegraf-plugins/exec",markdown:'# Exec Input Plugin\n\nThe `exec` plugin executes all the `commands` in parallel on every interval and parses metrics from\ntheir output in any one of the accepted [Input Data Formats](https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md).\n\nThis plugin can be used to poll for custom metrics from any source.\n\n### Configuration:\n\n```toml\n[[inputs.exec]]\n  ## Commands array\n  commands = [\n    "/tmp/test.sh",\n    "/usr/bin/mycollector --foo=bar",\n    "/tmp/collect_*.sh"\n  ]\n\n  ## Timeout for each command to complete.\n  timeout = "5s"\n\n  ## measurement name suffix (for separating different commands)\n  name_suffix = "_mycollector"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\nGlob patterns in the `command` option are matched on every run, so adding new\nscripts that match the pattern will cause them to be picked up immediately.\n\n### Example:\n\nThis script produces static values, since no timestamp is specified the values are at the current time.\n```sh\n#!/bin/sh\necho \'example,tag1=a,tag2=b i=42i,j=43i,k=44i\'\n```\n\nIt can be paired with the following configuration and will be run at the `interval` of the agent.\n```toml\n[[inputs.exec]]\n  commands = ["sh /tmp/test.sh"]\n  timeout = "5s"\n  data_format = "influx"\n```\n\n### Common Issues:\n\n#### My script works when I run it by hand, but not when Telegraf is running as a service.\n\nThis may be related to the Telegraf service running as a different user.  The\nofficial packages run Telegraf as the `telegraf` user and group on Linux\nsystems.\n\n#### With a PowerShell on Windows, the output of the script appears to be truncated.\n\nYou may need to set a variable in your script to increase the number of columns\navailable for output:\n```\n$host.UI.RawUI.BufferSize = new-object System.Management.Automation.Host.Size(1024,50)\n```\n',image:Wy.a},{id:"execd",name:"Execd",url:"telegraf-plugins/execd",markdown:'# Execd Input Plugin\n\nThe `execd` plugin runs an external program as a long-running daemon. \nThe programs must output metrics in any one of the accepted \n[Input Data Formats][] on the process\'s STDOUT, and is expected to\nstay running. If you\'d instead like the process to collect metrics and then exit,\ncheck out the [inputs.exec][] plugin.\n\nThe `signal` can be configured to send a signal the running daemon on each\ncollection interval. This is used for when you want to have Telegraf notify the\nplugin when it\'s time to run collection. STDIN is recommended, which writes a\nnew line to the process\'s STDIN.\n\nSTDERR from the process will be relayed to Telegraf as errors in the logs.\n\n### Configuration:\n\n```toml\n[[inputs.execd]]\n  ## One program to run as daemon.\n  ## NOTE: process and each argument should each be their own string\n  command = ["telegraf-smartctl", "-d", "/dev/sda"]\n\n  ## Define how the process is signaled on each collection interval.\n  ## Valid values are:\n  ##   "none"    : Do not signal anything. (Recommended for service inputs)\n  ##               The process must output metrics by itself.\n  ##   "STDIN"   : Send a newline on STDIN. (Recommended for gather inputs)\n  ##   "SIGHUP"  : Send a HUP signal. Not available on Windows. (not recommended)\n  ##   "SIGUSR1" : Send a USR1 signal. Not available on Windows.\n  ##   "SIGUSR2" : Send a USR2 signal. Not available on Windows.\n  signal = "none"\n\n  ## Delay before the process is restarted after an unexpected termination\n  restart_delay = "10s"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n### Example\n\n##### Daemon written in bash using STDIN signaling\n\n```bash\n#!/bin/bash\n\ncounter=0\n\nwhile IFS= read -r LINE; do\n    echo "counter_bash count=${counter}"\n    let counter=counter+1\ndone\n```\n\n```toml\n[[inputs.execd]]\n  command = ["plugins/inputs/execd/examples/count.sh"]\n  signal = "STDIN"\n```\n\n##### Go daemon using SIGHUP\n\n```go\npackage main\n\nimport (\n    "fmt"\n    "os"\n    "os/signal"\n    "syscall"\n)\n\nfunc main() {\n    c := make(chan os.Signal, 1)\n    signal.Notify(c, syscall.SIGHUP)\n\n    counter := 0\n\n    for {\n        <-c\n\n        fmt.Printf("counter_go count=%d\\n", counter)\n        counter++\n    }\n}\n\n```\n\n```toml\n[[inputs.execd]]\n  command = ["plugins/inputs/execd/examples/count.go.exe"]\n  signal = "SIGHUP"\n```\n\n##### Ruby daemon running standalone\n\n```ruby\n#!/usr/bin/env ruby\n\ncounter = 0\n\nloop do\n  puts "counter_ruby count=#{counter}"\n  STDOUT.flush\n\n  counter += 1\n  sleep 1\nend\n```\n\n```toml\n[[inputs.execd]]\n  command = ["plugins/inputs/execd/examples/count.rb"]\n  signal = "none"\n```\n\n[Input Data Formats]: https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n[inputs.exec]: https://github.com/influxdata/telegraf/blob/master/plugins/inputs/exec/README.md\n',image:Vy.a},{id:"fail2ban",name:"Fail2ban",url:"telegraf-plugins/fail2ban",markdown:"# Fail2ban Input Plugin\n\nThe fail2ban plugin gathers the count of failed and banned ip addresses using\n[fail2ban](https://www.fail2ban.org).\n\nThis plugin runs the `fail2ban-client` command which generally requires root access.\nAcquiring the required permissions can be done using several methods:\n\n- [Use sudo](#using-sudo) run fail2ban-client.\n- Run telegraf as root. (not recommended)\n\n### Configuration\n\n```toml\n# Read metrics from fail2ban.\n[[inputs.fail2ban]]\n  ## Use sudo to run fail2ban-client\n  use_sudo = false\n```\n\n### Using sudo\n\nMake sure to set `use_sudo = true` in your configuration file.\n\nYou will also need to update your sudoers file.  It is recommended to modify a\nfile in the `/etc/sudoers.d` directory using `visudo`:\n\n```bash\n$ sudo visudo -f /etc/sudoers.d/telegraf\n```\n\nAdd the following lines to the file, these commands allow the `telegraf` user\nto call `fail2ban-client` without needing to provide a password and disables\nlogging of the call in the auth.log.  Consult `man 8 visudo` and `man 5\nsudoers` for details.\n```\nCmnd_Alias FAIL2BAN = /usr/bin/fail2ban-client status, /usr/bin/fail2ban-client status *\ntelegraf  ALL=(root) NOEXEC: NOPASSWD: FAIL2BAN\nDefaults!FAIL2BAN !logfile, !syslog, !pam_session\n```\n\n### Metrics\n\n- fail2ban\n  - tags:\n    - jail\n  - fields:\n    - failed (integer, count)\n    - banned (integer, count)\n\n### Example Output\n\n```\n# fail2ban-client status sshd\nStatus for the jail: sshd\n|- Filter\n|  |- Currently failed: 5\n|  |- Total failed:     20\n|  `- File list:        /var/log/secure\n`- Actions\n   |- Currently banned: 2\n   |- Total banned:     10\n   `- Banned IP list:   192.168.0.1 192.168.0.2\n```\n\n```\nfail2ban,jail=sshd failed=5i,banned=2i 1495868667000000000\n```\n",image:Qy.a},{id:"fibaro",name:"Fibaro",url:"telegraf-plugins/fibaro",markdown:'# Fibaro Input Plugin\n\nThe Fibaro plugin makes HTTP calls to the Fibaro controller API to gather values of hooked devices.\nThose values could be true (1) or false (0) for switches, percentage for dimmers, temperature, etc.\n\n### Configuration:\n\n```toml\n# Read devices value(s) from a Fibaro controller\n[[inputs.fibaro]]\n  ## Required Fibaro controller address/hostname.\n  ## Note: at the time of writing this plugin, Fibaro only implemented http - no https available\n  url = "http://<controller>:80"\n\n  ## Required credentials to access the API (http://<controller/api/<component>)\n  username = "<username>"\n  password = "<password>"\n\n  ## Amount of time allowed to complete the HTTP request\n  # timeout = "5s"\n```\n\n### Metrics:\n\n- fibaro\n  - tags:\n    - deviceId (device id)\n    - section (section name)\n    - room (room name)\n    - name (device name)\n    - type (device type)\n  - fields:\n    - batteryLevel (float, when available from device)\n    - energy (float, when available from device)\n    - power (float, when available from device)\n    - value (float)\n    - value2 (float, when available from device)\n\n\n### Example Output:\n\n```\nfibaro,deviceId=9,host=vm1,name=Fenêtre\\ haute,room=Cuisine,section=Cuisine,type=com.fibaro.FGRM222 energy=2.04,power=0.7,value=99,value2=99 1529996807000000000\nfibaro,deviceId=10,host=vm1,name=Escaliers,room=Dégagement,section=Pièces\\ communes,type=com.fibaro.binarySwitch value=0 1529996807000000000\nfibaro,deviceId=13,host=vm1,name=Porte\\ fenêtre,room=Salon,section=Pièces\\ communes,type=com.fibaro.FGRM222 energy=4.33,power=0.7,value=99,value2=99 1529996807000000000\nfibaro,deviceId=21,host=vm1,name=LED\\ îlot\\ central,room=Cuisine,section=Cuisine,type=com.fibaro.binarySwitch value=0 1529996807000000000\nfibaro,deviceId=90,host=vm1,name=Détérioration,room=Entrée,section=Pièces\\ communes,type=com.fibaro.heatDetector value=0 1529996807000000000\nfibaro,deviceId=163,host=vm1,name=Température,room=Cave,section=Cave,type=com.fibaro.temperatureSensor value=21.62 1529996807000000000\nfibaro,deviceId=191,host=vm1,name=Présence,room=Garde-manger,section=Cuisine,type=com.fibaro.FGMS001 value=1 1529996807000000000\nfibaro,deviceId=193,host=vm1,name=Luminosité,room=Garde-manger,section=Cuisine,type=com.fibaro.lightSensor value=195 1529996807000000000\nfibaro,deviceId=200,host=vm1,name=Etat,room=Garage,section=Extérieur,type=com.fibaro.doorSensor value=0 1529996807000000000\nfibaro,deviceId=220,host=vm1,name=CO2\\ (ppm),room=Salon,section=Pièces\\ communes,type=com.fibaro.multilevelSensor value=536 1529996807000000000\nfibaro,deviceId=221,host=vm1,name=Humidité\\ (%),room=Salon,section=Pièces\\ communes,type=com.fibaro.humiditySensor value=61 1529996807000000000\nfibaro,deviceId=222,host=vm1,name=Pression\\ (mb),room=Salon,section=Pièces\\ communes,type=com.fibaro.multilevelSensor value=1013.7 1529996807000000000\nfibaro,deviceId=223,host=vm1,name=Bruit\\ (db),room=Salon,section=Pièces\\ communes,type=com.fibaro.multilevelSensor value=44 1529996807000000000\nfibaro,deviceId=248,host=vm1,name=Température,room=Garage,section=Extérieur,type=com.fibaro.temperatureSensor batteryLevel=85,value=10.8 1529996807000000000\n```\n',image:Xy.a},{id:"file",name:"File",url:"telegraf-plugins/file",markdown:'# File Input Plugin\n\nThe file plugin parses the **complete** contents of a file **every interval** using\nthe selected [input data format][].\n\n**Note:** If you wish to parse only newly appended lines use the [tail][] input\nplugin instead.\n\n### Configuration:\n\n```toml\n[[inputs.file]]\n  ## Files to parse each interval.  Accept standard unix glob matching rules,\n  ## as well as ** to match recursive files and directories.\n  files = ["/tmp/metrics.out"]\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n\n  ## Name a tag containing the name of the file the data was parsed from.  Leave empty\n  ## to disable.\n  # file_tag = ""\n```\n\n[input data format]: /docs/DATA_FORMATS_INPUT.md\n[tail]: /plugins/inputs/tail\n',image:tv.a},{id:"filecount",name:"Filecount",url:"telegraf-plugins/filecount",markdown:'# Filecount Input Plugin\n\nReports the number and total size of files in specified directories.\n\n### Configuration:\n\n```toml\n[[inputs.filecount]]\n  ## Directory to gather stats about.\n  ##   deprecated in 1.9; use the directories option\n  # directory = "/var/cache/apt/archives"\n\n  ## Directories to gather stats about.\n  ## This accept standard unit glob matching rules, but with the addition of\n  ## ** as a "super asterisk". ie:\n  ##   /var/log/**    -> recursively find all directories in /var/log and count files in each directories\n  ##   /var/log/*/*   -> find all directories with a parent dir in /var/log and count files in each directories\n  ##   /var/log       -> count all files in /var/log and all of its subdirectories\n  directories = ["/var/cache/apt", "/tmp"]\n\n  ## Only count files that match the name pattern. Defaults to "*".\n  name = "*"\n\n  ## Count files in subdirectories. Defaults to true.\n  recursive = true\n\n  ## Only count regular files. Defaults to true.\n  regular_only = true\n\n  ## Follow all symlinks while walking the directory tree. Defaults to false.\n  follow_symlinks = false\n\n  ## Only count files that are at least this size. If size is\n  ## a negative number, only count files that are smaller than the\n  ## absolute value of size. Acceptable units are B, KiB, MiB, KB, ...\n  ## Without quotes and units, interpreted as size in bytes.\n  size = "0B"\n\n  ## Only count files that have not been touched for at least this\n  ## duration. If mtime is negative, only count files that have been\n  ## touched in this duration. Defaults to "0s".\n  mtime = "0s"\n```\n\n### Metrics\n\n- filecount\n  - tags:\n    - directory (the directory path)\n  - fields:\n    - count (integer)\n    - size_bytes (integer)\n\n### Example Output:\n\n```\nfilecount,directory=/var/cache/apt count=7i,size_bytes=7438336i 1530034445000000000\nfilecount,directory=/tmp count=17i,size_bytes=28934786i 1530034445000000000\n```\n',image:Jy.a},{id:"filestat",name:"filestat",url:"telegraf-plugins/filestat",markdown:'# filestat Input Plugin\n\nThe filestat plugin gathers metrics about file existence, size, and other stats.\n\n### Configuration:\n\n```toml\n# Read stats about given file(s)\n[[inputs.filestat]]\n  ## Files to gather stats about.\n  ## These accept standard unix glob matching rules, but with the addition of\n  ## ** as a "super asterisk". See https://github.com/gobwas/glob.\n  files = ["/etc/telegraf/telegraf.conf", "/var/log/**.log"]\n\n  ## If true, read the entire file and calculate an md5 checksum.\n  md5 = false\n```\n\n### Measurements & Fields:\n\n- filestat\n    - exists (int, 0 | 1)\n    - size_bytes (int, bytes)\n    - modification_time (int, unix time nanoseconds)\n    - md5 (optional, string)\n\n### Tags:\n\n- All measurements have the following tags:\n    - file (the path the to file, as specified in the config)\n\n### Example Output:\n\n```\n$ telegraf --config /etc/telegraf/telegraf.conf --input-filter filestat --test\n* Plugin: filestat, Collection 1\n> filestat,file=/tmp/foo/bar,host=tyrion exists=0i 1507218518192154351\n> filestat,file=/Users/sparrc/ws/telegraf.conf,host=tyrion exists=1i,size=47894i,modification_time=1507152973123456789i  1507218518192154351\n```\n',image:av.a},{id:"fireboard",name:"Fireboard",url:"telegraf-plugins/fireboard",markdown:'# Fireboard Input Plugin\n\nThe fireboard plugin gathers the real time temperature data from fireboard\nthermometers.  In order to use this input plugin, you\'ll need to sign up to use\nthe [Fireboard REST API](https://docs.fireboard.io/reference/restapi.html).\n\n### Configuration\n\n```toml\n[[inputs.fireboard]]\n  ## Specify auth token for your account\n  auth_token = "invalidAuthToken"\n  ## You can override the fireboard server URL if necessary\n  # url = https://fireboard.io/api/v1/devices.json\n  ## You can set a different http_timeout if you need to\n  # http_timeout = 4\n```\n\n#### auth_token\n\nIn lieu of requiring a username and password, this plugin requires an\nauthentication token that you can generate using the [Fireboard REST\nAPI](https://docs.fireboard.io/reference/restapi.html#Authentication).\n\n#### url\n\nWhile there should be no reason to override the URL, the option is available\nin case Fireboard changes their site, etc.\n\n#### http_timeout\n\nIf you need to increase the HTTP timeout, you can do so here. You can set this\nvalue in seconds. The default value is four (4) seconds.\n\n### Metrics\n\nThe Fireboard REST API docs have good examples of the data that is available,\ncurrently this input only returns the real time temperatures. Temperature\nvalues are included if they are less than a minute old.\n\n- fireboard\n  - tags:\n    - channel\n    - scale (Celcius; Farenheit)\n    - title (name of the Fireboard)\n    - uuid (UUID of the Fireboard)\n  - fields:\n    - temperature (float, unit)\n\n### Example Output\n\nThis section shows example output in Line Protocol format.  You can often use\n`telegraf --input-filter <plugin-name> --test` or use the `file` output to get\nthis information.\n\n```\nfireboard,channel=2,host=patas-mbp,scale=Farenheit,title=telegraf-FireBoard,uuid=b55e766c-b308-49b5-93a4-df89fe31efd0 temperature=78.2 1561690040000000000\n```\n',image:rv.a},{id:"fluentd",name:"Fluentd",url:"telegraf-plugins/fluentd",markdown:'# Fluentd Input Plugin\n\nThe fluentd plugin gathers metrics from plugin endpoint provided by [in_monitor plugin](https://docs.fluentd.org/input/monitor_agent).\nThis plugin understands data provided by /api/plugin.json resource (/api/config.json is not covered).\n\nYou might need to adjust your fluentd configuration, in order to reduce series cardinality in case your fluentd restarts frequently. Every time fluentd starts, `plugin_id` value is given a new random value.\nAccording to [fluentd documentation](https://docs.fluentd.org/configuration/config-file#common-plugin-parameter), you are able to add `@id`  parameter for each plugin to avoid this behaviour and define custom `plugin_id`.\n\nexample configuration with `@id` parameter for http plugin:\n```\n<source>\n  @type http\n  @id http\n  port 8888\n</source>\n```\n\n### Configuration:\n\n```toml\n# Read metrics exposed by fluentd in_monitor plugin\n[[inputs.fluentd]]\n  ## This plugin reads information exposed by fluentd (using /api/plugins.json endpoint).\n  ##\n  ## Endpoint:\n  ## - only one URI is allowed\n  ## - https is not supported\n  endpoint = "http://localhost:24220/api/plugins.json"\n\n  ## Define which plugins have to be excluded (based on "type" field - e.g. monitor_agent)\n  exclude = [\n\t  "monitor_agent",\n\t  "dummy",\n  ]\n```\n\n### Measurements & Fields:\n\nFields may vary depending on the plugin type\n\n- fluentd\n    - retry_count            (float, unit)\n    - buffer_queue_length     (float, unit)\n    - buffer_total_queued_size (float, unit)\n\n### Tags:\n\n- All measurements have the following tags:\n\t- plugin_id        (unique plugin id)\n\t- plugin_type      (type of the plugin e.g. s3)\n    - plugin_category  (plugin category e.g. output)\n\n### Example Output:\n\n```\n$ telegraf --config fluentd.conf --input-filter fluentd --test\n* Plugin: inputs.fluentd, Collection 1\n> fluentd,host=T440s,plugin_id=object:9f748c,plugin_category=input,plugin_type=dummy buffer_total_queued_size=0,buffer_queue_length=0,retry_count=0 1492006105000000000\n> fluentd,plugin_category=input,plugin_type=dummy,host=T440s,plugin_id=object:8da98c buffer_queue_length=0,retry_count=0,buffer_total_queued_size=0 1492006105000000000\n> fluentd,plugin_id=object:820190,plugin_category=input,plugin_type=monitor_agent,host=T440s retry_count=0,buffer_total_queued_size=0,buffer_queue_length=0 1492006105000000000\n> fluentd,plugin_id=object:c5e054,plugin_category=output,plugin_type=stdout,host=T440s buffer_queue_length=0,retry_count=0,buffer_total_queued_size=0 1492006105000000000\n> fluentd,plugin_type=s3,host=T440s,plugin_id=object:bd7a90,plugin_category=output buffer_queue_length=0,retry_count=0,buffer_total_queued_size=0 1492006105000000000\n\n```\n',image:iv.a},{id:"github",name:"GitHub",url:"telegraf-plugins/github",markdown:'# GitHub Input Plugin\n\nGather repository information from [GitHub][] hosted repositories.\n\n**Note:** Telegraf also contains the [webhook][] input which can be used as an\nalternative method for collecting repository information.\n\n### Configuration\n\n```toml\n[[inputs.github]]\n  ## List of repositories to monitor\n  repositories = [\n\t  "influxdata/telegraf",\n\t  "influxdata/influxdb"\n  ]\n\n  ## Github API access token.  Unauthenticated requests are limited to 60 per hour.\n  # access_token = ""\n\n  ## Github API enterprise url. Github Enterprise accounts must specify their base url.\n  # enterprise_base_url = ""\n\n  ## Timeout for HTTP requests.\n  # http_timeout = "5s"\n```\n\n### Metrics\n\n- github_repository\n  - tags:\n    - name - The repository name\n    - owner - The owner of the repository\n    - language - The primary language of the repository\n    - license - The license set for the repository\n  - fields:\n    - forks (int)\n    - open_issues (int)\n    - networks (int)\n    - size (int)\n    - subscribers (int)\n    - stars (int)\n    - watchers (int)\n\nWhen the [internal][] input is enabled:\n\n+ internal_github\n  - tags:\n    - access_token - An obfuscated reference to the configured access token or "Unauthenticated"\n  - fields:\n    - limit - How many requests you are limited to (per hour)\n    - remaining - How many requests you have remaining (per hour)\n    - blocks - How many requests have been blocked due to rate limit\n\n### Example Output\n\n```\ngithub_repository,language=Go,license=MIT\\ License,name=telegraf,owner=influxdata forks=2679i,networks=2679i,open_issues=794i,size=23263i,stars=7091i,subscribers=316i,watchers=7091i 1563901372000000000\ninternal_github,access_token=Unauthenticated rate_limit_remaining=59i,rate_limit_limit=60i,rate_limit_blocks=0i 1552653551000000000\n```\n\n[GitHub]: https://www.github.com\n[internal]: /plugins/inputs/internal\n[webhook]: /plugins/inputs/webhooks/github\n',image:cv.a},{id:"gnmi",name:"gNMI (gRPC Network Management Interface)",url:"telegraf-plugins/gnmi",markdown:'# gNMI (gRPC Network Management Interface) Input Plugin\n\nThis plugin consumes telemetry data based on the [gNMI](https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-specification.md) Subscribe method. TLS is supported for authentication and encryption.  This input plugin is vendor-agnostic and is supported on any platform that supports the gNMI spec.\n\nFor Cisco devices: \nIt has been optimized to support gNMI telemetry as produced by Cisco IOS XR (64-bit) version 6.5.1, Cisco NX-OS 9.3 and Cisco IOS XE 16.12 and later.\n\n\n### Configuration\n\n```toml\n[[inputs.gnmi]]\n  ## Address and port of the gNMI GRPC server\n  addresses = ["10.49.234.114:57777"]\n\n  ## define credentials\n  username = "cisco"\n  password = "cisco"\n\n  ## gNMI encoding requested (one of: "proto", "json", "json_ietf")\n  # encoding = "proto"\n\n  ## redial in case of failures after\n  redial = "10s"\n\n  ## enable client-side TLS and define CA to authenticate the device\n  # enable_tls = true\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # insecure_skip_verify = true\n\n  ## define client-side TLS certificate & key to authenticate to the device\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n\n  ## gNMI subscription prefix (optional, can usually be left empty)\n  ## See: https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-specification.md#222-paths\n  # origin = ""\n  # prefix = ""\n  # target = ""\n\n  ## Define additional aliases to map telemetry encoding paths to simple measurement names\n  # [inputs.gnmi.aliases]\n  #   ifcounters = "openconfig:/interfaces/interface/state/counters"\n\n  [[inputs.gnmi.subscription]]\n    ## Name of the measurement that will be emitted\n    name = "ifcounters"\n\n    ## Origin and path of the subscription\n    ## See: https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-specification.md#222-paths\n    ##\n    ## origin usually refers to a (YANG) data model implemented by the device\n    ## and path to a specific substructure inside it that should be subscribed to (similar to an XPath)\n    ## YANG models can be found e.g. here: https://github.com/YangModels/yang/tree/master/vendor/cisco/xr\n    origin = "openconfig-interfaces"\n    path = "/interfaces/interface/state/counters"\n\n    # Subscription mode (one of: "target_defined", "sample", "on_change") and interval\n    subscription_mode = "sample"\n    sample_interval = "10s"\n\n    ## Suppress redundant transmissions when measured values are unchanged\n    # suppress_redundant = false\n\n    ## If suppression is enabled, send updates at least every X seconds anyway\n    # heartbeat_interval = "60s"\n```\n\n### Example Output\n```\nifcounters,path=openconfig-interfaces:/interfaces/interface/state/counters,host=linux,name=MgmtEth0/RP0/CPU0/0,source=10.49.234.115 in-multicast-pkts=0i,out-multicast-pkts=0i,out-errors=0i,out-discards=0i,in-broadcast-pkts=0i,out-broadcast-pkts=0i,in-discards=0i,in-unknown-protos=0i,in-errors=0i,out-unicast-pkts=0i,in-octets=0i,out-octets=0i,last-clear="2019-05-22T16:53:21Z",in-unicast-pkts=0i 1559145777425000000\nifcounters,path=openconfig-interfaces:/interfaces/interface/state/counters,host=linux,name=GigabitEthernet0/0/0/0,source=10.49.234.115 out-multicast-pkts=0i,out-broadcast-pkts=0i,in-errors=0i,out-errors=0i,in-discards=0i,out-octets=0i,in-unknown-protos=0i,in-unicast-pkts=0i,in-octets=0i,in-multicast-pkts=0i,in-broadcast-pkts=0i,last-clear="2019-05-22T16:54:50Z",out-unicast-pkts=0i,out-discards=0i 1559145777425000000\n```\n',image:mv.a},{id:"graylog",name:"GrayLog",url:"telegraf-plugins/graylog",markdown:'# GrayLog Input Plugin\n\nThe Graylog plugin can collect data from remote Graylog service URLs.\n\nPlugin currently support two type of end points:-\n\n- multiple  (Ex http://[graylog-server-ip]:12900/system/metrics/multiple)\n- namespace (Ex http://[graylog-server-ip]:12900/system/metrics/namespace/{namespace})\n\nEnd Point can be a mix of one  multiple end point  and several namespaces end points\n\n\nNote: if namespace end point specified metrics array will be ignored for that call.\n\n### Configuration:\n\n```toml\n# Read flattened metrics from one or more GrayLog HTTP endpoints\n[[inputs.graylog]]\n  ## API endpoint, currently supported API:\n  ##\n  ##   - multiple  (Ex http://<host>:12900/system/metrics/multiple)\n  ##   - namespace (Ex http://<host>:12900/system/metrics/namespace/{namespace})\n  ##\n  ## For namespace endpoint, the metrics array will be ignored for that call.\n  ## Endpoint can contain namespace and multiple type calls.\n  ##\n  ## Please check http://[graylog-server-ip]:12900/api-browser for full list\n  ## of endpoints\n  servers = [\n    "http://[graylog-server-ip]:12900/system/metrics/multiple",\n  ]\n\n  ## Metrics list\n  ## List of metrics can be found on Graylog webservice documentation.\n  ## Or by hitting the web service api at:\n  ##   http://[graylog-host]:12900/system/metrics\n  metrics = [\n    "jvm.cl.loaded",\n    "jvm.memory.pools.Metaspace.committed"\n  ]\n\n  ## Username and password\n  username = ""\n  password = ""\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\nPlease refer to GrayLog metrics api browser for full metric end points http://host:12900/api-browser\n',image:pv.a},{id:"haproxy",name:"HAProxy",url:"telegraf-plugins/haproxy",markdown:'# HAProxy Input Plugin\n\nThe [HAProxy](http://www.haproxy.org/) input plugin gathers\n[statistics](https://cbonte.github.io/haproxy-dconv/1.9/intro.html#3.3.16)\nusing the [stats socket](https://cbonte.github.io/haproxy-dconv/1.9/management.html#9.3)\nor [HTTP statistics page](https://cbonte.github.io/haproxy-dconv/1.9/management.html#9) of a HAProxy server.\n\n### Configuration:\n\n```toml\n# Read metrics of HAProxy, via socket or HTTP stats page\n[[inputs.haproxy]]\n  ## An array of address to gather stats about. Specify an ip on hostname\n  ## with optional port. ie localhost, 10.10.3.33:1936, etc.\n  ## Make sure you specify the complete path to the stats endpoint\n  ## including the protocol, ie http://10.10.3.33:1936/haproxy?stats\n\n  ## Credentials for basic HTTP authentication\n  # username = "admin"\n  # password = "admin"\n\n  ## If no servers are specified, then default to 127.0.0.1:1936/haproxy?stats\n  servers = ["http://myhaproxy.com:1936/haproxy?stats"]\n\n  ## You can also use local socket with standard wildcard globbing.\n  ## Server address not starting with \'http\' will be treated as a possible\n  ## socket, so both examples below are valid.\n  # servers = ["socket:/run/haproxy/admin.sock", "/run/haproxy/*.sock"]\n\n  ## By default, some of the fields are renamed from what haproxy calls them.\n  ## Setting this option to true results in the plugin keeping the original\n  ## field names.\n  # keep_field_names = false\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n#### HAProxy Configuration\n\nThe following information may be useful when getting started, but please\nconsult the HAProxy documentation for complete and up to date instructions.\n\nThe [`stats enable`](https://cbonte.github.io/haproxy-dconv/1.8/configuration.html#4-stats%20enable)\noption can be used to add unauthenticated access over HTTP using the default\nsettings.  To enable the unix socket begin by reading about the\n[`stats socket`](https://cbonte.github.io/haproxy-dconv/1.8/configuration.html#3.1-stats%20socket)\noption.\n\n\n#### servers\n\nServer addresses must explicitly start with \'http\' if you wish to use HAProxy\nstatus page.  Otherwise, addresses will be assumed to be an UNIX socket and\nany protocol (if present) will be discarded.\n\nWhen using socket names, wildcard expansion is supported so plugin can gather\nstats from multiple sockets at once.\n\nTo use HTTP Basic Auth add the username and password in the userinfo section\nof the URL: `http://user:password@1.2.3.4/haproxy?stats`.  The credentials are\nsent via the `Authorization` header and not using the request URL.\n\n\n#### keep_field_names\n\nBy default, some of the fields are renamed from what haproxy calls them.\nSetting the `keep_field_names` parameter to `true` will result in the plugin\nkeeping the original field names.\n\nThe following renames are made:\n- `pxname` -> `proxy`\n- `svname` -> `sv`\n- `act` -> `active_servers`\n- `bck` -> `backup_servers`\n- `cli_abrt` -> `cli_abort`\n- `srv_abrt` -> `srv_abort`\n- `hrsp_1xx` -> `http_response.1xx`\n- `hrsp_2xx` -> `http_response.2xx`\n- `hrsp_3xx` -> `http_response.3xx`\n- `hrsp_4xx` -> `http_response.4xx`\n- `hrsp_5xx` -> `http_response.5xx`\n- `hrsp_other` -> `http_response.other`\n\n### Metrics:\n\nFor more details about collected metrics reference the [HAProxy CSV format\ndocumentation](https://cbonte.github.io/haproxy-dconv/1.8/management.html#9.1).\n\n- haproxy\n  - tags:\n    - `server` - address of the server data was gathered from\n    - `proxy` - proxy name\n    - `sv` - service name\n    - `type` - proxy session type\n  - fields:\n    - `status` (string)\n    - `check_status` (string)\n    - `last_chk` (string)\n    - `mode` (string)\n    - `tracked` (string)\n    - `agent_status` (string)\n    - `last_agt` (string)\n    - `addr` (string)\n    - `cookie` (string)\n    - `lastsess` (int)\n    - **all other stats** (int)\n\n### Example Output:\n```\nhaproxy,server=/run/haproxy/admin.sock,proxy=public,sv=FRONTEND,type=frontend http_response.other=0i,req_rate_max=1i,comp_byp=0i,status="OPEN",rate_lim=0i,dses=0i,req_rate=0i,comp_rsp=0i,bout=9287i,comp_in=0i,mode="http",smax=1i,slim=2000i,http_response.1xx=0i,conn_rate=0i,dreq=0i,ereq=0i,iid=2i,rate_max=1i,http_response.2xx=1i,comp_out=0i,intercepted=1i,stot=2i,pid=1i,http_response.5xx=1i,http_response.3xx=0i,http_response.4xx=0i,conn_rate_max=1i,conn_tot=2i,dcon=0i,bin=294i,rate=0i,sid=0i,req_tot=2i,scur=0i,dresp=0i 1513293519000000000\n```\n',image:_v.a},{id:"hddtemp",name:"HDDtemp",url:"telegraf-plugins/hddtemp",markdown:'# HDDtemp Input Plugin\n\nThis plugin reads data from hddtemp daemon.\n\nHddtemp should be installed and its daemon running.\n\n### Configuration\n\n```toml\n[[inputs.hddtemp]]\n  ## By default, telegraf gathers temps data from all disks detected by the\n  ## hddtemp.\n  ##\n  ## Only collect temps from the selected disks.\n  ##\n  ## A * as the device name will return the temperature values of all disks.\n  ##\n  # address = "127.0.0.1:7634"\n  # devices = ["sda", "*"]\n```\n\n### Metrics\n\n- hddtemp\n  - tags:\n    - device\n    - model\n    - unit\n    - status\n    - source\n  - fields:\n    - temperature\n\n\n### Example output\n\n```\nhddtemp,source=server1,unit=C,status=,device=sdb,model=WDC\\ WD740GD-00FLA1 temperature=43i 1481655647000000000\nhddtemp,device=sdc,model=SAMSUNG\\ HD103UI,unit=C,source=server1,status= temperature=38i 148165564700000000\nhddtemp,device=sdd,model=SAMSUNG\\ HD103UI,unit=C,source=server1,status= temperature=36i 1481655647000000000\n```\n',image:fv.a},{id:"http",name:"HTTP",url:"telegraf-plugins/http",markdown:'# HTTP Input Plugin\n\nThe HTTP input plugin collects metrics from one or more HTTP(S) endpoints.  The endpoint should have metrics formatted in one of the supported [input data formats](../../../docs/DATA_FORMATS_INPUT.md).  Each data format has its own unique set of configuration options which can be added to the input configuration.\n\n\n### Configuration:\n\n```toml\n# Read formatted metrics from one or more HTTP endpoints\n[[inputs.http]]\n  ## One or more URLs from which to read formatted metrics\n  urls = [\n    "http://localhost/metrics"\n  ]\n\n  ## HTTP method\n  # method = "GET"\n\n  ## Optional HTTP headers\n  # headers = {"X-Special-Header" = "Special-Value"}\n\n  ## HTTP entity-body to send with POST/PUT requests.\n  # body = ""\n\n  ## HTTP Content-Encoding for write request body, can be set to "gzip" to\n  ## compress body or "identity" to apply no encoding.\n  # content_encoding = "identity"\n\n  ## Optional file with Bearer token\n  ## file content is added as an Authorization header\n  # bearer_token = "/path/to/file"\n\n  ## Optional HTTP Basic Auth Credentials\n  # username = "username"\n  # password = "pa$$word"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Amount of time allowed to complete the HTTP request\n  # timeout = "5s"\n\n  ## List of success status codes\n  # success_status_codes = [200]\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  # data_format = "influx"\n\n```\n\n### Metrics:\n\nThe metrics collected by this input plugin will depend on the configured `data_format` and the payload returned by the HTTP endpoint(s).\n\nThe default values below are added if the input format does not specify a value:\n\n- http\n  - tags:\n    - url\n',image:Sv.a},{id:"http_listener_v2",name:"HTTP Listener v2",url:"telegraf-plugins/http_listener_v2",markdown:'# HTTP Listener v2 Input Plugin\n\nHTTP Listener v2 is a service input plugin that listens for metrics sent via\nHTTP. Metrics may be sent in any supported [data format][data_format].\n\n**Note:** The plugin previously known as `http_listener` has been renamed\n`influxdb_listener`.  If you would like Telegraf to act as a proxy/relay for\nInfluxDB it is recommended to use [`influxdb_listener`][influxdb_listener].\n\n### Configuration:\n\nThis is a sample configuration for the plugin.\n\n```toml\n[[inputs.http_listener_v2]]\n  ## Address and port to host HTTP listener on\n  service_address = ":8080"\n\n  ## Path to listen to.\n  # path = "/telegraf"\n\n  ## HTTP methods to accept.\n  # methods = ["POST", "PUT"]\n\n  ## maximum duration before timing out read of the request\n  # read_timeout = "10s"\n  ## maximum duration before timing out write of the response\n  # write_timeout = "10s"\n\n  ## Maximum allowed http request body size in bytes.\n  ## 0 means to use the default of 524,288,000 bytes (500 mebibytes)\n  # max_body_size = "500MB"\n\n  ## Part of the request to consume.  Available options are "body" and\n  ## "query".\n  # data_source = "body"\n\n  ## Set one or more allowed client CA certificate file names to\n  ## enable mutually authenticated TLS connections\n  # tls_allowed_cacerts = ["/etc/telegraf/clientca.pem"]\n\n  ## Add service certificate and key\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n\n  ## Optional username and password to accept for HTTP basic authentication.\n  ## You probably want to make sure you have TLS configured above for this.\n  # basic_username = "foobar"\n  # basic_password = "barfoo"\n\n  ## Optional setting to map http headers into tags\n  ## If the http header is not present on the request, no corresponding tag will be added\n  ## If multiple instances of the http header are present, only the first value will be used\n  # http_header_tags = {"HTTP_HEADER" = "TAG_NAME"}\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n### Metrics:\n\nMetrics are collected from the part of the request specified by the `data_source` param and are parsed depending on the value of `data_format`.\n\n### Troubleshooting:\n\n**Send Line Protocol**\n```\ncurl -i -XPOST \'http://localhost:8080/telegraf\' --data-binary \'cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000000\'\n```\n\n**Send JSON**\n```\ncurl -i -XPOST \'http://localhost:8080/telegraf\' --data-binary \'{"value1": 42, "value2": 42}\'\n```\n\n**Send query params**\n```\ncurl -i -XGET \'http://localhost:8080/telegraf?host=server01&value=0.42\'\n```\n\n[data_format]: /docs/DATA_FORMATS_INPUT.md\n[influxdb_listener]: /plugins/inputs/influxdb_listener/README.md\n',image:yv.a},{id:"http_response",name:"HTTP Response",url:"telegraf-plugins/http_response",markdown:'# HTTP Response Input Plugin\n\nThis input plugin checks HTTP/HTTPS connections.\n\n### Configuration:\n\n```toml\n# HTTP/HTTPS request given an address a method and a timeout\n[[inputs.http_response]]\n  ## address is Deprecated in 1.12, use \'urls\'\n\n  ## List of urls to query.\n  # urls = ["http://localhost"]\n\n  ## Set http_proxy (telegraf uses the system wide proxy settings if it\'s is not set)\n  # http_proxy = "http://localhost:8888"\n\n  ## Set response_timeout (default 5 seconds)\n  # response_timeout = "5s"\n\n  ## HTTP Request Method\n  # method = "GET"\n\n  ## Whether to follow redirects from the server (defaults to false)\n  # follow_redirects = false\n\n  ## Optional file with Bearer token\n  ## file content is added as an Authorization header\n  # bearer_token = "/path/to/file"\n\n  ## Optional HTTP Basic Auth Credentials\n  # username = "username"\n  # password = "pa$$word"\n\n  ## Optional HTTP Request Body\n  # body = \'\'\'\n  # {\'fake\':\'data\'}\n  # \'\'\'\n\n  ## Optional name of the field that will contain the body of the response.\n  ## By default it is set to an empty String indicating that the body\'s content won\'t be added\n  # response_body_field = \'\'\n\n  ## Maximum allowed HTTP response body size in bytes.\n  ## 0 means to use the default of 32MiB.\n  ## If the response body size exceeds this limit a "body_read_error" will be raised\n  # response_body_max_size = "32MiB"\n\n  ## Optional substring or regex match in body of the response (case sensitive)\n  # response_string_match = "\\"service_status\\": \\"up\\""\n  # response_string_match = "ok"\n  # response_string_match = "\\".*_status\\".?:.?\\"up\\""\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## HTTP Request Headers (all values must be strings)\n  # [inputs.http_response.headers]\n  #   Host = "github.com"\n\n  ## Optional setting to map response http headers into tags\n  ## If the http header is not present on the request, no corresponding tag will be added\n  ## If multiple instances of the http header are present, only the first value will be used\n  # http_header_tags = {"HTTP_HEADER" = "TAG_NAME"}\n\n  ## Interface to use when dialing an address\n  # interface = "eth0"\n```\n\n### Metrics:\n\n- http_response\n  - tags:\n    - server (target URL)\n    - method (request method)\n    - status_code (response status code)\n    - result ([see below](#result--result_code))\n  - fields:\n    - response_time (float, seconds)\n    - content_length (int, response body length)\n    - response_string_match (int, 0 = mismatch / body read error, 1 = match)\n    - http_response_code (int, response status code)\n\t- result_type (string, deprecated in 1.6: use `result` tag and `result_code` field)\n    - result_code (int, [see below](#result--result_code))\n\n#### `result` / `result_code`\n\nUpon finishing polling the target server, the plugin registers the result of the operation in the `result` tag, and adds a numeric field called `result_code` corresponding with that tag value.\n\nThis tag is used to expose network and plugin errors. HTTP errors are considered a successful connection.\n\n|Tag value                |Corresponding field value|Description|\n--------------------------|-------------------------|-----------|\n|success                  | 0                       |The HTTP request completed, even if the HTTP code represents an error|\n|response_string_mismatch | 1                       |The option `response_string_match` was used, and the body of the response didn\'t match the regex. HTTP errors with content in their body (like 4xx, 5xx) will trigger this error|\n|body_read_error          | 2                       |The option `response_string_match` was used, but the plugin wasn\'t able to read the body of the response. Responses with empty bodies (like 3xx, HEAD, etc) will trigger this error. Or the option `response_body_field` was used and the content of the response body was not a valid utf-8. Or the size of the body of the response exceeded the `response_body_max_size` |\n|connection_failed        | 3                       |Catch all for any network error not specifically handled by the plugin|\n|timeout                  | 4                       |The plugin timed out while awaiting the HTTP connection to complete|\n|dns_error                | 5                       |There was a DNS error while attempting to connect to the host|\n\n\n### Example Output:\n\n```\nhttp_response,method=GET,result=success,server=http://github.com,status_code=200 content_length=87878i,http_response_code=200i,response_time=0.937655534,result_code=0i,result_type="success" 1565839598000000000\n```\n',image:xv.a},{id:"httpjson",name:"HTTP JSON",url:"telegraf-plugins/httpjson",markdown:'# HTTP JSON Input Plugin\n\nThe httpjson plugin collects data from HTTP URLs which respond with JSON.  It flattens the JSON and finds all numeric values, treating them as floats.\n\nDeprecated (1.6): use the [http](../http) input.\n\n### Configuration:\n\n```toml\n[[inputs.httpjson]]\n  ## NOTE This plugin only reads numerical measurements, strings and booleans\n  ## will be ignored.\n\n  ## Name for the service being polled.  Will be appended to the name of the\n  ## measurement e.g. "httpjson_webserver_stats".\n  ##\n  ## Deprecated (1.3.0): Use name_override, name_suffix, name_prefix instead.\n  name = "webserver_stats"\n\n  ## URL of each server in the service\'s cluster\n  servers = [\n    "http://localhost:9999/stats/",\n    "http://localhost:9998/stats/",\n  ]\n  ## Set response_timeout (default 5 seconds)\n  response_timeout = "5s"\n\n  ## HTTP method to use: GET or POST (case-sensitive)\n  method = "GET"\n\n  ## Tags to extract from top-level of JSON server response.\n  # tag_keys = [\n  #   "my_tag_1",\n  #   "my_tag_2"\n  # ]\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## HTTP Request Parameters (all values must be strings).  For "GET" requests, data\n  ## will be included in the query.  For "POST" requests, data will be included\n  ## in the request body as "x-www-form-urlencoded".\n  # [inputs.httpjson.parameters]\n  #   event_type = "cpu_spike"\n  #   threshold = "0.75"\n\n  ## HTTP Request Headers (all values must be strings).\n  # [inputs.httpjson.headers]\n  #   X-Auth-Token = "my-xauth-token"\n  #   apiVersion = "v1"\n```\n\n### Measurements & Fields:\n\n- httpjson\n\t- response_time (float): Response time in seconds\n\nAdditional fields are dependant on the response of the remote service being polled.\n\n### Tags:\n\n- All measurements have the following tags:\n\t- server: HTTP origin as defined in configuration as `servers`.\n\nAny top level keys listed under `tag_keys` in the configuration are added as tags.  Top level keys are defined as keys in the root level of the object in a single object response, or in the root level of each object within an array of objects.\n\n\n### Examples Output:\n\nThis plugin understands responses containing a single JSON object, or a JSON Array of Objects.\n\n**Object Output:**\n\nGiven the following response body:\n```json\n{\n    "a": 0.5,\n    "b": {\n        "c": "some text",\n        "d": 0.1,\n        "e": 5\n    },\n    "service": "service01"\n}\n```\nThe following metric is produced:\n\n`httpjson,server=http://localhost:9999/stats/ b_d=0.1,a=0.5,b_e=5,response_time=0.001`\n\nNote that only numerical values are extracted and the type is float.\n\nIf `tag_keys` is included in the configuration:\n\n```toml\n[[inputs.httpjson]]\n  tag_keys = ["service"]\n```\n\nThen the `service` tag will also be added:\n\n`httpjson,server=http://localhost:9999/stats/,service=service01 b_d=0.1,a=0.5,b_e=5,response_time=0.001`\n\n**Array Output:**\n\nIf the service returns an array of objects, one metric is be created for each object:\n\n```json\n[\n    {\n        "service": "service01",\n        "a": 0.5,\n        "b": {\n            "c": "some text",\n            "d": 0.1,\n            "e": 5\n        }\n    },\n    {\n        "service": "service02",\n        "a": 0.6,\n        "b": {\n            "c": "some text",\n            "d": 0.2,\n            "e": 6\n        }\n    }\n]\n```\n\n`httpjson,server=http://localhost:9999/stats/,service=service01 a=0.5,b_d=0.1,b_e=5,response_time=0.003`\n`httpjson,server=http://localhost:9999/stats/,service=service02 a=0.6,b_d=0.2,b_e=6,response_time=0.003`\n',image:Ev.a},{id:"icinga2",name:"Icinga2",url:"telegraf-plugins/icinga2",markdown:'# Icinga2 Input Plugin\n\nThis plugin gather services & hosts status using Icinga2 Remote API.\n\nThe icinga2 plugin uses the icinga2 remote API to gather status on running\nservices and hosts. You can read Icinga2\'s documentation for their remote API\n[here](https://docs.icinga.com/icinga2/latest/doc/module/icinga2/chapter/icinga2-api)\n\n### Configuration:\n\n```toml\n# Description\n[[inputs.icinga2]]\n  ## Required Icinga2 server address\n  # server = "https://localhost:5665"\n  \n  ## Required Icinga2 object type ("services" or "hosts")\n  # object_type = "services"\n\n  ## Credentials for basic HTTP authentication\n  # username = "admin"\n  # password = "admin"\n\n  ## Maximum time to receive response.\n  # response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = true\n```\n\n### Measurements & Fields:\n\n- All measurements have the following fields:\n    - name (string)\n    - state_code (int)\n\n### Tags:\n\n- All measurements have the following tags:\n    - check_command - The short name of the check command\n    - display_name - The name of the service or host\n    - state - The state: UP/DOWN for hosts, OK/WARNING/CRITICAL/UNKNOWN for services\n    - source - The icinga2 host\n    - port - The icinga2 port\n    - scheme - The icinga2 protocol (http/https)\n    - server - The server the check_command is running for\n\n### Sample Queries:\n\n```sql\nSELECT * FROM "icinga2_services" WHERE state_code = 0 AND time > now() - 24h // Service with OK status\nSELECT * FROM "icinga2_services" WHERE state_code = 1 AND time > now() - 24h // Service with WARNING status\nSELECT * FROM "icinga2_services" WHERE state_code = 2 AND time > now() - 24h // Service with CRITICAL status\nSELECT * FROM "icinga2_services" WHERE state_code = 3 AND time > now() - 24h // Service with UNKNOWN status\n```\n\n### Example Output:\n\n```\n$ ./telegraf -config telegraf.conf -input-filter icinga2 -test\nicinga2_hosts,display_name=router-fr.eqx.fr,check_command=hostalive-custom,host=test-vm,source=localhost,port=5665,scheme=https,state=ok name="router-fr.eqx.fr",state=0 1492021603000000000\n```\n',image:Tv.a},{id:"infiniband",name:"InfiniBand",url:"telegraf-plugins/infiniband",markdown:"# InfiniBand Input Plugin\n\nThis plugin gathers statistics for all InfiniBand devices and ports on the\nsystem. These are the counters that can be found in\n`/sys/class/infiniband/<dev>/port/<port>/counters/`\n\n**Supported Platforms**: Linux\n\n### Configuration\n\n```toml\n[[inputs.infiniband]]\n  # no configuration\n```\n\n### Metrics\n\nActual metrics depend on the InfiniBand devices, the plugin uses a simple\nmapping from counter -> counter value.\n\n[Information about the counters][counters] collected is provided by Mellanox.\n\n[counters]: https://community.mellanox.com/s/article/understanding-mlx5-linux-counters-and-status-parameters\n\n- infiniband\n  - tags:\n    - device\n    - port\n  - fields:\n    - excessive_buffer_overrun_errors (integer)\n    - link_downed (integer)\n    - link_error_recovery (integer)\n    - local_link_integrity_errors (integer)\n    - multicast_rcv_packets (integer)\n    - multicast_xmit_packets (integer)\n    - port_rcv_constraint_errors (integer)\n    - port_rcv_data (integer)\n    - port_rcv_errors (integer)\n    - port_rcv_packets (integer)\n    - port_rcv_remote_physical_errors (integer)\n    - port_rcv_switch_relay_errors (integer)\n    - port_xmit_constraint_errors (integer)\n    - port_xmit_data (integer)\n    - port_xmit_discards (integer)\n    - port_xmit_packets (integer)\n    - port_xmit_wait (integer)\n    - symbol_error (integer)\n    - unicast_rcv_packets (integer)\n    - unicast_xmit_packets (integer)\n    - VL15_dropped (integer)\n\n\n\n### Example Output\n\n```\ninfiniband,device=mlx5_0,port=1 VL15_dropped=0i,excessive_buffer_overrun_errors=0i,link_downed=0i,link_error_recovery=0i,local_link_integrity_errors=0i,multicast_rcv_packets=0i,multicast_xmit_packets=0i,port_rcv_constraint_errors=0i,port_rcv_data=237159415345822i,port_rcv_errors=0i,port_rcv_packets=801977655075i,port_rcv_remote_physical_errors=0i,port_rcv_switch_relay_errors=0i,port_xmit_constraint_errors=0i,port_xmit_data=238334949937759i,port_xmit_discards=0i,port_xmit_packets=803162651391i,port_xmit_wait=4294967295i,symbol_error=0i,unicast_rcv_packets=801977655075i,unicast_xmit_packets=803162651391i 1573125558000000000\n```\n",image:Dv.a},{id:"influxdb",name:"InfluxDB",url:"telegraf-plugins/influxdb",markdown:'# InfluxDB Input Plugin\n\nThe InfluxDB plugin will collect metrics on the given InfluxDB servers.\n\nThis plugin can also gather metrics from endpoints that expose\nInfluxDB-formatted endpoints. See below for more information.\n\n### Configuration:\n\n```toml\n# Read InfluxDB-formatted JSON metrics from one or more HTTP endpoints\n[[inputs.influxdb]]\n  ## Works with InfluxDB debug endpoints out of the box,\n  ## but other services can use this format too.\n  ## See the influxdb plugin\'s README for more details.\n\n  ## Multiple URLs from which to read InfluxDB-formatted JSON\n  ## Default is "http://localhost:8086/debug/vars".\n  urls = [\n    "http://localhost:8086/debug/vars"\n  ]\n\n  ## Username and password to send using HTTP Basic Authentication.\n  # username = ""\n  # password = ""\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## http request & header timeout\n  timeout = "5s"\n```\n\n### Measurements & Fields\n\n**Note:** The measurements and fields included in this plugin are dynamically built from the InfluxDB source, and may vary between versions:\n\n- influxdb\n  - n_shards: The total number of shards in the specified database.\n- influxdb_database: The database metrics are being collected from.\n- influxdb_httpd: The URL to listen for network requests. By default, `http://localhost:8086/debug/var`.\n- influxdb_measurement: The measurement that metrics are collected from.\n- influxdb_memstats: Statistics about the memory allocator in the specified database.\n  - heap_inuse: The number of bytes in in-use spans.\n  - heap_released: The number of bytes of physical memory returned to the OS.\n  - mspan_inuse: The number of bytes in in-use mspans.\n  - total_alloc: The cumulative bytes allocated for heap objects.\n  - sys: The total number of bytes of memory obtained from the OS. Measures the virtual address space reserved by the Go runtime for the heap, stacks, and other internal data structures.\n  - mallocs: The total number of heap objects allocated. (The total number of live objects are frees.)\n  - frees: The cumulative number of freed (live) heap objects.\n  - heap_idle: The number of bytes of idle heap objects.\n  - pause_total_ns: The total time garbage collection cycles are paused in nanoseconds.\n  - lookups: The number of pointer lookups performed by the runtime. Primarily useful for debugging runtime internals.\n  - heap_sys: The number of bytes of heap memory obtained from the OS. Measures the amount of virtual address space reserved for the heap.\n  - mcache_sys: The bytes of memory obtained from the OS for mcache structures.\n  - next_gc: The target heap size of the next garbage collection cycle.\n  - gc_cpu_fraction: The fraction of CPU time used by the garbage collection cycle.\n  - other_sys: The number of bytes of memory used other than heap_sys, stacks_sys, mspan_sys, mcache_sys, buckhash_sys, and gc_sys.\n  - alloc: The currently allocated number of bytes of heap objects.\n  - stack_inuse: The number of bytes in in-use stacks.\n  - stack_sys: The total number of bytes of memory obtained from the stack in use.\n  - buck_hash_sys: The bytes of memory in profiling bucket hash tables.\n  - gc_sys: The bytes of memory in garbage collection metadata.\n  - num_gc: The number of completed garbage collection cycles.\n  - heap_alloc: The size, in bytes, of all heap objects.\n  - heap_objects: The number of allocated heap objects.\n  - mspan_sys: The bytes of memory obtained from the OS for mspan.\n  - mcache_inuse: The bytes of allocated mcache structures.\n  - last_gc: Time the last garbage collection finished, as nanoseconds since 1970 (the UNIX epoch).\n- influxdb_shard: The shard metrics are collected from.\n- influxdb_subscriber: The InfluxDB subscription that metrics are collected from.\n- influxdb_tsm1_cache: The TSM cache that metrics are collected from.\n- influxdb_tsm1_wal: The TSM Write Ahead Log (WAL) that metrics are collected from.\n- influxdb_write: The total writes to the specified database.\n\n### Example Output:\n\n```\ntelegraf --config ~/ws/telegraf.conf --input-filter influxdb --test\n* Plugin: influxdb, Collection 1\n> influxdb_database,database=_internal,host=tyrion,url=http://localhost:8086/debug/vars numMeasurements=10,numSeries=29 1463590500247354636\n> influxdb_httpd,bind=:8086,host=tyrion,url=http://localhost:8086/debug/vars req=7,reqActive=1,reqDurationNs=14227734 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=database,url=http://localhost:8086/debug/vars numSeries=1 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=httpd,url=http://localhost:8086/debug/vars numSeries=1 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=measurement,url=http://localhost:8086/debug/vars numSeries=10 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=runtime,url=http://localhost:8086/debug/vars numSeries=1 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=shard,url=http://localhost:8086/debug/vars numSeries=4 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=subscriber,url=http://localhost:8086/debug/vars numSeries=1 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=tsm1_cache,url=http://localhost:8086/debug/vars numSeries=4 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=tsm1_filestore,url=http://localhost:8086/debug/vars numSeries=2 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=tsm1_wal,url=http://localhost:8086/debug/vars numSeries=4 1463590500247354636\n> influxdb_measurement,database=_internal,host=tyrion,measurement=write,url=http://localhost:8086/debug/vars numSeries=1 1463590500247354636\n> influxdb_memstats,host=tyrion,url=http://localhost:8086/debug/vars alloc=7642384i,buck_hash_sys=1463471i,frees=1169558i,gc_sys=653312i,gc_cpu_fraction=0.00003825652361068311,heap_alloc=7642384i,heap_idle=9912320i,heap_inuse=9125888i,heap_objects=48276i,heap_released=0i,heap_sys=19038208i,last_gc=1463590480877651621i,lookups=90i,mallocs=1217834i,mcache_inuse=4800i,mcache_sys=16384i,mspan_inuse=70920i,mspan_sys=81920i,next_gc=11679787i,num_gc=141i,other_sys=1244233i,pause_total_ns=24034027i,stack_inuse=884736i,stack_sys=884736i,sys=23382264i,total_alloc=679012200i 1463590500277918755\n> influxdb_shard,database=_internal,engine=tsm1,host=tyrion,id=4,path=/Users/sparrc/.influxdb/data/_internal/monitor/4,retentionPolicy=monitor,url=http://localhost:8086/debug/vars fieldsCreate=65,seriesCreate=26,writePointsOk=7274,writeReq=280 1463590500247354636\n> influxdb_subscriber,host=tyrion,url=http://localhost:8086/debug/vars pointsWritten=7274 1463590500247354636\n> influxdb_tsm1_cache,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/data/_internal/monitor/1,retentionPolicy=monitor,url=http://localhost:8086/debug/vars WALCompactionTimeMs=0,cacheAgeMs=2809192,cachedBytes=0,diskBytes=0,memBytes=0,snapshotCount=0 1463590500247354636\n> influxdb_tsm1_cache,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/data/_internal/monitor/2,retentionPolicy=monitor,url=http://localhost:8086/debug/vars WALCompactionTimeMs=0,cacheAgeMs=2809184,cachedBytes=0,diskBytes=0,memBytes=0,snapshotCount=0 1463590500247354636\n> influxdb_tsm1_cache,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/data/_internal/monitor/3,retentionPolicy=monitor,url=http://localhost:8086/debug/vars WALCompactionTimeMs=0,cacheAgeMs=2809180,cachedBytes=0,diskBytes=0,memBytes=42368,snapshotCount=0 1463590500247354636\n> influxdb_tsm1_cache,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/data/_internal/monitor/4,retentionPolicy=monitor,url=http://localhost:8086/debug/vars WALCompactionTimeMs=0,cacheAgeMs=2799155,cachedBytes=0,diskBytes=0,memBytes=331216,snapshotCount=0 1463590500247354636\n> influxdb_tsm1_filestore,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/data/_internal/monitor/1,retentionPolicy=monitor,url=http://localhost:8086/debug/vars diskBytes=37892 1463590500247354636\n> influxdb_tsm1_filestore,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/data/_internal/monitor/2,retentionPolicy=monitor,url=http://localhost:8086/debug/vars diskBytes=52907 1463590500247354636\n> influxdb_tsm1_wal,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/wal/_internal/monitor/1,retentionPolicy=monitor,url=http://localhost:8086/debug/vars currentSegmentDiskBytes=0,oldSegmentsDiskBytes=0 1463590500247354636\n> influxdb_tsm1_wal,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/wal/_internal/monitor/2,retentionPolicy=monitor,url=http://localhost:8086/debug/vars currentSegmentDiskBytes=0,oldSegmentsDiskBytes=0 1463590500247354636\n> influxdb_tsm1_wal,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/wal/_internal/monitor/3,retentionPolicy=monitor,url=http://localhost:8086/debug/vars currentSegmentDiskBytes=0,oldSegmentsDiskBytes=65651 1463590500247354636\n> influxdb_tsm1_wal,database=_internal,host=tyrion,path=/Users/sparrc/.influxdb/wal/_internal/monitor/4,retentionPolicy=monitor,url=http://localhost:8086/debug/vars currentSegmentDiskBytes=495687,oldSegmentsDiskBytes=0 1463590500247354636\n> influxdb_write,host=tyrion,url=http://localhost:8086/debug/vars pointReq=7274,pointReqLocal=7274,req=280,subWriteOk=280,writeOk=280 1463590500247354636\n> influxdb_shard,host=tyrion n_shards=4i 1463590500247354636\n```\n\n### InfluxDB-formatted endpoints\n\nThe influxdb plugin can collect InfluxDB-formatted data from JSON endpoints.\nWhether associated with an Influx database or not.\n\nWith a configuration of:\n\n```toml\n[[inputs.influxdb]]\n  urls = [\n    "http://127.0.0.1:8086/debug/vars",\n    "http://192.168.2.1:8086/debug/vars"\n  ]\n```\n',image:Lv.a},{id:"influxdb_listener",name:"InfluxDB Listener",url:"telegraf-plugins/influxdb_listener",markdown:'# InfluxDB Listener Input Plugin\n\nInfluxDB Listener is a service input plugin that listens for requests sent\naccording to the [InfluxDB HTTP API][influxdb_http_api].  The intent of the\nplugin is to allow Telegraf to serve as a proxy/router for the `/write`\nendpoint of the InfluxDB HTTP API.\n\n**Note:** This plugin was previously known as `http_listener`.  If you wish to\nsend general metrics via HTTP it is recommended to use the\n[`http_listener_v2`][http_listener_v2] instead.\n\nThe `/write` endpoint supports the `precision` query parameter and can be set\nto one of `ns`, `u`, `ms`, `s`, `m`, `h`.  All other parameters are ignored and\ndefer to the output plugins configuration.\n\nWhen chaining Telegraf instances using this plugin, CREATE DATABASE requests\nreceive a 200 OK response with message body `{"results":[]}` but they are not\nrelayed. The output configuration of the Telegraf instance which ultimately\nsubmits data to InfluxDB determines the destination database.\n\n### Configuration:\n\n```toml\n[[inputs.influxdb_listener]]\n  ## Address and port to host HTTP listener on\n  service_address = ":8186"\n\n  ## maximum duration before timing out read of the request\n  read_timeout = "10s"\n  ## maximum duration before timing out write of the response\n  write_timeout = "10s"\n\n  ## Maximum allowed HTTP request body size in bytes.\n  ## 0 means to use the default of 32MiB.\n  max_body_size = 0\n\n  ## Maximum line size allowed to be sent in bytes.\n  ##   deprecated in 1.14; parser now handles lines of unlimited length and option is ignored\n  # max_line_size = 0\n\n  ## Set one or more allowed client CA certificate file names to\n  ## enable mutually authenticated TLS connections\n  tls_allowed_cacerts = ["/etc/telegraf/clientca.pem"]\n\n  ## Add service certificate and key\n  tls_cert = "/etc/telegraf/cert.pem"\n  tls_key = "/etc/telegraf/key.pem"\n\n  ## Optional tag name used to store the database name.\n  ## If the write has a database in the query string then it will be kept in this tag name.\n  ## This tag can be used in downstream outputs.\n  ## The default value of nothing means it will be off and the database will not be recorded.\n  ## If you have a tag that is the same as the one specified below, and supply a database,\n  ## the tag will be overwritten with the database supplied.\n  # database_tag = ""\n\n  ## If set the retention policy specified in the write query will be added as\n  ## the value of this tag name.\n  # retention_policy_tag = ""\n\n  ## Optional username and password to accept for HTTP basic authentication.\n  ## You probably want to make sure you have TLS configured above for this.\n  # basic_username = "foobar"\n  # basic_password = "barfoo"\n```\n\n### Metrics:\n\nMetrics are created from InfluxDB Line Protocol in the request body.\n\n### Troubleshooting:\n\n**Example Query:**\n```\ncurl -i -XPOST \'http://localhost:8186/write\' --data-binary \'cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000000\'\n```\n\n[influxdb_http_api]: https://docs.influxdata.com/influxdb/latest/guides/writing_data/\n[http_listener_v2]: /plugins/inputs/http_listener_v2/README.md\n',image:jv.a},{id:"influxdb_v2_listener",name:"InfluxDB V2 Listener",url:"telegraf-plugins/influxdb_v2_listener",markdown:'# InfluxDB V2 Listener Input Plugin\n\nInfluxDB V2 Listener is a service input plugin that listens for requests sent\naccording to the [InfluxDB HTTP API][influxdb_http_api].  The intent of the\nplugin is to allow Telegraf to serve as a proxy/router for the `/api/v2/write`\nendpoint of the InfluxDB HTTP API.\n\nThe `/api/v2/write` endpoint supports the `precision` query parameter and can be set\nto one of `ns`, `us`, `ms`, `s`.  All other parameters are ignored and\ndefer to the output plugins configuration.\n\nTelegraf minimum version: Telegraf 1.16.0\n\n### Configuration:\n\n```toml\n[[inputs.influxdb_v2_listener]]\n  ## Address and port to host InfluxDB listener on\n  ## (Double check the port. Could be 9999 if using OSS Beta)\n  service_address = ":8086"\n\n  ## Maximum allowed HTTP request body size in bytes.\n  ## 0 means to use the default of 32MiB.\n  # max_body_size = "32MiB"\n\n  ## Optional tag to determine the bucket.\n  ## If the write has a bucket in the query string then it will be kept in this tag name.\n  ## This tag can be used in downstream outputs.\n  ## The default value of nothing means it will be off and the database will not be recorded.\n  # bucket_tag = ""\n\n  ## Set one or more allowed client CA certificate file names to\n  ## enable mutually authenticated TLS connections\n  # tls_allowed_cacerts = ["/etc/telegraf/clientca.pem"]\n\n  ## Add service certificate and key\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n\n  ## Optional token to accept for HTTP authentication.\n  ## You probably want to make sure you have TLS configured above for this.\n  # token = "some-long-shared-secret-token"\n```\n\n### Metrics:\n\nMetrics are created from InfluxDB Line Protocol in the request body.\n\n### Troubleshooting:\n\n**Example Query:**\n```\ncurl -i -XPOST \'http://localhost:8186/api/v2/write\' --data-binary \'cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000000\'\n```\n\n[influxdb_http_api]: https://v2.docs.influxdata.com/v2.0/api/\n',image:Nv.a},{id:"intel_rdt",name:"Intel RDT",url:"telegraf-plugins/intel_rdt",markdown:'# Intel RDT Input Plugin\nThe intel_rdt plugin collects information provided by monitoring features of \nIntel Resource Director Technology (Intel(R) RDT) like Cache Monitoring Technology (CMT), \nMemory Bandwidth Monitoring (MBM), Cache Allocation Technology (CAT) and Code \nand Data Prioritization (CDP) Technology provide the hardware framework to monitor \nand control the utilization of shared resources, like last level cache, memory bandwidth. \nThese Technologies comprise Intel’s Resource Director Technology (RDT). \nAs multithreaded and multicore platform architectures emerge, \nrunning workloads in single-threaded, multithreaded, or complex virtual machine environment, \nthe last level cache and memory bandwidth are key resources to manage. Intel introduces CMT,\nMBM, CAT and CDP to manage these various workloads across shared resources. \n\nTo gather Intel RDT metrics plugin uses _pqos_ cli tool which is a part of [Intel(R) RDT Software Package](https://github.com/intel/intel-cmt-cat).\nBefore using this plugin please be sure _pqos_ is properly installed and configured regarding that the plugin\nrun _pqos_ to work with `OS Interface` mode. This plugin supports _pqos_ version 4.0.0 and above.\nBe aware pqos tool needs root privileges to work properly.\n\nMetrics will be constantly reported from the following `pqos` commands within the given interval:\n\n#### In case of cores monitoring:\n```\npqos -r --iface-os --mon-file-type=csv --mon-interval=INTERVAL --mon-core=all:[CORES]\\;mbt:[CORES]\n```\nwhere `CORES` is equal to group of cores provided in config. User can provide many groups.\n\n#### In case of process monitoring:\n```\npqos -r --iface-os --mon-file-type=csv --mon-interval=INTERVAL --mon-pid=all:[PIDS]\\;mbt:[PIDS]\n```\nwhere `PIDS` is group of processes IDs which name are equal to provided process name in a config.\nUser can provide many process names which lead to create many processes groups.\n\nIn both cases `INTERVAL` is equal to sampling_interval from config.\n\nBecause PIDs association within system could change in every moment, Intel RDT plugin provides a \nfunctionality to check on every interval if desired processes change their PIDs association.\nIf some change is reported, plugin will restart _pqos_ tool with new arguments. If provided by user\nprocess name is not equal to any of available processes, will be omitted and plugin will constantly\ncheck for process availability.\n\n### Useful links\nPqos installation process: https://github.com/intel/intel-cmt-cat/blob/master/INSTALL  \nEnabling OS interface: https://github.com/intel/intel-cmt-cat/wiki, https://github.com/intel/intel-cmt-cat/wiki/resctrl  \nMore about Intel RDT: https://www.intel.com/content/www/us/en/architecture-and-technology/resource-director-technology.html\n\n### Configuration\n```toml\n# Read Intel RDT metrics\n[[inputs.IntelRDT]]\n\t## Optionally set sampling interval to Nx100ms. \n\t## This value is propagated to pqos tool. Interval format is defined by pqos itself.\n\t## If not provided or provided 0, will be set to 10 = 10x100ms = 1s.\n\t# sampling_interval = "10"\n\t\n\t## Optionally specify the path to pqos executable. \n\t## If not provided, auto discovery will be performed.\n\t# pqos_path = "/usr/local/bin/pqos"\n\n\t## Optionally specify if IPC and LLC_Misses metrics shouldn\'t be propagated.\n\t## If not provided, default value is false.\n\t# shortened_metrics = false\n\t\n\t## Specify the list of groups of CPU core(s) to be provided as pqos input. \n\t## Mandatory if processes aren\'t set and forbidden if processes are specified.\n\t## e.g. ["0-3", "4,5,6"] or ["1-3,4"]\n\t# cores = ["0-3"]\n\t\n\t## Specify the list of processes for which Metrics will be collected.\n\t## Mandatory if cores aren\'t set and forbidden if cores are specified.\n\t## e.g. ["qemu", "pmd"]\n\t# processes = ["process"]\n```\n\n### Exposed metrics\n| Name          | Full name                                     | Description |\n|---------------|-----------------------------------------------|-------------|\n| MBL           | Memory Bandwidth on Local NUMA Node  |     Memory bandwidth utilization by the relevant CPU core/process on the local NUMA memory channel        |\n| MBR           | Memory Bandwidth on Remote NUMA Node |     Memory bandwidth utilization by the relevant CPU core/process on the remote NUMA memory channel        |\n| MBT           | Total Memory Bandwidth               |     Total memory bandwidth utilized by a CPU core/process on local and remote NUMA memory channels        |\n| LLC           | L3 Cache Occupancy                   |     Total Last Level Cache occupancy by a CPU core/process         |\n| *LLC_Misses    | L3 Cache Misses                      |    Total Last Level Cache misses by a CPU core/process       |\n| *IPC           | Instructions Per Cycle               |     Total instructions per cycle executed by a CPU core/process        |\n\n*optional\n\n### Troubleshooting\nPointing to non-existing core will lead to throwing an error by _pqos_ and plugin will not work properly.\nBe sure to check if provided core number exists within desired system.  \n\nBe aware reading Intel RDT metrics by _pqos_ cannot be done simultaneously on the same resource.\nSo be sure to not use any other _pqos_ instance which is monitoring the same cores or PIDs within working system.\nAlso there is no possibility to monitor same cores or PIDs on different groups.\n\nPids association for the given process could be manually checked by `pidof` command. E.g:\n```\npidof PROCESS\n```\nwhere `PROCESS` is process name.\n\n### Example Output\n```\n> rdt_metric,cores=12\\,19,host=r2-compute-20,name=IPC,process=top value=0 1598962030000000000\n> rdt_metric,cores=12\\,19,host=r2-compute-20,name=LLC_Misses,process=top value=0 1598962030000000000\n> rdt_metric,cores=12\\,19,host=r2-compute-20,name=LLC,process=top value=0 1598962030000000000\n> rdt_metric,cores=12\\,19,host=r2-compute-20,name=MBL,process=top value=0 1598962030000000000\n> rdt_metric,cores=12\\,19,host=r2-compute-20,name=MBR,process=top value=0 1598962030000000000\n> rdt_metric,cores=12\\,19,host=r2-compute-20,name=MBT,process=top value=0 1598962030000000000\n```',image:Pv.a},{id:"internal",name:"Telegraf Internal",url:"telegraf-plugins/internal",markdown:"# Telegraf Internal Input Plugin\n\nThe `internal` plugin collects metrics about the telegraf agent itself.\n\nNote that some metrics are aggregates across all instances of one type of\nplugin.\n\n### Configuration:\n\n```toml\n# Collect statistics about itself\n[[inputs.internal]]\n  ## If true, collect telegraf memory stats.\n  # collect_memstats = true\n```\n\n### Measurements & Fields:\n\nmemstats are taken from the Go runtime: https://golang.org/pkg/runtime/#MemStats\n\n- internal_memstats\n    - alloc_bytes\n    - frees\n    - heap_alloc_bytes\n    - heap_idle_bytes\n    - heap_in_use_bytes\n    - heap_objects_bytes\n    - heap_released_bytes\n    - heap_sys_bytes\n    - mallocs\n    - num_gc\n    - pointer_lookups\n    - sys_bytes\n    - total_alloc_bytes\n\nagent stats collect aggregate stats on all telegraf plugins.\n\n- internal_agent\n    - gather_errors\n    - metrics_dropped\n    - metrics_gathered\n    - metrics_written\n\ninternal_gather stats collect aggregate stats on all input plugins\nthat are of the same input type. They are tagged with `input=<plugin_name>`\n`version=<telegraf_version>` and `go_version=<go_build_version>`.\n\n- internal_gather\n    - gather_time_ns\n    - metrics_gathered\n\ninternal_write stats collect aggregate stats on all output plugins\nthat are of the same input type. They are tagged with `output=<plugin_name>`\nand `version=<telegraf_version>`.\n\n\n- internal_write\n    - buffer_limit\n    - buffer_size\n    - metrics_added\n    - metrics_written\n    - metrics_dropped\n    - metrics_filtered\n    - write_time_ns\n\ninternal_<plugin_name> are metrics which are defined on a per-plugin basis, and\nusually contain tags which differentiate each instance of a particular type of\nplugin and `version=<telegraf_version>`.\n\n- internal_<plugin_name>\n    - individual plugin-specific fields, such as requests counts.\n\n### Tags:\n\nAll measurements for specific plugins are tagged with information relevant\nto each particular plugin and with `version=<telegraf_version>`.\n\n\n### Example Output:\n\n```\ninternal_memstats,host=tyrion alloc_bytes=4457408i,sys_bytes=10590456i,pointer_lookups=7i,mallocs=17642i,frees=7473i,heap_sys_bytes=6848512i,heap_idle_bytes=1368064i,heap_in_use_bytes=5480448i,heap_released_bytes=0i,total_alloc_bytes=6875560i,heap_alloc_bytes=4457408i,heap_objects_bytes=10169i,num_gc=2i 1480682800000000000\ninternal_agent,host=tyrion,go_version=1.12.7,version=1.99.0 metrics_written=18i,metrics_dropped=0i,metrics_gathered=19i,gather_errors=0i 1480682800000000000\ninternal_write,output=file,host=tyrion,version=1.99.0 buffer_limit=10000i,write_time_ns=636609i,metrics_added=18i,metrics_written=18i,buffer_size=0i 1480682800000000000\ninternal_gather,input=internal,host=tyrion,version=1.99.0 metrics_gathered=19i,gather_time_ns=442114i 1480682800000000000\ninternal_gather,input=http_listener,host=tyrion,version=1.99.0 metrics_gathered=0i,gather_time_ns=167285i 1480682800000000000\ninternal_http_listener,address=:8186,host=tyrion,version=1.99.0 queries_received=0i,writes_received=0i,requests_received=0i,buffers_created=0i,requests_served=0i,pings_received=0i,bytes_received=0i,not_founds_served=0i,pings_served=0i,queries_served=0i,writes_served=0i 1480682800000000000\n```\n",image:qv.a},{id:"interrupts",name:"Interrupts",url:"telegraf-plugins/interrupts",markdown:'# Interrupts Input Plugin\n\nThe interrupts plugin gathers metrics about IRQs from `/proc/interrupts` and `/proc/softirqs`.\n\n### Configuration\n```toml\n[[inputs.interrupts]]\n  ## When set to true, cpu metrics are tagged with the cpu.  Otherwise cpu is\n  ## stored as a field.\n  ##\n  ## The default is false for backwards compatibility, and will be changed to\n  ## true in a future version.  It is recommended to set to true on new\n  ## deployments.\n  # cpu_as_tag = false\n\n  ## To filter which IRQs to collect, make use of tagpass / tagdrop, i.e.\n  # [inputs.interrupts.tagdrop]\n  #   irq = [ "NET_RX", "TASKLET" ]\n```\n\n### Metrics\n\nThere are two styles depending on the value of `cpu_as_tag`.\n\nWith `cpu_as_tag = false`:\n\n- interrupts\n  - tags:\n    - irq (IRQ name)\n    - type\n    - device (name of the device that is located at the IRQ)\n    - cpu\n  - fields:\n    - cpu (int, number of interrupts per cpu)\n    - total (int, total number of interrupts)\n\n- soft_interrupts\n  - tags:\n    - irq (IRQ name)\n    - type\n    - device (name of the device that is located at the IRQ)\n    - cpu\n  - fields:\n    - cpu (int, number of interrupts per cpu)\n    - total (int, total number of interrupts)\n\nWith `cpu_as_tag = true`:\n\n- interrupts\n  - tags:\n    - irq (IRQ name)\n    - type\n    - device (name of the device that is located at the IRQ)\n    - cpu\n  - fields:\n    - count (int, number of interrupts)\n\n- soft_interrupts\n  - tags:\n    - irq (IRQ name)\n    - type\n    - device (name of the device that is located at the IRQ)\n    - cpu\n  - fields:\n    - count (int, number of interrupts)\n\n### Example Output\n\nWith `cpu_as_tag = false`:\n```\ninterrupts,irq=0,type=IO-APIC,device=2-edge\\ timer,cpu=cpu0 count=23i 1489346531000000000\ninterrupts,irq=1,type=IO-APIC,device=1-edge\\ i8042,cpu=cpu0 count=9i 1489346531000000000\ninterrupts,irq=30,type=PCI-MSI,device=65537-edge\\ virtio1-input.0,cpu=cpu1 count=1i 1489346531000000000\nsoft_interrupts,irq=NET_RX,cpu=cpu0 count=280879i 1489346531000000000\n```\n\nWith `cpu_as_tag = true`:\n```\ninterrupts,cpu=cpu6,irq=PIW,type=Posted-interrupt\\ wakeup\\ event count=0i 1543539773000000000\ninterrupts,cpu=cpu7,irq=PIW,type=Posted-interrupt\\ wakeup\\ event count=0i 1543539773000000000\nsoft_interrupts,cpu=cpu0,irq=HI count=246441i 1543539773000000000\nsoft_interrupts,cpu=cpu1,irq=HI count=159154i 1543539773000000000\n```\n',image:zv.a},{id:"ipmi_sensor",name:"IPMI Sensor",url:"telegraf-plugins/ipmi_sensor",markdown:'# IPMI Sensor Input Plugin\n\nGet bare metal metrics using the command line utility\n[`ipmitool`](https://github.com/ipmitool/ipmitool).\n\nIf no servers are specified, the plugin will query the local machine sensor stats via the following command:\n\n```\nipmitool sdr\n```\nor with the version 2 schema:\n```\nipmitool sdr elist\n```\n\nWhen one or more servers are specified, the plugin will use the following command to collect remote host sensor stats:\n\n```\nipmitool -I lan -H SERVER -U USERID -P PASSW0RD sdr\n```\n\n### Configuration\n\n```toml\n# Read metrics from the bare metal servers via IPMI\n[[inputs.ipmi_sensor]]\n  ## optionally specify the path to the ipmitool executable\n  # path = "/usr/bin/ipmitool"\n  ##\n  ## Setting \'use_sudo\' to true will make use of sudo to run ipmitool.\n  ## Sudo must be configured to allow the telegraf user to run ipmitool\n  ## without a password.\n  # use_sudo = false\n  ##\n  ## optionally force session privilege level. Can be CALLBACK, USER, OPERATOR, ADMINISTRATOR\n  # privilege = "ADMINISTRATOR"\n  ##\n  ## optionally specify one or more servers via a url matching\n  ##  [username[:password]@][protocol[(address)]]\n  ##  e.g.\n  ##    root:passwd@lan(127.0.0.1)\n  ##\n  ## if no servers are specified, local machine sensor stats will be queried\n  ##\n  # servers = ["USERID:PASSW0RD@lan(192.168.1.1)"]\n\n  ## Recommended: use metric \'interval\' that is a multiple of \'timeout\' to avoid\n  ## gaps or overlap in pulled data\n  interval = "30s"\n\n  ## Timeout for the ipmitool command to complete. Default is 20 seconds.\n  timeout = "20s"\n\n  ## Schema Version: (Optional, defaults to version 1)\n  metric_version = 2\n```\n\n### Measurements\n\nVersion 1 schema:\n- ipmi_sensor:\n  - tags:\n    - name\n    - unit\n    - host\n    - server (only when retrieving stats from remote servers)\n  - fields:\n    - status (int, 1=ok status_code/0=anything else)\n    - value (float)\n\nVersion 2 schema:\n- ipmi_sensor:\n  - tags:\n    - name\n    - entity_id (can help uniquify duplicate names)\n    - status_code (two letter code from IPMI documentation)\n    - status_desc (extended status description field)\n    - unit (only on analog values)\n    - host\n    - server (only when retrieving stats from remote)\n  - fields:\n    - value (float)\n\n#### Permissions\n\nWhen gathering from the local system, Telegraf will need permission to the\nipmi device node.  When using udev you can create the device node giving\n`rw` permissions to the `telegraf` user by adding the following rule to\n`/etc/udev/rules.d/52-telegraf-ipmi.rules`:\n\n```\nKERNEL=="ipmi*", MODE="660", GROUP="telegraf"\n```\nAlternatively, it is possible to use sudo. You will need the following in your telegraf config:\n```toml\n[[inputs.ipmi_sensor]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias IPMITOOL = /usr/bin/ipmitool *\ntelegraf  ALL=(root) NOPASSWD: IPMITOOL\nDefaults!IPMITOOL !logfile, !syslog, !pam_session\n```\n\n### Example Output\n\n#### Version 1 Schema\nWhen retrieving stats from a remote server:\n```\nipmi_sensor,server=10.20.2.203,name=uid_light value=0,status=1i 1517125513000000000\nipmi_sensor,server=10.20.2.203,name=sys._health_led status=1i,value=0 1517125513000000000\nipmi_sensor,server=10.20.2.203,name=power_supply_1,unit=watts status=1i,value=110 1517125513000000000\nipmi_sensor,server=10.20.2.203,name=power_supply_2,unit=watts status=1i,value=120 1517125513000000000\nipmi_sensor,server=10.20.2.203,name=power_supplies value=0,status=1i 1517125513000000000\nipmi_sensor,server=10.20.2.203,name=fan_1,unit=percent status=1i,value=43.12 1517125513000000000\n```\n\n\nWhen retrieving stats from the local machine (no server specified):\n```\nipmi_sensor,name=uid_light value=0,status=1i 1517125513000000000\nipmi_sensor,name=sys._health_led status=1i,value=0 1517125513000000000\nipmi_sensor,name=power_supply_1,unit=watts status=1i,value=110 1517125513000000000\nipmi_sensor,name=power_supply_2,unit=watts status=1i,value=120 1517125513000000000\nipmi_sensor,name=power_supplies value=0,status=1i 1517125513000000000\nipmi_sensor,name=fan_1,unit=percent status=1i,value=43.12 1517125513000000000\n```\n\n#### Version 2 Schema\n\nWhen retrieving stats from the local machine (no server specified):\n```\nipmi_sensor,name=uid_light,entity_id=23.1,status_code=ok,status_desc=ok value=0 1517125474000000000\nipmi_sensor,name=sys._health_led,entity_id=23.2,status_code=ok,status_desc=ok value=0 1517125474000000000\nipmi_sensor,entity_id=10.1,name=power_supply_1,status_code=ok,status_desc=presence_detected,unit=watts value=110 1517125474000000000\nipmi_sensor,name=power_supply_2,entity_id=10.2,status_code=ok,unit=watts,status_desc=presence_detected value=125 1517125474000000000\nipmi_sensor,name=power_supplies,entity_id=10.3,status_code=ok,status_desc=fully_redundant value=0 1517125474000000000\nipmi_sensor,entity_id=7.1,name=fan_1,status_code=ok,status_desc=transition_to_running,unit=percent value=43.12 1517125474000000000\n```\n',image:Hv.a},{id:"ipset",name:"Ipset",url:"telegraf-plugins/ipset",markdown:'# Ipset Input Plugin\n\nThe ipset plugin gathers packets and bytes counters from Linux ipset.\nIt uses the output of the command "ipset save".\nIpsets created without the "counters" option are ignored.\n\nResults are tagged with:\n- ipset name\n- ipset entry\n\nThere are 3 ways to grant telegraf the right to run ipset:\n* Run as root (strongly discouraged)\n* Use sudo\n* Configure systemd to run telegraf with CAP_NET_ADMIN and CAP_NET_RAW capabilities.\n\n### Using systemd capabilities\n\nYou may run `systemctl edit telegraf.service` and add the following:\n\n```\n[Service]\nCapabilityBoundingSet=CAP_NET_RAW CAP_NET_ADMIN\nAmbientCapabilities=CAP_NET_RAW CAP_NET_ADMIN\n```\n\n### Using sudo\n\nYou will need the following in your telegraf config:\n```toml\n[[inputs.ipset]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias IPSETSAVE = /sbin/ipset save\ntelegraf  ALL=(root) NOPASSWD: IPSETSAVE\nDefaults!IPSETSAVE !logfile, !syslog, !pam_session\n```\n\n### Configuration\n\n```toml\n  [[inputs.ipset]]\n    ## By default, we only show sets which have already matched at least 1 packet.\n    ## set include_unmatched_sets = true to gather them all.\n    include_unmatched_sets = false\n    ## Adjust your sudo settings appropriately if using this option ("sudo ipset save")\n    ## You can avoid using sudo or root, by setting appropriate privileges for\n    ## the telegraf.service systemd service.\n    use_sudo = false\n    ## The default timeout of 1s for ipset execution can be overridden here:\n    # timeout = "1s"\n\n```\n\n### Example Output\n\n```\n$ sudo ipset save\ncreate myset hash:net family inet hashsize 1024 maxelem 65536 counters comment\nadd myset 10.69.152.1 packets 8 bytes 672 comment "machine A"\n```\n\n```\n$ telegraf --config telegraf.conf --input-filter ipset --test --debug\n* Plugin: inputs.ipset, Collection 1\n> ipset,rule=10.69.152.1,host=trashme,set=myset bytes_total=8i,packets_total=672i 1507615028000000000\n```\n',image:Vv.a},{id:"iptables",name:"Iptables",url:"telegraf-plugins/iptables",markdown:'# Iptables Input Plugin\n\nThe iptables plugin gathers packets and bytes counters for rules within a set of table and chain from the Linux\'s iptables firewall.\n\nRules are identified through associated comment. **Rules without comment are ignored**.\nIndeed we need a unique ID for the rule and the rule number is not a constant: it may vary when rules are inserted/deleted at start-up or by automatic tools (interactive firewalls, fail2ban, ...).\nAlso when the rule set is becoming big (hundreds of lines) most people are interested in monitoring only a small part of the rule set.\n\nBefore using this plugin **you must ensure that the rules you want to monitor are named with a unique comment**. Comments are added using the `-m comment --comment "my comment"` iptables options.\n\nThe iptables command requires CAP_NET_ADMIN and CAP_NET_RAW capabilities. You have several options to grant telegraf to run iptables:\n\n* Run telegraf as root. This is strongly discouraged.\n* Configure systemd to run telegraf with CAP_NET_ADMIN and CAP_NET_RAW. This is the simplest and recommended option.\n* Configure sudo to grant telegraf to run iptables. This is the most restrictive option, but require sudo setup.\n\n### Using systemd capabilities\n\nYou may run `systemctl edit telegraf.service` and add the following:\n\n```\n[Service]\nCapabilityBoundingSet=CAP_NET_RAW CAP_NET_ADMIN\nAmbientCapabilities=CAP_NET_RAW CAP_NET_ADMIN\n```\n\nSince telegraf will fork a process to run iptables, `AmbientCapabilities` is required to transmit the capabilities bounding set to the forked process.\n\n### Using sudo\n\nYou will need the following in your telegraf config:\n```toml\n[[inputs.iptables]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias IPTABLESSHOW = /usr/bin/iptables -nvL *\ntelegraf  ALL=(root) NOPASSWD: IPTABLESSHOW\nDefaults!IPTABLESSHOW !logfile, !syslog, !pam_session\n```\n\n### Using IPtables lock feature\n\nDefining multiple instances of this plugin in telegraf.conf can lead to concurrent IPtables access resulting in "ERROR in input [inputs.iptables]: exit status 4" messages in telegraf.log and missing metrics. Setting \'use_lock = true\' in the plugin configuration will run IPtables with the \'-w\' switch, allowing a lock usage to prevent this error.\n\n### Configuration:\n\n```toml\n  # use sudo to run iptables\n  use_sudo = false\n  # run iptables with the lock option\n  use_lock = false\n  # Define an alternate executable, such as "ip6tables". Default is "iptables".\n  # binary = "ip6tables"\n  # defines the table to monitor:\n  table = "filter"\n  # defines the chains to monitor:\n  chains = [ "INPUT" ]\n```\n\n### Measurements & Fields:\n\n\n- iptables\n    - pkts (integer, count)\n    - bytes (integer, bytes)\n\n### Tags:\n\n- All measurements have the following tags:\n    - table\n    - chain\n    - ruleid\n\nThe `ruleid` is the comment associated to the rule.\n\n### Example Output:\n\n```\n$ iptables -nvL INPUT\nChain INPUT (policy DROP 0 packets, 0 bytes)\npkts bytes target     prot opt in     out     source               destination\n100   1024   ACCEPT     tcp  --  *      *       192.168.0.0/24       0.0.0.0/0            tcp dpt:22 /* ssh */\n 42   2048   ACCEPT     tcp  --  *      *       192.168.0.0/24       0.0.0.0/0            tcp dpt:80 /* httpd */\n```\n\n```\n$ ./telegraf --config telegraf.conf --input-filter iptables --test\niptables,table=filter,chain=INPUT,ruleid=ssh pkts=100i,bytes=1024i 1453831884664956455\niptables,table=filter,chain=INPUT,ruleid=httpd pkts=42i,bytes=2048i 1453831884664956455\n```\n',image:Wv.a},{id:"ipvs",name:"IPVS",url:"telegraf-plugins/ipvs",markdown:"# IPVS Input Plugin\n\nThe IPVS input plugin uses the linux kernel netlink socket interface to gather\nmetrics about ipvs virtual and real servers.\n\n**Supported Platforms:** Linux\n\n### Configuration\n\n```toml\n[[inputs.ipvs]]\n  # no configuration\n```\n\n#### Permissions\n\nAssuming you installed the telegraf package via one of the published packages,\nthe process will be running as the `telegraf` user. However, in order for this\nplugin to communicate over netlink sockets it needs the telegraf process to be\nrunning as `root` (or some user with `CAP_NET_ADMIN` and `CAP_NET_RAW`). Be sure\nto ensure these permissions before running telegraf with this plugin included.\n\n### Metrics\n\nServer will contain tags identifying how it was configured, using one of\n`address` + `port` + `protocol` *OR* `fwmark`. This is how one would normally\nconfigure a virtual server using `ipvsadm`.\n\n- ipvs_virtual_server\n  - tags:\n    - sched (the scheduler in use)\n    - netmask (the mask used for determining affinity)\n    - address_family (inet/inet6)\n    - address\n    - port\n    - protocol\n    - fwmark\n  - fields:\n    - connections\n    - pkts_in\n    - pkts_out\n    - bytes_in\n    - bytes_out\n    - pps_in\n    - pps_out\n    - cps\n\n- ipvs_real_server\n  - tags:\n    - address\n    - port\n    - address_family (inet/inet6)\n    - virtual_address\n    - virtual_port\n    - virtual_protocol\n    - virtual_fwmark\n  - fields:\n    - active_connections\n    - inactive_connections\n    - connections\n    - pkts_in\n    - pkts_out\n    - bytes_in\n    - bytes_out\n    - pps_in\n    - pps_out\n    - cps\n\n### Example Output\n\nVirtual server is configured using `fwmark` and backed by 2 real servers:\n```\nipvs_virtual_server,address=172.18.64.234,address_family=inet,netmask=32,port=9000,protocol=tcp,sched=rr bytes_in=0i,bytes_out=0i,pps_in=0i,pps_out=0i,cps=0i,connections=0i,pkts_in=0i,pkts_out=0i 1541019340000000000\nipvs_real_server,address=172.18.64.220,address_family=inet,port=9000,virtual_address=172.18.64.234,virtual_port=9000,virtual_protocol=tcp active_connections=0i,inactive_connections=0i,pkts_in=0i,bytes_out=0i,pps_out=0i,connections=0i,pkts_out=0i,bytes_in=0i,pps_in=0i,cps=0i 1541019340000000000\nipvs_real_server,address=172.18.64.219,address_family=inet,port=9000,virtual_address=172.18.64.234,virtual_port=9000,virtual_protocol=tcp active_connections=0i,inactive_connections=0i,pps_in=0i,pps_out=0i,connections=0i,pkts_in=0i,pkts_out=0i,bytes_in=0i,bytes_out=0i,cps=0i 1541019340000000000\n```\n\nVirtual server is configured using `proto+addr+port` and backed by 2 real servers:\n```\nipvs_virtual_server,address_family=inet,fwmark=47,netmask=32,sched=rr cps=0i,connections=0i,pkts_in=0i,pkts_out=0i,bytes_in=0i,bytes_out=0i,pps_in=0i,pps_out=0i 1541019340000000000\nipvs_real_server,address=172.18.64.220,address_family=inet,port=9000,virtual_fwmark=47 inactive_connections=0i,pkts_out=0i,bytes_out=0i,pps_in=0i,cps=0i,active_connections=0i,pkts_in=0i,bytes_in=0i,pps_out=0i,connections=0i 1541019340000000000\nipvs_real_server,address=172.18.64.219,address_family=inet,port=9000,virtual_fwmark=47 cps=0i,active_connections=0i,inactive_connections=0i,connections=0i,pkts_in=0i,bytes_out=0i,pkts_out=0i,bytes_in=0i,pps_in=0i,pps_out=0i 1541019340000000000\n```\n",image:Qv.a},{id:"jenkins",name:"Jenkins",url:"telegraf-plugins/jenkins",markdown:'# Jenkins Input Plugin\n\nThe jenkins plugin gathers information about the nodes and jobs running in a jenkins instance.\n\nThis plugin does not require a plugin on jenkins and it makes use of Jenkins API to retrieve all the information needed.\n\n### Configuration:\n\n```toml\n[[inputs.jenkins]]\n  ## The Jenkins URL in the format "schema://host:port"\n  url = "http://my-jenkins-instance:8080"\n  # username = "admin"\n  # password = "admin"\n\n  ## Set response_timeout\n  response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use SSL but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Optional Max Job Build Age filter\n  ## Default 1 hour, ignore builds older than max_build_age\n  # max_build_age = "1h"\n\n  ## Optional Sub Job Depth filter\n  ## Jenkins can have unlimited layer of sub jobs\n  ## This config will limit the layers of pulling, default value 0 means\n  ## unlimited pulling until no more sub jobs\n  # max_subjob_depth = 0\n\n  ## Optional Sub Job Per Layer\n  ## In workflow-multibranch-plugin, each branch will be created as a sub job.\n  ## This config will limit to call only the lasted branches in each layer,\n  ## empty will use default value 10\n  # max_subjob_per_layer = 10\n\n  ## Jobs to exclude from gathering\n  # job_exclude = [ "job1", "job2/subjob1/subjob2", "job3/*"]\n\n  ## Nodes to exclude from gathering\n  # node_exclude = [ "node1", "node2" ]\n\n  ## Worker pool for jenkins plugin only\n  ## Empty this field will use default value 5\n  # max_connections = 5\n```\n\n### Metrics:\n\n- jenkins_node\n  - tags:\n    - source\n    - port\n  - fields:\n    - busy_executors\n    - total_executors\n\n+ jenkins_node\n  - tags:\n    - arch\n    - disk_path\n    - temp_path\n    - node_name\n    - status ("online", "offline")\n    - source\n    - port\n  - fields:\n    - disk_available (Bytes)\n    - temp_available (Bytes)\n    - memory_available (Bytes)\n    - memory_total (Bytes)\n    - swap_available (Bytes)\n    - swap_total (Bytes)\n    - response_time (ms)\n    - num_executors\n\n- jenkins_job\n  - tags:\n    - name\n    - parents\n    - result\n    - source\n    - port\n  - fields:\n    - duration (ms)\n    - result_code (0 = SUCCESS, 1 = FAILURE, 2 = NOT_BUILD, 3 = UNSTABLE, 4 = ABORTED)\n\n### Sample Queries:\n\n```\nSELECT mean("memory_available") AS "mean_memory_available", mean("memory_total") AS "mean_memory_total", mean("temp_available") AS "mean_temp_available" FROM "jenkins_node" WHERE time > now() - 15m GROUP BY time(:interval:) FILL(null)\n```\n\n```\nSELECT mean("duration") AS "mean_duration" FROM "jenkins_job" WHERE time > now() - 24h GROUP BY time(:interval:) FILL(null)\n```\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter jenkins --test\njenkins,host=myhost,port=80,source=my-jenkins-instance busy_executors=4i,total_executors=8i 1580418261000000000\njenkins_node,arch=Linux\\ (amd64),disk_path=/var/jenkins_home,temp_path=/tmp,host=myhost,node_name=master,source=my-jenkins-instance,port=8080 swap_total=4294963200,memory_available=586711040,memory_total=6089498624,status=online,response_time=1000i,disk_available=152392036352,temp_available=152392036352,swap_available=3503263744,num_executors=2i 1516031535000000000\njenkins_job,host=myhost,name=JOB1,parents=apps/br1,result=SUCCESS,source=my-jenkins-instance,port=8080 duration=2831i,result_code=0i 1516026630000000000\njenkins_job,host=myhost,name=JOB2,parents=apps/br2,result=SUCCESS,source=my-jenkins-instance,port=8080 duration=2285i,result_code=0i 1516027230000000000\n```\n\n',image:Xv.a},{id:"jolokia",name:"Jolokia",url:"telegraf-plugins/jolokia",markdown:'# Jolokia Input Plugin\n\n**Deprecated in version 1.5:** Please use the [jolokia2](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/jolokia2) plugin.\n\n#### Configuration\n\n```toml\n# Read JMX metrics through Jolokia\n[[inputs.jolokia]]\n  ## This is the context root used to compose the jolokia url\n  ## NOTE that Jolokia requires a trailing slash at the end of the context root\n  context = "/jolokia/"\n\n  ## This specifies the mode used\n  # mode = "proxy"\n  #\n  ## When in proxy mode this section is used to specify further\n  ## proxy address configurations.\n  ## Remember to change host address to fit your environment.\n  # [inputs.jolokia.proxy]\n  #   host = "127.0.0.1"\n  #   port = "8080"\n  \n  ## Optional http timeouts\n  ##\n  ## response_header_timeout, if non-zero, specifies the amount of time to wait\n  ## for a server\'s response headers after fully writing the request.\n  # response_header_timeout = "3s"\n  ##\n  ## client_timeout specifies a time limit for requests made by this client.\n  ## Includes connection time, any redirects, and reading the response body.\n  # client_timeout = "4s"\n\n  ## List of servers exposing jolokia read service\n  [[inputs.jolokia.servers]]\n    name = "as-server-01"\n    host = "127.0.0.1"\n    port = "8080"\n    # username = "myuser"\n    # password = "mypassword"\n\n  ## List of metrics collected on above servers\n  ## Each metric consists in a name, a jmx path and either\n  ## a pass or drop slice attribute.\n  ## This collect all heap memory usage metrics.\n  [[inputs.jolokia.metrics]]\n    name = "heap_memory_usage"\n    mbean  = "java.lang:type=Memory"\n    attribute = "HeapMemoryUsage"\n\n  ## This collect thread counts metrics.\n  [[inputs.jolokia.metrics]]\n    name = "thread_count"\n    mbean  = "java.lang:type=Threading"\n    attribute = "TotalStartedThreadCount,ThreadCount,DaemonThreadCount,PeakThreadCount"\n\n  ## This collect number of class loaded/unloaded counts metrics.\n  [[inputs.jolokia.metrics]]\n    name = "class_count"\n    mbean  = "java.lang:type=ClassLoading"\n    attribute = "LoadedClassCount,UnloadedClassCount,TotalLoadedClassCount"\n```\n\n#### Description\n\nThe Jolokia plugin collects JVM metrics exposed as MBean\'s attributes through\njolokia REST endpoint. All metrics are collected for each server configured.\n\nSee: https://jolokia.org/\n\n# Measurements:\nJolokia plugin produces one measure for each metric configured,\nadding Server\'s `jolokia_name`, `jolokia_host` and `jolokia_port` as tags.\n',image:tx.a},{id:"jolokia2",name:"Jolokia2",url:"telegraf-plugins/jolokia2",markdown:'# Jolokia2 Input Plugin\n\nThe [Jolokia](http://jolokia.org) _agent_ and _proxy_ input plugins collect JMX metrics from an HTTP endpoint using Jolokia\'s [JSON-over-HTTP protocol](https://jolokia.org/reference/html/protocol.html).\n\n### Configuration:\n\n#### Jolokia Agent Configuration\n\nThe `jolokia2_agent` input plugin reads JMX metrics from one or more [Jolokia agent](https://jolokia.org/agent/jvm.html) REST endpoints.\n\n```toml\n[[inputs.jolokia2_agent]]\n  urls = ["http://agent:8080/jolokia"]\n\n  [[inputs.jolokia2_agent.metric]]\n    name  = "jvm_runtime"\n    mbean = "java.lang:type=Runtime"\n    paths = ["Uptime"]\n```\n\nOptionally, specify TLS options for communicating with agents:\n\n```toml\n[[inputs.jolokia2_agent]]\n  urls = ["https://agent:8080/jolokia"]\n  tls_ca   = "/var/private/ca.pem"\n  tls_cert = "/var/private/client.pem"\n  tls_key  = "/var/private/client-key.pem"\n  #insecure_skip_verify = false\n\n  [[inputs.jolokia2_agent.metric]]\n    name  = "jvm_runtime"\n    mbean = "java.lang:type=Runtime"\n    paths = ["Uptime"]\n```\n\n#### Jolokia Proxy Configuration\n\nThe `jolokia2_proxy` input plugin reads JMX metrics from one or more _targets_ by interacting with a [Jolokia proxy](https://jolokia.org/features/proxy.html) REST endpoint.\n\n```toml\n[[inputs.jolokia2_proxy]]\n  url = "http://proxy:8080/jolokia"\n\n  #default_target_username = ""\n  #default_target_password = ""\n  [[inputs.jolokia2_proxy.target]]\n    url = "service:jmx:rmi:///jndi/rmi://targethost:9999/jmxrmi"\n    # username = ""\n    # password = ""\n\n  [[inputs.jolokia2_proxy.metric]]\n    name  = "jvm_runtime"\n    mbean = "java.lang:type=Runtime"\n    paths = ["Uptime"]\n```\n\nOptionally, specify TLS options for communicating with proxies:\n\n```toml\n[[inputs.jolokia2_proxy]]\n  url = "https://proxy:8080/jolokia"\n\n  tls_ca   = "/var/private/ca.pem"\n  tls_cert = "/var/private/client.pem"\n  tls_key  = "/var/private/client-key.pem"\n  #insecure_skip_verify = false\n\n  #default_target_username = ""\n  #default_target_password = ""\n  [[inputs.jolokia2_proxy.target]]\n    url = "service:jmx:rmi:///jndi/rmi://targethost:9999/jmxrmi"\n    # username = ""\n    # password = ""\n\n  [[inputs.jolokia2_agent.metric]]\n    name  = "jvm_runtime"\n    mbean = "java.lang:type=Runtime"\n    paths = ["Uptime"]\n```\n\n#### Jolokia Metric Configuration\n\nEach `metric` declaration generates a Jolokia request to fetch telemetry from a JMX MBean.\n\n| Key            | Required | Description |\n|----------------|----------|-------------|\n| `mbean`        | yes      | The object name of a JMX MBean. MBean property-key values can contain a wildcard `*`, allowing you to fetch multiple MBeans with one declaration. |\n| `paths`        | no       | A list of MBean attributes to read. |\n| `tag_keys`     | no       | A list of MBean property-key names to convert into tags. The property-key name becomes the tag name, while the property-key value becomes the tag value. |\n| `tag_prefix`   | no       | A string to prepend to the tag names produced by this `metric` declaration. |\n| `field_name`   | no       | A string to set as the name of the field produced by this metric; can contain substitutions. |\n| `field_prefix` | no       | A string to prepend to the field names produced by this `metric` declaration; can contain substitutions. |\n\nUse `paths` to refine which fields to collect.\n\n```toml\n[[inputs.jolokia2_agent.metric]]\n  name  = "jvm_memory"\n  mbean = "java.lang:type=Memory"\n  paths = ["HeapMemoryUsage", "NonHeapMemoryUsage", "ObjectPendingFinalizationCount"]\n```\n\nThe preceeding `jvm_memory` `metric` declaration produces the following output:\n\n```\njvm_memory HeapMemoryUsage.committed=4294967296,HeapMemoryUsage.init=4294967296,HeapMemoryUsage.max=4294967296,HeapMemoryUsage.used=1750658992,NonHeapMemoryUsage.committed=67350528,NonHeapMemoryUsage.init=2555904,NonHeapMemoryUsage.max=-1,NonHeapMemoryUsage.used=65821352,ObjectPendingFinalizationCount=0 1503762436000000000\n```\n\nUse `*` wildcards against `mbean` property-key values to create distinct series by capturing values into `tag_keys`.\n\n```toml\n[[inputs.jolokia2_agent.metric]]\n  name     = "jvm_garbage_collector"\n  mbean    = "java.lang:name=*,type=GarbageCollector"\n  paths    = ["CollectionTime", "CollectionCount"]\n  tag_keys = ["name"]\n```\n\nSince `name=*` matches both `G1 Old Generation` and `G1 Young Generation`, and `name` is used as a tag, the preceeding `jvm_garbage_collector` `metric` declaration produces two metrics.\n\n```\njvm_garbage_collector,name=G1\\ Old\\ Generation CollectionCount=0,CollectionTime=0 1503762520000000000\njvm_garbage_collector,name=G1\\ Young\\ Generation CollectionTime=32,CollectionCount=2 1503762520000000000\n```\n\nUse `tag_prefix` along with `tag_keys` to add detail to tag names.\n\n```toml\n[[inputs.jolokia2_agent.metric]]\n  name       = "jvm_memory_pool"\n  mbean      = "java.lang:name=*,type=MemoryPool"\n  paths      = ["Usage", "PeakUsage", "CollectionUsage"]\n  tag_keys   = ["name"]\n  tag_prefix = "pool_"\n```\n\nThe preceeding `jvm_memory_pool` `metric` declaration produces six metrics, each with a distinct `pool_name` tag.\n\n```\njvm_memory_pool,pool_name=Compressed\\ Class\\ Space PeakUsage.max=1073741824,PeakUsage.committed=3145728,PeakUsage.init=0,Usage.committed=3145728,Usage.init=0,PeakUsage.used=3017976,Usage.max=1073741824,Usage.used=3017976 1503764025000000000\njvm_memory_pool,pool_name=Code\\ Cache PeakUsage.init=2555904,PeakUsage.committed=6291456,Usage.committed=6291456,PeakUsage.used=6202752,PeakUsage.max=251658240,Usage.used=6210368,Usage.max=251658240,Usage.init=2555904 1503764025000000000\njvm_memory_pool,pool_name=G1\\ Eden\\ Space CollectionUsage.max=-1,PeakUsage.committed=56623104,PeakUsage.init=56623104,PeakUsage.used=53477376,Usage.max=-1,Usage.committed=49283072,Usage.used=19922944,CollectionUsage.committed=49283072,CollectionUsage.init=56623104,CollectionUsage.used=0,PeakUsage.max=-1,Usage.init=56623104 1503764025000000000\njvm_memory_pool,pool_name=G1\\ Old\\ Gen CollectionUsage.max=1073741824,CollectionUsage.committed=0,PeakUsage.max=1073741824,PeakUsage.committed=1017118720,PeakUsage.init=1017118720,PeakUsage.used=137032208,Usage.max=1073741824,CollectionUsage.init=1017118720,Usage.committed=1017118720,Usage.init=1017118720,Usage.used=134708752,CollectionUsage.used=0 1503764025000000000\njvm_memory_pool,pool_name=G1\\ Survivor\\ Space Usage.max=-1,Usage.init=0,CollectionUsage.max=-1,CollectionUsage.committed=7340032,CollectionUsage.used=7340032,PeakUsage.committed=7340032,Usage.committed=7340032,Usage.used=7340032,CollectionUsage.init=0,PeakUsage.max=-1,PeakUsage.init=0,PeakUsage.used=7340032 1503764025000000000\njvm_memory_pool,pool_name=Metaspace PeakUsage.init=0,PeakUsage.used=21852224,PeakUsage.max=-1,Usage.max=-1,Usage.committed=22282240,Usage.init=0,Usage.used=21852224,PeakUsage.committed=22282240 1503764025000000000\n```\n\nUse substitutions to create fields and field prefixes with MBean property-keys captured by wildcards. In the following example, `$1` represents the value of the property-key `name`, and `$2` represents the value of the property-key `topic`.\n\n```toml\n[[inputs.jolokia2_agent.metric]]\n  name         = "kafka_topic"\n  mbean        = "kafka.server:name=*,topic=*,type=BrokerTopicMetrics"\n  field_prefix = "$1"\n  tag_keys     = ["topic"]\n```\n\nThe preceeding `kafka_topic` `metric` declaration produces a metric per Kafka topic. The `name` Mbean property-key is used as a field prefix to aid in gathering fields together into the single metric.\n\n```\nkafka_topic,topic=my-topic BytesOutPerSec.MeanRate=0,FailedProduceRequestsPerSec.MeanRate=0,BytesOutPerSec.EventType="bytes",BytesRejectedPerSec.Count=0,FailedProduceRequestsPerSec.RateUnit="SECONDS",FailedProduceRequestsPerSec.EventType="requests",MessagesInPerSec.RateUnit="SECONDS",BytesInPerSec.EventType="bytes",BytesOutPerSec.RateUnit="SECONDS",BytesInPerSec.OneMinuteRate=0,FailedFetchRequestsPerSec.EventType="requests",TotalFetchRequestsPerSec.MeanRate=146.301533938701,BytesOutPerSec.FifteenMinuteRate=0,TotalProduceRequestsPerSec.MeanRate=0,BytesRejectedPerSec.FifteenMinuteRate=0,MessagesInPerSec.FiveMinuteRate=0,BytesInPerSec.Count=0,BytesRejectedPerSec.MeanRate=0,FailedFetchRequestsPerSec.MeanRate=0,FailedFetchRequestsPerSec.FiveMinuteRate=0,FailedFetchRequestsPerSec.FifteenMinuteRate=0,FailedProduceRequestsPerSec.Count=0,TotalFetchRequestsPerSec.FifteenMinuteRate=128.59314292334466,TotalFetchRequestsPerSec.OneMinuteRate=126.71551273850747,TotalFetchRequestsPerSec.Count=1353483,TotalProduceRequestsPerSec.FifteenMinuteRate=0,FailedFetchRequestsPerSec.OneMinuteRate=0,FailedFetchRequestsPerSec.Count=0,FailedProduceRequestsPerSec.FifteenMinuteRate=0,TotalFetchRequestsPerSec.FiveMinuteRate=130.8516148751592,TotalFetchRequestsPerSec.RateUnit="SECONDS",BytesRejectedPerSec.RateUnit="SECONDS",BytesInPerSec.MeanRate=0,FailedFetchRequestsPerSec.RateUnit="SECONDS",BytesRejectedPerSec.OneMinuteRate=0,BytesOutPerSec.Count=0,BytesOutPerSec.OneMinuteRate=0,MessagesInPerSec.FifteenMinuteRate=0,MessagesInPerSec.MeanRate=0,BytesInPerSec.FiveMinuteRate=0,TotalProduceRequestsPerSec.RateUnit="SECONDS",FailedProduceRequestsPerSec.OneMinuteRate=0,TotalProduceRequestsPerSec.EventType="requests",BytesRejectedPerSec.FiveMinuteRate=0,BytesRejectedPerSec.EventType="bytes",BytesOutPerSec.FiveMinuteRate=0,FailedProduceRequestsPerSec.FiveMinuteRate=0,MessagesInPerSec.Count=0,TotalProduceRequestsPerSec.FiveMinuteRate=0,TotalProduceRequestsPerSec.OneMinuteRate=0,MessagesInPerSec.EventType="messages",MessagesInPerSec.OneMinuteRate=0,TotalFetchRequestsPerSec.EventType="requests",BytesInPerSec.RateUnit="SECONDS",BytesInPerSec.FifteenMinuteRate=0,TotalProduceRequestsPerSec.Count=0 1503767532000000000\n```\n\nBoth `jolokia2_agent` and `jolokia2_proxy` plugins support default configurations that apply to every `metric` declaration.\n\n| Key                       | Default Value | Description |\n|---------------------------|---------------|-------------|\n| `default_field_separator` | `.`           | A character to use to join Mbean attributes when creating fields. |\n| `default_field_prefix`    | _None_        | A string to prepend to the field names produced by all `metric` declarations. |\n| `default_tag_prefix`      | _None_        | A string to prepend to the tag names produced by all `metric` declarations. |\n\n### Example Configurations:\n\n- [ActiveMQ](/plugins/inputs/jolokia2/examples/activemq.conf)\n- [BitBucket](/plugins/inputs/jolokia2/examples/bitbucket.conf)\n- [Cassandra](/plugins/inputs/jolokia2/examples/cassandra.conf)\n- [Hadoop-HDFS](/plugins/inputs/jolokia2/examples/hadoop-hdfs.conf)\n- [Java JVM](/plugins/inputs/jolokia2/examples/java.conf)\n- [JBoss](/plugins/inputs/jolokia2/examples/jboss.conf)\n- [Kafka](/plugins/inputs/jolokia2/examples/kafka.conf)\n- [Tomcat](/plugins/inputs/jolokia2/examples/tomcat.conf)\n- [Weblogic](/plugins/inputs/jolokia2/examples/weblogic.conf)\n- [ZooKeeper](/plugins/inputs/jolokia2/examples/zookeeper.conf)\n\nPlease help improve this list and contribute new configuration files by opening an issue or pull request.\n',image:Jv.a},{id:"jti_openconfig_telemetry",name:"JTI OpenConfig Telemetry",url:"telegraf-plugins/jti_openconfig_telemetry",markdown:'# JTI OpenConfig Telemetry Input Plugin\n\nThis plugin reads Juniper Networks implementation of OpenConfig telemetry data from listed sensors using Junos Telemetry Interface. Refer to\n[openconfig.net](http://openconfig.net/) for more details about OpenConfig and [Junos Telemetry Interface (JTI)](https://www.juniper.net/documentation/en_US/junos/topics/concept/junos-telemetry-interface-oveview.html).\n\n### Configuration:\n\n```toml\n# Subscribe and receive OpenConfig Telemetry data using JTI\n[[inputs.jti_openconfig_telemetry]]\n  ## List of device addresses to collect telemetry from\n  servers = ["localhost:1883"]\n\n  ## Authentication details. Username and password are must if device expects\n  ## authentication. Client ID must be unique when connecting from multiple instances\n  ## of telegraf to the same device\n  username = "user"\n  password = "pass"\n  client_id = "telegraf"\n\n  ## Frequency to get data\n  sample_frequency = "1000ms"\n\n  ## Sensors to subscribe for\n  ## A identifier for each sensor can be provided in path by separating with space\n  ## Else sensor path will be used as identifier\n  ## When identifier is used, we can provide a list of space separated sensors.\n  ## A single subscription will be created with all these sensors and data will\n  ## be saved to measurement with this identifier name\n  sensors = [\n   "/interfaces/",\n   "collection /components/ /lldp",\n  ]\n\n  ## We allow specifying sensor group level reporting rate. To do this, specify the\n  ## reporting rate in Duration at the beginning of sensor paths / collection\n  ## name. For entries without reporting rate, we use configured sample frequency\n  sensors = [\n   "1000ms customReporting /interfaces /lldp",\n   "2000ms collection /components",\n   "/interfaces",\n  ]\n\n  ## Optional TLS Config\n  # enable_tls = true\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Delay between retry attempts of failed RPC calls or streams. Defaults to 1000ms.\n  ## Failed streams/calls will not be retried if 0 is provided\n  retry_delay = "1000ms"\n\n  ## To treat all string values as tags, set this to true\n  str_as_tags = false\n```\n\n### Tags:\n\n- All measurements are tagged appropriately using the identifier information\n  in incoming data\n',image:ax.a},{id:"kafka_consumer",name:"Kafka Consumer",url:"telegraf-plugins/kafka_consumer",markdown:'# Kafka Consumer Input Plugin\n\nThe [Kafka][kafka] consumer plugin reads from Kafka\nand creates metrics using one of the supported [input data formats][].\n\nFor old kafka version (< 0.8), please use the [kafka_consumer_legacy][] input plugin\nand use the old zookeeper connection method.\n\n### Configuration\n\n```toml\n[[inputs.kafka_consumer]]\n  ## Kafka brokers.\n  brokers = ["localhost:9092"]\n\n  ## Topics to consume.\n  topics = ["telegraf"]\n\n  ## When set this tag will be added to all metrics with the topic as the value.\n  # topic_tag = ""\n\n  ## Optional Client id\n  # client_id = "Telegraf"\n\n  ## Set the minimal supported Kafka version.  Setting this enables the use of new\n  ## Kafka features and APIs.  Must be 0.10.2.0 or greater.\n  ##   ex: version = "1.1.0"\n  # version = ""\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## SASL authentication credentials.  These settings should typically be used\n  ## with TLS encryption enabled using the "enable_tls" option.\n  # sasl_username = "kafka"\n  # sasl_password = "secret"\n\n  ## SASL protocol version.  When connecting to Azure EventHub set to 0.\n  # sasl_version = 1\n\n  ## Name of the consumer group.\n  # consumer_group = "telegraf_metrics_consumers"\n\n  ## Initial offset position; one of "oldest" or "newest".\n  # offset = "oldest"\n\n  ## Consumer group partition assignment strategy; one of "range", "roundrobin" or "sticky".\n  # balance_strategy = "range"\n\n  ## Maximum length of a message to consume, in bytes (default 0/unlimited);\n  ## larger messages are dropped\n  max_message_len = 1000000\n\n  ## Maximum messages to read from the broker that have not been written by an\n  ## output.  For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message from the queue contains 10 metrics and the\n  ## output metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n[kafka]: https://kafka.apache.org\n[kafka_consumer_legacy]: /plugins/inputs/kafka_consumer_legacy/README.md\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n',image:ix.a},{id:"kafka_consumer_legacy",name:"Kafka Consumer Legacy",url:"telegraf-plugins/kafka_consumer_legacy",markdown:'# Kafka Consumer Legacy Input Plugin\n\nThe [Kafka](http://kafka.apache.org/) consumer plugin polls a specified Kafka\ntopic and adds messages to InfluxDB. The plugin assumes messages follow the\nline protocol. [Consumer Group](http://godoc.org/github.com/wvanbergen/kafka/consumergroup)\nis used to talk to the Kafka cluster so multiple instances of telegraf can read\nfrom the same topic in parallel.\n\n## Configuration\n\n```toml\n# Read metrics from Kafka topic(s)\n[[inputs.kafka_consumer]]\n  ## topic(s) to consume\n  topics = ["telegraf"]\n\n  ## an array of Zookeeper connection strings\n  zookeeper_peers = ["localhost:2181"]\n\n  ## Zookeeper Chroot\n  zookeeper_chroot = ""\n\n  ## the name of the consumer group\n  consumer_group = "telegraf_metrics_consumers"\n\n  ## Offset (must be either "oldest" or "newest")\n  offset = "oldest"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n\n  ## Maximum length of a message to consume, in bytes (default 0/unlimited);\n  ## larger messages are dropped\n  max_message_len = 65536\n```\n\n## Testing\n\nRunning integration tests requires running Zookeeper & Kafka. See Makefile\nfor kafka container command.\n',image:rx.a},{id:"kapacitor",name:"Kapacitor",url:"telegraf-plugins/kapacitor",markdown:'# Kapacitor Input Plugin\n\nThe Kapacitor plugin collects metrics from the given Kapacitor instances.\n\n### Configuration:\n\n```toml\n[[inputs.kapacitor]]\n  ## Multiple URLs from which to read Kapacitor-formatted JSON\n  ## Default is "http://localhost:9092/kapacitor/v1/debug/vars".\n  urls = [\n    "http://localhost:9092/kapacitor/v1/debug/vars"\n  ]\n\n  ## Time limit for http requests\n  timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Measurements and fields\n\n- [kapacitor](#kapacitor)\n    - [num_enabled_tasks](#num_enabled_tasks) _(integer)_\n    - [num_subscriptions](#num_subscriptions) _(integer)_\n    - [num_tasks](#num_tasks) _(integer)_\n- [kapacitor_alert](#kapacitor_alert)\n\t- [notification_dropped](#notification_dropped) _(integer)_\n\t- [primary-handle-count](#primary-handle-count) _(integer)_\n\t- [secondary-handle-count](#secondary-handle-count) _(integer)_\n- (Kapacitor Enterprise only) [kapacitor_cluster](#kapacitor_cluster) _(integer)_\n\t- [dropped_member_events](#dropped_member_events) _(integer)_\n\t- [dropped_user_events](#dropped_user_events) _(integer)_\n\t- [query_handler_errors](#query_handler_errors) _(integer)_\n- [kapacitor_edges](#kapacitor_edges)\n    - [collected](#collected) _(integer)_\n    - [emitted](#emitted) _(integer)_\n- [kapacitor_ingress](#kapacitor_ingress)\n    - [points_received](#points_received) _(integer)_\n- [kapacitor_load](#kapacitor_load)\n    - [errors](#errors) _(integer)_\n- [kapacitor_memstats](#kapacitor_memstats)\n    - [alloc_bytes](#alloc_bytes) _(integer)_\n    - [buck_hash_sys_bytes](#buck_hash_sys_bytes) _(integer)_\n    - [frees](#frees) _(integer)_\n    - [gc_sys_bytes](#gc_sys_bytes) _(integer)_\n    - [gc_cpu_fraction](#gc_cpu_fraction) _(float)_\n    - [heap_alloc_bytes](#heap_alloc_bytes) _(integer)_\n    - [heap_idle_bytes](#heap_idle_bytes) _(integer)_\n    - [heap_in_use_bytes](#heap_in_use_bytes) _(integer)_\n    - [heap_objects](#heap_objects) _(integer)_\n    - [heap_released_bytes](#heap_released_bytes) _(integer)_\n    - [heap_sys_bytes](#heap_sys_bytes) _(integer)_\n    - [last_gc_ns](#last_gc_ns) _(integer)_\n    - [lookups](#lookups) _(integer)_\n    - [mallocs](#mallocs) _(integer)_\n    - [mcache_in_use_bytes](#mcache_in_use_bytes) _(integer)_\n    - [mcache_sys_bytes](#mcache_sys_bytes) _(integer)_\n    - [mspan_in_use_bytes](#mspan_in_use_bytes) _(integer)_\n    - [mspan_sys_bytes](#mspan_sys_bytes) _(integer)_\n    - [next_gc_ns](#next_gc_ns) _(integer)_\n    - [num_gc](#num_gc) _(integer)_\n    - [other_sys_bytes](#other_sys_bytes) _(integer)_\n    - [pause_total_ns](#pause_total_ns) _(integer)_\n    - [stack_in_use_bytes](#stack_in_use_bytes) _(integer)_\n    - [stack_sys_bytes](#stack_sys_bytes) _(integer)_\n    - [sys_bytes](#sys_bytes) _(integer)_\n    - [total_alloc_bytes](#total_alloc_bytes) _(integer)_\n- [kapacitor_nodes](#kapacitor_nodes)\n    - [alerts_inhibited](#alerts_inhibited) _(integer)_\n    - [alerts_triggered](#alerts_triggered) _(integer)_\n    - [avg_exec_time_ns](#avg_exec_time_ns) _(integer)_\n    - [crits_triggered](#crits_triggered) _(integer)_\n    - [errors](#errors) _(integer)_\n    - [infos_triggered](#infos_triggered) _(integer)_\n    - [oks_triggered](#oks_triggered) _(integer)_\n    - [points_written](#points_written) _(integer)_\n    - [warns_triggered](#warns_triggered) _(integer)_\n    - [write_errors](#write_errors) _(integer)_\n- [kapacitor_topics](#kapacitor_topics)\n    - [collected](#collected) _(integer)_\n\n\n---\n\n### kapacitor\nThe `kapacitor` measurement stores fields with information related to\n[Kapacitor tasks](https://docs.influxdata.com/kapacitor/latest/introduction/getting-started/#kapacitor-tasks)\nand [subscriptions](https://docs.influxdata.com/kapacitor/latest/administration/subscription-management/).\n\n#### num_enabled_tasks\nThe number of enabled Kapacitor tasks.\n\n#### num_subscriptions\nThe number of Kapacitor/InfluxDB subscriptions.\n\n#### num_tasks\nThe total number of Kapacitor tasks.\n\n---\n\n### kapacitor_alert\nThe `kapacitor_alert` measurement stores fields with information related to\n[Kapacitor alerts](https://docs.influxdata.com/kapacitor/v1.5/working/alerts/).\n\n#### notification-dropped\nThe number of internal notifications dropped because they arrive too late from another Kapacitor node.\nIf this count is increasing, Kapacitor Enterprise nodes aren\'t able to communicate fast enough\nto keep up with the volume of alerts.\n\n#### primary-handle-count\nThe number of times this node handled an alert as the primary. This count should increase under normal conditions.\n\n#### secondary-handle-count\nThe number of times this node handled an alert as the secondary. An increase in this counter indicates that the primary is failing to handle alerts in a timely manner.\n\n---\n\n### kapacitor_cluster\nThe `kapacitor_cluster` measurement reflects the ability of [Kapacitor nodes to communicate](https://docs.influxdata.com/enterprise_kapacitor/v1.5/administration/configuration/#cluster-communications) with one another. Specifically, these metrics track the gossip communication between the Kapacitor nodes.\n\n#### dropped_member_events\nThe number of gossip member events that were dropped.\n\n#### dropped_user_events\nThe number of gossip user events that were dropped.\n\n---\n\n### kapacitor_edges\nThe `kapacitor_edges` measurement stores fields with information related to\n[edges](https://docs.influxdata.com/kapacitor/latest/tick/introduction/#pipelines)\nin Kapacitor TICKscripts.\n\n#### collected\nThe number of messages collected by TICKscript edges.\n\n#### emitted\nThe number of messages emitted by TICKscript edges.\n\n---\n\n### kapacitor_ingress\nThe `kapacitor_ingress` measurement stores fields with information related to data\ncoming into Kapacitor.\n\n#### points_received\nThe number of points received by Kapacitor.\n\n---\n\n### kapacitor_load\nThe `kapacitor_load` measurement stores fields with information related to the\n[Kapacitor Load Directory service](https://docs.influxdata.com/kapacitor/latest/guides/load_directory/).\n\n#### errors\nThe number of errors reported from the load directory service.\n\n---\n\n### kapacitor_memstats\nThe `kapacitor_memstats` measurement stores fields related to Kapacitor memory usage.\n\n#### alloc_bytes\nThe number of bytes of memory allocated by Kapacitor that are still in use.\n\n#### buck_hash_sys_bytes\nThe number of bytes of memory used by the profiling bucket hash table.\n\n#### frees\nThe number of heap objects freed.\n\n#### gc_sys_bytes\nThe number of bytes of memory used for garbage collection system metadata.\n\n#### gc_cpu_fraction\nThe fraction of Kapacitor\'s available CPU time used by garbage collection since\nKapacitor started.\n\n#### heap_alloc_bytes\nThe number of reachable and unreachable heap objects garbage collection has\nnot freed.\n\n#### heap_idle_bytes\nThe number of heap bytes waiting to be used.\n\n#### heap_in_use_bytes\nThe number of heap bytes in use.\n\n#### heap_objects\nThe number of allocated objects.\n\n#### heap_released_bytes\nThe number of heap bytes released to the operating system.\n\n#### heap_sys_bytes\nThe number of heap bytes obtained from `system`.\n\n#### last_gc_ns\nThe nanosecond epoch time of the last garbage collection.\n\n#### lookups\nThe total number of pointer lookups.\n\n#### mallocs\nThe total number of mallocs.\n\n#### mcache_in_use_bytes\nThe number of bytes in use by mcache structures.\n\n#### mcache_sys_bytes\nThe number of bytes used for mcache structures obtained from `system`.\n\n#### mspan_in_use_bytes\nThe number of bytes in use by mspan structures.\n\n#### mspan_sys_bytes\nThe number of bytes used for mspan structures obtained from `system`.\n\n#### next_gc_ns\nThe nanosecond epoch time of the next garbage collection.\n\n#### num_gc\nThe number of completed garbage collection cycles.\n\n#### other_sys_bytes\nThe number of bytes used for other system allocations.\n\n#### pause_total_ns\nThe total number of nanoseconds spent in garbage collection "stop-the-world"\npauses since Kapacitor started.\n\n#### stack_in_use_bytes\nThe number of bytes in use by the stack allocator.\n\n#### stack_sys_bytes\nThe number of bytes obtained from `system` for stack allocator.\n\n#### sys_bytes\nThe number of bytes of memory obtained from `system`.\n\n#### total_alloc_bytes\nThe total number of bytes allocated, even if freed.\n\n---\n\n### kapacitor_nodes\nThe `kapacitor_nodes` measurement stores fields related to events that occur in\n[TICKscript nodes](https://docs.influxdata.com/kapacitor/latest/nodes/).\n\n#### alerts_inhibited\nThe total number of alerts inhibited by TICKscripts.\n\n#### alerts_triggered\nThe total number of alerts triggered by TICKscripts.\n\n#### avg_exec_time_ns\nThe average execution time of TICKscripts in nanoseconds.\n\n#### crits_triggered\nThe number of critical (`crit`) alerts triggered by TICKscripts.\n\n#### errors\nThe number of errors caused caused by TICKscripts.\n\n#### infos_triggered\nThe number of info (`info`) alerts triggered by TICKscripts.\n\n#### oks_triggered\nThe number of ok (`ok`) alerts triggered by TICKscripts.\n\n#### points_written\nThe number of points written to InfluxDB or back to Kapacitor.\n\n#### warns_triggered\nThe number of warning (`warn`) alerts triggered by TICKscripts.\n\n#### working_cardinality\nThe total number of unique series processed.\n\n#### write_errors\nThe number of errors that occurred when writing to InfluxDB or other write endpoints.\n\n---\n\n### kapacitor_topics\nThe `kapacitor_topics` measurement stores fields related to\nKapacitor topics](https://docs.influxdata.com/kapacitor/latest/working/using_alert_topics/).\n\n#### collected\nThe number of events collected by Kapacitor topics.\n\n---\n\n*Note:* The Kapacitor variables `host`, `cluster_id`, and `server_id`\nare currently not recorded due to the potential high cardinality of\nthese values.\n\n## Example Output\n\n```\n$ telegraf --config /etc/telegraf.conf --input-filter kapacitor --test\n* Plugin: inputs.kapacitor, Collection 1\n> kapacitor_memstats,host=hostname.local,kap_version=1.1.0~rc2,url=http://localhost:9092/kapacitor/v1/debug/vars alloc_bytes=6974808i,buck_hash_sys_bytes=1452609i,frees=207281i,gc_sys_bytes=802816i,gc_cpu_fraction=0.00004693548939673313,heap_alloc_bytes=6974808i,heap_idle_bytes=6742016i,heap_in_use_bytes=9183232i,heap_objects=23216i,heap_released_bytes=0i,heap_sys_bytes=15925248i,last_gc_ns=1478791460012676997i,lookups=88i,mallocs=230497i,mcache_in_use_bytes=9600i,mcache_sys_bytes=16384i,mspan_in_use_bytes=98560i,mspan_sys_bytes=131072i,next_gc_ns=11467528i,num_gc=8i,other_sys_bytes=2236087i,pause_total_ns=2994110i,stack_in_use_bytes=1900544i,stack_sys_bytes=1900544i,sys_bytes=22464760i,total_alloc_bytes=35023600i 1478791462000000000\n> kapacitor,host=hostname.local,kap_version=1.1.0~rc2,url=http://localhost:9092/kapacitor/v1/debug/vars num_enabled_tasks=5i,num_subscriptions=5i,num_tasks=5i 1478791462000000000\n> kapacitor_edges,child=stream0,host=hostname.local,parent=stream,task=deadman-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=shard,retention_policy=monitor,task_master=main points_received=120 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=subscriber,retention_policy=monitor,task_master=main points_received=60 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=http_out,node=http_out3,task=sys-stats,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=window6,host=hostname.local,parent=derivative5,task=deadman-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=from,node=from1,task=sys-stats,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=stream,node=stream0,task=test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=window,node=window6,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=cq,retention_policy=monitor,task_master=main points_received=10 1478791462000000000\n> kapacitor_edges,child=http_out3,host=hostname.local,parent=window2,task=sys-stats,type=batch collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=mean4,host=hostname.local,parent=log3,task=deadman-test,type=batch collected=0,emitted=0 1478791462000000000\n> kapacitor_ingress,database=_kapacitor,host=hostname.local,measurement=nodes,retention_policy=autogen,task_master=main points_received=207 1478791462000000000\n> kapacitor_edges,child=stream0,host=hostname.local,parent=stream,task=sys-stats,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=log6,host=hostname.local,parent=sum5,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=from1,host=hostname.local,parent=stream0,task=sys-stats,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=alert,node=alert2,task=test,type=stream alerts_triggered=0,avg_exec_time_ns=0i,crits_triggered=0,infos_triggered=0,oks_triggered=0,warns_triggered=0 1478791462000000000\n> kapacitor_edges,child=log3,host=hostname.local,parent=derivative2,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_ingress,database=_kapacitor,host=hostname.local,measurement=runtime,retention_policy=autogen,task_master=main points_received=9 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=tsm1_filestore,retention_policy=monitor,task_master=main points_received=120 1478791462000000000\n> kapacitor_edges,child=derivative2,host=hostname.local,parent=from1,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=stream,node=stream0,task=derivative-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=queryExecutor,retention_policy=monitor,task_master=main points_received=10 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=tsm1_wal,retention_policy=monitor,task_master=main points_received=120 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=log,node=log6,task=derivative-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=stream,host=hostname.local,parent=stats,task=task_master:main,type=stream collected=598,emitted=598 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=write,retention_policy=monitor,task_master=main points_received=10 1478791462000000000\n> kapacitor_edges,child=stream0,host=hostname.local,parent=stream,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=log,node=log3,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=from,node=from1,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_ingress,database=_kapacitor,host=hostname.local,measurement=ingress,retention_policy=autogen,task_master=main points_received=148 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=eval,node=eval4,task=derivative-test,type=stream avg_exec_time_ns=0i,eval_errors=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=derivative,node=derivative2,task=derivative-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=runtime,retention_policy=monitor,task_master=main points_received=10 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=httpd,retention_policy=monitor,task_master=main points_received=10 1478791462000000000\n> kapacitor_edges,child=sum5,host=hostname.local,parent=eval4,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_ingress,database=_kapacitor,host=hostname.local,measurement=kapacitor,retention_policy=autogen,task_master=main points_received=9 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=from,node=from1,task=test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=tsm1_engine,retention_policy=monitor,task_master=main points_received=120 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=window,node=window2,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=stream,node=stream0,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=influxdb_out4,host=hostname.local,parent=http_out3,task=sys-stats,type=batch collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=window2,host=hostname.local,parent=from1,task=deadman-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=from,node=from1,task=derivative-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=from1,host=hostname.local,parent=stream0,task=deadman-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=database,retention_policy=monitor,task_master=main points_received=40 1478791462000000000\n> kapacitor_edges,child=stream,host=hostname.local,parent=write_points,task=task_master:main,type=stream collected=750,emitted=750 1478791462000000000\n> kapacitor_edges,child=log7,host=hostname.local,parent=window6,task=deadman-test,type=batch collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=window2,host=hostname.local,parent=from1,task=sys-stats,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=log,node=log7,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_ingress,database=_kapacitor,host=hostname.local,measurement=edges,retention_policy=autogen,task_master=main points_received=225 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=derivative,node=derivative5,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=from1,host=hostname.local,parent=stream0,task=test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=alert2,host=hostname.local,parent=from1,task=test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=log,node=log3,task=derivative-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=influxdb_out,node=influxdb_out4,task=sys-stats,type=stream avg_exec_time_ns=0i,points_written=0,write_errors=0 1478791462000000000\n> kapacitor_edges,child=stream0,host=hostname.local,parent=stream,task=test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=log3,host=hostname.local,parent=window2,task=deadman-test,type=batch collected=0,emitted=0 1478791462000000000\n> kapacitor_edges,child=derivative5,host=hostname.local,parent=mean4,task=deadman-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=stream,node=stream0,task=sys-stats,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=window,node=window2,task=sys-stats,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=mean,node=mean4,task=deadman-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=from1,host=hostname.local,parent=stream0,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n> kapacitor_ingress,database=_internal,host=hostname.local,measurement=tsm1_cache,retention_policy=monitor,task_master=main points_received=120 1478791462000000000\n> kapacitor_nodes,host=hostname.local,kind=sum,node=sum5,task=derivative-test,type=stream avg_exec_time_ns=0i 1478791462000000000\n> kapacitor_edges,child=eval4,host=hostname.local,parent=log3,task=derivative-test,type=stream collected=0,emitted=0 1478791462000000000\n```\n',image:cx.a},{id:"kernel",name:"Kernel",url:"telegraf-plugins/kernel",markdown:"# Kernel Input Plugin\n\nThis plugin is only available on Linux.\n\nThe kernel plugin gathers info about the kernel that doesn't fit into other\nplugins. In general, it is the statistics available in `/proc/stat` that are\nnot covered by other plugins as well as the value of `/proc/sys/kernel/random/entropy_avail`\n\nThe metrics are documented in `man proc` under the `/proc/stat` section.\nThe metrics are documented in `man 4 random` under the `/proc/stat` section.\n\n```\n\n\n/proc/sys/kernel/random/entropy_avail\nContains the value of available entropy\n\n/proc/stat\nkernel/system statistics. Varies with architecture. Common entries include:\n\npage 5741 1808\nThe number of pages the system paged in and the number that were paged out (from disk).\n\nswap 1 0\nThe number of swap pages that have been brought in and out.\n\nintr 1462898\nThis line shows counts of interrupts serviced since boot time, for each of\nthe possible system interrupts. The first column is the total of all\ninterrupts serviced; each subsequent column is the total for a particular interrupt.\n\nctxt 115315\nThe number of context switches that the system underwent.\n\nbtime 769041601\nboot time, in seconds since the Epoch, 1970-01-01 00:00:00 +0000 (UTC).\n\nprocesses 86031\nNumber of forks since boot.\n```\n\n### Configuration:\n\n```toml\n# Get kernel statistics from /proc/stat\n[[inputs.kernel]]\n  # no configuration\n```\n\n### Measurements & Fields:\n\n- kernel\n    - boot_time (integer, seconds since epoch, `btime`)\n    - context_switches (integer, `ctxt`)\n    - disk_pages_in (integer, `page (0)`)\n    - disk_pages_out (integer, `page (1)`)\n    - interrupts (integer, `intr`)\n    - processes_forked (integer, `processes`)\n    - entropy_avail (integer, `entropy_available`)\n\n### Tags:\n\nNone\n\n### Example Output:\n\n```\n$ telegraf --config ~/ws/telegraf.conf --input-filter kernel --test\n* Plugin: kernel, Collection 1\n> kernel entropy_available=2469i,boot_time=1457505775i,context_switches=2626618i,disk_pages_in=5741i,disk_pages_out=1808i,interrupts=1472736i,processes_forked=10673i 1457613402960879816\n```\n",image:px.a},{id:"kernel_vmstat",name:"Kernel VMStat",url:"telegraf-plugins/kernel_vmstat",markdown:"# Kernel VMStat Input Plugin\n\nThe kernel_vmstat plugin gathers virtual memory statistics \nby reading /proc/vmstat. For a full list of available fields see the \n/proc/vmstat section of the [proc man page](http://man7.org/linux/man-pages/man5/proc.5.html).\nFor a better idea of what each field represents, see the \n[vmstat man page](http://linux.die.net/man/8/vmstat).\n\n\n```\n/proc/vmstat\nkernel/system statistics. Common entries include (from http://www.linuxinsight.com/proc_vmstat.html):\n\nNumber of pages that are dirty, under writeback or unstable:\n\nnr_dirty 1550\nnr_writeback 0\nnr_unstable 0\n\nNumber of pages allocated to page tables, mapped by files or allocated by the kernel slab allocator:\n\nnr_page_table_pages 699\nnr_mapped 139596\nnr_slab 42723\n\nNumber of pageins and pageouts (since the last boot):\n\npgpgin 33754195\npgpgout 38985992\n\nNumber of swapins and swapouts (since the last boot):\n\npswpin 2473\npswpout 2995\n\nNumber of page allocations per zone (since the last boot):\n\npgalloc_high 0\npgalloc_normal 110123213\npgalloc_dma32 0\npgalloc_dma 415219\n\nNumber of page frees, activations and deactivations (since the last boot):\n\npgfree 110549163\npgactivate 4509729\npgdeactivate 2136215\n\nNumber of minor and major page faults (since the last boot):\n\npgfault 80663722\npgmajfault 49813\n\nNumber of page refills (per zone, since the last boot):\n\npgrefill_high 0\npgrefill_normal 5817500\npgrefill_dma32 0\npgrefill_dma 149176\n\nNumber of page steals (per zone, since the last boot):\n\npgsteal_high 0\npgsteal_normal 10421346\npgsteal_dma32 0\npgsteal_dma 142196\n\nNumber of pages scanned by the kswapd daemon (per zone, since the last boot):\n\npgscan_kswapd_high 0\npgscan_kswapd_normal 10491424\npgscan_kswapd_dma32 0\npgscan_kswapd_dma 156130\n\nNumber of pages reclaimed directly (per zone, since the last boot):\n\npgscan_direct_high 0\npgscan_direct_normal 11904\npgscan_direct_dma32 0\npgscan_direct_dma 225\n\nNumber of pages reclaimed via inode freeing (since the last boot):\n\npginodesteal 11\n\nNumber of slab objects scanned (since the last boot):\n\nslabs_scanned 8926976\n\nNumber of pages reclaimed by kswapd (since the last boot):\n\nkswapd_steal 10551674\n\nNumber of pages reclaimed by kswapd via inode freeing (since the last boot):\n\nkswapd_inodesteal 338730\n\nNumber of kswapd's calls to page reclaim (since the last boot):\n\npageoutrun 181908\n\nNumber of direct reclaim calls (since the last boot):\n\nallocstall 160\n\nMiscellaneous statistics:\n\npgrotated 3781\nnr_bounce 0\n```\n\n### Configuration:\n\n```toml\n# Get kernel statistics from /proc/vmstat\n[[inputs.kernel_vmstat]]\n  # no configuration\n```\n\n### Measurements & Fields:\n\n- kernel_vmstat\n    - nr_free_pages (integer, `nr_free_pages`)\n    - nr_inactive_anon (integer, `nr_inactive_anon`)\n    - nr_active_anon (integer, `nr_active_anon`)\n    - nr_inactive_file (integer, `nr_inactive_file`)\n    - nr_active_file (integer, `nr_active_file`)\n    - nr_unevictable (integer, `nr_unevictable`)\n    - nr_mlock (integer, `nr_mlock`)\n    - nr_anon_pages (integer, `nr_anon_pages`)\n    - nr_mapped (integer, `nr_mapped`)\n    - nr_file_pages (integer, `nr_file_pages`)\n    - nr_dirty (integer, `nr_dirty`)\n    - nr_writeback (integer, `nr_writeback`)\n    - nr_slab_reclaimable (integer, `nr_slab_reclaimable`)\n    - nr_slab_unreclaimable (integer, `nr_slab_unreclaimable`)\n    - nr_page_table_pages (integer, `nr_page_table_pages`)\n    - nr_kernel_stack (integer, `nr_kernel_stack`)\n    - nr_unstable (integer, `nr_unstable`)\n    - nr_bounce (integer, `nr_bounce`)\n    - nr_vmscan_write (integer, `nr_vmscan_write`)\n    - nr_writeback_temp (integer, `nr_writeback_temp`)\n    - nr_isolated_anon (integer, `nr_isolated_anon`)\n    - nr_isolated_file (integer, `nr_isolated_file`)\n    - nr_shmem (integer, `nr_shmem`)\n    - numa_hit (integer, `numa_hit`)\n    - numa_miss (integer, `numa_miss`)\n    - numa_foreign (integer, `numa_foreign`)\n    - numa_interleave (integer, `numa_interleave`)\n    - numa_local (integer, `numa_local`)\n    - numa_other (integer, `numa_other`)\n    - nr_anon_transparent_hugepages (integer, `nr_anon_transparent_hugepages`)\n    - pgpgin (integer, `pgpgin`)\n    - pgpgout (integer, `pgpgout`)\n    - pswpin (integer, `pswpin`)\n    - pswpout (integer, `pswpout`)\n    - pgalloc_dma (integer, `pgalloc_dma`)\n    - pgalloc_dma32 (integer, `pgalloc_dma32`)\n    - pgalloc_normal (integer, `pgalloc_normal`)\n    - pgalloc_movable (integer, `pgalloc_movable`)\n    - pgfree (integer, `pgfree`)\n    - pgactivate (integer, `pgactivate`)\n    - pgdeactivate (integer, `pgdeactivate`)\n    - pgfault (integer, `pgfault`)\n    - pgmajfault (integer, `pgmajfault`)\n    - pgrefill_dma (integer, `pgrefill_dma`)\n    - pgrefill_dma32 (integer, `pgrefill_dma32`)\n    - pgrefill_normal (integer, `pgrefill_normal`)\n    - pgrefill_movable (integer, `pgrefill_movable`)\n    - pgsteal_dma (integer, `pgsteal_dma`)\n    - pgsteal_dma32 (integer, `pgsteal_dma32`)\n    - pgsteal_normal (integer, `pgsteal_normal`)\n    - pgsteal_movable (integer, `pgsteal_movable`)\n    - pgscan_kswapd_dma (integer, `pgscan_kswapd_dma`)\n    - pgscan_kswapd_dma32 (integer, `pgscan_kswapd_dma32`)\n    - pgscan_kswapd_normal (integer, `pgscan_kswapd_normal`)\n    - pgscan_kswapd_movable (integer, `pgscan_kswapd_movable`)\n    - pgscan_direct_dma (integer, `pgscan_direct_dma`)\n    - pgscan_direct_dma32 (integer, `pgscan_direct_dma32`)\n    - pgscan_direct_normal (integer, `pgscan_direct_normal`)\n    - pgscan_direct_movable (integer, `pgscan_direct_movable`)\n    - zone_reclaim_failed (integer, `zone_reclaim_failed`)\n    - pginodesteal (integer, `pginodesteal`)\n    - slabs_scanned (integer, `slabs_scanned`)\n    - kswapd_steal (integer, `kswapd_steal`)\n    - kswapd_inodesteal (integer, `kswapd_inodesteal`)\n    - kswapd_low_wmark_hit_quickly (integer, `kswapd_low_wmark_hit_quickly`)\n    - kswapd_high_wmark_hit_quickly (integer, `kswapd_high_wmark_hit_quickly`)\n    - kswapd_skip_congestion_wait (integer, `kswapd_skip_congestion_wait`)\n    - pageoutrun (integer, `pageoutrun`)\n    - allocstall (integer, `allocstall`)\n    - pgrotated (integer, `pgrotated`)\n    - compact_blocks_moved (integer, `compact_blocks_moved`)\n    - compact_pages_moved (integer, `compact_pages_moved`)\n    - compact_pagemigrate_failed (integer, `compact_pagemigrate_failed`)\n    - compact_stall (integer, `compact_stall`)\n    - compact_fail (integer, `compact_fail`)\n    - compact_success (integer, `compact_success`)\n    - htlb_buddy_alloc_success (integer, `htlb_buddy_alloc_success`)\n    - htlb_buddy_alloc_fail (integer, `htlb_buddy_alloc_fail`)\n    - unevictable_pgs_culled (integer, `unevictable_pgs_culled`)\n    - unevictable_pgs_scanned (integer, `unevictable_pgs_scanned`)\n    - unevictable_pgs_rescued (integer, `unevictable_pgs_rescued`)\n    - unevictable_pgs_mlocked (integer, `unevictable_pgs_mlocked`)\n    - unevictable_pgs_munlocked (integer, `unevictable_pgs_munlocked`)\n    - unevictable_pgs_cleared (integer, `unevictable_pgs_cleared`)\n    - unevictable_pgs_stranded (integer, `unevictable_pgs_stranded`)\n    - unevictable_pgs_mlockfreed (integer, `unevictable_pgs_mlockfreed`)\n    - thp_fault_alloc (integer, `thp_fault_alloc`)\n    - thp_fault_fallback (integer, `thp_fault_fallback`)\n    - thp_collapse_alloc (integer, `thp_collapse_alloc`)\n    - thp_collapse_alloc_failed (integer, `thp_collapse_alloc_failed`)\n    - thp_split (integer, `thp_split`)\n\n### Tags:\n\nNone\n\n### Example Output:\n\n```\n$ telegraf --config ~/ws/telegraf.conf --input-filter kernel_vmstat --test\n* Plugin: kernel_vmstat, Collection 1\n> kernel_vmstat allocstall=81496i,compact_blocks_moved=238196i,compact_fail=135220i,compact_pagemigrate_failed=0i,compact_pages_moved=6370588i,compact_stall=142092i,compact_success=6872i,htlb_buddy_alloc_fail=0i,htlb_buddy_alloc_success=0i,kswapd_high_wmark_hit_quickly=25439i,kswapd_inodesteal=29770874i,kswapd_low_wmark_hit_quickly=8756i,kswapd_skip_congestion_wait=0i,kswapd_steal=291534428i,nr_active_anon=2515657i,nr_active_file=2244914i,nr_anon_pages=1358675i,nr_anon_transparent_hugepages=2034i,nr_bounce=0i,nr_dirty=5690i,nr_file_pages=5153546i,nr_free_pages=78730i,nr_inactive_anon=426259i,nr_inactive_file=2366791i,nr_isolated_anon=0i,nr_isolated_file=0i,nr_kernel_stack=579i,nr_mapped=558821i,nr_mlock=0i,nr_page_table_pages=11115i,nr_shmem=541689i,nr_slab_reclaimable=459806i,nr_slab_unreclaimable=47859i,nr_unevictable=0i,nr_unstable=0i,nr_vmscan_write=6206i,nr_writeback=0i,nr_writeback_temp=0i,numa_foreign=0i,numa_hit=5113399878i,numa_interleave=35793i,numa_local=5113399878i,numa_miss=0i,numa_other=0i,pageoutrun=505006i,pgactivate=375664931i,pgalloc_dma=0i,pgalloc_dma32=122480220i,pgalloc_movable=0i,pgalloc_normal=5233176719i,pgdeactivate=122735906i,pgfault=8699921410i,pgfree=5359765021i,pginodesteal=9188431i,pgmajfault=122210i,pgpgin=219717626i,pgpgout=3495885510i,pgrefill_dma=0i,pgrefill_dma32=1180010i,pgrefill_movable=0i,pgrefill_normal=119866676i,pgrotated=60620i,pgscan_direct_dma=0i,pgscan_direct_dma32=12256i,pgscan_direct_movable=0i,pgscan_direct_normal=31501600i,pgscan_kswapd_dma=0i,pgscan_kswapd_dma32=4480608i,pgscan_kswapd_movable=0i,pgscan_kswapd_normal=287857984i,pgsteal_dma=0i,pgsteal_dma32=4466436i,pgsteal_movable=0i,pgsteal_normal=318463755i,pswpin=2092i,pswpout=6206i,slabs_scanned=93775616i,thp_collapse_alloc=24857i,thp_collapse_alloc_failed=102214i,thp_fault_alloc=346219i,thp_fault_fallback=895453i,thp_split=9817i,unevictable_pgs_cleared=0i,unevictable_pgs_culled=1531i,unevictable_pgs_mlocked=6988i,unevictable_pgs_mlockfreed=0i,unevictable_pgs_munlocked=6988i,unevictable_pgs_rescued=5426i,unevictable_pgs_scanned=0i,unevictable_pgs_stranded=0i,zone_reclaim_failed=0i 1459455200071462843 \n```\n",image:mx.a},{id:"kibana",name:"Kibana",url:"telegraf-plugins/kibana",markdown:'# Kibana Input Plugin\n\nThe `kibana` plugin queries the [Kibana][] API to obtain the service status.\n\n- Telegraf minimum version: 1.8\n- Kibana minimum tested version: 6.0\n\n[Kibana]: https://www.elastic.co/\n\n### Configuration\n\n```toml\n[[inputs.kibana]]\n  ## Specify a list of one or more Kibana servers\n  servers = ["http://localhost:5601"]\n\n  ## Timeout for HTTP requests\n  timeout = "5s"\n\n  ## HTTP Basic Auth credentials\n  # username = "username"\n  # password = "pa$$word"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\n- kibana\n  - tags:\n    - name (Kibana reported name)\n    - source (Kibana server hostname or IP)\n    - status (Kibana health: green, yellow, red)\n    - version (Kibana version)\n  - fields:\n    - status_code (integer, green=1 yellow=2 red=3 unknown=0)\n    - heap_total_bytes (integer)\n    - heap_max_bytes (integer; deprecated in 1.13.3: use `heap_total_bytes` field)\n    - heap_used_bytes (integer)\n    - uptime_ms (integer)\n    - response_time_avg_ms (float)\n    - response_time_max_ms (integer)\n    - concurrent_connections (integer)\n    - requests_per_sec (float)\n\n### Example Output\n\n```\nkibana,host=myhost,name=my-kibana,source=localhost:5601,status=green,version=6.5.4 concurrent_connections=8i,heap_max_bytes=447778816i,heap_total_bytes=447778816i,heap_used_bytes=380603352i,requests_per_sec=1,response_time_avg_ms=57.6,response_time_max_ms=220i,status_code=1i,uptime_ms=6717489805i 1534864502000000000\n```\n',image:_x.a},{id:"kinesis_consumer",name:"Kinesis Consumer",url:"telegraf-plugins/kinesis_consumer",markdown:'# Kinesis Consumer Input Plugin\n\nThe [Kinesis][kinesis] consumer plugin reads from a Kinesis data stream\nand creates metrics using one of the supported [input data formats][].\n\n\n### Configuration\n\n```toml\n[[inputs.kinesis_consumer]]\n  ## Amazon REGION of kinesis endpoint.\n  region = "ap-southeast-2"\n\n  ## Amazon Credentials\n  ## Credentials are loaded in the following order\n  ## 1) Assumed credentials via STS if role_arn is specified\n  ## 2) explicit credentials from \'access_key\' and \'secret_key\'\n  ## 3) shared profile from \'profile\'\n  ## 4) environment variables\n  ## 5) shared credentials file\n  ## 6) EC2 Instance Profile\n  # access_key = ""\n  # secret_key = ""\n  # token = ""\n  # role_arn = ""\n  # profile = ""\n  # shared_credential_file = ""\n\n  ## Endpoint to make request against, the correct endpoint is automatically\n  ## determined and this option should only be set if you wish to override the\n  ## default.\n  ##   ex: endpoint_url = "http://localhost:8000"\n  # endpoint_url = ""\n\n  ## Kinesis StreamName must exist prior to starting telegraf.\n  streamname = "StreamName"\n\n  ## Shard iterator type (only \'TRIM_HORIZON\' and \'LATEST\' currently supported)\n  # shard_iterator_type = "TRIM_HORIZON"\n\n  ## Maximum messages to read from the broker that have not been written by an\n  ## output.  For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message from the queue contains 10 metrics and the\n  ## output metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n\n  ## Optional\n  ## Configuration for a dynamodb checkpoint\n  [inputs.kinesis_consumer.checkpoint_dynamodb]\n    ## unique name for this consumer\n    app_name = "default"\n    table_name = "default"\n```\n\n\n#### Required AWS IAM permissions\n\nKinesis:\n - DescribeStream\n - GetRecords\n - GetShardIterator\n\nDynamoDB:\n - GetItem\n - PutItem\n\n\n#### DynamoDB Checkpoint\n\nThe DynamoDB checkpoint stores the last processed record in a DynamoDB. To leverage\nthis functionality, create a table with the following string type keys:\n\n```\nPartition key: namespace\nSort key: shard_id\n```\n\n\n[kinesis]: https://aws.amazon.com/kinesis/\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n',image:fx.a},{id:"kube_inventory",name:"Kubernetes Inventory",url:"telegraf-plugins/kube_inventory",markdown:'# Kubernetes Inventory Input Plugin\n\nThis plugin generates metrics derived from the state of the following Kubernetes resources:\n\n- daemonsets\n- deployments\n- endpoints\n- ingress\n- nodes\n- persistentvolumes\n- persistentvolumeclaims\n- pods (containers)\n- services\n- statefulsets\n\nKubernetes is a fast moving project, with a new minor release every 3 months. As\nsuch, we will aim to maintain support only for versions that are supported by\nthe major cloud providers; this is roughly 4 release / 2 years.\n\n**This plugin supports Kubernetes 1.11 and later.**\n\n#### Series Cardinality Warning\n\nThis plugin may produce a high number of series which, when not controlled\nfor, will cause high load on your database. Use the following techniques to\navoid cardinality issues:\n\n- Use [metric filtering][] options to exclude unneeded measurements and tags.\n- Write to a database with an appropriate [retention policy][].\n- Limit series cardinality in your database using the\n  [max-series-per-database][] and [max-values-per-tag][] settings.\n- Consider using the [Time Series Index][tsi].\n- Monitor your databases [series cardinality][].\n- Consult the [InfluxDB documentation][influx-docs] for the most up-to-date techniques.\n\n### Configuration:\n\n```toml\n[[inputs.kube_inventory]]\n  ## URL for the Kubernetes API\n  url = "https://127.0.0.1"\n\n  ## Namespace to use. Set to "" to use all namespaces.\n  # namespace = "default"\n\n  ## Use bearer token for authorization. (\'bearer_token\' takes priority)\n  ## If both of these are empty, we\'ll use the default serviceaccount:\n  ## at: /run/secrets/kubernetes.io/serviceaccount/token\n  # bearer_token = "/path/to/bearer/token"\n  ## OR\n  # bearer_token_string = "abc_123"\n\n  ## Set response_timeout (default 5 seconds)\n  # response_timeout = "5s"\n\n  ## Optional Resources to exclude from gathering\n  ## Leave them with blank with try to gather everything available.\n  ## Values can be - "daemonsets", deployments", "endpoints", "ingress", "nodes",\n  ## "persistentvolumes", "persistentvolumeclaims", "pods", "services", "statefulsets"\n  # resource_exclude = [ "deployments", "nodes", "statefulsets" ]\n\n  ## Optional Resources to include when gathering\n  ## Overrides resource_exclude if both set.\n  # resource_include = [ "deployments", "nodes", "statefulsets" ]\n\n  ## selectors to include and exclude as tags.  Globs accepted.\n  ## Note that an empty array for both will include all selectors as tags\n  ## selector_exclude overrides selector_include if both set.\n  selector_include = []\n  selector_exclude = ["*"]\n\n  ## Optional TLS Config\n  # tls_ca = "/path/to/cafile"\n  # tls_cert = "/path/to/certfile"\n  # tls_key = "/path/to/keyfile"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Uncomment to remove deprecated metrics.\n  # fielddrop = ["terminated_reason"]\n```\n\n#### Kubernetes Permissions\n\nIf using [RBAC authorization](https://kubernetes.io/docs/reference/access-authn-authz/rbac/), you will need to create a cluster role to list "persistentvolumes" and "nodes". You will then need to make an [aggregated ClusterRole](https://kubernetes.io/docs/reference/access-authn-authz/rbac/#aggregated-clusterroles) that will eventually be bound to a user or group.\n\n```yaml\n---\nkind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: influx:cluster:viewer\n  labels:\n    rbac.authorization.k8s.io/aggregate-view-telegraf: "true"\nrules:\n  - apiGroups: [""]\n    resources: ["persistentvolumes", "nodes"]\n    verbs: ["get", "list"]\n\n---\nkind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: influx:telegraf\naggregationRule:\n  clusterRoleSelectors:\n    - matchLabels:\n        rbac.authorization.k8s.io/aggregate-view-telegraf: "true"\n    - matchLabels:\n        rbac.authorization.k8s.io/aggregate-to-view: "true"\nrules: [] # Rules are automatically filled in by the controller manager.\n```\n\nBind the newly created aggregated ClusterRole with the following config file, updating the subjects as needed.\n\n```yaml\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: influx:telegraf:viewer\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: influx:telegraf\nsubjects:\n  - kind: ServiceAccount\n    name: telegraf\n    namespace: default\n```\n\n### Metrics:\n\n- kubernetes_daemonset\n  - tags:\n    - daemonset_name\n    - namespace\n    - selector (\\*varies)\n  - fields:\n    - generation\n    - current_number_scheduled\n    - desired_number_scheduled\n    - number_available\n    - number_misscheduled\n    - number_ready\n    - number_unavailable\n    - updated_number_scheduled\n\n* kubernetes_deployment\n  - tags:\n    - deployment_name\n    - namespace\n    - selector (\\*varies)\n  - fields:\n    - replicas_available\n    - replicas_unavailable\n    - created\n\n- kubernetes_endpoints\n  - tags:\n    - endpoint_name\n    - namespace\n    - hostname\n    - node_name\n    - port_name\n    - port_protocol\n    - kind (\\*varies)\n  - fields:\n    - created\n    - generation\n    - ready\n    - port\n\n* kubernetes_ingress\n  - tags:\n    - ingress_name\n    - namespace\n    - hostname\n    - ip\n    - backend_service_name\n    - path\n    - host\n  - fields:\n    - created\n    - generation\n    - backend_service_port\n    - tls\n\n- kubernetes_node\n  - tags:\n    - node_name\n  - fields:\n    - capacity_cpu_cores\n    - capacity_memory_bytes\n    - capacity_pods\n    - allocatable_cpu_cores\n    - allocatable_memory_bytes\n    - allocatable_pods\n\n* kubernetes_persistentvolume\n  - tags:\n    - pv_name\n    - phase\n    - storageclass\n  - fields:\n    - phase_type (int, [see below](#pv-phase_type))\n\n- kubernetes_persistentvolumeclaim\n  - tags:\n    - pvc_name\n    - namespace\n    - phase\n    - storageclass\n    - selector (\\*varies)\n  - fields:\n    - phase_type (int, [see below](#pvc-phase_type))\n\n* kubernetes_pod_container\n  - tags:\n    - container_name\n    - namespace\n    - node_name\n    - pod_name\n    - node_selector (\\*varies)\n    - state\n    - readiness\n  - fields:\n    - restarts_total\n    - state_code\n    - state_reason\n    - terminated_reason (string, deprecated in 1.15: use `state_reason` instead)\n    - resource_requests_cpu_units\n    - resource_requests_memory_bytes\n    - resource_limits_cpu_units\n    - resource_limits_memory_bytes\n\n- kubernetes_service\n  - tags:\n    - service_name\n    - namespace\n    - port_name\n    - port_protocol\n    - external_name\n    - cluster_ip\n    - selector (\\*varies)\n  - fields\n    - created\n    - generation\n    - port\n    - target_port\n\n* kubernetes_statefulset\n  - tags:\n    - statefulset_name\n    - namespace\n    - selector (\\*varies)\n  - fields:\n    - created\n    - generation\n    - replicas\n    - replicas_current\n    - replicas_ready\n    - replicas_updated\n    - spec_replicas\n    - observed_generation\n\n#### pv `phase_type`\n\nThe persistentvolume "phase" is saved in the `phase` tag with a correlated numeric field called `phase_type` corresponding with that tag value.\n\n| Tag value | Corresponding field value |\n| --------- | ------------------------- |\n| bound     | 0                         |\n| failed    | 1                         |\n| pending   | 2                         |\n| released  | 3                         |\n| available | 4                         |\n| unknown   | 5                         |\n\n#### pvc `phase_type`\n\nThe persistentvolumeclaim "phase" is saved in the `phase` tag with a correlated numeric field called `phase_type` corresponding with that tag value.\n\n| Tag value | Corresponding field value |\n| --------- | ------------------------- |\n| bound     | 0                         |\n| lost      | 1                         |\n| pending   | 2                         |\n| unknown   | 3                         |\n\n### Example Output:\n\n```\nkubernetes_configmap,configmap_name=envoy-config,namespace=default,resource_version=56593031 created=1544103867000000000i 1547597616000000000\nkubernetes_daemonset,daemonset_name=telegraf,selector_select1=s1,namespace=logging number_unavailable=0i,desired_number_scheduled=11i,number_available=11i,number_misscheduled=8i,number_ready=11i,updated_number_scheduled=11i,created=1527758699000000000i,generation=16i,current_number_scheduled=11i 1547597616000000000\nkubernetes_deployment,deployment_name=deployd,selector_select1=s1,namespace=default replicas_unavailable=0i,created=1544103082000000000i,replicas_available=1i 1547597616000000000\nkubernetes_node,node_name=ip-172-17-0-2.internal allocatable_pods=110i,capacity_memory_bytes=128837533696,capacity_pods=110i,capacity_cpu_cores=16i,allocatable_cpu_cores=16i,allocatable_memory_bytes=128732676096 1547597616000000000\nkubernetes_persistentvolume,phase=Released,pv_name=pvc-aaaaaaaa-bbbb-cccc-1111-222222222222,storageclass=ebs-1-retain phase_type=3i 1547597616000000000\nkubernetes_persistentvolumeclaim,namespace=default,phase=Bound,pvc_name=data-etcd-0,selector_select1=s1,storageclass=ebs-1-retain phase_type=0i 1547597615000000000\nkubernetes_pod,namespace=default,node_name=ip-172-17-0-2.internal,pod_name=tick1 last_transition_time=1547578322000000000i,ready="false" 1547597616000000000\nkubernetes_service,cluster_ip=172.29.61.80,namespace=redis-cache-0001,port_name=redis,port_protocol=TCP,selector_app=myapp,selector_io.kompose.service=redis,selector_role=slave,service_name=redis-slave created=1588690034000000000i,generation=0i,port=6379i,target_port=0i 1547597616000000000\nkubernetes_pod_container,container_name=telegraf,namespace=default,node_name=ip-172-17-0-2.internal,node_selector_node-role.kubernetes.io/compute=true,pod_name=tick1,state=running,readiness=ready resource_requests_cpu_units=0.1,resource_limits_memory_bytes=524288000,resource_limits_cpu_units=0.5,restarts_total=0i,state_code=0i,state_reason="",resource_requests_memory_bytes=524288000 1547597616000000000\nkubernetes_statefulset,namespace=default,selector_select1=s1,statefulset_name=etcd replicas_updated=3i,spec_replicas=3i,observed_generation=1i,created=1544101669000000000i,generation=1i,replicas=3i,replicas_current=3i,replicas_ready=3i 1547597616000000000\n```\n\n[metric filtering]: https://github.com/influxdata/telegraf/blob/master/docs/CONFIGURATION.md#metric-filtering\n[retention policy]: https://docs.influxdata.com/influxdb/latest/guides/downsampling_and_retention/\n[max-series-per-database]: https://docs.influxdata.com/influxdb/latest/administration/config/#max-series-per-database-1000000\n[max-values-per-tag]: https://docs.influxdata.com/influxdb/latest/administration/config/#max-values-per-tag-100000\n[tsi]: https://docs.influxdata.com/influxdb/latest/concepts/time-series-index/\n[series cardinality]: https://docs.influxdata.com/influxdb/latest/query_language/spec/#show-cardinality\n[influx-docs]: https://docs.influxdata.com/influxdb/latest/\n[k8s-telegraf]: https://www.influxdata.com/blog/monitoring-kubernetes-architecture/\n',image:yx.a},{id:"kubernetes",name:"Kubernetes",url:"telegraf-plugins/kubernetes",markdown:'# Kubernetes Input Plugin\n\nThe Kubernetes plugin talks to the Kubelet API and gathers metrics about the\nrunning pods and containers for a single host. It is assumed that this plugin\nis running as part of a `daemonset` within a kubernetes installation. This\nmeans that telegraf is running on every node within the cluster. Therefore, you\nshould configure this plugin to talk to its locally running kubelet.\n\nTo find the ip address of the host you are running on you can issue a command like the following:\n\n```\n$ curl -s $API_URL/api/v1/namespaces/$POD_NAMESPACE/pods/$HOSTNAME --header "Authorization: Bearer $TOKEN" --insecure | jq -r \'.status.hostIP\'\n```\n\nIn this case we used the downward API to pass in the `$POD_NAMESPACE` and `$HOSTNAME` is the hostname of the pod which is set by the kubernetes API.\n\nKubernetes is a fast moving project, with a new minor release every 3 months. As\nsuch, we will aim to maintain support only for versions that are supported by\nthe major cloud providers; this is roughly 4 release / 2 years.\n\n**This plugin supports Kubernetes 1.11 and later.**\n\n#### Series Cardinality Warning\n\nThis plugin may produce a high number of series which, when not controlled\nfor, will cause high load on your database. Use the following techniques to\navoid cardinality issues:\n\n- Use [metric filtering][] options to exclude unneeded measurements and tags.\n- Write to a database with an appropriate [retention policy][].\n- Limit series cardinality in your database using the\n  [max-series-per-database][] and [max-values-per-tag][] settings.\n- Consider using the [Time Series Index][tsi].\n- Monitor your databases [series cardinality][].\n- Consult the [InfluxDB documentation][influx-docs] for the most up-to-date techniques.\n\n### Configuration\n\n```toml\n[[inputs.kubernetes]]\n  ## URL for the kubelet\n  url = "http://127.0.0.1:10255"\n\n  ## Use bearer token for authorization. (\'bearer_token\' takes priority)\n  ## If both of these are empty, we\'ll use the default serviceaccount:\n  ## at: /run/secrets/kubernetes.io/serviceaccount/token\n  # bearer_token = "/path/to/bearer/token"\n  ## OR\n  # bearer_token_string = "abc_123"\n\n  ## Pod labels to be added as tags.  An empty array for both include and\n  ## exclude will include all labels.\n  # label_include = []\n  # label_exclude = ["*"]\n\n  ## Set response_timeout (default 5 seconds)\n  # response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = /path/to/cafile\n  # tls_cert = /path/to/certfile\n  # tls_key = /path/to/keyfile\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### DaemonSet\n\nFor recommendations on running Telegraf as a DaemonSet see [Monitoring Kubernetes\nArchitecture][k8s-telegraf] or view the Helm charts:\n\n- [Telegraf][]\n- [InfluxDB][]\n- [Chronograf][]\n- [Kapacitor][]\n\n### Metrics\n\n- kubernetes_node\n  - tags:\n    - node_name\n  - fields:\n    - cpu_usage_nanocores\n    - cpu_usage_core_nanoseconds\n    - memory_available_bytes\n    - memory_usage_bytes\n    - memory_working_set_bytes\n    - memory_rss_bytes\n    - memory_page_faults\n    - memory_major_page_faults\n    - network_rx_bytes\n    - network_rx_errors\n    - network_tx_bytes\n    - network_tx_errors\n    - fs_available_bytes\n    - fs_capacity_bytes\n    - fs_used_bytes\n    - runtime_image_fs_available_bytes\n    - runtime_image_fs_capacity_bytes\n    - runtime_image_fs_used_bytes\n\n* kubernetes_pod_container\n  - tags:\n    - container_name\n    - namespace\n    - node_name\n    - pod_name\n  - fields:\n    - cpu_usage_nanocores\n    - cpu_usage_core_nanoseconds\n    - memory_usage_bytes\n    - memory_working_set_bytes\n    - memory_rss_bytes\n    - memory_page_faults\n    - memory_major_page_faults\n    - rootfs_available_bytes\n    - rootfs_capacity_bytes\n    - rootfs_used_bytes\n    - logsfs_available_bytes\n    - logsfs_capacity_bytes\n    - logsfs_used_bytes\n\n- kubernetes_pod_volume\n  - tags:\n    - volume_name\n    - namespace\n    - node_name\n    - pod_name\n  - fields:\n    - available_bytes\n    - capacity_bytes\n    - used_bytes\n\n* kubernetes_pod_network\n  - tags:\n    - namespace\n    - node_name\n    - pod_name\n  - fields:\n    - rx_bytes\n    - rx_errors\n    - tx_bytes\n    - tx_errors\n\n### Example Output\n\n```\nkubernetes_node\nkubernetes_pod_container,container_name=deis-controller,namespace=deis,node_name=ip-10-0-0-0.ec2.internal,pod_name=deis-controller-3058870187-xazsr cpu_usage_core_nanoseconds=2432835i,cpu_usage_nanocores=0i,logsfs_available_bytes=121128271872i,logsfs_capacity_bytes=153567944704i,logsfs_used_bytes=20787200i,memory_major_page_faults=0i,memory_page_faults=175i,memory_rss_bytes=0i,memory_usage_bytes=0i,memory_working_set_bytes=0i,rootfs_available_bytes=121128271872i,rootfs_capacity_bytes=153567944704i,rootfs_used_bytes=1110016i 1476477530000000000\nkubernetes_pod_network,namespace=deis,node_name=ip-10-0-0-0.ec2.internal,pod_name=deis-controller-3058870187-xazsr rx_bytes=120671099i,rx_errors=0i,tx_bytes=102451983i,tx_errors=0i 1476477530000000000\nkubernetes_pod_volume,volume_name=default-token-f7wts,namespace=default,node_name=ip-172-17-0-1.internal,pod_name=storage-7 available_bytes=8415240192i,capacity_bytes=8415252480i,used_bytes=12288i 1546910783000000000\nkubernetes_system_container\n```\n\n[metric filtering]: https://github.com/influxdata/telegraf/blob/master/docs/CONFIGURATION.md#metric-filtering\n[retention policy]: https://docs.influxdata.com/influxdb/latest/guides/downsampling_and_retention/\n[max-series-per-database]: https://docs.influxdata.com/influxdb/latest/administration/config/#max-series-per-database-1000000\n[max-values-per-tag]: https://docs.influxdata.com/influxdb/latest/administration/config/#max-values-per-tag-100000\n[tsi]: https://docs.influxdata.com/influxdb/latest/concepts/time-series-index/\n[series cardinality]: https://docs.influxdata.com/influxdb/latest/query_language/spec/#show-cardinality\n[influx-docs]: https://docs.influxdata.com/influxdb/latest/\n[k8s-telegraf]: https://www.influxdata.com/blog/monitoring-kubernetes-architecture/\n[telegraf]: https://github.com/helm/charts/tree/master/stable/telegraf\n[influxdb]: https://github.com/helm/charts/tree/master/stable/influxdb\n[chronograf]: https://github.com/helm/charts/tree/master/stable/chronograf\n[kapacitor]: https://github.com/helm/charts/tree/master/stable/kapacitor\n',image:xx.a},{id:"lanz",name:"Arista LANZ Consumer",url:"telegraf-plugins/lanz",markdown:'# Arista LANZ Consumer Input Plugin\n\nThis plugin provides a consumer for use with Arista Networks’ Latency Analyzer (LANZ)\n\nMetrics are read from a stream of data via TCP through port 50001 on the\nswitches management IP. The data is in Protobuffers format. For more information on Arista LANZ\n\n- https://www.arista.com/en/um-eos/eos-latency-analyzer-lanz\n\nThis plugin uses Arista\'s sdk.\n\n- https://github.com/aristanetworks/goarista\n\n### Configuration\n\nYou will need to configure LANZ and enable streaming LANZ data.\n\n- https://www.arista.com/en/um-eos/eos-section-44-3-configuring-lanz\n- https://www.arista.com/en/um-eos/eos-section-44-3-configuring-lanz#ww1149292\n\n```toml\n[[inputs.lanz]]\n  servers = [\n    "tcp://switch1.int.example.com:50001",\n    "tcp://switch2.int.example.com:50001",\n  ]\n```\n\n### Metrics\n\nFor more details on the metrics see https://github.com/aristanetworks/goarista/blob/master/lanz/proto/lanz.proto\n\n- lanz_congestion_record:\n  - tags:\n    - intf_name\n    - switch_id\n    - port_id\n    - entry_type\n    - traffic_class\n    - fabric_peer_intf_name\n    - source\n    - port\n  - fields:\n    - timestamp        (integer)\n    - queue_size       (integer)\n    - time_of_max_qlen (integer)\n    - tx_latency       (integer)\n    - q_drop_count     (integer)\n\n+ lanz_global_buffer_usage_record\n  - tags:\n    - entry_type\n    - source\n    - port\n  - fields:\n    - timestamp   (integer)\n    - buffer_size (integer)\n    - duration    (integer)\n\n\n\n### Sample Queries\n\nGet the max tx_latency for the last hour for all interfaces on all switches.\n```sql\nSELECT max("tx_latency") AS "max_tx_latency" FROM "congestion_record" WHERE time > now() - 1h GROUP BY time(10s), "hostname", "intf_name"\n```\n\nGet the max tx_latency for the last hour for all interfaces on all switches.\n```sql\nSELECT max("queue_size") AS "max_queue_size" FROM "congestion_record" WHERE time > now() - 1h GROUP BY time(10s), "hostname", "intf_name"\n```\n\nGet the max buffer_size for over the last hour for all switches.\n```sql\nSELECT max("buffer_size") AS "max_buffer_size" FROM "global_buffer_usage_record" WHERE time > now() - 1h GROUP BY time(10s), "hostname"\n```\n\n### Example output\n```\nlanz_global_buffer_usage_record,entry_type=2,host=telegraf.int.example.com,port=50001,source=switch01.int.example.com timestamp=158334105824919i,buffer_size=505i,duration=0i 1583341058300643815\nlanz_congestion_record,entry_type=2,host=telegraf.int.example.com,intf_name=Ethernet36,port=50001,port_id=61,source=switch01.int.example.com,switch_id=0,traffic_class=1 time_of_max_qlen=0i,tx_latency=564480i,q_drop_count=0i,timestamp=158334105824919i,queue_size=225i 1583341058300636045\nlanz_global_buffer_usage_record,entry_type=2,host=telegraf.int.example.com,port=50001,source=switch01.int.example.com timestamp=158334105824919i,buffer_size=589i,duration=0i 1583341058300457464\nlanz_congestion_record,entry_type=1,host=telegraf.int.example.com,intf_name=Ethernet36,port=50001,port_id=61,source=switch01.int.example.com,switch_id=0,traffic_class=1 q_drop_count=0i,timestamp=158334105824919i,queue_size=232i,time_of_max_qlen=0i,tx_latency=584640i 1583341058300450302\n```\n\n\n',image:Ex.a},{id:"leofs",name:"LeoFS",url:"telegraf-plugins/leofs",markdown:'# LeoFS Input Plugin\n\nThe LeoFS plugin gathers metrics of LeoGateway, LeoManager, and LeoStorage using SNMP. See [LeoFS Documentation / System Administration / System Monitoring](https://leo-project.net/leofs/docs/admin/system_admin/monitoring/).\n\n## Configuration:\n\n```toml\n# Sample Config:\n\n[[inputs.leofs]]\n        servers = ["127.0.0.1:4010"]\n```\n\n## Measurements & Fields:\n### Statistics specific to the internals of LeoManager\n#### Erlang VM\n\n- 1 min Statistics\n    - num_of_processes\n    - total_memory_usage\n    - system_memory_usage\n    - processes_memory_usage\n    - ets_memory_usage\n    - used_allocated_memory\n    - allocated_memory\n- 5 min Statistics\n    - num_of_processes_5min\n    - total_memory_usage_5min\n    - system_memory_usage_5min\n    - processes_memory_usage_5min\n    - ets_memory_usage_5min\n    - used_allocated_memory_5min\n    - allocated_memory_5min\n\n### Statistics specific to the internals of LeoStorage\n#### Erlang VM\n\n- 1 min Statistics\n    - num_of_processes\n    - total_memory_usage\n    - system_memory_usage\n    - processes_memory_usage\n    - ets_memory_usage\n    - used_allocated_memory\n    - allocated_memory\n- 5 min Statistics\n    - num_of_processes_5min\n    - total_memory_usage_5min\n    - system_memory_usage_5min\n    - processes_memory_usage_5min\n    - ets_memory_usage_5min\n    - used_allocated_memory_5min\n    - allocated_memory_5min\n\n#### Total Number of Requests\n\n- 1 min Statistics\n    - num_of_writes\n    - num_of_reads\n    - num_of_deletes\n- 5 min Statistics\n    - num_of_writes_5min\n    - num_of_reads_5min\n    - num_of_deletes_5min\n\n#### Total Number of Objects and Total Size of Objects\n\n- num_of_active_objects\n- total_objects\n- total_size_of_active_objects\n- total_size\n\n#### Total Number of MQ Messages\n\n- num_of_replication_messages,\n- num_of_sync-vnode_messages,\n- num_of_rebalance_messages,\n- mq_num_of_msg_recovery_node\n- mq_num_of_msg_deletion_dir\n- mq_num_of_msg_async_deletion_dir\n- mq_num_of_msg_req_deletion_dir\n- mq_mdcr_num_of_msg_req_comp_metadata\n- mq_mdcr_num_of_msg_req_sync_obj\n\nNote: The following items are available since LeoFS v1.4.0:\n\n- mq_num_of_msg_recovery_node\n- mq_num_of_msg_deletion_dir\n- mq_num_of_msg_async_deletion_dir\n- mq_num_of_msg_req_deletion_dir\n- mq_mdcr_num_of_msg_req_comp_metadata\n- mq_mdcr_num_of_msg_req_sync_obj\n\n#### Data Compaction\n\n- comp_state\n- comp_last_start_datetime\n- comp_last_end_datetime\n- comp_num_of_pending_targets\n- comp_num_of_ongoing_targets\n- comp_num_of_out_of_targets\n\nNote: The all items are available since LeoFS v1.4.0.\n\n### Statistics specific to the internals of LeoGateway\n#### Erlang VM\n\n- 1 min Statistics\n    - num_of_processes\n    - total_memory_usage\n    - system_memory_usage\n    - processes_memory_usage\n    - ets_memory_usage\n    - used_allocated_memory\n    - allocated_memory\n- 5 min Statistics\n    - num_of_processes_5min\n    - total_memory_usage_5min\n    - system_memory_usage_5min\n    - processes_memory_usage_5min\n    - ets_memory_usage_5min\n    - used_allocated_memory_5min\n    - allocated_memory_5min\n\n#### Total Number of Requests\n\n- 1 min Statistics\n    - num_of_writes\n    - num_of_reads\n    - num_of_deletes\n- 5 min Statistics\n    - num_of_writes_5min\n    - num_of_reads_5min\n    - num_of_deletes_5min\n\n#### Object Cache\n\n- count_of_cache-hit\n- count_of_cache-miss\n- total_of_files\n- total_cached_size\n\n\n### Tags:\n\nAll measurements have the following tags:\n\n- node\n\n\n### Example output:\n\n#### LeoManager\n\n```bash\n$ ./telegraf --config ./plugins/inputs/leofs/leo_manager.conf --input-filter leofs --test\n> leofs, host=manager_0, node=manager_0@127.0.0.1\n  allocated_memory=78255445,\n  allocated_memory_5min=78159025,\n  ets_memory_usage=4611900,\n  ets_memory_usage_5min=4632599,\n  num_of_processes=223,\n  num_of_processes_5min=223,\n  processes_memory_usage=20201316,\n  processes_memory_usage_5min=20186559,\n  system_memory_usage=37172701,\n  system_memory_usage_5min=37189213,\n  total_memory_usage=57373373,\n  total_memory_usage_5min=57374653,\n  used_allocated_memory=67,\n  used_allocated_memory_5min=67\n  1524105758000000000\n```\n\n#### LeoStorage\n\n```bash\n$ ./telegraf --config ./plugins/inputs/leofs/leo_storage.conf --input-filter leofs --test\n> leofs,host=storage_0,node=storage_0@127.0.0.1\n  allocated_memory=63504384,\n  allocated_memory_5min=0,\n  comp_last_end_datetime=0,\n  comp_last_start_datetime=0,\n  comp_num_of_ongoing_targets=0,\n  comp_num_of_out_of_targets=0,\n  comp_num_of_pending_targets=8,\n  comp_state=0,\n  ets_memory_usage=3877824,\n  ets_memory_usage_5min=0,\n  mq_mdcr_num_of_msg_req_comp_metadata=0,\n  mq_mdcr_num_of_msg_req_sync_obj=0,\n  mq_num_of_msg_async_deletion_dir=0,\n  mq_num_of_msg_deletion_dir=0,\n  mq_num_of_msg_recovery_node=0,\n  mq_num_of_msg_req_deletion_dir=0,\n  num_of_active_objects=70,\n  num_of_deletes=0,\n  num_of_deletes_5min=0,\n  num_of_processes=577,\n  num_of_processes_5min=0,\n  num_of_reads=1,\n  num_of_reads_5min=0,\n  num_of_rebalance_messages=0,\n  num_of_replication_messages=0,\n  num_of_sync-vnode_messages=0,\n  num_of_writes=70,\n  num_of_writes_5min=0,\n  processes_memory_usage=20029464,\n  processes_memory_usage_5min=0,\n  system_memory_usage=25900472,\n  system_memory_usage_5min=0,\n  total_memory_usage=45920987,\n  total_memory_usage_5min=0,\n  total_objects=70,\n  total_size=2,\n  total_size_of_active_objects=2,\n  used_allocated_memory=69,\n  used_allocated_memory_5min=0\n  1524529826000000000\n```\n\n#### LeoGateway\n\n```\n$ ./telegraf --config ./plugins/inputs/leofs/leo_gateway.conf --input-filter leofs --test\n> leofs, host=gateway_0, node=gateway_0@127.0.0.1\n  allocated_memory=87941120,\n  allocated_memory_5min=88067672,\n  count_of_cache-hit=0,\n  count_of_cache-miss=0,\n  ets_memory_usage=4843497,\n  ets_memory_usage_5min=4841574,\n  num_of_deletes=0,\n  num_of_deletes_5min=0,\n  num_of_processes=555,\n  num_of_processes_5min=555,\n  num_of_reads=0,\n  num_of_reads_5min=0,\n  num_of_writes=0,\n  num_of_writes_5min=0,\n  processes_memory_usage=17388052,\n  processes_memory_usage_5min=17413928,\n  system_memory_usage=49531263,\n  system_memory_usage_5min=49577819,\n  total_cached_size=0,\n  total_memory_usage=66917393,\n  total_memory_usage_5min=66989469,\n  total_of_files=0,\n  used_allocated_memory=69,\n  used_allocated_memory_5min=69 1524105894000000000\n```\n',image:Sx.a},{id:"linux_sysctl_fs",name:"Linux Sysctl FS",url:"telegraf-plugins/linux_sysctl_fs",markdown:"# Linux Sysctl FS Input Plugin\n\nThe linux_sysctl_fs input provides Linux system level file metrics. The documentation on these fields can be found at https://www.kernel.org/doc/Documentation/sysctl/fs.txt.\n\nExample output:\n\n```\n> linux_sysctl_fs,host=foo dentry-want-pages=0i,file-max=44222i,aio-max-nr=65536i,inode-preshrink-nr=0i,dentry-nr=64340i,dentry-unused-nr=55274i,file-nr=1568i,aio-nr=0i,inode-nr=35952i,inode-free-nr=12957i,dentry-age-limit=45i 1490982022000000000\n```\n",image:Tx.a},{id:"logparser",name:"Logparser",url:"telegraf-plugins/logparser",markdown:'# Logparser Input Plugin\n\nThe `logparser` plugin streams and parses the given logfiles. Currently it\nhas the capability of parsing "grok" patterns from logfiles, which also supports\nregex patterns.\n\n**Deprecated in Telegraf 1.15**: Please use the [tail][] plugin along with the [`grok` data format][grok parser].\n\nThe `tail` plugin now provides all the functionality of the `logparser` plugin.\nMost options can be translated directly to the `tail` plugin:\n- For options in the `[inputs.logparser.grok]` section, the equivalent option\n  will have add the `grok_` prefix when using them in the `tail` input.\n- The grok `measurement` option can be replaced using the standard plugin\n  `name_override` option.\n\nMigration Example:\n```diff\n- [[inputs.logparser]]\n-   files = ["/var/log/apache/access.log"]\n-   from_beginning = false\n-   [inputs.logparser.grok]\n-     patterns = ["%{COMBINED_LOG_FORMAT}"]\n-     measurement = "apache_access_log"\n-     custom_pattern_files = []\n-     custom_patterns = \'\'\'\n-     \'\'\'\n-     timezone = "Canada/Eastern"\n\n+ [[inputs.tail]]\n+   files = ["/var/log/apache/access.log"]\n+   from_beginning = false\n+   grok_patterns = ["%{COMBINED_LOG_FORMAT}"]\n+   name_override = "apache_access_log"\n+   grok_custom_pattern_files = []\n+   grok_custom_patterns = \'\'\'\n+   \'\'\'\n+   grok_timezone = "Canada/Eastern"\n+   data_format = "grok"\n```\n\n### Configuration\n\n```toml\n[[inputs.logparser]]\n  ## Log files to parse.\n  ## These accept standard unix glob matching rules, but with the addition of\n  ## ** as a "super asterisk". ie:\n  ##   /var/log/**.log     -> recursively find all .log files in /var/log\n  ##   /var/log/*/*.log    -> find all .log files with a parent dir in /var/log\n  ##   /var/log/apache.log -> only tail the apache log file\n  files = ["/var/log/apache/access.log"]\n\n  ## Read files that currently exist from the beginning. Files that are created\n  ## while telegraf is running (and that match the "files" globs) will always\n  ## be read from the beginning.\n  from_beginning = false\n\n  ## Method used to watch for file updates.  Can be either "inotify" or "poll".\n  # watch_method = "inotify"\n\n  ## Parse logstash-style "grok" patterns:\n  [inputs.logparser.grok]\n    ## This is a list of patterns to check the given log file(s) for.\n    ## Note that adding patterns here increases processing time. The most\n    ## efficient configuration is to have one pattern per logparser.\n    ## Other common built-in patterns are:\n    ##   %{COMMON_LOG_FORMAT}   (plain apache & nginx access logs)\n    ##   %{COMBINED_LOG_FORMAT} (access logs + referrer & agent)\n    patterns = ["%{COMBINED_LOG_FORMAT}"]\n\n    ## Name of the outputted measurement name.\n    measurement = "apache_access_log"\n\n    ## Full path(s) to custom pattern files.\n    custom_pattern_files = []\n\n    ## Custom patterns can also be defined here. Put one pattern per line.\n    custom_patterns = \'\'\'\n    \'\'\'\n\n    ## Timezone allows you to provide an override for timestamps that\n    ## don\'t already include an offset\n    ## e.g. 04/06/2016 12:41:45 data one two 5.43µs\n    ##\n    ## Default: "" which renders UTC\n    ## Options are as follows:\n    ##   1. Local             -- interpret based on machine localtime\n    ##   2. "Canada/Eastern"  -- Unix TZ values like those found in https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\n    ##   3. UTC               -- or blank/unspecified, will return timestamp in UTC\n    # timezone = "Canada/Eastern"\n```\n\n### Grok Parser\n\nReference the [grok parser][] documentation to setup the grok section of the\nconfiguration.\n\n\n### Additional Resources\n\n- https://www.influxdata.com/telegraf-correlate-log-metrics-data-performance-bottlenecks/\n\n[tail]: /plugins/inputs/tail/README.md\n[grok parser]: /plugins/parsers/grok/README.md\n',image:Dx.a},{id:"logstash",name:"Logstash",url:"telegraf-plugins/logstash",markdown:'# Logstash Input Plugin\n\nThis plugin reads metrics exposed by\n[Logstash Monitoring API](https://www.elastic.co/guide/en/logstash/current/monitoring-logstash.html).\n\nLogstash 5 and later is supported.\n\n### Configuration\n\n```toml\n[[inputs.logstash]]\n  ## The URL of the exposed Logstash API endpoint.\n  url = "http://127.0.0.1:9600"\n\n  ## Use Logstash 5 single pipeline API, set to true when monitoring\n  ## Logstash 5.\n  # single_pipeline = false\n\n  ## Enable optional collection components.  Can contain\n  ## "pipelines", "process", and "jvm".\n  # collect = ["pipelines", "process", "jvm"]\n\n  ## Timeout for HTTP requests.\n  # timeout = "5s"\n\n  ## Optional HTTP Basic Auth credentials.\n  # username = "username"\n  # password = "pa$$word"\n\n  ## Optional TLS Config.\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n\n  ## Use TLS but skip chain & host verification.\n  # insecure_skip_verify = false\n\n  ## Optional HTTP headers.\n  # [inputs.logstash.headers]\n  #   "X-Special-Header" = "Special-Value"\n```\n\n### Metrics\n\n- logstash_jvm\n  - tags:\n    - node_id\n    - node_name\n    - node_host\n    - node_version\n  - fields:\n    - threads_peak_count\n    - mem_pools_survivor_peak_max_in_bytes\n    - mem_pools_survivor_max_in_bytes\n    - mem_pools_old_peak_used_in_bytes\n    - mem_pools_young_used_in_bytes\n    - mem_non_heap_committed_in_bytes\n    - threads_count\n    - mem_pools_old_committed_in_bytes\n    - mem_pools_young_peak_max_in_bytes\n    - mem_heap_used_percent\n    - gc_collectors_young_collection_time_in_millis\n    - mem_pools_survivor_peak_used_in_bytes\n    - mem_pools_young_committed_in_bytes\n    - gc_collectors_old_collection_time_in_millis\n    - gc_collectors_old_collection_count\n    - mem_pools_survivor_used_in_bytes\n    - mem_pools_old_used_in_bytes\n    - mem_pools_young_max_in_bytes\n    - mem_heap_max_in_bytes\n    - mem_non_heap_used_in_bytes\n    - mem_pools_survivor_committed_in_bytes\n    - mem_pools_old_max_in_bytes\n    - mem_heap_committed_in_bytes\n    - mem_pools_old_peak_max_in_bytes\n    - mem_pools_young_peak_used_in_bytes\n    - mem_heap_used_in_bytes\n    - gc_collectors_young_collection_count\n    - uptime_in_millis\n\n+ logstash_process\n  - tags:\n    - node_id\n    - node_name\n    - source\n    - node_version\n  - fields:\n    - open_file_descriptors\n    - cpu_load_average_1m\n    - cpu_load_average_5m\n    - cpu_load_average_15m\n    - cpu_total_in_millis\n    - cpu_percent\n    - peak_open_file_descriptors\n    - max_file_descriptors\n    - mem_total_virtual_in_bytes\n    - mem_total_virtual_in_bytes\n\n- logstash_events\n  - tags:\n    - node_id\n    - node_name\n    - source\n    - node_version\n    - pipeline (for Logstash 6+)\n  - fields:\n    - queue_push_duration_in_millis\n    - duration_in_millis\n    - in\n    - filtered\n    - out\n\n+ logstash_plugins\n  - tags:\n    - node_id\n    - node_name\n    - source\n    - node_version\n    - pipeline (for Logstash 6+)\n    - plugin_id\n    - plugin_name\n    - plugin_type\n  - fields:\n    - queue_push_duration_in_millis (for input plugins only)\n    - duration_in_millis\n    - in\n    - out\n\n- logstash_queue\n  - tags:\n    - node_id\n    - node_name\n    - source\n    - node_version\n    - pipeline (for Logstash 6+)\n    - queue_type\n  - fields:\n    - events\n    - free_space_in_bytes\n    - max_queue_size_in_bytes\n    - max_unread_events\n    - page_capacity_in_bytes\n    - queue_size_in_bytes\n\n### Example Output\n\n```\nlogstash_jvm,node_id=3da53ed0-a946-4a33-9cdb-33013f2273f6,node_name=debian-stretch-logstash6.virt,node_version=6.8.1,source=debian-stretch-logstash6.virt gc_collectors_old_collection_count=2,gc_collectors_old_collection_time_in_millis=100,gc_collectors_young_collection_count=26,gc_collectors_young_collection_time_in_millis=1028,mem_heap_committed_in_bytes=1056309248,mem_heap_max_in_bytes=1056309248,mem_heap_used_in_bytes=207216328,mem_heap_used_percent=19,mem_non_heap_committed_in_bytes=160878592,mem_non_heap_used_in_bytes=140838184,mem_pools_old_committed_in_bytes=899284992,mem_pools_old_max_in_bytes=899284992,mem_pools_old_peak_max_in_bytes=899284992,mem_pools_old_peak_used_in_bytes=189468088,mem_pools_old_used_in_bytes=189468088,mem_pools_survivor_committed_in_bytes=17432576,mem_pools_survivor_max_in_bytes=17432576,mem_pools_survivor_peak_max_in_bytes=17432576,mem_pools_survivor_peak_used_in_bytes=17432576,mem_pools_survivor_used_in_bytes=12572640,mem_pools_young_committed_in_bytes=139591680,mem_pools_young_max_in_bytes=139591680,mem_pools_young_peak_max_in_bytes=139591680,mem_pools_young_peak_used_in_bytes=139591680,mem_pools_young_used_in_bytes=5175600,threads_count=20,threads_peak_count=24,uptime_in_millis=739089 1566425244000000000\nlogstash_process,node_id=3da53ed0-a946-4a33-9cdb-33013f2273f6,node_name=debian-stretch-logstash6.virt,node_version=6.8.1,source=debian-stretch-logstash6.virt cpu_load_average_15m=0.03,cpu_load_average_1m=0.01,cpu_load_average_5m=0.04,cpu_percent=0,cpu_total_in_millis=83230,max_file_descriptors=16384,mem_total_virtual_in_bytes=3689132032,open_file_descriptors=118,peak_open_file_descriptors=118 1566425244000000000\nlogstash_events,node_id=3da53ed0-a946-4a33-9cdb-33013f2273f6,node_name=debian-stretch-logstash6.virt,node_version=6.8.1,pipeline=main,source=debian-stretch-logstash6.virt duration_in_millis=0,filtered=0,in=0,out=0,queue_push_duration_in_millis=0 1566425244000000000\nlogstash_plugins,node_id=3da53ed0-a946-4a33-9cdb-33013f2273f6,node_name=debian-stretch-logstash6.virt,node_version=6.8.1,pipeline=main,plugin_id=2807cb8610ba7854efa9159814fcf44c3dda762b43bd088403b30d42c88e69ab,plugin_name=beats,plugin_type=input,source=debian-stretch-logstash6.virt out=0,queue_push_duration_in_millis=0 1566425244000000000\nlogstash_plugins,node_id=3da53ed0-a946-4a33-9cdb-33013f2273f6,node_name=debian-stretch-logstash6.virt,node_version=6.8.1,pipeline=main,plugin_id=7a6c973366186a695727c73935634a00bccd52fceedf30d0746983fce572d50c,plugin_name=file,plugin_type=output,source=debian-stretch-logstash6.virt duration_in_millis=0,in=0,out=0 1566425244000000000\nlogstash_queue,node_id=3da53ed0-a946-4a33-9cdb-33013f2273f6,node_name=debian-stretch-logstash6.virt,node_version=6.8.1,pipeline=main,queue_type=memory,source=debian-stretch-logstash6.virt events=0 1566425244000000000\n```\n',image:jx.a},{id:"lustre2",name:"Lustre",url:"telegraf-plugins/lustre2",markdown:'# Lustre Input Plugin\n\nThe [Lustre][]® file system is an open-source, parallel file system that supports\nmany requirements of leadership class HPC simulation environments.\n\nThis plugin monitors the Lustre file system using its entries in the proc filesystem.\n\n### Configuration\n\n```toml\n# Read metrics from local Lustre service on OST, MDS\n[[inputs.lustre2]]\n  ## An array of /proc globs to search for Lustre stats\n  ## If not specified, the default will work on Lustre 2.5.x\n  ##\n  # ost_procfiles = [\n  #   "/proc/fs/lustre/obdfilter/*/stats",\n  #   "/proc/fs/lustre/osd-ldiskfs/*/stats",\n  #   "/proc/fs/lustre/obdfilter/*/job_stats",\n  # ]\n  # mds_procfiles = [\n  #   "/proc/fs/lustre/mdt/*/md_stats",\n  #   "/proc/fs/lustre/mdt/*/job_stats",\n  # ]\n```\n\n### Metrics\n\nFrom `/proc/fs/lustre/obdfilter/*/stats` and `/proc/fs/lustre/osd-ldiskfs/*/stats`:\n\n- lustre2\n  - tags:\n    - name\n  - fields:\n    - write_bytes\n    - write_calls\n    - read_bytes\n    - read_calls\n    - cache_hit\n    - cache_miss\n    - cache_access\n\nFrom `/proc/fs/lustre/obdfilter/*/job_stats`:\n\n- lustre2\n  - tags:\n    - name\n    - jobid\n  - fields:\n    - jobstats_ost_getattr\n    - jobstats_ost_setattr\n    - jobstats_ost_sync\n    - jobstats_punch\n    - jobstats_destroy\n    - jobstats_create\n    - jobstats_ost_statfs\n    - jobstats_get_info\n    - jobstats_set_info\n    - jobstats_quotactl\n    - jobstats_read_bytes\n    - jobstats_read_calls\n    - jobstats_read_max_size\n    - jobstats_read_min_size\n    - jobstats_write_bytes\n    - jobstats_write_calls\n    - jobstats_write_max_size\n    - jobstats_write_min_size\n\nFrom `/proc/fs/lustre/mdt/*/md_stats`:\n\n- lustre2\n  - tags:\n    - name\n  - fields:\n    - open\n    - close\n    - mknod\n    - link\n    - unlink\n    - mkdir\n    - rmdir\n    - rename\n    - getattr\n    - setattr\n    - getxattr\n    - setxattr\n    - statfs\n    - sync\n    - samedir_rename\n    - crossdir_rename\n\nFrom `/proc/fs/lustre/mdt/*/job_stats`:\n\n- lustre2\n  - tags:\n    - name\n    - jobid\n  - fields:\n    - jobstats_close\n    - jobstats_crossdir_rename\n    - jobstats_getattr\n    - jobstats_getxattr\n    - jobstats_link\n    - jobstats_mkdir\n    - jobstats_mknod\n    - jobstats_open\n    - jobstats_rename\n    - jobstats_rmdir\n    - jobstats_samedir_rename\n    - jobstats_setattr\n    - jobstats_setxattr\n    - jobstats_statfs\n    - jobstats_sync\n    - jobstats_unlink\n\n\n### Troubleshooting\n\nCheck for the default or custom procfiles in the proc filesystem, and reference\nthe [Lustre Monitoring and Statistics Guide][guide].  This plugin does not\nreport all information from these files, only a limited set of items\ncorresponding to the above metric fields.\n\n### Example Output\n\n```\nlustre2,host=oss2,jobid=42990218,name=wrk-OST0041 jobstats_ost_setattr=0i,jobstats_ost_sync=0i,jobstats_punch=0i,jobstats_read_bytes=4096i,jobstats_read_calls=1i,jobstats_read_max_size=4096i,jobstats_read_min_size=4096i,jobstats_write_bytes=310206488i,jobstats_write_calls=7423i,jobstats_write_max_size=53048i,jobstats_write_min_size=8820i 1556525847000000000\nlustre2,host=mds1,jobid=42992017,name=wrk-MDT0000 jobstats_close=31798i,jobstats_crossdir_rename=0i,jobstats_getattr=34146i,jobstats_getxattr=15i,jobstats_link=0i,jobstats_mkdir=658i,jobstats_mknod=0i,jobstats_open=31797i,jobstats_rename=0i,jobstats_rmdir=0i,jobstats_samedir_rename=0i,jobstats_setattr=1788i,jobstats_setxattr=0i,jobstats_statfs=0i,jobstats_sync=0i,jobstats_unlink=0i 1556525828000000000\n\n```\n\n[lustre]: http://lustre.org/\n[guide]: http://wiki.lustre.org/Lustre_Monitoring_and_Statistics_Guide\n',image:Nx.a},{id:"mailchimp",name:"Mailchimp",url:"telegraf-plugins/mailchimp",markdown:'# Mailchimp Input Plugin\n\nPulls campaign reports from the [Mailchimp API](https://developer.mailchimp.com/).\n\n### Configuration\n\nThis section contains the default TOML to configure the plugin.  You can\ngenerate it using `telegraf --usage mailchimp`.\n\n```toml\n[[inputs.mailchimp]]\n  ## MailChimp API key\n  ## get from https://admin.mailchimp.com/account/api/\n  api_key = "" # required\n  \n  ## Reports for campaigns sent more than days_old ago will not be collected.\n  ## 0 means collect all and is the default value.\n  days_old = 0\n  \n  ## Campaign ID to get, if empty gets all campaigns, this option overrides days_old\n  # campaign_id = ""\n```\n\n### Metrics\n\n- mailchimp\n  - tags:\n    - id\n    - campaign_title\n  - fields:\n    - emails_sent (integer, emails)\n    - abuse_reports (integer, reports)\n    - unsubscribed (integer, unsubscribes)\n    - hard_bounces (integer, emails)\n    - soft_bounces (integer, emails)\n    - syntax_errors (integer, errors)\n    - forwards_count (integer, emails)\n    - forwards_opens (integer, emails)\n    - opens_total (integer, emails)\n    - unique_opens (integer, emails)\n    - open_rate (double, percentage)\n    - clicks_total (integer, clicks)\n    - unique_clicks (integer, clicks)\n    - unique_subscriber_clicks (integer, clicks)\n    - click_rate (double, percentage)\n    - facebook_recipient_likes (integer, likes)\n    - facebook_unique_likes (integer, likes)\n    - facebook_likes (integer, likes)\n    - industry_type (string, type)\n    - industry_open_rate (double, percentage)\n    - industry_click_rate (double, percentage)\n    - industry_bounce_rate (double, percentage)\n    - industry_unopen_rate (double, percentage)\n    - industry_unsub_rate (double, percentage)\n    - industry_abuse_rate (double, percentage)\n    - list_stats_sub_rate (double, percentage)\n    - list_stats_unsub_rate (double, percentage)\n    - list_stats_open_rate (double, percentage)\n    - list_stats_click_rate (double, percentage)\n',image:Px.a},{id:"marklogic",name:"MarkLogic",url:"telegraf-plugins/marklogic",markdown:'# MarkLogic Input Plugin\n\nThe MarkLogic Telegraf plugin gathers health status metrics from one or more host.\n\n### Configuration:\n\n```toml\n[[inputs.marklogic]]\n  ## Base URL of the MarkLogic HTTP Server.\n  url = "http://localhost:8002"\n\n  ## List of specific hostnames to retrieve information. At least (1) required.\n  # hosts = ["hostname1", "hostname2"]\n\n  ## Using HTTP Basic Authentication. Management API requires \'manage-user\' role privileges\n  # username = "myuser"\n  # password = "mypassword"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\n- marklogic\n  - tags:\n    - source (the hostname of the server address, ex. `ml1.local`)\n    - id (the host node unique id ex. `2592913110757471141`)\n  - fields:\n    - online\n    - total_load\n    - total_rate\n    - ncpus\n    - ncores\n    - total_cpu_stat_user\n    - total_cpu_stat_system\n    - total_cpu_stat_idle\n    - total_cpu_stat_iowait\n    - memory_process_size\n    - memory_process_rss\n    - memory_system_total\n    - memory_system_free\n    - memory_process_swap_size\n    - memory_size\n    - host_size\n    - log_device_space\n    - data_dir_space\n    - query_read_bytes\n    - query_read_load\n    - merge_read_bytes\n    - merge_write_load\n    - http_server_receive_bytes\n    - http_server_send_bytes\n\n### Example Output:\n\n```\n$> marklogic,host=localhost,id=2592913110757471141,source=ml1.local total_cpu_stat_iowait=0.0125649003311992,memory_process_swap_size=0i,host_size=380i,data_dir_space=28216i,query_read_load=0i,ncpus=1i,log_device_space=28216i,query_read_bytes=13947332i,merge_write_load=0i,http_server_receive_bytes=225893i,online=true,ncores=4i,total_cpu_stat_user=0.150778993964195,total_cpu_stat_system=0.598927974700928,total_cpu_stat_idle=99.2210006713867,memory_system_total=3947i,memory_system_free=2669i,memory_size=4096i,total_rate=14.7697010040283,http_server_send_bytes=0i,memory_process_size=903i,memory_process_rss=486i,merge_read_load=0i,total_load=0.00502600101754069 1566373000000000000\n\n```\n',image:Lx.a},{id:"mcrouter",name:"Mcrouter",url:"telegraf-plugins/mcrouter",markdown:'# Mcrouter Input Plugin\n\nThis plugin gathers statistics data from a Mcrouter server.\n\n### Configuration:\n\n```toml\n# Read metrics from one or many mcrouter servers.\n[[inputs.mcrouter]]\n  ## An array of address to gather stats about. Specify an ip or hostname\n  ## with port. ie tcp://localhost:11211, tcp://10.0.0.1:11211, etc.\n  servers = ["tcp://localhost:11211", "unix:///var/run/mcrouter.sock"]\n\n  ## Timeout for metric collections from all servers.  Minimum timeout is "1s".\n  # timeout = "5s"\n```\n\n### Measurements & Fields:\n\nThe fields from this plugin are gathered in the *mcrouter* measurement.\n\nDescription of gathered fields can be found [here](https://github.com/facebook/mcrouter/wiki/Stats-list).\n\nFields:\n\n* uptime\n* num_servers\n* num_servers_new\n* num_servers_up\n* num_servers_down\n* num_servers_closed\n* num_clients\n* num_suspect_servers\n* destination_batches_sum\n* destination_requests_sum\n* outstanding_route_get_reqs_queued\n* outstanding_route_update_reqs_queued\n* outstanding_route_get_avg_queue_size\n* outstanding_route_update_avg_queue_size\n* outstanding_route_get_avg_wait_time_sec\n* outstanding_route_update_avg_wait_time_sec\n* retrans_closed_connections\n* destination_pending_reqs\n* destination_inflight_reqs\n* destination_batch_size\n* asynclog_requests\n* proxy_reqs_processing\n* proxy_reqs_waiting\n* client_queue_notify_period\n* rusage_system\n* rusage_user\n* ps_num_minor_faults\n* ps_num_major_faults\n* ps_user_time_sec\n* ps_system_time_sec\n* ps_vsize\n* ps_rss\n* fibers_allocated\n* fibers_pool_size\n* fibers_stack_high_watermark\n* successful_client_connections\n* duration_us\n* destination_max_pending_reqs\n* destination_max_inflight_reqs\n* retrans_per_kbyte_max\n* cmd_get_count\n* cmd_delete_out\n* cmd_lease_get\n* cmd_set\n* cmd_get_out_all\n* cmd_get_out\n* cmd_lease_set_count\n* cmd_other_out_all\n* cmd_lease_get_out\n* cmd_set_count\n* cmd_lease_set_out\n* cmd_delete_count\n* cmd_other\n* cmd_delete\n* cmd_get\n* cmd_lease_set\n* cmd_set_out\n* cmd_lease_get_count\n* cmd_other_out\n* cmd_lease_get_out_all\n* cmd_set_out_all\n* cmd_other_count\n* cmd_delete_out_all\n* cmd_lease_set_out_all\n\n### Tags:\n\n* Mcrouter measurements have the following tags:\n    - server (the host name from which metrics are gathered)\n\n\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter mcrouter --test\nmcrouter,server=localhost:11211 uptime=166,num_servers=1,num_servers_new=1,num_servers_up=0,num_servers_down=0,num_servers_closed=0,num_clients=1,num_suspect_servers=0,destination_batches_sum=0,destination_requests_sum=0,outstanding_route_get_reqs_queued=0,outstanding_route_update_reqs_queued=0,outstanding_route_get_avg_queue_size=0,outstanding_route_update_avg_queue_size=0,outstanding_route_get_avg_wait_time_sec=0,outstanding_route_update_avg_wait_time_sec=0,retrans_closed_connections=0,destination_pending_reqs=0,destination_inflight_reqs=0,destination_batch_size=0,asynclog_requests=0,proxy_reqs_processing=1,proxy_reqs_waiting=0,client_queue_notify_period=0,rusage_system=0.040966,rusage_user=0.020483,ps_num_minor_faults=2490,ps_num_major_faults=11,ps_user_time_sec=0.02,ps_system_time_sec=0.04,ps_vsize=697741312,ps_rss=10563584,fibers_allocated=0,fibers_pool_size=0,fibers_stack_high_watermark=0,successful_client_connections=18,duration_us=0,destination_max_pending_reqs=0,destination_max_inflight_reqs=0,retrans_per_kbyte_max=0,cmd_get_count=0,cmd_delete_out=0,cmd_lease_get=0,cmd_set=0,cmd_get_out_all=0,cmd_get_out=0,cmd_lease_set_count=0,cmd_other_out_all=0,cmd_lease_get_out=0,cmd_set_count=0,cmd_lease_set_out=0,cmd_delete_count=0,cmd_other=0,cmd_delete=0,cmd_get=0,cmd_lease_set=0,cmd_set_out=0,cmd_lease_get_count=0,cmd_other_out=0,cmd_lease_get_out_all=0,cmd_set_out_all=0,cmd_other_count=0,cmd_delete_out_all=0,cmd_lease_set_out_all=0 1453831884664956455\n```\n',image:qx.a},{id:"mem",name:"Memory",url:"telegraf-plugins/mem",markdown:"# Memory Input Plugin\n\nThe mem plugin collects system memory metrics.\n\nFor a more complete explanation of the difference between *used* and\n*actual_used* RAM, see [Linux ate my ram](http://www.linuxatemyram.com/).\n\n### Configuration:\n```toml\n# Read metrics about memory usage\n[[inputs.mem]]\n  # no configuration\n```\n\n### Metrics:\n\nAvailable fields are dependent on platform.\n\n- mem\n  - fields:\n    - active (integer, Darwin, FreeBSD, Linux, OpenBSD)\n    - available (integer)\n    - available_percent (float)\n    - buffered (integer, FreeBSD, Linux)\n    - cached (integer, FreeBSD, Linux, OpenBSD)\n    - commit_limit (integer, Linux)\n    - committed_as (integer, Linux)\n    - dirty (integer, Linux)\n    - free (integer, Darwin, FreeBSD, Linux, OpenBSD)\n    - high_free (integer, Linux)\n    - high_total (integer, Linux)\n    - huge_pages_free (integer, Linux)\n    - huge_page_size (integer, Linux)\n    - huge_pages_total (integer, Linux)\n    - inactive (integer, Darwin, FreeBSD, Linux, OpenBSD)\n    - laundry (integer, FreeBSD)\n    - low_free (integer, Linux)\n    - low_total (integer, Linux)\n    - mapped (integer, Linux)\n    - page_tables (integer, Linux)\n    - shared (integer, Linux)\n    - slab (integer, Linux)\n    - sreclaimable (integer, Linux)\n    - sunreclaim (integer, Linux)\n    - swap_cached (integer, Linux)\n    - swap_free (integer, Linux)\n    - swap_total (integer, Linux)\n    - total (integer)\n    - used (integer)\n    - used_percent (float)\n    - vmalloc_chunk (integer, Linux)\n    - vmalloc_total (integer, Linux)\n    - vmalloc_used (integer, Linux)\n    - wired (integer, Darwin, FreeBSD, OpenBSD)\n    - write_back (integer, Linux)\n    - write_back_tmp (integer, Linux)\n\n### Example Output:\n```\nmem active=9299595264i,available=16818249728i,available_percent=80.41654254645131,buffered=2383761408i,cached=13316689920i,commit_limit=14751920128i,committed_as=11781156864i,dirty=122880i,free=1877688320i,high_free=0i,high_total=0i,huge_page_size=2097152i,huge_pages_free=0i,huge_pages_total=0i,inactive=7549939712i,low_free=0i,low_total=0i,mapped=416763904i,page_tables=19787776i,shared=670679040i,slab=2081071104i,sreclaimable=1923395584i,sunreclaim=157675520i,swap_cached=1302528i,swap_free=4286128128i,swap_total=4294963200i,total=20913917952i,used=3335778304i,used_percent=15.95004011996231,vmalloc_chunk=0i,vmalloc_total=35184372087808i,vmalloc_used=0i,wired=0i,write_back=0i,write_back_tmp=0i 1574712869000000000\n```\n",image:Hx.a},{id:"memcached",name:"Memcached",url:"telegraf-plugins/memcached",markdown:'# Memcached Input Plugin\n\nThis plugin gathers statistics data from a Memcached server.\n\n### Configuration:\n\n```toml\n# Read metrics from one or many memcached servers.\n[[inputs.memcached]]\n  # An array of address to gather stats about. Specify an ip on hostname\n  # with optional port. ie localhost, 10.0.0.1:11211, etc.\n  servers = ["localhost:11211"]\n  # An array of unix memcached sockets to gather stats about.\n  # unix_sockets = ["/var/run/memcached.sock"]\n```\n\n### Measurements & Fields:\n\nThe fields from this plugin are gathered in the *memcached* measurement.\n\nFields:\n\n* accepting_conns - Whether or not server is accepting conns\n* auth_cmds - Number of authentication commands handled, success or failure\n* auth_errors - Number of failed authentications\n* bytes - Current number of bytes used to store items\n* bytes_read - Total number of bytes read by this server from network\n* bytes_written - Total number of bytes sent by this server to network\n* cas_badval - Number of CAS reqs for which a key was found, but the CAS value did not match\n* cas_hits - Number of successful CAS reqs\n* cas_misses - Number of CAS reqs against missing keys\n* cmd_flush - Cumulative number of flush reqs\n* cmd_get - Cumulative number of retrieval reqs\n* cmd_set - Cumulative number of storage reqs\n* cmd_touch - Cumulative number of touch reqs\n* conn_yields - Number of times any connection yielded to another due to hitting the -R limit\n* connection_structures - Number of connection structures allocated by the server\n* curr_connections - Number of open connections\n* curr_items - Current number of items stored\n* decr_hits - Number of successful decr reqs\n* decr_misses - Number of decr reqs against missing keys\n* delete_hits - Number of deletion reqs resulting in an item being removed\n* delete_misses - umber of deletions reqs for missing keys\n* evicted_unfetched - Items evicted from LRU that were never touched by get/incr/append/etc\n* evictions - Number of valid items removed from cache to free memory for new items\n* expired_unfetched - Items pulled from LRU that were never touched by get/incr/append/etc before expiring\n* get_hits - Number of keys that have been requested and found present\n* get_misses - Number of items that have been requested and not found\n* hash_bytes - Bytes currently used by hash tables\n* hash_is_expanding - Indicates if the hash table is being grown to a new size\n* hash_power_level - Current size multiplier for hash table\n* incr_hits - Number of successful incr reqs\n* incr_misses - Number of incr reqs against missing keys\n* limit_maxbytes - Number of bytes this server is allowed to use for storage\n* listen_disabled_num - Number of times server has stopped accepting new connections (maxconns)\n* reclaimed - Number of times an entry was stored using memory from an expired entry\n* threads - Number of worker threads requested\n* total_connections - Total number of connections opened since the server started running\n* total_items - Total number of items stored since the server started\n* touch_hits - Number of keys that have been touched with a new expiration time\n* touch_misses - Number of items that have been touched and not found\n* uptime - Number of secs since the server started\n\nDescription of gathered fields taken from [here](https://github.com/memcached/memcached/blob/master/doc/protocol.txt).\n\n### Tags:\n\n* Memcached measurements have the following tags:\n    - server (the host name from which metrics are gathered)\n\n### Sample Queries:\n\nYou can use the following query to get the average get hit and miss ratio, as well as the total average size of cached items, number of cached items and average connection counts per server.\n\n```\nSELECT mean(get_hits) / mean(cmd_get) as get_ratio, mean(get_misses) / mean(cmd_get) as get_misses_ratio, mean(bytes), mean(curr_items), mean(curr_connections) FROM memcached WHERE time > now() - 1h GROUP BY server\n```\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter memcached --test\nmemcached,server=localhost:11211 get_hits=1,get_misses=2,evictions=0,limit_maxbytes=0,bytes=10,uptime=3600,curr_items=2,total_items=2,curr_connections=1,total_connections=2,connection_structures=1,cmd_get=2,cmd_set=1,delete_hits=0,delete_misses=0,incr_hits=0,incr_misses=0,decr_hits=0,decr_misses=0,cas_hits=0,cas_misses=0,bytes_read=10,bytes_written=10,threads=1,conn_yields=0 1453831884664956455\n```\n',image:zx.a},{id:"mesos",name:"Mesos",url:"telegraf-plugins/mesos",markdown:'# Mesos Input Plugin\n\nThis input plugin gathers metrics from Mesos.\nFor more information, please check the [Mesos Observability Metrics](http://mesos.apache.org/documentation/latest/monitoring/) page.\n\n### Configuration:\n\n```toml\n# Telegraf plugin for gathering metrics from N Mesos masters\n[[inputs.mesos]]\n  ## Timeout, in ms.\n  timeout = 100\n\n  ## A list of Mesos masters.\n  masters = ["http://localhost:5050"]\n\n  ## Master metrics groups to be collected, by default, all enabled.\n  master_collections = [\n    "resources",\n    "master",\n    "system",\n    "agents",\n    "frameworks",\n    "framework_offers",\n    "tasks",\n    "messages",\n    "evqueue",\n    "registrar",\n    "allocator",\n  ]\n\n  ## A list of Mesos slaves, default is []\n  # slaves = []\n\n  ## Slave metrics groups to be collected, by default, all enabled.\n  # slave_collections = [\n  #   "resources",\n  #   "agent",\n  #   "system",\n  #   "executors",\n  #   "tasks",\n  #   "messages",\n  # ]\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\nBy default this plugin is not configured to gather metrics from mesos. Since a mesos cluster can be deployed in numerous ways it does not provide any default\nvalues. User needs to specify master/slave nodes this plugin will gather metrics from.\n\n### Measurements & Fields:\n\nMesos master metric groups\n\n- resources\n    - master/cpus_percent\n    - master/cpus_used\n    - master/cpus_total\n    - master/cpus_revocable_percent\n    - master/cpus_revocable_total\n    - master/cpus_revocable_used\n    - master/disk_percent\n    - master/disk_used\n    - master/disk_total\n    - master/disk_revocable_percent\n    - master/disk_revocable_total\n    - master/disk_revocable_used\n    - master/gpus_percent\n    - master/gpus_used\n    - master/gpus_total\n    - master/gpus_revocable_percent\n    - master/gpus_revocable_total\n    - master/gpus_revocable_used\n    - master/mem_percent\n    - master/mem_used\n    - master/mem_total\n    - master/mem_revocable_percent\n    - master/mem_revocable_total\n    - master/mem_revocable_used\n\n- master\n    - master/elected\n    - master/uptime_secs\n\n- system\n    - system/cpus_total\n    - system/load_15min\n    - system/load_5min\n    - system/load_1min\n    - system/mem_free_bytes\n    - system/mem_total_bytes\n\n- slaves\n    - master/slave_registrations\n    - master/slave_removals\n    - master/slave_reregistrations\n    - master/slave_shutdowns_scheduled\n    - master/slave_shutdowns_canceled\n    - master/slave_shutdowns_completed\n    - master/slaves_active\n    - master/slaves_connected\n    - master/slaves_disconnected\n    - master/slaves_inactive\n    - master/slave_unreachable_canceled\n    - master/slave_unreachable_completed\n    - master/slave_unreachable_scheduled\n    - master/slaves_unreachable\n\n- frameworks\n    - master/frameworks_active\n    - master/frameworks_connected\n    - master/frameworks_disconnected\n    - master/frameworks_inactive\n    - master/outstanding_offers\n\n- framework offers\n    - master/frameworks/subscribed\n    - master/frameworks/calls_total\n    - master/frameworks/calls\n    - master/frameworks/events_total\n    - master/frameworks/events\n    - master/frameworks/operations_total\n    - master/frameworks/operations\n    - master/frameworks/tasks/active\n    - master/frameworks/tasks/terminal\n    - master/frameworks/offers/sent\n    - master/frameworks/offers/accepted\n    - master/frameworks/offers/declined\n    - master/frameworks/offers/rescinded\n    - master/frameworks/roles/suppressed\n\n- tasks\n    - master/tasks_error\n    - master/tasks_failed\n    - master/tasks_finished\n    - master/tasks_killed\n    - master/tasks_lost\n    - master/tasks_running\n    - master/tasks_staging\n    - master/tasks_starting\n    - master/tasks_dropped\n    - master/tasks_gone\n    - master/tasks_gone_by_operator\n    - master/tasks_killing\n    - master/tasks_unreachable\n\n- messages\n    - master/invalid_executor_to_framework_messages\n    - master/invalid_framework_to_executor_messages\n    - master/invalid_status_update_acknowledgements\n    - master/invalid_status_updates\n    - master/dropped_messages\n    - master/messages_authenticate\n    - master/messages_deactivate_framework\n    - master/messages_decline_offers\n    - master/messages_executor_to_framework\n    - master/messages_exited_executor\n    - master/messages_framework_to_executor\n    - master/messages_kill_task\n    - master/messages_launch_tasks\n    - master/messages_reconcile_tasks\n    - master/messages_register_framework\n    - master/messages_register_slave\n    - master/messages_reregister_framework\n    - master/messages_reregister_slave\n    - master/messages_resource_request\n    - master/messages_revive_offers\n    - master/messages_status_update\n    - master/messages_status_update_acknowledgement\n    - master/messages_unregister_framework\n    - master/messages_unregister_slave\n    - master/messages_update_slave\n    - master/recovery_slave_removals\n    - master/slave_removals/reason_registered\n    - master/slave_removals/reason_unhealthy\n    - master/slave_removals/reason_unregistered\n    - master/valid_framework_to_executor_messages\n    - master/valid_status_update_acknowledgements\n    - master/valid_status_updates\n    - master/task_lost/source_master/reason_invalid_offers\n    - master/task_lost/source_master/reason_slave_removed\n    - master/task_lost/source_slave/reason_executor_terminated\n    - master/valid_executor_to_framework_messages\n    - master/invalid_operation_status_update_acknowledgements\n    - master/messages_operation_status_update_acknowledgement\n    - master/messages_reconcile_operations\n    - master/messages_suppress_offers\n    - master/valid_operation_status_update_acknowledgements\n\n- evqueue\n    - master/event_queue_dispatches\n    - master/event_queue_http_requests\n    - master/event_queue_messages\n    - master/operator_event_stream_subscribers\n\n- registrar\n    - registrar/state_fetch_ms\n    - registrar/state_store_ms\n    - registrar/state_store_ms/max\n    - registrar/state_store_ms/min\n    - registrar/state_store_ms/p50\n    - registrar/state_store_ms/p90\n    - registrar/state_store_ms/p95\n    - registrar/state_store_ms/p99\n    - registrar/state_store_ms/p999\n    - registrar/state_store_ms/p9999\n    - registrar/state_store_ms/count\n    - registrar/log/ensemble_size\n    - registrar/log/recovered\n    - registrar/queued_operations\n    - registrar/registry_size_bytes\n\n- allocator\n    - allocator/allocation_run_ms\n    - allocator/allocation_run_ms/count\n    - allocator/allocation_run_ms/max\n    - allocator/allocation_run_ms/min\n    - allocator/allocation_run_ms/p50\n    - allocator/allocation_run_ms/p90\n    - allocator/allocation_run_ms/p95\n    - allocator/allocation_run_ms/p99\n    - allocator/allocation_run_ms/p999\n    - allocator/allocation_run_ms/p9999\n    - allocator/allocation_runs\n    - allocator/allocation_run_latency_ms\n    - allocator/allocation_run_latency_ms/count\n    - allocator/allocation_run_latency_ms/max\n    - allocator/allocation_run_latency_ms/min\n    - allocator/allocation_run_latency_ms/p50\n    - allocator/allocation_run_latency_ms/p90\n    - allocator/allocation_run_latency_ms/p95\n    - allocator/allocation_run_latency_ms/p99\n    - allocator/allocation_run_latency_ms/p999\n    - allocator/allocation_run_latency_ms/p9999\n    - allocator/roles/shares/dominant\n    - allocator/event_queue_dispatches\n    - allocator/offer_filters/roles/active\n    - allocator/quota/roles/resources/offered_or_allocated\n    - allocator/quota/roles/resources/guarantee\n    - allocator/resources/cpus/offered_or_allocated\n    - allocator/resources/cpus/total\n    - allocator/resources/disk/offered_or_allocated\n    - allocator/resources/disk/total\n    - allocator/resources/mem/offered_or_allocated\n    - allocator/resources/mem/total\n\nMesos slave metric groups\n- resources\n    - slave/cpus_percent\n    - slave/cpus_used\n    - slave/cpus_total\n    - slave/cpus_revocable_percent\n    - slave/cpus_revocable_total\n    - slave/cpus_revocable_used\n    - slave/disk_percent\n    - slave/disk_used\n    - slave/disk_total\n    - slave/disk_revocable_percent\n    - slave/disk_revocable_total\n    - slave/disk_revocable_used\n    - slave/gpus_percent\n    - slave/gpus_used\n    - slave/gpus_total,\n    - slave/gpus_revocable_percent\n    - slave/gpus_revocable_total\n    - slave/gpus_revocable_used\n    - slave/mem_percent\n    - slave/mem_used\n    - slave/mem_total\n    - slave/mem_revocable_percent\n    - slave/mem_revocable_total\n    - slave/mem_revocable_used\n\n- agent\n    - slave/registered\n    - slave/uptime_secs\n\n- system\n    - system/cpus_total\n    - system/load_15min\n    - system/load_5min\n    - system/load_1min\n    - system/mem_free_bytes\n    - system/mem_total_bytes\n\n- executors\n    - containerizer/mesos/container_destroy_errors\n    - slave/container_launch_errors\n    - slave/executors_preempted\n    - slave/frameworks_active\n    - slave/executor_directory_max_allowed_age_secs\n    - slave/executors_registering\n    - slave/executors_running\n    - slave/executors_terminated\n    - slave/executors_terminating\n    - slave/recovery_errors\n\n- tasks\n    - slave/tasks_failed\n    - slave/tasks_finished\n    - slave/tasks_killed\n    - slave/tasks_lost\n    - slave/tasks_running\n    - slave/tasks_staging\n    - slave/tasks_starting\n\n- messages\n    - slave/invalid_framework_messages\n    - slave/invalid_status_updates\n    - slave/valid_framework_messages\n    - slave/valid_status_updates\n\n### Tags:\n\n- All master/slave measurements have the following tags:\n    - server (network location of server: `host:port`)\n    - url (URL origin of server: `scheme://host:port`)\n    - role (master/slave)\n\n- All master measurements have the extra tags:\n\t- state (leader/follower)\n\n### Example Output:\n```\n$ telegraf --config ~/mesos.conf --input-filter mesos --test\n* Plugin: mesos, Collection 1\nmesos,role=master,state=leader,host=172.17.8.102,server=172.17.8.101\nallocator/event_queue_dispatches=0,master/cpus_percent=0,\nmaster/cpus_revocable_percent=0,master/cpus_revocable_total=0,\nmaster/cpus_revocable_used=0,master/cpus_total=2,\nmaster/cpus_used=0,master/disk_percent=0,master/disk_revocable_percent=0,\nmaster/disk_revocable_total=0,master/disk_revocable_used=0,master/disk_total=10823,\nmaster/disk_used=0,master/dropped_messages=2,master/elected=1,\nmaster/event_queue_dispatches=10,master/event_queue_http_requests=0,\nmaster/event_queue_messages=0,master/frameworks_active=2,master/frameworks_connected=2,\nmaster/frameworks_disconnected=0,master/frameworks_inactive=0,\nmaster/invalid_executor_to_framework_messages=0,\nmaster/invalid_framework_to_executor_messages=0,\nmaster/invalid_status_update_acknowledgements=0,master/invalid_status_updates=0,master/mem_percent=0,\nmaster/mem_revocable_percent=0,master/mem_revocable_total=0,\nmaster/mem_revocable_used=0,master/mem_total=1002,\nmaster/mem_used=0,master/messages_authenticate=0,\nmaster/messages_deactivate_framework=0 ...\n```\n\n',image:Vx.a},{id:"minecraft",name:"Minecraft",url:"telegraf-plugins/minecraft",markdown:'# Minecraft Input Plugin\n\nThe `minecraft` plugin connects to a Minecraft server using the RCON protocol\nto collects scores from the server [scoreboard][].\n\nThis plugin is known to support Minecraft Java Edition versions 1.11 - 1.14.\nWhen using an version of Minecraft earlier than 1.13, be aware that the values\nfor some criterion has changed and may need to be modified.\n\n#### Server Setup\n\nEnable [RCON][] on the Minecraft server, add this to your server configuration\nin the [server.properties][] file:\n\n```conf\nenable-rcon=true\nrcon.password=<your password>\nrcon.port=<1-65535>\n```\n\nScoreboard [Objectives][] must be added using the server console for the\nplugin to collect.  These can be added in game by players with op status,\nfrom the server console, or over an RCON connection.\n\nWhen getting started pick an easy to test objective.  This command will add an\nobjective that counts the number of times a player has jumped:\n```\n/scoreboard objectives add jumps minecraft.custom:minecraft.jump\n```\n\nOnce a player has triggered the event they will be added to the scoreboard,\nyou can then list all players with recorded scores:\n```\n/scoreboard players list\n```\n\nView the current scores with a command, substituting your player name:\n```\n/scoreboard players list Etho\n```\n\n### Configuration\n\n```toml\n[[inputs.minecraft]]\n  ## Address of the Minecraft server.\n  # server = "localhost"\n\n  ## Server RCON Port.\n  # port = "25575"\n\n  ## Server RCON Password.\n  password = ""\n```\n\n### Metrics\n\n- minecraft\n  - tags:\n    - player\n    - port (port of the server)\n    - server (hostname:port, deprecated in 1.11; use `source` and `port` tags)\n    - source (hostname of the server)\n  - fields:\n    - `<objective_name>` (integer, count)\n\n### Sample Queries:\n\nGet the number of jumps per player in the last hour:\n```sql\nSELECT SPREAD("jumps") FROM "minecraft" WHERE time > now() - 1h GROUP BY "player"\n```\n\n### Example Output:\n```\nminecraft,player=notch,source=127.0.0.1,port=25575 jumps=178i 1498261397000000000\nminecraft,player=dinnerbone,source=127.0.0.1,port=25575 deaths=1i,jumps=1999i,cow_kills=1i 1498261397000000000\nminecraft,player=jeb,source=127.0.0.1,port=25575 d_pickaxe=1i,damage_dealt=80i,d_sword=2i,hunger=20i,health=20i,kills=1i,level=33i,jumps=264i,armor=15i 1498261397000000000\n```\n\n[server.properties]: https://minecraft.gamepedia.com/Server.properties\n[scoreboard]: http://minecraft.gamepedia.com/Scoreboard\n[objectives]: https://minecraft.gamepedia.com/Scoreboard#Objectives\n[rcon]: http://wiki.vg/RCON\n',image:Wx.a},{id:"modbus",name:"Modbus",url:"telegraf-plugins/modbus",markdown:'# Modbus Input Plugin\n\nThe Modbus plugin collects Discrete Inputs, Coils, Input Registers and Holding\nRegisters via Modbus TCP or Modbus RTU/ASCII.\n\n### Configuration\n\n```toml\n[[inputs.modbus]]\n  ## Connection Configuration\n  ##\n  ## The plugin supports connections to PLCs via MODBUS/TCP or\n  ## via serial line communication in binary (RTU) or readable (ASCII) encoding\n  ##\n  ## Device name\n  name = "Device"\n\n  ## Slave ID - addresses a MODBUS device on the bus\n  ## Range: 0 - 255 [0 = broadcast; 248 - 255 = reserved]\n  slave_id = 1\n\n  ## Timeout for each request\n  timeout = "1s"\n\n  ## Maximum number of retries and the time to wait between retries\n  ## when a slave-device is busy.\n  # busy_retries = 0\n  # busy_retries_wait = "100ms"\n\n  # TCP - connect via Modbus/TCP\n  controller = "tcp://localhost:502"\n\n  ## Serial (RS485; RS232)\n  # controller = "file:///dev/ttyUSB0"\n  # baud_rate = 9600\n  # data_bits = 8\n  # parity = "N"\n  # stop_bits = 1\n  # transmission_mode = "RTU"\n\n\n  ## Measurements\n  ##\n\n  ## Digital Variables, Discrete Inputs and Coils\n  ## measurement - the (optional) measurement name, defaults to "modbus"\n  ## name        - the variable name\n  ## address     - variable address\n\n  discrete_inputs = [\n    { name = "start",          address = [0]},\n    { name = "stop",           address = [1]},\n    { name = "reset",          address = [2]},\n    { name = "emergency_stop", address = [3]},\n  ]\n  coils = [\n    { name = "motor1_run",     address = [0]},\n    { name = "motor1_jog",     address = [1]},\n    { name = "motor1_stop",    address = [2]},\n  ]\n\n  ## Analog Variables, Input Registers and Holding Registers\n  ## measurement - the (optional) measurement name, defaults to "modbus"\n  ## name        - the variable name\n  ## byte_order  - the ordering of bytes\n  ##  |---AB, ABCD   - Big Endian\n  ##  |---BA, DCBA   - Little Endian\n  ##  |---BADC       - Mid-Big Endian\n  ##  |---CDAB       - Mid-Little Endian\n  ## data_type  - INT16, UINT16, INT32, UINT32, INT64, UINT64, FLOAT32-IEEE (the IEEE 754 binary representation)\n  ##              FLOAT32 (deprecated), FIXED, UFIXED (fixed-point representation on input)\n  ## scale      - the final numeric variable representation\n  ## address    - variable address\n\n  holding_registers = [\n    { name = "power_factor", byte_order = "AB",   data_type = "FIXED", scale=0.01,  address = [8]},\n    { name = "voltage",      byte_order = "AB",   data_type = "FIXED", scale=0.1,   address = [0]},\n    { name = "energy",       byte_order = "ABCD", data_type = "FIXED", scale=0.001, address = [5,6]},\n    { name = "current",      byte_order = "ABCD", data_type = "FIXED", scale=0.001, address = [1,2]},\n    { name = "frequency",    byte_order = "AB",   data_type = "UFIXED", scale=0.1,  address = [7]},\n    { name = "power",        byte_order = "ABCD", data_type = "UFIXED", scale=0.1,  address = [3,4]},\n  ]\n  input_registers = [\n    { name = "tank_level",   byte_order = "AB",   data_type = "INT16",   scale=1.0,     address = [0]},\n    { name = "tank_ph",      byte_order = "AB",   data_type = "INT16",   scale=1.0,     address = [1]},\n    { name = "pump1_speed",  byte_order = "ABCD", data_type = "INT32",   scale=1.0,     address = [3,4]},\n  ]\n```\n\n### Metrics\n\nMetric are custom and configured using the `discrete_inputs`, `coils`,\n`holding_register` and `input_registers` options.\n\n### Usage of `data_type`\n\nThe field `data_type` defines the representation of the data value on input from the modbus registers.\nThe input values are then converted from the given `data_type` to a type that is apropriate when\nsending the value to the output plugin. These output types are usually one of string, \ninteger or floating-point-number. The size of the output type is assumed to be large enough\nfor all supported input types. The mapping from the input type to the output type is fixed\nand cannot be configured.\n\n#### Integers: `INT16`, `UINT16`, `INT32`, `UINT32`, `INT64`, `UINT64`\n\nThese types are used for integer input values. Select the one that matches your modbus data source.\n\n#### Floating Point: `FLOAT32-IEEE`\n\nUse this type if your modbus registers contain a value that is encoded in this format. This type\nalways includes the sign and therefore there exists no variant.\n\n#### Fixed Point: `FIXED`, `UFIXED` (`FLOAT32`)\n\nThese types are handled as an integer type on input, but are converted to floating point representation\nfor further processing (e.g. scaling). Use one of these types when the input value is a decimal fixed point\nrepresentation of a non-integer value. \n\nSelect the type `UFIXED` when the input type is declared to hold unsigned integer values, which cannot\nbe negative. The documentation of your modbus device should indicate this by a term like\n\'uint16 containing fixed-point representation with N decimal places\'.\n\nSelect the type `FIXED` when the input type is declared to hold signed integer values. Your documentation\nof the modbus device should indicate this with a term like \'int32 containing fixed-point representation\nwith N decimal places\'.\n\n(FLOAT32 is deprecated and should not be used any more. UFIXED provides the same conversion\nfrom unsigned values).\n\n### Example Output\n\n```sh\n$ ./telegraf -config telegraf.conf -input-filter modbus -test\nmodbus.InputRegisters,host=orangepizero Current=0,Energy=0,Frecuency=60,Power=0,PowerFactor=0,Voltage=123.9000015258789 1554079521000000000\n```\n',image:Qx.a},{id:"mongodb",name:"MongoDB",url:"telegraf-plugins/mongodb",markdown:'# MongoDB Input Plugin\n\n### Configuration:\n\n```toml\n[[inputs.mongodb]]\n  ## An array of URLs of the form:\n  ##   "mongodb://" [user ":" pass "@"] host [ ":" port]\n  ## For example:\n  ##   mongodb://user:auth_key@10.10.3.30:27017,\n  ##   mongodb://10.10.3.33:18832,\n  servers = ["mongodb://127.0.0.1:27017"]\n\n  ## When true, collect cluster status.\n  ## Note that the query that counts jumbo chunks triggers a COLLSCAN, which\n  ## may have an impact on performance.\n  # gather_cluster_status = true\n\n  ## When true, collect per database stats\n  # gather_perdb_stats = false\n\n  ## When true, collect per collection stats\n  # gather_col_stats = false\n\n  ## List of db where collections stats are collected\n  ## If empty, all db are concerned\n  # col_stats_dbs = ["local"]\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n#### Permissions:\n\nIf your MongoDB instance has access control enabled you will need to connect\nas a user with sufficient rights.\n\nWith MongoDB 3.4 and higher, the `clusterMonitor` role can be used.  In\nversion 3.2 you may also need these additional permissions:\n```\n> db.grantRolesToUser("user", [{role: "read", actions: "find", db: "local"}])\n```\n\nIf the user is missing required privileges you may see an error in the\nTelegraf logs similar to:\n```\nError in input [mongodb]: not authorized on admin to execute command { serverStatus: 1, recordStats: 0 }\n```\n\nSome permission related errors are logged at debug level, you can check these\nmessages by setting `debug = true` in the agent section of the configuration or\nby running Telegraf with the `--debug` argument.\n\n### Metrics:\n\n- mongodb\n  - tags:\n    - hostname\n    - node_type\n    - rs_name\n  - fields:\n    - active_reads (integer)\n    - active_writes (integer)\n    - aggregate_command_failed (integer)\n    - aggregate_command_total (integer)\n    - assert_msg (integer)\n    - assert_regular (integer)\n    - assert_rollovers (integer)\n    - assert_user (integer)\n    - assert_warning (integer)\n    - available_reads (integer)\n    - available_writes (integer)\n    - commands (integer)\n    - connections_available (integer)\n    - connections_current (integer)\n    - connections_total_created (integer)\n    - count_command_failed (integer)\n    - count_command_total (integer)\n    - cursor_no_timeout_count (integer)\n    - cursor_pinned_count (integer)\n    - cursor_timed_out_count (integer)\n    - cursor_total_count (integer)\n    - delete_command_failed (integer)\n    - delete_command_total (integer)\n    - deletes (integer)\n    - distinct_command_failed (integer)\n    - distinct_command_total (integer)\n    - document_deleted (integer)\n    - document_inserted (integer)\n    - document_returned (integer)\n    - document_updated (integer)\n    - find_and_modify_command_failed (integer)\n    - find_and_modify_command_total (integer)\n    - find_command_failed (integer)\n    - find_command_total (integer)\n    - flushes (integer)\n    - flushes_total_time_ns (integer)\n    - get_more_command_failed (integer)\n    - get_more_command_total (integer)\n    - getmores (integer)\n    - insert_command_failed (integer)\n    - insert_command_total (integer)\n    - inserts (integer)\n    - jumbo_chunks (integer)\n    - latency_commands_count (integer)\n    - latency_commands (integer)\n    - latency_reads_count (integer)\n    - latency_reads (integer)\n    - latency_writes_count (integer)\n    - latency_writes (integer)\n    - member_status (string)\n    - net_in_bytes_count (integer)\n    - net_out_bytes_count (integer)\n    - open_connections (integer)\n    - operation_scan_and_order (integer)\n    - operation_write_conflicts (integer)\n    - page_faults (integer)\n    - percent_cache_dirty (float)\n    - percent_cache_used (float)\n    - queries (integer)\n    - queued_reads (integer)\n    - queued_writes (integer)\n    - repl_apply_batches_num (integer)\n    - repl_apply_batches_total_millis (integer)\n    - repl_apply_ops (integer)\n    - repl_buffer_count (integer)\n    - repl_buffer_size_bytes (integer)\n    - repl_commands (integer)\n    - repl_deletes (integer)\n    - repl_executor_pool_in_progress_count (integer)\n    - repl_executor_queues_network_in_progress (integer)\n    - repl_executor_queues_sleepers (integer)\n    - repl_executor_unsignaled_events (integer)\n    - repl_getmores (integer)\n    - repl_inserts (integer)\n    - repl_lag (integer)\n    - repl_network_bytes (integer)\n    - repl_network_getmores_num (integer)\n    - repl_network_getmores_total_millis (integer)\n    - repl_network_ops (integer)\n    - repl_queries (integer)\n    - repl_updates (integer)\n    - repl_oplog_window_sec (integer)\n    - repl_state (integer)\n    - resident_megabytes (integer)\n    - state (string)\n    - storage_freelist_search_bucket_exhausted (integer)\n    - storage_freelist_search_requests (integer)\n    - storage_freelist_search_scanned (integer)\n    - tcmalloc_central_cache_free_bytes (integer)\n    - tcmalloc_current_allocated_bytes (integer)\n    - tcmalloc_current_total_thread_cache_bytes (integer)\n    - tcmalloc_heap_size (integer)\n    - tcmalloc_max_total_thread_cache_bytes (integer)\n    - tcmalloc_pageheap_commit_count (integer)\n    - tcmalloc_pageheap_committed_bytes (integer)\n    - tcmalloc_pageheap_decommit_count (integer)\n    - tcmalloc_pageheap_free_bytes (integer)\n    - tcmalloc_pageheap_reserve_count (integer)\n    - tcmalloc_pageheap_scavenge_count (integer)\n    - tcmalloc_pageheap_total_commit_bytes (integer)\n    - tcmalloc_pageheap_total_decommit_bytes (integer)\n    - tcmalloc_pageheap_total_reserve_bytes (integer)\n    - tcmalloc_pageheap_unmapped_bytes (integer)\n    - tcmalloc_spinlock_total_delay_ns (integer)\n    - tcmalloc_thread_cache_free_bytes (integer)\n    - tcmalloc_total_free_bytes (integer)\n    - tcmalloc_transfer_cache_free_bytes (integer)\n    - total_available (integer)\n    - total_created (integer)\n    - total_docs_scanned (integer)\n    - total_in_use (integer)\n    - total_keys_scanned (integer)\n    - total_refreshing (integer)\n    - total_tickets_reads (integer)\n    - total_tickets_writes (integer)\n    - ttl_deletes (integer)\n    - ttl_passes (integer)\n    - update_command_failed (integer)\n    - update_command_total (integer)\n    - updates (integer)\n    - uptime_ns (integer)\n    - version (string)\n    - vsize_megabytes (integer)\n    - wtcache_app_threads_page_read_count (integer)\n    - wtcache_app_threads_page_read_time (integer)\n    - wtcache_app_threads_page_write_count (integer)\n    - wtcache_bytes_read_into (integer)\n    - wtcache_bytes_written_from (integer)\n    - wtcache_pages_read_into (integer)\n    - wtcache_pages_requested_from (integer)\n    - wtcache_current_bytes (integer)\n    - wtcache_max_bytes_configured (integer)\n    - wtcache_internal_pages_evicted (integer)\n    - wtcache_modified_pages_evicted (integer)\n    - wtcache_unmodified_pages_evicted (integer)\n    - wtcache_pages_evicted_by_app_thread (integer)\n    - wtcache_pages_queued_for_eviction (integer)\n    - wtcache_server_evicting_pages (integer)\n    - wtcache_tracked_dirty_bytes (integer)\n    - wtcache_worker_thread_evictingpages (integer)\n    - commands_per_sec (integer, deprecated in 1.10; use `commands`))\n    - cursor_no_timeout (integer, opened/sec, deprecated in 1.10; use `cursor_no_timeout_count`))\n    - cursor_pinned (integer, opened/sec, deprecated in 1.10; use `cursor_pinned_count`))\n    - cursor_timed_out (integer, opened/sec, deprecated in 1.10; use `cursor_timed_out_count`))\n    - cursor_total (integer, opened/sec, deprecated in 1.10; use `cursor_total_count`))\n    - deletes_per_sec (integer, deprecated in 1.10; use `deletes`))\n    - flushes_per_sec (integer, deprecated in 1.10; use `flushes`))\n    - getmores_per_sec (integer, deprecated in 1.10; use `getmores`))\n    - inserts_per_sec (integer, deprecated in 1.10; use `inserts`))\n    - net_in_bytes (integer, bytes/sec, deprecated in 1.10; use `net_out_bytes_count`))\n    - net_out_bytes (integer, bytes/sec, deprecated in 1.10; use `net_out_bytes_count`))\n    - queries_per_sec (integer, deprecated in 1.10; use `queries`))\n    - repl_commands_per_sec (integer, deprecated in 1.10; use `repl_commands`))\n    - repl_deletes_per_sec (integer, deprecated in 1.10; use `repl_deletes`)\n    - repl_getmores_per_sec (integer, deprecated in 1.10; use `repl_getmores`)\n    - repl_inserts_per_sec (integer, deprecated in 1.10; use `repl_inserts`))\n    - repl_queries_per_sec (integer, deprecated in 1.10; use `repl_queries`))\n    - repl_updates_per_sec (integer, deprecated in 1.10; use `repl_updates`))\n    - ttl_deletes_per_sec (integer, deprecated in 1.10; use `ttl_deletes`))\n    - ttl_passes_per_sec (integer, deprecated in 1.10; use `ttl_passes`))\n    - updates_per_sec (integer, deprecated in 1.10; use `updates`))\n\n+ mongodb_db_stats\n  - tags:\n    - db_name\n    - hostname\n  - fields:\n    - avg_obj_size (float)\n    - collections (integer)\n    - data_size (integer)\n    - index_size (integer)\n    - indexes (integer)\n    - num_extents (integer)\n    - objects (integer)\n    - ok (integer)\n    - storage_size (integer)\n    - type (string)\n\n- mongodb_col_stats\n  - tags:\n    - hostname\n    - collection\n    - db_name\n  - fields:\n    - size (integer)\n    - avg_obj_size (integer)\n    - storage_size (integer)\n    - total_index_size (integer)\n    - ok (integer)\n    - count (integer)\n    - type (string)\n\n- mongodb_shard_stats\n  - tags:\n    - hostname\n  - fields:\n    - in_use (integer)\n    - available (integer)\n    - created (integer)\n    - refreshing (integer)\n\n### Example Output:\n```\nmongodb,hostname=127.0.0.1:27017 active_reads=3i,active_writes=0i,aggregate_command_failed=0i,aggregate_command_total=87210i,assert_msg=0i,assert_regular=0i,assert_rollovers=0i,assert_user=0i,assert_warning=0i,available_reads=125i,available_writes=128i,commands=218126i,commands_per_sec=1876i,connections_available=838853i,connections_current=7i,connections_total_created=8i,count_command_failed=0i,count_command_total=7i,cursor_no_timeout=0i,cursor_no_timeout_count=0i,cursor_pinned=0i,cursor_pinned_count=0i,cursor_timed_out=0i,cursor_timed_out_count=0i,cursor_total=0i,cursor_total_count=0i,delete_command_failed=0i,delete_command_total=0i,deletes=0i,deletes_per_sec=0i,distinct_command_failed=0i,distinct_command_total=87190i,document_deleted=0i,document_inserted=0i,document_returned=7i,document_updated=43595i,find_and_modify_command_failed=0i,find_and_modify_command_total=43595i,find_command_failed=0i,find_command_total=348819i,flushes=1i,flushes_per_sec=0i,flushes_total_time_ns=5000000i,get_more_command_failed=0i,get_more_command_total=0i,getmores=7i,getmores_per_sec=1i,insert_command_failed=0i,insert_command_total=0i,inserts=0i,inserts_per_sec=0i,jumbo_chunks=0i,latency_commands=44179i,latency_commands_count=122i,latency_reads=36662189i,latency_reads_count=523229i,latency_writes=6768713i,latency_writes_count=87190i,net_in_bytes=837378i,net_in_bytes_count=97692502i,net_out_bytes=690836i,net_out_bytes_count=75377383i,open_connections=7i,operation_scan_and_order=87193i,operation_write_conflicts=7i,page_faults=0i,percent_cache_dirty=0.9,percent_cache_used=1,queries=348816i,queries_per_sec=2988i,queued_reads=0i,queued_writes=0i,resident_megabytes=77i,storage_freelist_search_bucket_exhausted=0i,storage_freelist_search_requests=0i,storage_freelist_search_scanned=0i,tcmalloc_central_cache_free_bytes=280136i,tcmalloc_current_allocated_bytes=77677288i,tcmalloc_current_total_thread_cache_bytes=1222608i,tcmalloc_heap_size=142659584i,tcmalloc_max_total_thread_cache_bytes=260046848i,tcmalloc_pageheap_commit_count=1898i,tcmalloc_pageheap_committed_bytes=130084864i,tcmalloc_pageheap_decommit_count=889i,tcmalloc_pageheap_free_bytes=50610176i,tcmalloc_pageheap_reserve_count=50i,tcmalloc_pageheap_scavenge_count=884i,tcmalloc_pageheap_total_commit_bytes=13021937664i,tcmalloc_pageheap_total_decommit_bytes=12891852800i,tcmalloc_pageheap_total_reserve_bytes=142659584i,tcmalloc_pageheap_unmapped_bytes=12574720i,tcmalloc_spinlock_total_delay_ns=9767500i,tcmalloc_thread_cache_free_bytes=1222608i,tcmalloc_total_free_bytes=1797400i,tcmalloc_transfer_cache_free_bytes=294656i,total_available=0i,total_created=0i,total_docs_scanned=43595i,total_in_use=0i,total_keys_scanned=130805i,total_refreshing=0i,total_tickets_reads=128i,total_tickets_writes=128i,ttl_deletes=0i,ttl_deletes_per_sec=0i,ttl_passes=0i,ttl_passes_per_sec=0i,update_command_failed=0i,update_command_total=43595i,updates=43595i,updates_per_sec=372i,uptime_ns=60023000000i,version="3.6.17",vsize_megabytes=1048i,wtcache_app_threads_page_read_count=108i,wtcache_app_threads_page_read_time=25995i,wtcache_app_threads_page_write_count=0i,wtcache_bytes_read_into=2487250i,wtcache_bytes_written_from=74i,wtcache_current_bytes=5014530i,wtcache_internal_pages_evicted=0i,wtcache_max_bytes_configured=505413632i,wtcache_modified_pages_evicted=0i,wtcache_pages_evicted_by_app_thread=0i,wtcache_pages_queued_for_eviction=0i,wtcache_pages_read_into=139i,wtcache_pages_requested_from=699135i,wtcache_server_evicting_pages=0i,wtcache_tracked_dirty_bytes=4797426i,wtcache_unmodified_pages_evicted=0i,wtcache_worker_thread_evictingpages=0i 1586379818000000000\nmongodb,hostname=127.0.0.1:27017,node_type=SEC,rs_name=rs0 active_reads=1i,active_writes=0i,aggregate_command_failed=0i,aggregate_command_total=1i,assert_msg=0i,assert_regular=0i,assert_rollovers=0i,assert_user=79i,assert_warning=0i,available_reads=127i,available_writes=128i,commands=1121855i,commands_per_sec=10i,connections_available=51183i,connections_current=17i,connections_total_created=557i,count_command_failed=0i,count_command_total=46307i,cursor_no_timeout=0i,cursor_no_timeout_count=0i,cursor_pinned=0i,cursor_pinned_count=0i,cursor_timed_out=0i,cursor_timed_out_count=28i,cursor_total=0i,cursor_total_count=0i,delete_command_failed=0i,delete_command_total=0i,deletes=0i,deletes_per_sec=0i,distinct_command_failed=0i,distinct_command_total=0i,document_deleted=0i,document_inserted=0i,document_returned=2248129i,document_updated=0i,find_and_modify_command_failed=0i,find_and_modify_command_total=0i,find_command_failed=2i,find_command_total=8764i,flushes=7850i,flushes_per_sec=0i,flushes_total_time_ns=4535446000000i,get_more_command_failed=0i,get_more_command_total=1993i,getmores=2018i,getmores_per_sec=0i,insert_command_failed=0i,insert_command_total=0i,inserts=0i,inserts_per_sec=0i,jumbo_chunks=0i,latency_commands=112011949i,latency_commands_count=1072472i,latency_reads=1877142443i,latency_reads_count=57086i,latency_writes=0i,latency_writes_count=0i,member_status="SEC",net_in_bytes=1212i,net_in_bytes_count=263928689i,net_out_bytes=41051i,net_out_bytes_count=2475389483i,open_connections=17i,operation_scan_and_order=34i,operation_write_conflicts=0i,page_faults=317i,percent_cache_dirty=1.6,percent_cache_used=73,queries=8764i,queries_per_sec=0i,queued_reads=0i,queued_writes=0i,repl_apply_batches_num=17839419i,repl_apply_batches_total_millis=399929i,repl_apply_ops=23355263i,repl_buffer_count=0i,repl_buffer_size_bytes=0i,repl_commands=11i,repl_commands_per_sec=0i,repl_deletes=440608i,repl_deletes_per_sec=0i,repl_executor_pool_in_progress_count=0i,repl_executor_queues_network_in_progress=0i,repl_executor_queues_sleepers=4i,repl_executor_unsignaled_events=0i,repl_getmores=0i,repl_getmores_per_sec=0i,repl_inserts=1875729i,repl_inserts_per_sec=0i,repl_lag=0i,repl_network_bytes=39122199371i,repl_network_getmores_num=34908797i,repl_network_getmores_total_millis=434805356i,repl_network_ops=23199086i,repl_oplog_window_sec=619292i,repl_queries=0i,repl_queries_per_sec=0i,repl_updates=21034729i,repl_updates_per_sec=38i,repl_state=2,resident_megabytes=6721i,state="SECONDARY",storage_freelist_search_bucket_exhausted=0i,storage_freelist_search_requests=0i,storage_freelist_search_scanned=0i,tcmalloc_central_cache_free_bytes=358512400i,tcmalloc_current_allocated_bytes=5427379424i,tcmalloc_current_total_thread_cache_bytes=70349552i,tcmalloc_heap_size=10199310336i,tcmalloc_max_total_thread_cache_bytes=1073741824i,tcmalloc_pageheap_commit_count=790819i,tcmalloc_pageheap_committed_bytes=7064821760i,tcmalloc_pageheap_decommit_count=533347i,tcmalloc_pageheap_free_bytes=1207816192i,tcmalloc_pageheap_reserve_count=7706i,tcmalloc_pageheap_scavenge_count=426235i,tcmalloc_pageheap_total_commit_bytes=116127649792i,tcmalloc_pageheap_total_decommit_bytes=109062828032i,tcmalloc_pageheap_total_reserve_bytes=10199310336i,tcmalloc_pageheap_unmapped_bytes=3134488576i,tcmalloc_spinlock_total_delay_ns=2518474348i,tcmalloc_thread_cache_free_bytes=70349552i,tcmalloc_total_free_bytes=429626144i,tcmalloc_transfer_cache_free_bytes=764192i,total_available=0i,total_created=0i,total_docs_scanned=735004782i,total_in_use=0i,total_keys_scanned=6188216i,total_refreshing=0i,total_tickets_reads=128i,total_tickets_writes=128i,ttl_deletes=0i,ttl_deletes_per_sec=0i,ttl_passes=7892i,ttl_passes_per_sec=0i,update_command_failed=0i,update_command_total=0i,updates=0i,updates_per_sec=0i,uptime_ns=473590288000000i,version="3.6.17",vsize_megabytes=11136i,wtcache_app_threads_page_read_count=11467625i,wtcache_app_threads_page_read_time=1700336840i,wtcache_app_threads_page_write_count=13268184i,wtcache_bytes_read_into=348022587843i,wtcache_bytes_written_from=322571702254i,wtcache_current_bytes=5509459274i,wtcache_internal_pages_evicted=109108i,wtcache_max_bytes_configured=7547650048i,wtcache_modified_pages_evicted=911196i,wtcache_pages_evicted_by_app_thread=17366i,wtcache_pages_queued_for_eviction=16572754i,wtcache_pages_read_into=11689764i,wtcache_pages_requested_from=499825861i,wtcache_server_evicting_pages=0i,wtcache_tracked_dirty_bytes=117487510i,wtcache_unmodified_pages_evicted=11058458i,wtcache_worker_thread_evictingpages=11907226i 1586379707000000000\nmongodb_db_stats,db_name=admin,hostname=127.0.0.1:27017 avg_obj_size=241,collections=2i,data_size=723i,index_size=49152i,indexes=3i,num_extents=0i,objects=3i,ok=1i,storage_size=53248i,type="db_stat" 1547159491000000000\nmongodb_db_stats,db_name=local,hostname=127.0.0.1:27017 avg_obj_size=813.9705882352941,collections=6i,data_size=55350i,index_size=102400i,indexes=5i,num_extents=0i,objects=68i,ok=1i,storage_size=204800i,type="db_stat" 1547159491000000000\nmongodb_col_stats,collection=foo,db_name=local,hostname=127.0.0.1:27017 size=375005928i,avg_obj_size=5494,type="col_stat",storage_size=249307136i,total_index_size=2138112i,ok=1i,count=68251i 1547159491000000000\nmongodb_shard_stats,hostname=127.0.0.1:27017,in_use=3i,available=3i,created=4i,refreshing=0i 1522799074000000000\n```\n',image:Xx.a},{id:"monit",name:"Monit",url:"telegraf-plugins/monit",markdown:'# Monit Input Plugin\n\nThe `monit` plugin gathers metrics and status information about local processes,\nremote hosts, file, file systems, directories and network interfaces managed\nand watched over by [Monit][monit].\n\nThe use this plugin you should first enable the [HTTPD TCP port][httpd] in\nMonit.\n\nMinimum Version of Monit tested with is 5.16.\n\n[monit]: https://mmonit.com/\n[httpd]: https://mmonit.com/monit/documentation/monit.html#TCP-PORT\n\n### Configuration\n\n```toml\n[[inputs.monit]]\n  ## Monit HTTPD address\n  address = "http://127.0.0.1:2812"\n\n  ## Username and Password for Monit\n  # username = ""\n  # password = ""\n\n  ## Amount of time allowed to complete the HTTP request\n  # timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\n- monit_filesystem\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n    - mode\n    - block_percent\n    - block_usage\n    - block_total\n    - inode_percent\n    - inode_usage\n    - inode_total\n\n+ monit_directory\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n    - permissions\n\n- monit_file\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n    - size\n    - permissions\n\n+ monit_process\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n    - cpu_percent\n    - cpu_percent_total\n    - mem_kb\n    - mem_kb_total\n    - mem_percent\n    - mem_percent_total\n    - pid\n    - parent_pid\n    - threads\n    - children\n\n- monit_remote_host\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n    - hostname\n    - port_number\n    - request\n    - protocol\n    - type\n\n+ monit_system\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n    - cpu_system\n    - cpu_user\n    - cpu_wait\n    - cpu_load_avg_1m\n    - cpu_load_avg_5m\n    - cpu_load_avg_15m\n    - mem_kb\n    - mem_percent\n    - swap_kb\n    - swap_percent\n\n- monit_fifo\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n\t- permissions\n\n+ monit_program\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n\n- monit_network\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n\n+ monit_program\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n\n- monit_network\n  - tags:\n    - address\n    - version\n    - service\n    - platform_name\n    - status\n    - monitoring_status\n    - monitoring_mode\n  - fields:\n    - status_code\n    - monitoring_status_code\n    - monitoring_mode_code\n\n### Example Output\n```\nmonit_file,monitoring_mode=active,monitoring_status=monitored,pending_action=none,platform_name=Linux,service=rsyslog_pid,source=xyzzy.local,status=running,version=5.20.0 mode=644i,monitoring_mode_code=0i,monitoring_status_code=1i,pending_action_code=0i,size=3i,status_code=0i 1579735047000000000\nmonit_process,monitoring_mode=active,monitoring_status=monitored,pending_action=none,platform_name=Linux,service=rsyslog,source=xyzzy.local,status=running,version=5.20.0 children=0i,cpu_percent=0,cpu_percent_total=0,mem_kb=3148i,mem_kb_total=3148i,mem_percent=0.2,mem_percent_total=0.2,monitoring_mode_code=0i,monitoring_status_code=1i,parent_pid=1i,pending_action_code=0i,pid=318i,status_code=0i,threads=4i 1579735047000000000\nmonit_program,monitoring_mode=active,monitoring_status=initializing,pending_action=none,platform_name=Linux,service=echo,source=xyzzy.local,status=running,version=5.20.0 monitoring_mode_code=0i,monitoring_status_code=2i,pending_action_code=0i,program_started=0i,program_status=0i,status_code=0i 1579735047000000000\nmonit_system,monitoring_mode=active,monitoring_status=monitored,pending_action=none,platform_name=Linux,service=debian-stretch-monit.virt,source=xyzzy.local,status=running,version=5.20.0 cpu_load_avg_15m=0,cpu_load_avg_1m=0,cpu_load_avg_5m=0,cpu_system=0,cpu_user=0,cpu_wait=0,mem_kb=42852i,mem_percent=2.1,monitoring_mode_code=0i,monitoring_status_code=1i,pending_action_code=0i,status_code=0i,swap_kb=0,swap_percent=0 1579735047000000000\n```\n',image:Jx.a},{id:"mqtt_consumer",name:"MQTT Consumer",url:"telegraf-plugins/mqtt_consumer",markdown:'# MQTT Consumer Input Plugin\n\nThe [MQTT][mqtt] consumer plugin reads from the specified MQTT topics\nand creates metrics using one of the supported [input data formats][].\n\n### Configuration\n\n```toml\n[[inputs.mqtt_consumer]]\n  ## Broker URLs for the MQTT server or cluster.  To connect to multiple\n  ## clusters or standalone servers, use a seperate plugin instance.\n  ##   example: servers = ["tcp://localhost:1883"]\n  ##            servers = ["ssl://localhost:1883"]\n  ##            servers = ["ws://localhost:1883"]\n  servers = ["tcp://127.0.0.1:1883"]\n\n  ## Topics that will be subscribed to.\n  topics = [\n    "telegraf/host01/cpu",\n    "telegraf/+/mem",\n    "sensors/#",\n  ]\n\n  ## The message topic will be stored in a tag specified by this value.  If set\n  ## to the empty string no topic tag will be created.\n  # topic_tag = "topic"\n\n  ## QoS policy for messages\n  ##   0 = at most once\n  ##   1 = at least once\n  ##   2 = exactly once\n  ##\n  ## When using a QoS of 1 or 2, you should enable persistent_session to allow\n  ## resuming unacknowledged messages.\n  # qos = 0\n\n  ## Connection timeout for initial connection in seconds\n  # connection_timeout = "30s"\n\n  ## Maximum messages to read from the broker that have not been written by an\n  ## output.  For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message from the queue contains 10 metrics and the\n  ## output metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Persistent session disables clearing of the client session on connection.\n  ## In order for this option to work you must also set client_id to identify\n  ## the client.  To receive messages that arrived while the client is offline,\n  ## also set the qos option to 1 or 2 and don\'t forget to also set the QoS when\n  ## publishing.\n  # persistent_session = false\n\n  ## If unset, a random client ID will be generated.\n  # client_id = ""\n\n  ## Username and password to connect MQTT server.\n  # username = "telegraf"\n  # password = "metricsmetricsmetricsmetrics"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n### Metrics\n\n- All measurements are tagged with the incoming topic, ie\n`topic=telegraf/host01/cpu`\n\n[mqtt]: https://mqtt.org\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n',image:tw.a},{id:"multifile",name:"Multifile",url:"telegraf-plugins/multifile",markdown:'# Multifile Input Plugin\n\nThe multifile input plugin allows Telegraf to combine data from multiple files\ninto a single metric, creating one field or tag per file.  This is often\nuseful creating custom metrics from the `/sys` or `/proc` filesystems.\n\n> Note: If you wish to parse metrics from a single file formatted in one of the supported\n> [input data formats][], you should use the [file][] input plugin instead.\n\n### Configuration\n```toml\n[[inputs.multifile]]\n  ## Base directory where telegraf will look for files.\n  ## Omit this option to use absolute paths.\n  base_dir = "/sys/bus/i2c/devices/1-0076/iio:device0"\n\n  ## If true discard all data when a single file can\'t be read.\n  ## Else, Telegraf omits the field generated from this file.\n  # fail_early = true\n\n  ## Files to parse each interval.\n  [[inputs.multifile.file]]\n    file = "in_pressure_input"\n    dest = "pressure"\n    conversion = "float"\n  [[inputs.multifile.file]]\n    file = "in_temp_input"\n    dest = "temperature"\n    conversion = "float(3)"\n  [[inputs.multifile.file]]\n    file = "in_humidityrelative_input"\n    dest = "humidityrelative"\n    conversion = "float(3)"\n```\n\nEach file table can contain the following options:\n* `file`:\nPath of the file to be parsed, relative to the `base_dir`.\n* `dest`:\nName of the field/tag key, defaults to `$(basename file)`.\n* `conversion`:\nData format used to parse the file contents:\n\t* `float(X)`: Converts the input value into a float and divides by the Xth power of 10. Effectively just moves the decimal left X places. For example a value of `123` with `float(2)` will result in `1.23`.\n\t* `float`: Converts the value into a float with no adjustment. Same as `float(0)`.\n\t* `int`: Converts the value into an integer.\n\t* `string`, `""`: No conversion.\n\t* `bool`: Converts the value into a boolean.\n\t* `tag`: File content is used as a tag.\n\n### Example Output\nThis example shows a BME280 connected to a Raspberry Pi, using the sample config.\n```\nmultifile pressure=101.343285156,temperature=20.4,humidityrelative=48.9 1547202076000000000\n```\n\nTo reproduce this, connect a BMP280 to the board\'s GPIO pins and register the BME280 device driver\n```\ncd /sys/bus/i2c/devices/i2c-1\necho bme280 0x76 > new_device\n```\n\nThe kernel driver provides the following files in `/sys/bus/i2c/devices/1-0076/iio:device0`:\n* `in_humidityrelative_input`: `48900`\n* `in_pressure_input`: `101.343285156`\n* `in_temp_input`: `20400`\n\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n[file]: /plugins/inputs/file/README.md\n',image:aw.a},{id:"mysql",name:"MySQL",url:"telegraf-plugins/mysql",markdown:'# MySQL Input Plugin\n\nThis plugin gathers the statistic data from MySQL server\n\n* Global statuses\n* Global variables\n* Slave statuses\n* Binlog size\n* Process list\n* User Statistics\n* Info schema auto increment columns\n* InnoDB metrics\n* Table I/O waits\n* Index I/O waits\n* Perf Schema table lock waits\n* Perf Schema event waits\n* Perf Schema events statements\n* File events statistics\n* Table schema statistics\n\n### Configuration\n\n```toml\n[[inputs.mysql]]\n  ## specify servers via a url matching:\n  ##  [username[:password]@][protocol[(address)]]/[?tls=[true|false|skip-verify|custom]]\n  ##  see https://github.com/go-sql-driver/mysql#dsn-data-source-name\n  ##  e.g.\n  ##    servers = ["user:passwd@tcp(127.0.0.1:3306)/?tls=false"]\n  ##    servers = ["user@tcp(127.0.0.1:3306)/?tls=false"]\n  #\n  ## If no servers are specified, then localhost is used as the host.\n  servers = ["tcp(127.0.0.1:3306)/"]\n\n  ## Selects the metric output format.\n  ##\n  ## This option exists to maintain backwards compatibility, if you have\n  ## existing metrics do not set or change this value until you are ready to\n  ## migrate to the new format.\n  ##\n  ## If you do not have existing metrics from this plugin set to the latest\n  ## version.\n  ##\n  ## Telegraf >=1.6: metric_version = 2\n  ##           <1.6: metric_version = 1 (or unset)\n  metric_version = 2\n\n  ## if the list is empty, then metrics are gathered from all database tables\n  # table_schema_databases = []\n\n  ## gather metrics from INFORMATION_SCHEMA.TABLES for databases provided above list\n  # gather_table_schema = false\n\n  ## gather thread state counts from INFORMATION_SCHEMA.PROCESSLIST\n  # gather_process_list = false\n\n  ## gather user statistics from INFORMATION_SCHEMA.USER_STATISTICS\n  # gather_user_statistics = false\n\n  ## gather auto_increment columns and max values from information schema\n  # gather_info_schema_auto_inc = false\n\n  ## gather metrics from INFORMATION_SCHEMA.INNODB_METRICS\n  # gather_innodb_metrics = false\n\n  ## gather metrics from SHOW SLAVE STATUS command output\n  # gather_slave_status = false\n\n  ## gather metrics from SHOW BINARY LOGS command output\n  # gather_binary_logs = false\n\n  ## gather metrics from SHOW GLOBAL VARIABLES command output\n  # gather_global_variables = true\n\n  ## gather metrics from PERFORMANCE_SCHEMA.TABLE_IO_WAITS_SUMMARY_BY_TABLE\n  # gather_table_io_waits = false\n\n  ## gather metrics from PERFORMANCE_SCHEMA.TABLE_LOCK_WAITS\n  # gather_table_lock_waits = false\n\n  ## gather metrics from PERFORMANCE_SCHEMA.TABLE_IO_WAITS_SUMMARY_BY_INDEX_USAGE\n  # gather_index_io_waits = false\n\n  ## gather metrics from PERFORMANCE_SCHEMA.EVENT_WAITS\n  # gather_event_waits = false\n\n  ## gather metrics from PERFORMANCE_SCHEMA.FILE_SUMMARY_BY_EVENT_NAME\n  # gather_file_events_stats = false\n\n  ## gather metrics from PERFORMANCE_SCHEMA.EVENTS_STATEMENTS_SUMMARY_BY_DIGEST\n  # gather_perf_events_statements = false\n\n  ## the limits for metrics form perf_events_statements\n  # perf_events_statements_digest_text_limit = 120\n  # perf_events_statements_limit = 250\n  # perf_events_statements_time_limit = 86400\n\n  ## Some queries we may want to run less often (such as SHOW GLOBAL VARIABLES)\n  ##   example: interval_slow = "30m"\n  # interval_slow = ""\n\n  ## Optional TLS Config (will be used if tls=custom parameter specified in server uri)\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n#### Metric Version\n\nWhen `metric_version = 2`, a variety of field type issues are corrected as well\nas naming inconsistencies.  If you have existing data on the original version\nenabling this feature will cause a `field type error` when inserted into\nInfluxDB due to the change of types.  For this reason, you should keep the\n`metric_version` unset until you are ready to migrate to the new format.\n\nIf preserving your old data is not required you may wish to drop conflicting\nmeasurements:\n```sql\nDROP SERIES from mysql\nDROP SERIES from mysql_variables\nDROP SERIES from mysql_innodb\n```\n\nOtherwise, migration can be performed using the following steps:\n\n1. Duplicate your `mysql` plugin configuration and add a `name_suffix` and\n`metric_version = 2`, this will result in collection using both the old and new\nstyle concurrently:\n   ```toml\n   [[inputs.mysql]]\n     servers = ["tcp(127.0.0.1:3306)/"]\n\n   [[inputs.mysql]]\n     name_suffix = "_v2"\n     metric_version = 2\n\n     servers = ["tcp(127.0.0.1:3306)/"]\n   ```\n\n2. Upgrade all affected Telegraf clients to version >=1.6.\n\n   New measurements will be created with the `name_suffix`, for example::\n   - `mysql_v2`\n   - `mysql_variables_v2`\n\n3. Update charts, alerts, and other supporting code to the new format.\n4. You can now remove the old `mysql` plugin configuration and remove old\n   measurements.\n\nIf you wish to remove the `name_suffix` you may use Kapacitor to copy the\nhistorical data to the default name.  Do this only after retiring the old\nmeasurement name.\n\n1. Use the technique described above to write to multiple locations:\n   ```toml\n   [[inputs.mysql]]\n     servers = ["tcp(127.0.0.1:3306)/"]\n     metric_version = 2\n\n   [[inputs.mysql]]\n     name_suffix = "_v2"\n     metric_version = 2\n\n     servers = ["tcp(127.0.0.1:3306)/"]\n   ```\n2. Create a TICKScript to copy the historical data:\n   ```\n   dbrp "telegraf"."autogen"\n\n   batch\n       |query(\'\'\'\n           SELECT * FROM "telegraf"."autogen"."mysql_v2"\n       \'\'\')\n           .period(5m)\n           .every(5m)\n           |influxDBOut()\n                   .database(\'telegraf\')\n                   .retentionPolicy(\'autogen\')\n                   .measurement(\'mysql\')\n   ```\n3. Define a task for your script:\n   ```sh\n   kapacitor define copy-measurement -tick copy-measurement.task\n   ```\n4. Run the task over the data you would like to migrate:\n   ```sh\n   kapacitor replay-live batch -start 2018-03-30T20:00:00Z -stop 2018-04-01T12:00:00Z -rec-time -task copy-measurement\n   ```\n5. Verify copied data and repeat for other measurements.\n\n### Metrics:\n* Global statuses - all numeric and boolean values of `SHOW GLOBAL STATUSES`\n* Global variables - all numeric and boolean values of `SHOW GLOBAL VARIABLES`\n* Slave status - metrics from `SHOW SLAVE STATUS` the metrics are gathered when\nthe single-source replication is on. If the multi-source replication is set,\nthen everything works differently, this metric does not work with multi-source\nreplication.\n    * slave_[column name]()\n* Binary logs - all metrics including size and count of all binary files.\nRequires to be turned on in configuration.\n    * binary_size_bytes(int, number)\n    * binary_files_count(int, number)\n* Process list - connection metrics from processlist for each user. It has the following tags\n    * connections(int, number)\n* User Statistics - connection metrics from user statistics for each user. It has the following fields\n    * access_denied\n    * binlog_bytes_written\n    * busy_time\n    * bytes_received\n    * bytes_sent\n    * commit_transactions\n    * concurrent_connections\n    * connected_time\n    * cpu_time\n    * denied_connections\n    * empty_queries\n    * hostlost_connections\n    * other_commands\n    * rollback_transactions\n    * rows_fetched\n    * rows_updated\n    * select_commands\n    * server\n    * table_rows_read\n    * total_connections\n    * total_ssl_connections\n    * update_commands\n    * user\n* Perf Table IO waits - total count and time of I/O waits event for each table\nand process. It has following fields:\n    * table_io_waits_total_fetch(float, number)\n    * table_io_waits_total_insert(float, number)\n    * table_io_waits_total_update(float, number)\n    * table_io_waits_total_delete(float, number)\n    * table_io_waits_seconds_total_fetch(float, milliseconds)\n    * table_io_waits_seconds_total_insert(float, milliseconds)\n    * table_io_waits_seconds_total_update(float, milliseconds)\n    * table_io_waits_seconds_total_delete(float, milliseconds)\n* Perf index IO waits - total count and time of I/O waits event for each index\nand process. It has following fields:\n    * index_io_waits_total_fetch(float, number)\n    * index_io_waits_seconds_total_fetch(float, milliseconds)\n    * index_io_waits_total_insert(float, number)\n    * index_io_waits_total_update(float, number)\n    * index_io_waits_total_delete(float, number)\n    * index_io_waits_seconds_total_insert(float, milliseconds)\n    * index_io_waits_seconds_total_update(float, milliseconds)\n    * index_io_waits_seconds_total_delete(float, milliseconds)\n* Info schema autoincrement statuses - autoincrement fields and max values\nfor them. It has following fields:\n    * auto_increment_column(int, number)\n    * auto_increment_column_max(int, number)\n* InnoDB metrics - all metrics of information_schema.INNODB_METRICS with a status "enabled"\n* Perf table lock waits - gathers total number and time for SQL and external\nlock waits events for each table and operation. It has following fields.\nThe unit of fields varies by the tags.\n    * read_normal(float, number/milliseconds)\n    * read_with_shared_locks(float, number/milliseconds)\n    * read_high_priority(float, number/milliseconds)\n    * read_no_insert(float, number/milliseconds)\n    * write_normal(float, number/milliseconds)\n    * write_allow_write(float, number/milliseconds)\n    * write_concurrent_insert(float, number/milliseconds)\n    * write_low_priority(float, number/milliseconds)\n    * read(float, number/milliseconds)\n    * write(float, number/milliseconds)\n* Perf events waits - gathers total time and number of event waits\n    * events_waits_total(float, number)\n    * events_waits_seconds_total(float, milliseconds)\n* Perf file events statuses - gathers file events statuses\n    * file_events_total(float,number)\n    * file_events_seconds_total(float, milliseconds)\n    * file_events_bytes_total(float, bytes)\n* Perf events statements - gathers attributes of each event\n    * events_statements_total(float, number)\n    * events_statements_seconds_total(float, millieconds)\n    * events_statements_errors_total(float, number)\n    * events_statements_warnings_total(float, number)\n    * events_statements_rows_affected_total(float, number)\n    * events_statements_rows_sent_total(float, number)\n    * events_statements_rows_examined_total(float, number)\n    * events_statements_tmp_tables_total(float, number)\n    * events_statements_tmp_disk_tables_total(float, number)\n    * events_statements_sort_merge_passes_totals(float, number)\n    * events_statements_sort_rows_total(float, number)\n    * events_statements_no_index_used_total(float, number)\n* Table schema - gathers statistics of each schema. It has following measurements\n    * info_schema_table_rows(float, number)\n    * info_schema_table_size_data_length(float, number)\n    * info_schema_table_size_index_length(float, number)\n    * info_schema_table_size_data_free(float, number)\n    * info_schema_table_version(float, number)\n\n## Tags\n* All measurements has following tags\n    * server (the host name from which the metrics are gathered)\n* Process list measurement has following tags\n    * user (username for whom the metrics are gathered)\n* User Statistics measurement has following tags\n    * user (username for whom the metrics are gathered)\n* Perf table IO waits measurement has following tags\n    * schema\n    * name (object name for event or process)\n* Perf index IO waits has following tags\n    * schema\n    * name\n    * index\n* Info schema autoincrement statuses has following tags\n    * schema\n    * table\n    * column\n* Perf table lock waits has following tags\n    * schema\n    * table\n    * sql_lock_waits_total(fields including this tag have numeric unit)\n    * external_lock_waits_total(fields including this tag have numeric unit)\n    * sql_lock_waits_seconds_total(fields including this tag have millisecond unit)\n    * external_lock_waits_seconds_total(fields including this tag have millisecond unit)\n* Perf events statements has following tags\n    * event_name\n* Perf file events statuses has following tags\n    * event_name\n    * mode\n* Perf file events statements has following tags\n    * schema\n    * digest\n    * digest_text\n* Table schema has following tags\n    * schema\n    * table\n    * component\n    * type\n    * engine\n    * row_format\n    * create_options\n',image:rw.a},{id:"nats",name:"NATS",url:"telegraf-plugins/nats",markdown:'# NATS Input Plugin\n\nThe [NATS](http://www.nats.io/about/) monitoring plugin gathers metrics from\nthe NATS [monitoring http server](https://www.nats.io/documentation/server/gnatsd-monitoring/).\n\n### Configuration\n\n```toml\n[[inputs.nats]]\n  ## The address of the monitoring endpoint of the NATS server\n  server = "http://localhost:8222"\n\n  ## Maximum time to receive response\n  # response_timeout = "5s"\n```\n\n### Metrics:\n\n- nats\n  - tags\n    - server\n  - fields:\n    - uptime (integer, nanoseconds)\n    - mem (integer, bytes)\n    - subscriptions (integer, count)\n    - out_bytes (integer, bytes)\n    - connections (integer, count)\n    - in_msgs (integer, bytes)\n    - total_connections (integer, count)\n    - cores (integer, count)\n    - cpu (integer, count)\n    - slow_consumers (integer, count)\n    - routes (integer, count)\n    - remotes (integer, count)\n    - out_msgs (integer, count)\n    - in_bytes (integer, bytes)\n\n### Example Output:\n\n```\nnats,server=http://localhost:8222 uptime=117158348682i,mem=6647808i,subscriptions=0i,out_bytes=0i,connections=0i,in_msgs=0i,total_connections=0i,cores=2i,cpu=0,slow_consumers=0i,routes=0i,remotes=0i,out_msgs=0i,in_bytes=0i 1517015107000000000\n```\n',image:cw.a},{id:"nats_consumer",name:"NATS Consumer",url:"telegraf-plugins/nats_consumer",markdown:'# NATS Consumer Input Plugin\n\nThe [NATS][nats] consumer plugin reads from the specified NATS subjects and\ncreates metrics using one of the supported [input data formats][].\n\nA [Queue Group][queue group] is used when subscribing to subjects so multiple\ninstances of telegraf can read from a NATS cluster in parallel.\n\n### Configuration:\n\n```toml\n[[inputs.nats_consumer]]\n  ## urls of NATS servers\n  servers = ["nats://localhost:4222"]\n\n  ## subject(s) to consume\n  subjects = ["telegraf"]\n\n  ## name a queue group\n  queue_group = "telegraf_consumers"\n\n  ## Optional credentials\n  # username = ""\n  # password = ""\n\n  ## Optional NATS 2.0 and NATS NGS compatible user credentials\n  # credentials = "/etc/telegraf/nats.creds"\n\n  ## Use Transport Layer Security\n  # secure = false\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Sets the limits for pending msgs and bytes for each subscription\n  ## These shouldn\'t need to be adjusted except in very high throughput scenarios\n  # pending_message_limit = 65536\n  # pending_bytes_limit = 67108864\n\n  ## Maximum messages to read from the broker that have not been written by an\n  ## output.  For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message from the queue contains 10 metrics and the\n  ## output metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n[nats]: https://www.nats.io/about/\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n[queue group]: https://www.nats.io/documentation/concepts/nats-queueing/\n',image:iw.a},{id:"neptune_apex",name:"Neptune Apex",url:"telegraf-plugins/neptune_apex",markdown:'# Neptune Apex Input Plugin\n\nThe Neptune Apex controller family allows an aquarium hobbyist to monitor and control\ntheir tanks based on various probes. The data is taken directly from the `/cgi-bin/status.xml` at the interval specified\nin the telegraf.conf configuration file.\n\nThe [Neptune Apex](https://www.neptunesystems.com/) input plugin collects real-time data from the Apex\'s status.xml page.\n\n\n### Configuration\n\n```toml\n[[inputs.neptune_apex]]\n  ## The Neptune Apex plugin reads the publicly available status.xml data from a local Apex.\n  ## Measurements will be logged under "apex".\n\n  ## The base URL of the local Apex(es). If you specify more than one server, they will\n  ## be differentiated by the "source" tag.\n  servers = [\n    "http://apex.local",\n  ]\n\n  ## The response_timeout specifies how long to wait for a reply from the Apex.\n  #response_timeout = "5s"\n\n```\n\n### Metrics\n\nThe Neptune Apex controller family allows an aquarium hobbyist to monitor and control\ntheir tanks based on various probes. The data is taken directly from the /cgi-bin/status.xml at the interval specified\nin the telegraf.conf configuration file.\n\nNo manipulation is done on any of the fields to ensure future changes to the status.xml do not introduce conversion bugs\nto this plugin. When reasonable and predictable, some tags are derived to make graphing easier and without front-end\nprogramming. These tags are clearly marked in the list below and should be considered a convenience rather than authoritative.\n\n- neptune_apex (All metrics have this measurement name)\n  - tags:\n    - host (mandatory, string) is the host on which telegraf runs.\n    - source (mandatory, string) contains the hostname of the apex device. This can be used to differentiate between\n    different units. By using the source instead of the serial number, replacements units won\'t disturb graphs.\n    - type (mandatory, string) maps to the different types of data. Values can be "controller" (The Apex controller\n    itself), "probe" for the different input probes, or "output" for any physical or virtual outputs. The Watt and Amp\n    probes attached to the physical 120V outlets are aggregated under the output type.\n    - hardware (mandatory, string) controller hardware version\n    - software (mandatory, string) software version\n    - probe_type (optional, string) contains the probe type as reported by the Apex.\n    - name (optional, string) contains the name of the probe or output.\n    - output_id (optional, string) represents the internal unique output ID. This is different from the device_id.\n    - device_id (optional, string) maps to either the aquabus address or the internal reference.\n    - output_type (optional, string) categorizes the output into different categories. This tag is DERIVED from the\n    device_id. Possible values are: "variable" for the 0-10V signal ports, "outlet" for physical 120V sockets, "alert"\n    for alarms (email, sound), "virtual" for user-defined outputs, and "unknown" for everything else.\n  - fields:\n    - value (float, various unit) represents the probe reading.\n    - state (string) represents the output state as defined by the Apex. Examples include "AOF" for Auto (OFF), "TBL"\n    for operating according to a table, and "PF*" for different programs.\n    - amp (float, Ampere) is the amount of current flowing through the 120V outlet.\n    - watt (float, Watt) represents the amount of energy flowing through the 120V outlet.\n    - xstatus (string) indicates the xstatus of an outlet. Found on wireless Vortech devices.\n    - power_failed (int64, Unix epoch in ns) when the controller last lost power. Omitted if the apex reports it as "none"\n    - power_restored (int64, Unix epoch in ns) when the controller last powered on. Omitted if the apex reports it as "none"\n    - serial (string, serial number)\n   - time:\n     - The time used for the metric is parsed from the status.xml page. This helps when cross-referencing events with\n     the local system of Apex Fusion. Since the Apex uses NTP, this should not matter in most scenarios.\n\n\n### Sample Queries\n\n\nGet the max, mean, and min for the temperature in the last hour:\n```sql\nSELECT mean("value") FROM "neptune_apex" WHERE ("probe_type" = \'Temp\') AND time >= now() - 6h GROUP BY time(20s)\n```\n\n### Troubleshooting\n\n#### sendRequest failure\nThis indicates a problem communicating with the local Apex controller. If on Mac/Linux, try curl:\n```sh\n$ curl apex.local/cgi-bin/status.xml\n```\nto isolate the problem.\n\n#### parseXML errors\nEnsure the XML being returned is valid. If you get valid XML back, open a bug request.\n\n#### Missing fields/data\nThe neptune_apex plugin is strict on its input to prevent any conversion errors. If you have fields in the status.xml\noutput that are not converted to a metric, open a feature request and paste your whole status.xml\n\n### Example Output\n\n```\nneptune_apex,hardware=1.0,host=ubuntu,software=5.04_7A18,source=apex,type=controller power_failed=1544814000000000000i,power_restored=1544833875000000000i,serial="AC5:12345" 1545978278000000000\nneptune_apex,device_id=base_Var1,hardware=1.0,host=ubuntu,name=VarSpd1_I1,output_id=0,output_type=variable,software=5.04_7A18,source=apex,type=output state="PF1" 1545978278000000000\nneptune_apex,device_id=base_Var2,hardware=1.0,host=ubuntu,name=VarSpd2_I2,output_id=1,output_type=variable,software=5.04_7A18,source=apex,type=output state="PF2" 1545978278000000000\nneptune_apex,device_id=base_Var3,hardware=1.0,host=ubuntu,name=VarSpd3_I3,output_id=2,output_type=variable,software=5.04_7A18,source=apex,type=output state="PF3" 1545978278000000000\nneptune_apex,device_id=base_Var4,hardware=1.0,host=ubuntu,name=VarSpd4_I4,output_id=3,output_type=variable,software=5.04_7A18,source=apex,type=output state="PF4" 1545978278000000000\nneptune_apex,device_id=base_Alarm,hardware=1.0,host=ubuntu,name=SndAlm_I6,output_id=4,output_type=alert,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=base_Warn,hardware=1.0,host=ubuntu,name=SndWrn_I7,output_id=5,output_type=alert,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=base_email,hardware=1.0,host=ubuntu,name=EmailAlm_I5,output_id=6,output_type=alert,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=base_email2,hardware=1.0,host=ubuntu,name=Email2Alm_I9,output_id=7,output_type=alert,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=2_1,hardware=1.0,host=ubuntu,name=RETURN_2_1,output_id=8,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0.3,state="AON",watt=34 1545978278000000000\nneptune_apex,device_id=2_2,hardware=1.0,host=ubuntu,name=Heater1_2_2,output_id=9,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AOF",watt=0 1545978278000000000\nneptune_apex,device_id=2_3,hardware=1.0,host=ubuntu,name=FREE_2_3,output_id=10,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="OFF",watt=1 1545978278000000000\nneptune_apex,device_id=2_4,hardware=1.0,host=ubuntu,name=LIGHT_2_4,output_id=11,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="OFF",watt=1 1545978278000000000\nneptune_apex,device_id=2_5,hardware=1.0,host=ubuntu,name=LHead_2_5,output_id=12,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=4 1545978278000000000\nneptune_apex,device_id=2_6,hardware=1.0,host=ubuntu,name=SKIMMER_2_6,output_id=13,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0.1,state="AON",watt=12 1545978278000000000\nneptune_apex,device_id=2_7,hardware=1.0,host=ubuntu,name=FREE_2_7,output_id=14,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="OFF",watt=1 1545978278000000000\nneptune_apex,device_id=2_8,hardware=1.0,host=ubuntu,name=CABLIGHT_2_8,output_id=15,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=1 1545978278000000000\nneptune_apex,device_id=2_9,hardware=1.0,host=ubuntu,name=LinkA_2_9,output_id=16,output_type=unknown,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=2_10,hardware=1.0,host=ubuntu,name=LinkB_2_10,output_id=17,output_type=unknown,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=3_1,hardware=1.0,host=ubuntu,name=RVortech_3_1,output_id=18,output_type=unknown,software=5.04_7A18,source=apex,type=output state="TBL",xstatus="OK" 1545978278000000000\nneptune_apex,device_id=3_2,hardware=1.0,host=ubuntu,name=LVortech_3_2,output_id=19,output_type=unknown,software=5.04_7A18,source=apex,type=output state="TBL",xstatus="OK" 1545978278000000000\nneptune_apex,device_id=4_1,hardware=1.0,host=ubuntu,name=OSMOLATO_4_1,output_id=20,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AOF",watt=0 1545978278000000000\nneptune_apex,device_id=4_2,hardware=1.0,host=ubuntu,name=HEATER2_4_2,output_id=21,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AOF",watt=0 1545978278000000000\nneptune_apex,device_id=4_3,hardware=1.0,host=ubuntu,name=NUC_4_3,output_id=22,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0.1,state="AON",watt=8 1545978278000000000\nneptune_apex,device_id=4_4,hardware=1.0,host=ubuntu,name=CABFAN_4_4,output_id=23,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=1 1545978278000000000\nneptune_apex,device_id=4_5,hardware=1.0,host=ubuntu,name=RHEAD_4_5,output_id=24,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=3 1545978278000000000\nneptune_apex,device_id=4_6,hardware=1.0,host=ubuntu,name=FIRE_4_6,output_id=25,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=3 1545978278000000000\nneptune_apex,device_id=4_7,hardware=1.0,host=ubuntu,name=LightGW_4_7,output_id=26,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=1 1545978278000000000\nneptune_apex,device_id=4_8,hardware=1.0,host=ubuntu,name=GBSWITCH_4_8,output_id=27,output_type=outlet,software=5.04_7A18,source=apex,type=output amp=0,state="AON",watt=0 1545978278000000000\nneptune_apex,device_id=4_9,hardware=1.0,host=ubuntu,name=LinkA_4_9,output_id=28,output_type=unknown,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=4_10,hardware=1.0,host=ubuntu,name=LinkB_4_10,output_id=29,output_type=unknown,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=5_1,hardware=1.0,host=ubuntu,name=LinkA_5_1,output_id=30,output_type=unknown,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=Cntl_A1,hardware=1.0,host=ubuntu,name=ATO_EMPTY,output_id=31,output_type=virtual,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=Cntl_A2,hardware=1.0,host=ubuntu,name=LEAK,output_id=32,output_type=virtual,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,device_id=Cntl_A3,hardware=1.0,host=ubuntu,name=SKMR_NOPWR,output_id=33,output_type=virtual,software=5.04_7A18,source=apex,type=output state="AOF" 1545978278000000000\nneptune_apex,hardware=1.0,host=ubuntu,name=Tmp,probe_type=Temp,software=5.04_7A18,source=apex,type=probe value=78.1 1545978278000000000\nneptune_apex,hardware=1.0,host=ubuntu,name=pH,probe_type=pH,software=5.04_7A18,source=apex,type=probe value=7.93 1545978278000000000\nneptune_apex,hardware=1.0,host=ubuntu,name=ORP,probe_type=ORP,software=5.04_7A18,source=apex,type=probe value=191 1545978278000000000\nneptune_apex,hardware=1.0,host=ubuntu,name=Salt,probe_type=Cond,software=5.04_7A18,source=apex,type=probe value=29.4 1545978278000000000\nneptune_apex,hardware=1.0,host=ubuntu,name=Volt_2,software=5.04_7A18,source=apex,type=probe value=117 1545978278000000000\nneptune_apex,hardware=1.0,host=ubuntu,name=Volt_4,software=5.04_7A18,source=apex,type=probe value=118 1545978278000000000\n\n```\n\n### Contributing\n\nThis plugin is used for mission-critical aquatic life support. A bug could very well result in the death of animals.\nNeptune does not publish a schema file and as such, we have made this plugin very strict on input with no provisions for\nautomatically adding fields. We are also careful to not add default values when none are presented to prevent automation\nerrors.\n\nWhen writing unit tests, use actual Apex output to run tests. It\'s acceptable to abridge the number of repeated fields\nbut never inner fields or parameters.\n',image:mw.a},{id:"net_response",name:"Network Response",url:"telegraf-plugins/net_response",markdown:'# Network Response Input Plugin\n\nThe input plugin test UDP/TCP connections response time and can optional\nverify text in the response.\n\n### Configuration:\n\n```toml\n# Collect response time of a TCP or UDP connection\n[[inputs.net_response]]\n  ## Protocol, must be "tcp" or "udp"\n  ## NOTE: because the "udp" protocol does not respond to requests, it requires\n  ## a send/expect string pair (see below).\n  protocol = "tcp"\n  ## Server address (default localhost)\n  address = "localhost:80"\n\n  ## Set timeout\n  # timeout = "1s"\n\n  ## Set read timeout (only used if expecting a response)\n  # read_timeout = "1s"\n\n  ## The following options are required for UDP checks. For TCP, they are\n  ## optional. The plugin will send the given string to the server and then\n  ## expect to receive the given \'expect\' string back.\n  ## string sent to the server\n  # send = "ssh"\n  ## expected string in answer\n  # expect = "ssh"\n\n  ## Uncomment to remove deprecated fields; recommended for new deploys\n  # fielddrop = ["result_type", "string_found"]\n```\n\n### Metrics:\n\n- net_response\n  - tags:\n    - server\n    - port\n    - protocol\n    - result\n  - fields:\n    - response_time (float, seconds)\n    - result_code (int, success = 0, timeout = 1, connection_failed = 2, read_failed = 3, string_mismatch = 4)\n    - result_type (string) **DEPRECATED in 1.7; use result tag**\n    - string_found (boolean) **DEPRECATED in 1.4; use result tag**\n\n### Example Output:\n\n```\nnet_response,port=8086,protocol=tcp,result=success,server=localhost response_time=0.000092948,result_code=0i,result_type="success" 1525820185000000000\nnet_response,port=8080,protocol=tcp,result=connection_failed,server=localhost result_code=2i,result_type="connection_failed" 1525820088000000000\nnet_response,port=8080,protocol=udp,result=read_failed,server=localhost result_code=3i,result_type="read_failed",string_found=false 1525820088000000000\n```\n',image:pw.a},{id:"nginx",name:"Nginx",url:"telegraf-plugins/nginx",markdown:'# Nginx Input Plugin\n\n### Configuration:\n\n```toml\n# Read Nginx\'s basic status information (ngx_http_stub_status_module)\n[[inputs.nginx]]\n  ## An array of Nginx stub_status URI to gather stats.\n  urls = ["http://localhost/server_status"]\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## HTTP response timeout (default: 5s)\n  response_timeout = "5s"\n```\n\n### Measurements & Fields:\n\n- Measurement\n    - accepts\n    - active\n    - handled\n    - reading\n    - requests\n    - waiting\n    - writing\n\n### Tags:\n\n- All measurements have the following tags:\n    - port\n    - server\n\n### Example Output:\n\nUsing this configuration:\n```toml\n[[inputs.nginx]]\n  ## An array of Nginx stub_status URI to gather stats.\n  urls = ["http://localhost/status"]\n```\n\nWhen run with:\n```sh\n./telegraf --config telegraf.conf --input-filter nginx --test\n```\n\nIt produces:\n```\n* Plugin: nginx, Collection 1\n> nginx,port=80,server=localhost accepts=605i,active=2i,handled=605i,reading=0i,requests=12132i,waiting=1i,writing=1i 1456690994701784331\n```\n',image:Tw.a},{id:"nginx_plus",name:"Nginx Plus",url:"telegraf-plugins/nginx_plus",markdown:'# Nginx Plus Input Plugin\n\nNginx Plus is a commercial version of the open source web server Nginx. The use this plugin you will need a license. For more information about the differences between Nginx (F/OSS) and Nginx Plus, [click here](https://www.nginx.com/blog/whats-difference-nginx-foss-nginx-plus/).\n\nStructures for Nginx Plus have been built based on history of\n[status module documentation](http://nginx.org/en/docs/http/ngx_http_status_module.html)\n\n### Configuration:\n\n```toml\n# Read Nginx Plus\' advanced status information\n[[inputs.nginx_plus]]\n  ## An array of Nginx status URIs to gather stats.\n  urls = ["http://localhost/status"]\n```\n\n### Measurements & Fields:\n\n- nginx_plus_processes\n  - respawned\n- nginx_plus_connections\n  - accepted\n  - dropped\n  - active\n  - idle\n- nginx_plus_ssl\n  - handshakes\n  - handshakes_failed\n  - session_reuses\n- nginx_plus_requests\n  - total\n  - current\n- nginx_plus_upstream, nginx_plus_stream_upstream\n  - keepalive\n  - zombies\n- nginx_plus_upstream_peer, nginx_plus_stream_upstream_peer\n  - requests\n  - unavail\n  - healthchecks_checks\n  - header_time\n  - response_time\n  - state\n  - active\n  - downstart\n  - healthchecks_last_passed\n  - weight\n  - responses_1xx\n  - responses_2xx\n  - responses_3xx\n  - responses_4xx\n  - responses_5xx\n  - received\n  - selected\n  - healthchecks_fails\n  - healthchecks_unhealthy\n  - backup\n  - responses_total\n  - sent\n  - fails\n  - downtime\n\n\n### Tags:\n\n- nginx_plus_processes, nginx_plus_connections, nginx_plus_ssl, nginx_plus_requests\n  - server\n  - port\n\n- nginx_plus_upstream, nginx_plus_stream_upstream\n  - upstream\n  - server\n  - port\n\n- nginx_plus_upstream_peer, nginx_plus_stream_upstream_peer\n  - id\n  - upstream\n  - server\n  - port\n  - upstream_address\n\n### Example Output:\n\nUsing this configuration:\n```toml\n[[inputs.nginx_plus]]\n  ## An array of Nginx Plus status URIs to gather stats.\n  urls = ["http://localhost/status"]\n```\n\nWhen run with:\n```sh\n./telegraf -config telegraf.conf -input-filter nginx_plus -test\n```\n\nIt produces:\n```\n* Plugin: inputs.nginx_plus, Collection 1\n> nginx_plus_processes,server=localhost,port=12021,host=word.local respawned=0i 1505782513000000000\n> nginx_plus_connections,server=localhost,port=12021,host=word.local accepted=5535735212i,dropped=10140186i,active=9541i,idle=67540i 1505782513000000000\n> nginx_plus_ssl,server=localhost,port=12021,host=word.local handshakes=0i,handshakes_failed=0i,session_reuses=0i 1505782513000000000\n> nginx_plus_requests,server=localhost,port=12021,host=word.local total=186780541173i,current=9037i 1505782513000000000\n> nginx_plus_upstream,port=12021,host=word.local,upstream=dataserver80,server=localhost keepalive=0i,zombies=0i 1505782513000000000\n> nginx_plus_upstream_peer,upstream=dataserver80,upstream_address=10.10.102.181:80,id=0,server=localhost,port=12021,host=word.local sent=53806910399i,received=7516943964i,fails=207i,downtime=2325979i,selected=1505782512000i,backup=false,active=6i,responses_4xx=6935i,header_time=80i,response_time=80i,healthchecks_last_passed=true,responses_1xx=0i,responses_2xx=36299890i,responses_5xx=360450i,responses_total=36667275i,unavail=154i,downstart=0i,state="up",requests=36673741i,responses_3xx=0i,healthchecks_unhealthy=5i,weight=1i,healthchecks_checks=177209i,healthchecks_fails=29i 1505782513000000000\n> nginx_plus_stream_upstream,server=localhost,port=12021,host=word.local,upstream=dataserver443 zombies=0i 1505782513000000000\n> nginx_plus_stream_upstream_peer,server=localhost,upstream_address=10.10.102.181:443,id=0,port=12021,host=word.local,upstream=dataserver443 active=1i,healthchecks_unhealthy=1i,weight=1i,unavail=0i,connect_time=24i,first_byte_time=78i,healthchecks_last_passed=true,state="up",sent=4457713140i,received=698065272i,fails=0i,healthchecks_checks=178421i,downstart=0i,selected=1505782512000i,response_time=5156i,backup=false,connections=56251i,healthchecks_fails=20i,downtime=391017i 1505782513000000000\n```\n\n### Reference material\n\nSubsequent versions of status response structure available here:\n\n- [version 1](http://web.archive.org/web/20130805111222/http://nginx.org/en/docs/http/ngx_http_status_module.html)\n\n- [version 2](http://web.archive.org/web/20131218101504/http://nginx.org/en/docs/http/ngx_http_status_module.html)\n\n- version 3 - not available\n\n- [version 4](http://web.archive.org/web/20141218170938/http://nginx.org/en/docs/http/ngx_http_status_module.html)\n\n- [version 5](http://web.archive.org/web/20150414043916/http://nginx.org/en/docs/http/ngx_http_status_module.html)\n\n- [version 6](http://web.archive.org/web/20150918163811/http://nginx.org/en/docs/http/ngx_http_status_module.html)\n\n- [version 7](http://web.archive.org/web/20161107221028/http://nginx.org/en/docs/http/ngx_http_status_module.html)\n',image:fw.a},{id:"nginx_plus_api",name:"Nginx Plus API",url:"telegraf-plugins/nginx_plus_api",markdown:'# Nginx Plus API Input Plugin\n\nNginx Plus is a commercial version of the open source web server Nginx. The use this plugin you will need a license. For more information about the differences between Nginx (F/OSS) and Nginx Plus, [click here](https://www.nginx.com/blog/whats-difference-nginx-foss-nginx-plus/).\n\n### Configuration:\n\n```toml\n# Read Nginx Plus API advanced status information\n[[inputs.nginx_plus_api]]\n  ## An array of Nginx API URIs to gather stats.\n  urls = ["http://localhost/api"]\n  # Nginx API version, default: 3\n  # api_version = 3\n```\n\n### Migration from Nginx Plus (Status) input plugin\n\n| Nginx Plus                      | Nginx Plus API                       |\n|---------------------------------|--------------------------------------|\n| nginx_plus_processes            | nginx_plus_api_processes             |\n| nginx_plus_connections          | nginx_plus_api_connections           |\n| nginx_plus_ssl                  | nginx_plus_api_ssl                   |\n| nginx_plus_requests             | nginx_plus_api_http_requests         |\n| nginx_plus_zone                 | nginx_plus_api_http_server_zones     |\n| nginx_plus_upstream             | nginx_plus_api_http_upstreams        |\n| nginx_plus_upstream_peer        | nginx_plus_api_http_upstream_peers   |\n| nginx_plus_cache                | nginx_plus_api_http_caches           |\n| nginx_plus_stream_upstream      | nginx_plus_api_stream_upstreams      |\n| nginx_plus_stream_upstream_peer | nginx_plus_api_stream_upstream_peers |\n| nginx.stream.zone               | nginx_plus_api_stream_server_zones   |\n\n### Measurements by API version\n\n| Measurement                          | API version (api_version) |\n|--------------------------------------|---------------------------|\n| nginx_plus_api_processes             | >= 3                      |\n| nginx_plus_api_connections           | >= 3                      |\n| nginx_plus_api_ssl                   | >= 3                      |\n| nginx_plus_api_http_requests         | >= 3                      |\n| nginx_plus_api_http_server_zones     | >= 3                      |\n| nginx_plus_api_http_upstreams        | >= 3                      |\n| nginx_plus_api_http_upstream_peers   | >= 3                      |\n| nginx_plus_api_http_caches           | >= 3                      |\n| nginx_plus_api_stream_upstreams      | >= 3                      |\n| nginx_plus_api_stream_upstream_peers | >= 3                      |\n| nginx_plus_api_stream_server_zones   | >= 3                      |\n| nginx_plus_api_http_location_zones   | >= 5                      |\n| nginx_plus_api_resolver_zones        | >= 5                      |\n\n### Measurements & Fields:\n\n- nginx_plus_api_processes\n  - respawned\n- nginx_plus_api_connections\n  - accepted\n  - dropped\n  - active\n  - idle\n- nginx_plus_api_ssl\n  - handshakes\n  - handshakes_failed\n  - session_reuses\n- nginx_plus_api_http_requests\n  - total\n  - current\n- nginx_plus_api_http_server_zones\n  - processing\n  - requests\n  - responses_1xx\n  - responses_2xx\n  - responses_3xx\n  - responses_4xx\n  - responses_5xx\n  - responses_total\n  - received\n  - sent\n  - discarded\n- nginx_plus_api_http_upstreams\n  - keepalive\n  - zombies\n- nginx_plus_api_http_upstream_peers\n  - requests\n  - unavail\n  - healthchecks_checks\n  - header_time\n  - state\n  - response_time\n  - active\n  - healthchecks_last_passed\n  - weight\n  - responses_1xx\n  - responses_2xx\n  - responses_3xx\n  - responses_4xx\n  - responses_5xx\n  - received\n  - healthchecks_fails\n  - healthchecks_unhealthy\n  - backup\n  - responses_total\n  - sent\n  - fails\n  - downtime\n- nginx_plus_api_http_caches\n  - size\n  - max_size\n  - cold\n  - hit_responses\n  - hit_bytes\n  - stale_responses\n  - stale_bytes\n  - updating_responses\n  - updating_bytes\n  - revalidated_responses\n  - revalidated_bytes\n  - miss_responses\n  - miss_bytes\n  - miss_responses_written\n  - miss_bytes_written\n  - expired_responses\n  - expired_bytes\n  - expired_responses_written\n  - expired_bytes_written\n  - bypass_responses\n  - bypass_bytes\n  - bypass_responses_written\n  - bypass_bytes_written\n- nginx_plus_api_stream_upstreams\n  - zombies\n- nginx_plus_api_stream_upstream_peers\n  - unavail\n  - healthchecks_checks\n  - healthchecks_fails\n  - healthchecks_unhealthy\n  - healthchecks_last_passed\n  - response_time\n  - state\n  - active\n  - weight\n  - received\n  - backup\n  - sent\n  - fails\n  - downtime\n- nginx_plus_api_stream_server_zones\n  - processing\n  - connections\n  - received\n  - sent\n- nginx_plus_api_location_zones\n  - requests\n  - responses_1xx\n  - responses_2xx\n  - responses_3xx\n  - responses_4xx\n  - responses_5xx\n  - responses_total\n  - received\n  - sent\n  - discarded\n- nginx_plus_api_resolver_zones\n  - name\n  - srv\n  - addr\n  - noerror\n  - formerr\n  - servfail\n  - nxdomain\n  - notimp\n  - refused\n  - timedout\n  - unknown\n\n### Tags:\n\n- nginx_plus_api_processes, nginx_plus_api_connections, nginx_plus_api_ssl, nginx_plus_api_http_requests\n  - source\n  - port\n\n- nginx_plus_api_http_upstreams, nginx_plus_api_stream_upstreams\n  - upstream\n  - source\n  - port\n\n- nginx_plus_api_http_server_zones, nginx_plus_api_upstream_server_zones, nginx_plus_api_http_location_zones, nginx_plus_api_resolver_zones\n  - source\n  - port\n  - zone\n\n- nginx_plus_api_upstream_peers, nginx_plus_api_stream_upstream_peers\n  - id\n  - upstream\n  - source\n  - port\n  - upstream_address\n\n- nginx_plus_api_http_caches\n  - source\n  - port\n\n### Example Output:\n\nUsing this configuration:\n```toml\n[[inputs.nginx_plus_api]]\n  ## An array of Nginx Plus API URIs to gather stats.\n  urls = ["http://localhost/api"]\n```\n\nWhen run with:\n```sh\n./telegraf -config telegraf.conf -input-filter nginx_plus_api -test\n```\n\nIt produces:\n```\n> nginx_plus_api_processes,port=80,source=demo.nginx.com respawned=0i 1570696321000000000\n> nginx_plus_api_connections,port=80,source=demo.nginx.com accepted=68998606i,active=7i,dropped=0i,idle=57i 1570696322000000000\n> nginx_plus_api_ssl,port=80,source=demo.nginx.com handshakes=9398978i,handshakes_failed=289353i,session_reuses=1004389i 1570696322000000000\n> nginx_plus_api_http_requests,port=80,source=demo.nginx.com current=51i,total=264649353i 1570696322000000000\n> nginx_plus_api_http_server_zones,port=80,source=demo.nginx.com,zone=hg.nginx.org discarded=5i,processing=0i,received=24123604i,requests=60138i,responses_1xx=0i,responses_2xx=59353i,responses_3xx=531i,responses_4xx=249i,responses_5xx=0i,responses_total=60133i,sent=830165221i 1570696322000000000\n> nginx_plus_api_http_server_zones,port=80,source=demo.nginx.com,zone=trac.nginx.org discarded=250i,processing=0i,received=2184618i,requests=12404i,responses_1xx=0i,responses_2xx=8579i,responses_3xx=2513i,responses_4xx=583i,responses_5xx=479i,responses_total=12154i,sent=139384159i 1570696322000000000\n> nginx_plus_api_http_server_zones,port=80,source=demo.nginx.com,zone=lxr.nginx.org discarded=1i,processing=0i,received=1011701i,requests=4523i,responses_1xx=0i,responses_2xx=4332i,responses_3xx=28i,responses_4xx=39i,responses_5xx=123i,responses_total=4522i,sent=72631354i 1570696322000000000\n> nginx_plus_api_http_upstreams,port=80,source=demo.nginx.com,upstream=trac-backend keepalive=0i,zombies=0i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=0,port=80,source=demo.nginx.com,upstream=trac-backend,upstream_address=10.0.0.1:8080 active=0i,backup=false,downtime=0i,fails=0i,header_time=235i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=88581178i,requests=3180i,response_time=235i,responses_1xx=0i,responses_2xx=3168i,responses_3xx=5i,responses_4xx=6i,responses_5xx=0i,responses_total=3179i,sent=1321720i,state="up",unavail=0i,weight=1i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=1,port=80,source=demo.nginx.com,upstream=trac-backend,upstream_address=10.0.0.1:8081 active=0i,backup=true,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,requests=0i,responses_1xx=0i,responses_2xx=0i,responses_3xx=0i,responses_4xx=0i,responses_5xx=0i,responses_total=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696322000000000\n> nginx_plus_api_http_upstreams,port=80,source=demo.nginx.com,upstream=hg-backend keepalive=0i,zombies=0i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=0,port=80,source=demo.nginx.com,upstream=hg-backend,upstream_address=10.0.0.1:8088 active=0i,backup=false,downtime=0i,fails=0i,header_time=22i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=909402572i,requests=18514i,response_time=88i,responses_1xx=0i,responses_2xx=17799i,responses_3xx=531i,responses_4xx=179i,responses_5xx=0i,responses_total=18509i,sent=10608107i,state="up",unavail=0i,weight=5i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=1,port=80,source=demo.nginx.com,upstream=hg-backend,upstream_address=10.0.0.1:8089 active=0i,backup=true,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,requests=0i,responses_1xx=0i,responses_2xx=0i,responses_3xx=0i,responses_4xx=0i,responses_5xx=0i,responses_total=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696322000000000\n> nginx_plus_api_http_upstreams,port=80,source=demo.nginx.com,upstream=lxr-backend keepalive=0i,zombies=0i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=0,port=80,source=demo.nginx.com,upstream=lxr-backend,upstream_address=unix:/tmp/cgi.sock active=0i,backup=false,downtime=0i,fails=123i,header_time=91i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=71782888i,requests=4354i,response_time=91i,responses_1xx=0i,responses_2xx=4230i,responses_3xx=0i,responses_4xx=0i,responses_5xx=0i,responses_total=4230i,sent=3088656i,state="up",unavail=0i,weight=1i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=1,port=80,source=demo.nginx.com,upstream=lxr-backend,upstream_address=unix:/tmp/cgib.sock active=0i,backup=true,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,max_conns=42i,received=0i,requests=0i,responses_1xx=0i,responses_2xx=0i,responses_3xx=0i,responses_4xx=0i,responses_5xx=0i,responses_total=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696322000000000\n> nginx_plus_api_http_upstreams,port=80,source=demo.nginx.com,upstream=demo-backend keepalive=0i,zombies=0i 1570696322000000000\n> nginx_plus_api_http_upstream_peers,id=0,port=80,source=demo.nginx.com,upstream=demo-backend,upstream_address=10.0.0.2:15431 active=0i,backup=false,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,requests=0i,responses_1xx=0i,responses_2xx=0i,responses_3xx=0i,responses_4xx=0i,responses_5xx=0i,responses_total=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696322000000000\n> nginx_plus_api_http_caches,cache=http_cache,port=80,source=demo.nginx.com bypass_bytes=0i,bypass_bytes_written=0i,bypass_responses=0i,bypass_responses_written=0i,cold=false,expired_bytes=381518640i,expired_bytes_written=363449785i,expired_responses=42114i,expired_responses_written=39954i,hit_bytes=6321885979i,hit_responses=596730i,max_size=536870912i,miss_bytes=48512185i,miss_bytes_written=155600i,miss_responses=6052i,miss_responses_written=136i,revalidated_bytes=0i,revalidated_responses=0i,size=765952i,stale_bytes=0i,stale_responses=0i,updating_bytes=0i,updating_responses=0i 1570696323000000000\n> nginx_plus_api_stream_server_zones,port=80,source=demo.nginx.com,zone=postgresql_loadbalancer connections=0i,processing=0i,received=0i,sent=0i 1570696323000000000\n> nginx_plus_api_stream_server_zones,port=80,source=demo.nginx.com,zone=dns_loadbalancer connections=0i,processing=0i,received=0i,sent=0i 1570696323000000000\n> nginx_plus_api_stream_upstreams,port=80,source=demo.nginx.com,upstream=postgresql_backends zombies=0i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=0,port=80,source=demo.nginx.com,upstream=postgresql_backends,upstream_address=10.0.0.2:15432 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=1,port=80,source=demo.nginx.com,upstream=postgresql_backends,upstream_address=10.0.0.2:15433 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=2,port=80,source=demo.nginx.com,upstream=postgresql_backends,upstream_address=10.0.0.2:15434 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=3,port=80,source=demo.nginx.com,upstream=postgresql_backends,upstream_address=10.0.0.2:15435 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="down",unavail=0i,weight=1i 1570696323000000000\n> nginx_plus_api_stream_upstreams,port=80,source=demo.nginx.com,upstream=dns_udp_backends zombies=0i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=0,port=80,source=demo.nginx.com,upstream=dns_udp_backends,upstream_address=10.0.0.5:53 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="up",unavail=0i,weight=2i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=1,port=80,source=demo.nginx.com,upstream=dns_udp_backends,upstream_address=10.0.0.2:53 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="up",unavail=0i,weight=1i 1570696323000000000\n> nginx_plus_api_stream_upstream_peers,id=2,port=80,source=demo.nginx.com,upstream=dns_udp_backends,upstream_address=10.0.0.7:53 active=0i,backup=false,connections=0i,downtime=0i,fails=0i,healthchecks_checks=0i,healthchecks_fails=0i,healthchecks_unhealthy=0i,received=0i,sent=0i,state="down",unavail=0i,weight=1i 1570696323000000000\n> nginx_plus_api_stream_upstreams,port=80,source=demo.nginx.com,upstream=unused_tcp_backends zombies=0i 1570696323000000000\n> nginx_plus_api_http_location_zones,port=80,source=demo.nginx.com,zone=swagger discarded=0i,received=1622i,requests=8i,responses_1xx=0i,responses_2xx=7i,responses_3xx=0i,responses_4xx=1i,responses_5xx=0i,responses_total=8i,sent=638333i 1570696323000000000\n> nginx_plus_api_http_location_zones,port=80,source=demo.nginx.com,zone=api-calls discarded=64i,received=337530181i,requests=1726513i,responses_1xx=0i,responses_2xx=1726428i,responses_3xx=0i,responses_4xx=21i,responses_5xx=0i,responses_total=1726449i,sent=1902577668i 1570696323000000000\n> nginx_plus_api_resolver_zones,port=80,source=demo.nginx.com,zone=resolver1 addr=0i,formerr=0i,name=0i,noerror=0i,notimp=0i,nxdomain=0i,refused=0i,servfail=0i,srv=0i,timedout=0i,unknown=0i 1570696324000000000\n```\n\n### Reference material\n\n[api documentation](http://demo.nginx.com/swagger-ui/#/)\n',image:_w.a},{id:"nginx_sts",name:"Nginx Stream STS",url:"telegraf-plugins/nginx_sts",markdown:'# Nginx Stream STS Input Plugin\n\nThis plugin gathers Nginx status using external virtual host traffic status\nmodule -  https://github.com/vozlt/nginx-module-sts. This is an Nginx module\nthat provides access to stream host status information. It contains the current\nstatus such as servers, upstreams, caches. This is similar to the live activity\nmonitoring of Nginx plus.  For module configuration details please see its\n[documentation](https://github.com/vozlt/nginx-module-sts#synopsis).\n\nTelegraf minimum version: Telegraf 1.15.0\n\n### Configuration\n\n```toml\n[[inputs.nginx_sts]]\n  ## An array of ngx_http_status_module or status URI to gather stats.\n  urls = ["http://localhost/status"]\n\n  ## HTTP response timeout (default: 5s)\n  response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\n- nginx_sts_connections\n  - tags:\n    - source\n    - port\n  - fields:\n    - active\n    - reading\n    - writing\n    - waiting\n    - accepted\n    - handled\n    - requests\n\n+ nginx_sts_server\n  - tags:\n    - source\n    - port\n    - zone\n  - fields:\n    - connects\n    - in_bytes\n    - out_bytes\n    - response_1xx_count\n    - response_2xx_count\n    - response_3xx_count\n    - response_4xx_count\n    - response_5xx_count\n    - session_msec_counter\n    - session_msec\n\n- nginx_sts_filter\n  - tags:\n    - source\n    - port\n    - filter_name\n    - filter_key\n  - fields:\n    - connects\n    - in_bytes\n    - out_bytes\n    - response_1xx_count\n    - response_2xx_count\n    - response_3xx_count\n    - response_4xx_count\n    - response_5xx_count\n    - session_msec_counter\n    - session_msec\n\n+ nginx_sts_upstream\n  - tags:\n    - source\n    - port\n    - upstream\n    - upstream_address\n  - fields:\n    - connects\n    - in_bytes\n    - out_bytes\n    - response_1xx_count\n    - response_2xx_count\n    - response_3xx_count\n    - response_4xx_count\n    - response_5xx_count\n    - session_msec_counter\n    - session_msec\n    - upstream_session_msec_counter\n    - upstream_session_msec\n    - upstream_connect_msec_counter\n    - upstream_connect_msec\n    - upstream_firstbyte_msec_counter\n    - upstream_firstbyte_msec\n    - weight\n    - max_fails\n    - fail_timeout\n    - backup\n    - down\n\n### Example Output:\n\n```\nnginx_sts_upstream,host=localhost,port=80,source=127.0.0.1,upstream=backend_cluster,upstream_address=1.2.3.4:8080 upstream_connect_msec_counter=0i,out_bytes=0i,down=false,connects=0i,session_msec=0i,upstream_session_msec=0i,upstream_session_msec_counter=0i,upstream_connect_msec=0i,upstream_firstbyte_msec_counter=0i,response_3xx_count=0i,session_msec_counter=0i,weight=1i,max_fails=1i,backup=false,upstream_firstbyte_msec=0i,in_bytes=0i,response_1xx_count=0i,response_2xx_count=0i,response_4xx_count=0i,response_5xx_count=0i,fail_timeout=10i 1584699180000000000\nnginx_sts_upstream,host=localhost,port=80,source=127.0.0.1,upstream=backend_cluster,upstream_address=9.8.7.6:8080 upstream_firstbyte_msec_counter=0i,response_2xx_count=0i,down=false,upstream_session_msec_counter=0i,out_bytes=0i,response_5xx_count=0i,weight=1i,max_fails=1i,fail_timeout=10i,connects=0i,session_msec_counter=0i,upstream_session_msec=0i,in_bytes=0i,response_1xx_count=0i,response_3xx_count=0i,response_4xx_count=0i,session_msec=0i,upstream_connect_msec=0i,upstream_connect_msec_counter=0i,upstream_firstbyte_msec=0i,backup=false 1584699180000000000\nnginx_sts_server,host=localhost,port=80,source=127.0.0.1,zone=* response_2xx_count=0i,response_4xx_count=0i,response_5xx_count=0i,session_msec_counter=0i,in_bytes=0i,out_bytes=0i,session_msec=0i,response_1xx_count=0i,response_3xx_count=0i,connects=0i 1584699180000000000\nnginx_sts_connections,host=localhost,port=80,source=127.0.0.1 waiting=1i,accepted=146i,handled=146i,requests=13421i,active=3i,reading=0i,writing=2i 1584699180000000000\n```\n',image:yw.a},{id:"nginx_upstream_check",name:"Nginx Upstream Check",url:"telegraf-plugins/nginx_upstream_check",markdown:'# Nginx Upstream Check Input Plugin\n\nRead the status output of the nginx_upstream_check (https://github.com/yaoweibin/nginx_upstream_check_module).\nThis module can periodically check the servers in the Nginx\'s upstream with configured request and interval to determine\nif the server is still available. If checks are failed the server is marked as "down" and will not receive any requests\nuntil the check will pass and a server will be marked as "up" again.\n\nThe status page displays the current status of all upstreams and servers as well as number of the failed and successful\nchecks. This information can be exported in JSON format and parsed by this input.\n\n### Configuration:\n\n```toml\n  ## An URL where Nginx Upstream check module is enabled\n  ## It should be set to return a JSON formatted response\n  url = "http://127.0.0.1/status?format=json"\n\n  ## HTTP method\n  # method = "GET"\n\n  ## Optional HTTP headers\n  # headers = {"X-Special-Header" = "Special-Value"}\n\n  ## Override HTTP "Host" header\n  # host_header = "check.example.com"\n\n  ## Timeout for HTTP requests\n  timeout = "5s"\n\n  ## Optional HTTP Basic Auth credentials\n  # username = "username"\n  # password = "pa$$word"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Measurements & Fields:\n\n- Measurement\n    - fall (The number of failed server check attempts, counter)\n    - rise (The number of successful server check attempts, counter)\n    - status (The reporter server status as a string)\n    - status_code (The server status code. 1 - up, 2 - down, 0 - other)\n\nThe "status_code" field most likely will be the most useful one because it allows you to determine the current\nstate of every server and, possible, add some monitoring to watch over it. InfluxDB can use string values and the\n"status" field can be used instead, but for most other monitoring solutions the integer code will be appropriate.\n\n### Tags:\n\n- All measurements have the following tags:\n    - name (The hostname or IP of the upstream server)\n    - port (The alternative check port, 0 if the default one is used)\n    - type (The check type, http/tcp)\n    - upstream (The name of the upstream block in the Nginx configuration)\n    - url (The status url used by telegraf)\n\n### Example Output:\n\nWhen run with:\n```sh\n./telegraf --config telegraf.conf --input-filter nginx_upstream_check --test\n```\n\nIt produces:\n```\n* Plugin: nginx_upstream_check, Collection 1\n> nginx_upstream_check,host=node1,name=192.168.0.1:8080,port=0,type=http,upstream=my_backends,url=http://127.0.0.1:80/status?format\\=json fall=0i,rise=100i,status="up",status_code=1i 1529088524000000000\n> nginx_upstream_check,host=node2,name=192.168.0.2:8080,port=0,type=http,upstream=my_backends,url=http://127.0.0.1:80/status?format\\=json fall=100i,rise=0i,status="down",status_code=2i 1529088524000000000\n```\n',image:xw.a},{id:"nginx_vts",name:"Nginx Virtual Host Traffic (VTS)",url:"telegraf-plugins/nginx_vts",markdown:'# Nginx Virtual Host Traffic (VTS) Input Plugin\n\nThis plugin gathers Nginx status using external virtual host traffic status module -  https://github.com/vozlt/nginx-module-vts. This is an Nginx module that provides access to virtual host status information. It contains the current status such as servers, upstreams, caches. This is similar to the live activity monitoring of Nginx plus.\nFor module configuration details please see its [documentation](https://github.com/vozlt/nginx-module-vts#synopsis).\n\n### Configuration:\n\n```toml\n# Read nginx status information using nginx-module-vts module\n[[inputs.nginx_vts]]\n  ## An array of Nginx status URIs to gather stats.\n  urls = ["http://localhost/status"]\n```\n\n### Measurements & Fields:\n\n- nginx_vts_connections\n  - active\n  - reading\n  - writing\n  - waiting\n  - accepted\n  - handled\n  - requests\n- nginx_vts_server, nginx_vts_filter\n  - requests\n  - request_time\n  - in_bytes\n  - out_bytes\n  - response_1xx_count\n  - response_2xx_count\n  - response_3xx_count\n  - response_4xx_count\n  - response_5xx_count\n  - cache_miss\n  - cache_bypass\n  - cache_expired\n  - cache_stale\n  - cache_updating\n  - cache_revalidated\n  - cache_hit\n  - cache_scarce\n- nginx_vts_upstream\n  - requests\n  - request_time\n  - response_time\n  - in_bytes\n  - out_bytes\n  - response_1xx_count\n  - response_2xx_count\n  - response_3xx_count\n  - response_4xx_count\n  - response_5xx_count\n  - weight\n  - max_fails\n  - fail_timeout\n  - backup\n  - down\n- nginx_vts_cache\n  - max_bytes\n  - used_bytes\n  - in_bytes\n  - out_bytes\n  - miss\n  - bypass\n  - expired\n  - stale\n  - updating\n  - revalidated\n  - hit\n  - scarce\n\n\n### Tags:\n\n- nginx_vts_connections\n  - source\n  - port\n- nginx_vts_server\n  - source\n  - port\n  - zone\n- nginx_vts_filter\n  - source\n  - port\n  - filter_name\n  - filter_key\n- nginx_vts_upstream\n  - source\n  - port\n  - upstream\n  - upstream_address\n- nginx_vts_cache\n  - source\n  - port\n  - zone\n\n\n### Example Output:\n\nUsing this configuration:\n```toml\n[[inputs.nginx_vts]]\n  ## An array of Nginx status URIs to gather stats.\n  urls = ["http://localhost/status"]\n```\n\nWhen run with:\n```sh\n./telegraf -config telegraf.conf -input-filter nginx_vts -test\n```\n\nIt produces:\n```\nnginx_vts_connections,source=localhost,port=80,host=localhost waiting=30i,accepted=295333i,handled=295333i,requests=6833487i,active=33i,reading=0i,writing=3i 1518341521000000000\nnginx_vts_server,zone=example.com,port=80,host=localhost,source=localhost cache_hit=158915i,in_bytes=1935528964i,out_bytes=6531366419i,response_2xx_count=809994i,response_4xx_count=16664i,cache_bypass=0i,cache_stale=0i,cache_revalidated=0i,requests=2187977i,response_1xx_count=0i,response_3xx_count=1360390i,cache_miss=2249i,cache_updating=0i,cache_scarce=0i,request_time=13i,response_5xx_count=929i,cache_expired=0i 1518341521000000000\nnginx_vts_server,host=localhost,source=localhost,port=80,zone=* requests=6775284i,in_bytes=5003242389i,out_bytes=36858233827i,cache_expired=318881i,cache_updating=0i,request_time=51i,response_1xx_count=0i,response_2xx_count=4385916i,response_4xx_count=83680i,response_5xx_count=1186i,cache_bypass=0i,cache_revalidated=0i,cache_hit=1972222i,cache_scarce=0i,response_3xx_count=2304502i,cache_miss=408251i,cache_stale=0i 1518341521000000000\nnginx_vts_filter,filter_key=FI,filter_name=country,port=80,host=localhost,source=localhost request_time=0i,in_bytes=139701i,response_3xx_count=0i,out_bytes=2644495i,response_1xx_count=0i,cache_expired=0i,cache_scarce=0i,requests=179i,cache_miss=0i,cache_bypass=0i,cache_stale=0i,cache_updating=0i,cache_revalidated=0i,cache_hit=0i,response_2xx_count=177i,response_4xx_count=2i,response_5xx_count=0i 1518341521000000000\nnginx_vts_upstream,port=80,host=localhost,upstream=backend_cluster,upstream_address=127.0.0.1:6000,source=localhost fail_timeout=10i,backup=false,request_time=31i,response_5xx_count=1081i,response_2xx_count=1877498i,max_fails=1i,in_bytes=2763336289i,out_bytes=19470265071i,weight=1i,down=false,response_time=31i,response_1xx_count=0i,response_4xx_count=76125i,requests=3379232i,response_3xx_count=1424528i 1518341521000000000\nnginx_vts_cache,source=localhost,port=80,host=localhost,zone=example stale=0i,used_bytes=64334336i,miss=394573i,bypass=0i,expired=318788i,updating=0i,revalidated=0i,hit=689883i,scarce=0i,max_bytes=9223372036854775296i,in_bytes=1111161581i,out_bytes=19175548290i 1518341521000000000\n```\n',image:Ew.a},{id:"nsd",name:"NSD",url:"telegraf-plugins/nsd",markdown:'# NSD Input Plugin\n\nThis plugin gathers stats from\n[NSD](https://www.nlnetlabs.nl/projects/nsd/about) - an authoritative DNS name\nserver.\n\n### Configuration:\n\n```toml\n# A plugin to collect stats from the NSD DNS resolver\n[[inputs.nsd]]\n  ## Address of server to connect to, optionally \':port\'. Defaults to the\n  ## address in the nsd config file.\n  server = "127.0.0.1:8953"\n\n  ## If running as a restricted user you can prepend sudo for additional access:\n  # use_sudo = false\n\n  ## The default location of the nsd-control binary can be overridden with:\n  # binary = "/usr/sbin/nsd-control"\n\n  ## The default location of the nsd config file can be overridden with:\n  # config_file = "/etc/nsd/nsd.conf"\n\n  ## The default timeout of 1s can be overridden with:\n  # timeout = "1s"\n```\n\n#### Permissions:\n\nIt\'s important to note that this plugin references nsd-control, which may\nrequire additional permissions to execute successfully.  Depending on the\nuser/group permissions of the telegraf user executing this plugin, you may\nneed to alter the group membership, set facls, or use sudo.\n\n**Group membership (Recommended)**:\n```bash\n$ groups telegraf\ntelegraf : telegraf\n\n$ usermod -a -G nsd telegraf\n\n$ groups telegraf\ntelegraf : telegraf nsd\n```\n\n**Sudo privileges**:\nIf you use this method, you will need the following in your telegraf config:\n```toml\n[[inputs.nsd]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias NSDCONTROLCTL = /usr/sbin/nsd-control\ntelegraf  ALL=(ALL) NOPASSWD: NSDCONTROLCTL\nDefaults!NSDCONTROLCTL !logfile, !syslog, !pam_session\n```\n\nPlease use the solution you see as most appropriate.\n\n### Metrics:\n\nThis is the full list of stats provided by nsd-control. In the output, the\ndots in the nsd-control stat name are replaced by underscores (see\nhttps://www.nlnetlabs.nl/documentation/nsd/nsd-control/ for details).\n\n- nsd\n  - fields:\n    - num_queries\n    - time_boot\n    - time_elapsed\n    - size_db_disk\n    - size_db_mem\n    - size_xfrd_mem\n    - size_config_disk\n    - size_config_mem\n    - num_type_TYPE0\n    - num_type_A\n    - num_type_NS\n    - num_type_MD\n    - num_type_MF\n    - num_type_CNAME\n    - num_type_SOA\n    - num_type_MB\n    - num_type_MG\n    - num_type_MR\n    - num_type_NULL\n    - num_type_WKS\n    - num_type_PTR\n    - num_type_HINFO\n    - num_type_MINFO\n    - num_type_MX\n    - num_type_TXT\n    - num_type_RP\n    - num_type_AFSDB\n    - num_type_X25\n    - num_type_ISDN\n    - num_type_RT\n    - num_type_NSAP\n    - num_type_SIG\n    - num_type_KEY\n    - num_type_PX\n    - num_type_AAAA\n    - num_type_LOC\n    - num_type_NXT\n    - num_type_SRV\n    - num_type_NAPTR\n    - num_type_KX\n    - num_type_CERT\n    - num_type_DNAME\n    - num_type_OPT\n    - num_type_APL\n    - num_type_DS\n    - num_type_SSHFP\n    - num_type_IPSECKEY\n    - num_type_RRSIG\n    - num_type_NSEC\n    - num_type_DNSKEY\n    - num_type_DHCID\n    - num_type_NSEC3\n    - num_type_NSEC3PARAM\n    - num_type_TLSA\n    - num_type_SMIMEA\n    - num_type_CDS\n    - num_type_CDNSKEY\n    - num_type_OPENPGPKEY\n    - num_type_CSYNC\n    - num_type_SPF\n    - num_type_NID\n    - num_type_L32\n    - num_type_L64\n    - num_type_LP\n    - num_type_EUI48\n    - num_type_EUI64\n    - num_type_TYPE252\n    - num_type_TYPE253\n    - num_type_TYPE255\n    - num_opcode_QUERY\n    - num_opcode_NOTIFY\n    - num_class_CLASS0\n    - num_class_IN\n    - num_class_CH\n    - num_rcode_NOERROR\n    - num_rcode_FORMERR\n    - num_rcode_SERVFAIL\n    - num_rcode_NXDOMAIN\n    - num_rcode_NOTIMP\n    - num_rcode_REFUSED\n    - num_rcode_YXDOMAIN\n    - num_rcode_NOTAUTH\n    - num_edns\n    - num_ednserr\n    - num_udp\n    - num_udp6\n    - num_tcp\n    - num_tcp6\n    - num_tls\n    - num_tls6\n    - num_answer_wo_aa\n    - num_rxerr\n    - num_txerr\n    - num_raxfr\n    - num_truncated\n    - num_dropped\n    - zone_master\n    - zone_slave\n\n- nsd_servers\n  - tags:\n    - server\n  - fields:\n    - queries\n',image:Sw.a},{id:"nsq",name:"NSQ",url:"telegraf-plugins/nsq",markdown:'# NSQ Input Plugin\n\n### Configuration:\n\n```toml\n# Description\n[[inputs.nsq]]\n  ## An array of NSQD HTTP API endpoints\n  endpoints  = ["http://localhost:4151"]\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n',image:jw.a},{id:"nsq_consumer",name:"NSQ Consumer",url:"telegraf-plugins/nsq_consumer",markdown:'# NSQ Consumer Input Plugin\n\nThe [NSQ][nsq] consumer plugin reads from NSQD and creates metrics using one\nof the supported [input data formats][].\n\n### Configuration:\n\n```toml\n# Read metrics from NSQD topic(s)\n[[inputs.nsq_consumer]]\n  ## Server option still works but is deprecated, we just prepend it to the nsqd array.\n  # server = "localhost:4150"\n\n  ## An array representing the NSQD TCP HTTP Endpoints\n  nsqd = ["localhost:4150"]\n\n  ## An array representing the NSQLookupd HTTP Endpoints\n  nsqlookupd = ["localhost:4161"]\n  topic = "telegraf"\n  channel = "consumer"\n  max_in_flight = 100\n\n  ## Maximum messages to read from the broker that have not been written by an\n  ## output.  For best throughput set based on the number of metrics within\n  ## each message and the size of the output\'s metric_batch_size.\n  ##\n  ## For example, if each message from the queue contains 10 metrics and the\n  ## output metric_batch_size is 1000, setting this to 100 will ensure that a\n  ## full batch is collected and the write is triggered immediately without\n  ## waiting until the next flush_interval.\n  # max_undelivered_messages = 1000\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n```\n\n[nsq]: https://nsq.io\n[input data formats]: /docs/DATA_FORMATS_INPUT.md\n',image:Dw.a},{id:"nstat",name:"Nstat",url:"telegraf-plugins/nstat",markdown:'# Nstat Input Plugin\n\nPlugin collects network metrics from `/proc/net/netstat`, `/proc/net/snmp` and `/proc/net/snmp6` files\n\n### Configuration\n\nThe plugin firstly tries to read file paths from config values\nif it is empty, then it reads from env variables.\n* `PROC_NET_NETSTAT`\n* `PROC_NET_SNMP`\n* `PROC_NET_SNMP6`\n\nIf these variables are also not set,\nthen it tries to read the proc root from env - `PROC_ROOT`,\nand sets `/proc` as a root path if `PROC_ROOT` is also empty.\n\nThen appends default file paths:\n* `/net/netstat`\n* `/net/snmp`\n* `/net/snmp6`\n\nSo if nothing is given, no paths in config and in env vars, the plugin takes the default paths.\n* `/proc/net/netstat`\n* `/proc/net/snmp`\n* `/proc/net/snmp6`\n\nThe sample config file\n```toml\n[[inputs.nstat]]\n  ## file paths\n  ## e.g: /proc/net/netstat, /proc/net/snmp, /proc/net/snmp6\n  # proc_net_netstat    = \t""\n  # proc_net_snmp \t\t= \t""\n  # proc_net_snmp6 \t\t= \t""\n  ## dump metrics with 0 values too\n  # dump_zeros\t\t\t= \ttrue\n```\n\nIn case that `proc_net_snmp6` path doesn\'t exist (e.g. IPv6 is not enabled) no error would be raised.\n\n### Measurements & Fields\n\n- nstat\n    - Icmp6InCsumErrors\n    - Icmp6InDestUnreachs\n    - Icmp6InEchoReplies\n    - Icmp6InEchos\n    - Icmp6InErrors\n    - Icmp6InGroupMembQueries\n    - Icmp6InGroupMembReductions\n    - Icmp6InGroupMembResponses\n    - Icmp6InMLDv2Reports\n    - Icmp6InMsgs\n    - Icmp6InNeighborAdvertisements\n    - Icmp6InNeighborSolicits\n    - Icmp6InParmProblems\n    - Icmp6InPktTooBigs\n    - Icmp6InRedirects\n    - Icmp6InRouterAdvertisements\n    - Icmp6InRouterSolicits\n    - Icmp6InTimeExcds\n    - Icmp6OutDestUnreachs\n    - Icmp6OutEchoReplies\n    - Icmp6OutEchos\n    - Icmp6OutErrors\n    - Icmp6OutGroupMembQueries\n    - Icmp6OutGroupMembReductions\n    - Icmp6OutGroupMembResponses\n    - Icmp6OutMLDv2Reports\n    - Icmp6OutMsgs\n    - Icmp6OutNeighborAdvertisements\n    - Icmp6OutNeighborSolicits\n    - Icmp6OutParmProblems\n    - Icmp6OutPktTooBigs\n    - Icmp6OutRedirects\n    - Icmp6OutRouterAdvertisements\n    - Icmp6OutRouterSolicits\n    - Icmp6OutTimeExcds\n    - Icmp6OutType133\n    - Icmp6OutType135\n    - Icmp6OutType143\n    - IcmpInAddrMaskReps\n    - IcmpInAddrMasks\n    - IcmpInCsumErrors\n    - IcmpInDestUnreachs\n    - IcmpInEchoReps\n    - IcmpInEchos\n    - IcmpInErrors\n    - IcmpInMsgs\n    - IcmpInParmProbs\n    - IcmpInRedirects\n    - IcmpInSrcQuenchs\n    - IcmpInTimeExcds\n    - IcmpInTimestampReps\n    - IcmpInTimestamps\n    - IcmpMsgInType3\n    - IcmpMsgOutType3\n    - IcmpOutAddrMaskReps\n    - IcmpOutAddrMasks\n    - IcmpOutDestUnreachs\n    - IcmpOutEchoReps\n    - IcmpOutEchos\n    - IcmpOutErrors\n    - IcmpOutMsgs\n    - IcmpOutParmProbs\n    - IcmpOutRedirects\n    - IcmpOutSrcQuenchs\n    - IcmpOutTimeExcds\n    - IcmpOutTimestampReps\n    - IcmpOutTimestamps\n    - Ip6FragCreates\n    - Ip6FragFails\n    - Ip6FragOKs\n    - Ip6InAddrErrors\n    - Ip6InBcastOctets\n    - Ip6InCEPkts\n    - Ip6InDelivers\n    - Ip6InDiscards\n    - Ip6InECT0Pkts\n    - Ip6InECT1Pkts\n    - Ip6InHdrErrors\n    - Ip6InMcastOctets\n    - Ip6InMcastPkts\n    - Ip6InNoECTPkts\n    - Ip6InNoRoutes\n    - Ip6InOctets\n    - Ip6InReceives\n    - Ip6InTooBigErrors\n    - Ip6InTruncatedPkts\n    - Ip6InUnknownProtos\n    - Ip6OutBcastOctets\n    - Ip6OutDiscards\n    - Ip6OutForwDatagrams\n    - Ip6OutMcastOctets\n    - Ip6OutMcastPkts\n    - Ip6OutNoRoutes\n    - Ip6OutOctets\n    - Ip6OutRequests\n    - Ip6ReasmFails\n    - Ip6ReasmOKs\n    - Ip6ReasmReqds\n    - Ip6ReasmTimeout\n    - IpDefaultTTL\n    - IpExtInBcastOctets\n    - IpExtInBcastPkts\n    - IpExtInCEPkts\n    - IpExtInCsumErrors\n    - IpExtInECT0Pkts\n    - IpExtInECT1Pkts\n    - IpExtInMcastOctets\n    - IpExtInMcastPkts\n    - IpExtInNoECTPkts\n    - IpExtInNoRoutes\n    - IpExtInOctets\n    - IpExtInTruncatedPkts\n    - IpExtOutBcastOctets\n    - IpExtOutBcastPkts\n    - IpExtOutMcastOctets\n    - IpExtOutMcastPkts\n    - IpExtOutOctets\n    - IpForwDatagrams\n    - IpForwarding\n    - IpFragCreates\n    - IpFragFails\n    - IpFragOKs\n    - IpInAddrErrors\n    - IpInDelivers\n    - IpInDiscards\n    - IpInHdrErrors\n    - IpInReceives\n    - IpInUnknownProtos\n    - IpOutDiscards\n    - IpOutNoRoutes\n    - IpOutRequests\n    - IpReasmFails\n    - IpReasmOKs\n    - IpReasmReqds\n    - IpReasmTimeout\n    - TcpActiveOpens\n    - TcpAttemptFails\n    - TcpCurrEstab\n    - TcpEstabResets\n    - TcpExtArpFilter\n    - TcpExtBusyPollRxPackets\n    - TcpExtDelayedACKLocked\n    - TcpExtDelayedACKLost\n    - TcpExtDelayedACKs\n    - TcpExtEmbryonicRsts\n    - TcpExtIPReversePathFilter\n    - TcpExtListenDrops\n    - TcpExtListenOverflows\n    - TcpExtLockDroppedIcmps\n    - TcpExtOfoPruned\n    - TcpExtOutOfWindowIcmps\n    - TcpExtPAWSActive\n    - TcpExtPAWSEstab\n    - TcpExtPAWSPassive\n    - TcpExtPruneCalled\n    - TcpExtRcvPruned\n    - TcpExtSyncookiesFailed\n    - TcpExtSyncookiesRecv\n    - TcpExtSyncookiesSent\n    - TcpExtTCPACKSkippedChallenge\n    - TcpExtTCPACKSkippedFinWait2\n    - TcpExtTCPACKSkippedPAWS\n    - TcpExtTCPACKSkippedSeq\n    - TcpExtTCPACKSkippedSynRecv\n    - TcpExtTCPACKSkippedTimeWait\n    - TcpExtTCPAbortFailed\n    - TcpExtTCPAbortOnClose\n    - TcpExtTCPAbortOnData\n    - TcpExtTCPAbortOnLinger\n    - TcpExtTCPAbortOnMemory\n    - TcpExtTCPAbortOnTimeout\n    - TcpExtTCPAutoCorking\n    - TcpExtTCPBacklogDrop\n    - TcpExtTCPChallengeACK\n    - TcpExtTCPDSACKIgnoredNoUndo\n    - TcpExtTCPDSACKIgnoredOld\n    - TcpExtTCPDSACKOfoRecv\n    - TcpExtTCPDSACKOfoSent\n    - TcpExtTCPDSACKOldSent\n    - TcpExtTCPDSACKRecv\n    - TcpExtTCPDSACKUndo\n    - TcpExtTCPDeferAcceptDrop\n    - TcpExtTCPDirectCopyFromBacklog\n    - TcpExtTCPDirectCopyFromPrequeue\n    - TcpExtTCPFACKReorder\n    - TcpExtTCPFastOpenActive\n    - TcpExtTCPFastOpenActiveFail\n    - TcpExtTCPFastOpenCookieReqd\n    - TcpExtTCPFastOpenListenOverflow\n    - TcpExtTCPFastOpenPassive\n    - TcpExtTCPFastOpenPassiveFail\n    - TcpExtTCPFastRetrans\n    - TcpExtTCPForwardRetrans\n    - TcpExtTCPFromZeroWindowAdv\n    - TcpExtTCPFullUndo\n    - TcpExtTCPHPAcks\n    - TcpExtTCPHPHits\n    - TcpExtTCPHPHitsToUser\n    - TcpExtTCPHystartDelayCwnd\n    - TcpExtTCPHystartDelayDetect\n    - TcpExtTCPHystartTrainCwnd\n    - TcpExtTCPHystartTrainDetect\n    - TcpExtTCPKeepAlive\n    - TcpExtTCPLossFailures\n    - TcpExtTCPLossProbeRecovery\n    - TcpExtTCPLossProbes\n    - TcpExtTCPLossUndo\n    - TcpExtTCPLostRetransmit\n    - TcpExtTCPMD5NotFound\n    - TcpExtTCPMD5Unexpected\n    - TcpExtTCPMTUPFail\n    - TcpExtTCPMTUPSuccess\n    - TcpExtTCPMemoryPressures\n    - TcpExtTCPMinTTLDrop\n    - TcpExtTCPOFODrop\n    - TcpExtTCPOFOMerge\n    - TcpExtTCPOFOQueue\n    - TcpExtTCPOrigDataSent\n    - TcpExtTCPPartialUndo\n    - TcpExtTCPPrequeueDropped\n    - TcpExtTCPPrequeued\n    - TcpExtTCPPureAcks\n    - TcpExtTCPRcvCoalesce\n    - TcpExtTCPRcvCollapsed\n    - TcpExtTCPRenoFailures\n    - TcpExtTCPRenoRecovery\n    - TcpExtTCPRenoRecoveryFail\n    - TcpExtTCPRenoReorder\n    - TcpExtTCPReqQFullDoCookies\n    - TcpExtTCPReqQFullDrop\n    - TcpExtTCPRetransFail\n    - TcpExtTCPSACKDiscard\n    - TcpExtTCPSACKReneging\n    - TcpExtTCPSACKReorder\n    - TcpExtTCPSYNChallenge\n    - TcpExtTCPSackFailures\n    - TcpExtTCPSackMerged\n    - TcpExtTCPSackRecovery\n    - TcpExtTCPSackRecoveryFail\n    - TcpExtTCPSackShiftFallback\n    - TcpExtTCPSackShifted\n    - TcpExtTCPSchedulerFailed\n    - TcpExtTCPSlowStartRetrans\n    - TcpExtTCPSpuriousRTOs\n    - TcpExtTCPSpuriousRtxHostQueues\n    - TcpExtTCPSynRetrans\n    - TcpExtTCPTSReorder\n    - TcpExtTCPTimeWaitOverflow\n    - TcpExtTCPTimeouts\n    - TcpExtTCPToZeroWindowAdv\n    - TcpExtTCPWantZeroWindowAdv\n    - TcpExtTCPWinProbe\n    - TcpExtTW\n    - TcpExtTWKilled\n    - TcpExtTWRecycled\n    - TcpInCsumErrors\n    - TcpInErrs\n    - TcpInSegs\n    - TcpMaxConn\n    - TcpOutRsts\n    - TcpOutSegs\n    - TcpPassiveOpens\n    - TcpRetransSegs\n    - TcpRtoAlgorithm\n    - TcpRtoMax\n    - TcpRtoMin\n    - Udp6IgnoredMulti\n    - Udp6InCsumErrors\n    - Udp6InDatagrams\n    - Udp6InErrors\n    - Udp6NoPorts\n    - Udp6OutDatagrams\n    - Udp6RcvbufErrors\n    - Udp6SndbufErrors\n    - UdpIgnoredMulti\n    - UdpInCsumErrors\n    - UdpInDatagrams\n    - UdpInErrors\n    - UdpLite6InCsumErrors\n    - UdpLite6InDatagrams\n    - UdpLite6InErrors\n    - UdpLite6NoPorts\n    - UdpLite6OutDatagrams\n    - UdpLite6RcvbufErrors\n    - UdpLite6SndbufErrors\n    - UdpLiteIgnoredMulti\n    - UdpLiteInCsumErrors\n    - UdpLiteInDatagrams\n    - UdpLiteInErrors\n    - UdpLiteNoPorts\n    - UdpLiteOutDatagrams\n    - UdpLiteRcvbufErrors\n    - UdpLiteSndbufErrors\n    - UdpNoPorts\n    - UdpOutDatagrams\n    - UdpRcvbufErrors\n    - UdpSndbufErrors\n\n### Tags\n- All measurements have the following tags\n    - host (host of the system)\n    - name (the type of the metric: snmp, snmp6 or netstat)\n',image:Nw.a},{id:"ntpq",name:"ntpq",url:"telegraf-plugins/ntpq",markdown:"# ntpq Input Plugin\n\nGet standard NTP query metrics, requires ntpq executable.\n\nBelow is the documentation of the various headers returned from the NTP query\ncommand when running `ntpq -p`.\n\n- remote – The remote peer or server being synced to. “LOCAL” is this local host\n(included in case there are no remote peers or servers available);\n- refid – Where or what the remote peer or server is itself synchronised to;\n- st (stratum) – The remote peer or server Stratum\n- t (type) – Type (u: unicast or manycast client, b: broadcast or multicast client,\nl: local reference clock, s: symmetric peer, A: manycast server,\nB: broadcast server, M: multicast server, see “Automatic Server Discovery“);\n- when – When last polled (seconds ago, “h” hours ago, or “d” days ago);\n- poll – Polling frequency: rfc5905 suggests this ranges in NTPv4 from 4 (16s)\nto 17 (36h) (log2 seconds), however observation suggests the actual displayed\nvalue is seconds for a much smaller range of 64 (26) to 1024 (210) seconds;\n- reach – An 8-bit left-shift shift register value recording polls (bit set =\nsuccessful, bit reset = fail) displayed in octal;\n- delay – Round trip communication delay to the remote peer or server (milliseconds);\n- offset – Mean offset (phase) in the times reported between this local host and\nthe remote peer or server (RMS, milliseconds);\n- jitter – Mean deviation (jitter) in the time reported for that remote peer or\nserver (RMS of difference of multiple time samples, milliseconds);\n\n### Configuration:\n\n```toml\n# Get standard NTP query metrics, requires ntpq executable\n[[inputs.ntpq]]\n  ## If false, add -n for ntpq command. Can reduce metric gather times.\n  dns_lookup = true\n```\n\n### Measurements & Fields:\n\n- ntpq\n    - delay (float, milliseconds)\n    - jitter (float, milliseconds)\n    - offset (float, milliseconds)\n    - poll (int, seconds)\n    - reach (int)\n    - when (int, seconds)\n\n### Tags:\n\n- All measurements have the following tags:\n    - refid\n    - remote\n    - type\n    - stratum\n\n### Example Output:\n\n```\n$ telegraf --config ~/ws/telegraf.conf --input-filter ntpq --test\n* Plugin: ntpq, Collection 1\n> ntpq,refid=.GPSs.,remote=*time.apple.com,stratum=1,type=u delay=91.797,jitter=3.735,offset=12.841,poll=64i,reach=377i,when=35i 1457960478909556134\n```\n",image:Pw.a},{id:"nvidia_smi",name:"Nvidia System Management Interface (SMI)",url:"telegraf-plugins/nvidia_smi",markdown:'# Nvidia System Management Interface (SMI) Input Plugin\n\nThis plugin uses a query on the [`nvidia-smi`](https://developer.nvidia.com/nvidia-system-management-interface) binary to pull GPU stats including memory and GPU usage, temp and other.\n\n### Configuration\n\n```toml\n# Pulls statistics from nvidia GPUs attached to the host\n[[inputs.nvidia_smi]]\n  ## Optional: path to nvidia-smi binary, defaults to $PATH via exec.LookPath\n  # bin_path = "/usr/bin/nvidia-smi"\n\n  ## Optional: timeout for GPU polling\n  # timeout = "5s"\n```\n\n#### Windows\n\nOn Windows, `nvidia-smi` is generally located at `C:\\Program Files\\NVIDIA Corporation\\NVSMI\\nvidia-smi.exe`\nOn Windows 10, you may also find this located here `C:\\Windows\\System32\\nvidia-smi.exe`\n\nYou\'ll need to escape the `\\` within the `telegraf.conf` like this: `C:\\\\Program Files\\\\NVIDIA Corporation\\\\NVSMI\\\\nvidia-smi.exe`\n\n### Metrics\n- measurement: `nvidia_smi`\n  - tags\n    - `name` (type of GPU e.g. `GeForce GTX 1070 Ti`)\n    - `compute_mode` (The compute mode of the GPU e.g. `Default`)\n    - `index` (The port index where the GPU is connected to the motherboard e.g. `1`)\n    - `pstate` (Overclocking state for the GPU e.g. `P0`)\n    - `uuid` (A unique identifier for the GPU e.g. `GPU-f9ba66fc-a7f5-94c5-da19-019ef2f9c665`)\n  - fields\n    - `fan_speed` (integer, percentage)\n    - `fbc_stats_session_count` (integer)\n    - `fbc_stats_average_fps` (integer)\n    - `fbc_stats_average_latency` (integer)\n    - `memory_free` (integer, MiB)\n    - `memory_used` (integer, MiB)\n    - `memory_total` (integer, MiB)\n    - `power_draw` (float, W)\n    - `temperature_gpu` (integer, degrees C)\n    - `utilization_gpu` (integer, percentage)\n    - `utilization_memory` (integer, percentage)\n    - `utilization_encoder` (integer, percentage)\n    - `utilization_decoder` (integer, percentage)\n    - `pcie_link_gen_current` (integer)\n    - `pcie_link_width_current` (integer)\n    - `encoder_stats_session_count` (integer)\n    - `encoder_stats_average_fps` (integer)\n    - `encoder_stats_average_latency` (integer)\n    - `clocks_current_graphics` (integer, MHz)\n    - `clocks_current_sm` (integer, MHz)\n    - `clocks_current_memory` (integer, MHz)\n    - `clocks_current_video` (integer, MHz)\n\n### Sample Query\n\nThe below query could be used to alert on the average temperature of the your GPUs over the last minute\n\n```sql\nSELECT mean("temperature_gpu") FROM "nvidia_smi" WHERE time > now() - 5m GROUP BY time(1m), "index", "name", "host"\n```\n\n### Troubleshooting\n\nCheck the full output by running `nvidia-smi` binary manually.\n\nLinux:\n```sh\nsudo -u telegraf -- /usr/bin/nvidia-smi -q -x\n```\n\nWindows:\n```\n"C:\\Program Files\\NVIDIA Corporation\\NVSMI\\nvidia-smi.exe" -q -x\n```\n\nPlease include the output of this command if opening an GitHub issue.\n\n### Example Output\n```\nnvidia_smi,compute_mode=Default,host=8218cf,index=0,name=GeForce\\ GTX\\ 1070,pstate=P2,uuid=GPU-823bc202-6279-6f2c-d729-868a30f14d96 fan_speed=100i,memory_free=7563i,memory_total=8112i,memory_used=549i,temperature_gpu=53i,utilization_gpu=100i,utilization_memory=90i 1523991122000000000\nnvidia_smi,compute_mode=Default,host=8218cf,index=1,name=GeForce\\ GTX\\ 1080,pstate=P2,uuid=GPU-f9ba66fc-a7f5-94c5-da19-019ef2f9c665 fan_speed=100i,memory_free=7557i,memory_total=8114i,memory_used=557i,temperature_gpu=50i,utilization_gpu=100i,utilization_memory=85i 1523991122000000000\nnvidia_smi,compute_mode=Default,host=8218cf,index=2,name=GeForce\\ GTX\\ 1080,pstate=P2,uuid=GPU-d4cfc28d-0481-8d07-b81a-ddfc63d74adf fan_speed=100i,memory_free=7557i,memory_total=8114i,memory_used=557i,temperature_gpu=58i,utilization_gpu=100i,utilization_memory=86i 1523991122000000000\n```\n\n### Limitations\nNote that there seems to be an issue with getting current memory clock values when the memory is overclocked.\nThis may or may not apply to everyone but it\'s confirmed to be an issue on an EVGA 2080 Ti.\n',image:Lw.a},{id:"opcua",name:"OPC UA Client",url:"telegraf-plugins/opcua",markdown:'# OPC UA Client Input Plugin\n\nThe `opcua` plugin retrieves data from OPC UA client devices.\n\nTelegraf minimum version: Telegraf 1.16\nPlugin minimum tested version: 1.16\n\n### Configuration:\n\n```toml\n[[inputs.opcua]]\n  ## Device name\n  # name = "localhost"\n  #\n  ## OPC UA Endpoint URL\n  # endpoint = "opc.tcp://localhost:4840"\n  #\n  ## Maximum time allowed to establish a connect to the endpoint.\n  # connect_timeout = "10s"\n  #\n  ## Maximum time allowed for a request over the estabilished connection.\n  # request_timeout = "5s"\n  #\n  ## Security policy, one of "None", "Basic128Rsa15", "Basic256",\n  ## "Basic256Sha256", or "auto"\n  # security_policy = "auto"\n  #\n  ## Security mode, one of "None", "Sign", "SignAndEncrypt", or "auto"\n  # security_mode = "auto"\n  #\n  ## Path to cert.pem. Required when security mode or policy isn\'t "None".\n  ## If cert path is not supplied, self-signed cert and key will be generated.\n  # certificate = "/etc/telegraf/cert.pem"\n  #\n  ## Path to private key.pem. Required when security mode or policy isn\'t "None".\n  ## If key path is not supplied, self-signed cert and key will be generated.\n  # private_key = "/etc/telegraf/key.pem"\n  #\n  ## Authentication Method, one of "Certificate", "UserName", or "Anonymous".  To\n  ## authenticate using a specific ID, select \'Certificate\' or \'UserName\'\n  # auth_method = "Anonymous"\n  #\n  ## Username. Required for auth_method = "UserName"\n  # username = ""\n  #\n  ## Password. Required for auth_method = "UserName"\n  # password = ""\n  #\n  ## Node ID configuration\n  ## name       \t\t\t- the variable name\n  ## namespace  \t\t\t- integer value 0 thru 3\n  ## identifier_type\t\t- s=string, i=numeric, g=guid, b=opaque\n  ## identifier\t\t\t- tag as shown in opcua browser\n  ## data_type  \t\t\t- boolean, byte, short, int, uint, uint16, int16,\n  ##                        uint32, int32, float, double, string, datetime, number\n  ## Example:\n  ## {name="ProductUri", namespace="0", identifier_type="i", identifier="2262", data_type="string", description="http://open62541.org"}\n  nodes = [\n    {name="", namespace="", identifier_type="", identifier="", data_type="", description=""},\n    {name="", namespace="", identifier_type="", identifier="", data_type="", description=""},\n  ]\n```\n\n### Example Node Configuration\nAn OPC UA node ID may resemble: "n=3,s=Temperature". In this example:\n- n=3 is indicating the `namespace` is 3\n- s=Temperature is indicting that the `identifier_type` is a string and `identifier` value is \'Temperature\'\n- This example temperature node has a value of 79.0, which makes the `data_type` a \'float\'.\nTo gather data from this node enter the following line into the \'nodes\' property above:\n```\n{name="LabelName", namespace="3", identifier_type="s", identifier="Temperature", data_type="float", description="Description of node"},\n```\n\n\n### Example Output\n\n```\nopcua,host=3c70aee0901e,name=Random,type=double Random=0.018158170305814902 1597820490000000000\n\n```\n',image:qw.a},{id:"openldap",name:"OpenLDAP",url:"telegraf-plugins/openldap",markdown:'# OpenLDAP Input Plugin\n\nThis plugin gathers metrics from OpenLDAP\'s cn=Monitor backend.\n\n### Configuration:\n\nTo use this plugin you must enable the [slapd monitoring](https://www.openldap.org/devel/admin/monitoringslapd.html) backend.\n\n```toml\n[[inputs.openldap]]\n  host = "localhost"\n  port = 389\n\n  # ldaps, starttls, or no encryption. default is an empty string, disabling all encryption.\n  # note that port will likely need to be changed to 636 for ldaps\n  # valid options: "" | "starttls" | "ldaps"\n  tls = ""\n\n  # skip peer certificate verification. Default is false.\n  insecure_skip_verify = false\n\n  # Path to PEM-encoded Root certificate to use to verify server certificate\n  tls_ca = "/etc/ssl/certs.pem"\n\n  # dn/password to bind with. If bind_dn is empty, an anonymous bind is performed.\n  bind_dn = ""\n  bind_password = ""\n  \n  # reverse metric names so they sort more naturally\n  # Defaults to false if unset, but is set to true when generating a new config\n  reverse_metric_names = true\n```\n\n### Measurements & Fields:\n\nAll **monitorCounter**, **monitoredInfo**, **monitorOpInitiated**, and **monitorOpCompleted** attributes are gathered based on this LDAP query:\n\n```\n(|(objectClass=monitorCounterObject)(objectClass=monitorOperation)(objectClass=monitoredObject))\n```\n\nMetric names are based on their entry DN with the cn=Monitor base removed. If `reverse_metric_names` is not set, metrics are based on their DN. If `reverse_metric_names` is set to `true`, the names are reversed. This is recommended as it allows the names to sort more naturally.\n\nMetrics for the **monitorOp*** attributes have **_initiated** and **_completed** added to the base name as appropriate.\n\nAn OpenLDAP 2.4 server will provide these metrics:\n\n- openldap\n\t- connections_current\n\t- connections_max_file_descriptors\n\t- connections_total\n\t- operations_abandon_completed\n\t- operations_abandon_initiated\n\t- operations_add_completed\n\t- operations_add_initiated\n\t- operations_bind_completed\n\t- operations_bind_initiated\n\t- operations_compare_completed\n\t- operations_compare_initiated\n\t- operations_delete_completed\n\t- operations_delete_initiated\n\t- operations_extended_completed\n\t- operations_extended_initiated\n\t- operations_modify_completed\n\t- operations_modify_initiated\n\t- operations_modrdn_completed\n\t- operations_modrdn_initiated\n\t- operations_search_completed\n\t- operations_search_initiated\n\t- operations_unbind_completed\n\t- operations_unbind_initiated\n\t- statistics_bytes\n\t- statistics_entries\n\t- statistics_pdu\n\t- statistics_referrals\n\t- threads_active\n\t- threads_backload\n\t- threads_max\n\t- threads_max_pending\n\t- threads_open\n\t- threads_pending\n\t- threads_starting\n\t- time_uptime\n\t- waiters_read\n\t- waiters_write\n\n### Tags:\n\n- server= # value from config\n- port= # value from config\n\n### Example Output:\n\n```\n$ telegraf -config telegraf.conf -input-filter openldap -test --debug\n* Plugin: inputs.openldap, Collection 1\n> openldap,server=localhost,port=389,host=niska.ait.psu.edu operations_bind_initiated=10i,operations_unbind_initiated=6i,operations_modrdn_completed=0i,operations_delete_initiated=0i,operations_add_completed=2i,operations_delete_completed=0i,operations_abandon_completed=0i,statistics_entries=1516i,threads_open=2i,threads_active=1i,waiters_read=1i,operations_modify_completed=0i,operations_extended_initiated=4i,threads_pending=0i,operations_search_initiated=36i,operations_compare_initiated=0i,connections_max_file_descriptors=4096i,operations_modify_initiated=0i,operations_modrdn_initiated=0i,threads_max=16i,time_uptime=6017i,connections_total=1037i,connections_current=1i,operations_add_initiated=2i,statistics_bytes=162071i,operations_unbind_completed=6i,operations_abandon_initiated=0i,statistics_pdu=1566i,threads_max_pending=0i,threads_backload=1i,waiters_write=0i,operations_bind_completed=10i,operations_search_completed=35i,operations_compare_completed=0i,operations_extended_completed=4i,statistics_referrals=0i,threads_starting=0i 1516912070000000000\n```\n',image:zw.a},{id:"openntpd",name:"OpenNTPD",url:"telegraf-plugins/openntpd",markdown:'# OpenNTPD Input Plugin\n\nGet standard NTP query metrics from [OpenNTPD][] using the ntpctl command.\n\n[OpenNTPD]: http://www.openntpd.org/\n\nBelow is the documentation of the various headers returned from the NTP query\ncommand when running `ntpctl -s peers`.\n\n- remote – The remote peer or server being synced to.\n- wt – the peer weight\n- tl – the peer trust level\n- st (stratum) – The remote peer or server Stratum\n- next – number of seconds until the next poll\n- poll – polling interval in seconds\n- delay – Round trip communication delay to the remote peer\nor server (milliseconds);\n- offset – Mean offset (phase) in the times reported between this local host and\nthe remote peer or server (RMS, milliseconds);\n- jitter – Mean deviation (jitter) in the time reported for that remote peer or\nserver (RMS of difference of multiple time samples, milliseconds);\n\n### Configuration\n\n```toml\n[[inputs.openntpd]]\n  ## Run ntpctl binary with sudo.\n  # use_sudo = false\n\n  ## Location of the ntpctl binary.\n  # binary = "/usr/sbin/ntpctl"\n\n  ## Maximum time the ntpctl binary is allowed to run.\n  # timeout = "5ms"\n```\n\n### Metrics\n\n- ntpctl\n  - tags:\n    - remote\n    - stratum\n  - fields:\n    - delay (float, milliseconds)\n    - jitter (float, milliseconds)\n    - offset (float, milliseconds)\n    - poll (int, seconds)\n    - next (int, seconds)\n    - wt (int)\n    - tl (int)\n\n### Permissions\n\nIt\'s important to note that this plugin references ntpctl, which may require\nadditional permissions to execute successfully.\nDepending on the user/group permissions of the telegraf user executing this\nplugin, you may need to alter the group membership, set facls, or use sudo.\n\n**Group membership (Recommended)**:\n```bash\n$ groups telegraf\ntelegraf : telegraf\n\n$ usermod -a -G ntpd telegraf\n\n$ groups telegraf\ntelegraf : telegraf ntpd\n```\n\n**Sudo privileges**:\nIf you use this method, you will need the following in your telegraf config:\n```toml\n[[inputs.openntpd]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# Add the following lines:\nCmnd_Alias NTPCTL = /usr/sbin/ntpctl\ntelegraf ALL=(ALL) NOPASSWD: NTPCTL\nDefaults!NTPCTL !logfile, !syslog, !pam_session\n```\n\nPlease use the solution you see as most appropriate.\n\n### Example Output\n\n```\nopenntpd,remote=194.57.169.1,stratum=2,host=localhost tl=10i,poll=1007i,\noffset=2.295,jitter=3.896,delay=53.766,next=266i,wt=1i 1514454299000000000\n```\n',image:Hw.a},{id:"opensmtpd",name:"OpenSMTPD",url:"telegraf-plugins/opensmtpd",markdown:'# OpenSMTPD Input Plugin\n\nThis plugin gathers stats from [OpenSMTPD - a FREE implementation of the server-side SMTP protocol](https://www.opensmtpd.org/)\n\n### Configuration:\n\n```toml\n [[inputs.opensmtpd]]\n   ## If running as a restricted user you can prepend sudo for additional access:\n   #use_sudo = false\n\n   ## The default location of the smtpctl binary can be overridden with:\n   binary = "/usr/sbin/smtpctl"\n\n   # The default timeout of 1s can be overridden with:\n   #timeout = "1s"\n```\n\n### Measurements & Fields:\n\nThis is the full list of stats provided by smtpctl and potentially collected by telegram\ndepending of your smtpctl configuration.\n\n- smtpctl\n    bounce_envelope\n    bounce_message\n    bounce_session\n    control_session\n    mda_envelope\n    mda_pending\n    mda_running\n    mda_user\n    mta_connector\n    mta_domain\n    mta_envelope\n    mta_host\n    mta_relay\n    mta_route\n    mta_session\n    mta_source\n    mta_task\n    mta_task_running\n    queue_bounce\n    queue_evpcache_load_hit\n    queue_evpcache_size\n    queue_evpcache_update_hit\n    scheduler_delivery_ok\n    scheduler_delivery_permfail\n    scheduler_delivery_tempfail\n    scheduler_envelope\n    scheduler_envelope_expired\n    scheduler_envelope_incoming\n    scheduler_envelope_inflight\n    scheduler_ramqueue_envelope\n    scheduler_ramqueue_message\n    scheduler_ramqueue_update\n    smtp_session\n    smtp_session_inet4\n    smtp_session_local\n    uptime\n\n### Permissions:\n\nIt\'s important to note that this plugin references smtpctl, which may require additional permissions to execute successfully.\nDepending on the user/group permissions of the telegraf user executing this plugin, you may need to alter the group membership, set facls, or use sudo.\n\n**Group membership (Recommended)**:\n```bash\n$ groups telegraf\ntelegraf : telegraf\n\n$ usermod -a -G opensmtpd telegraf\n\n$ groups telegraf\ntelegraf : telegraf opensmtpd\n```\n\n**Sudo privileges**:\nIf you use this method, you will need the following in your telegraf config:\n```toml\n[[inputs.opensmtpd]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias SMTPCTL = /usr/sbin/smtpctl\ntelegraf  ALL=(ALL) NOPASSWD: SMTPCTL\nDefaults!SMTPCTL !logfile, !syslog, !pam_session\n```\n\nPlease use the solution you see as most appropriate.\n\n### Example Output:\n\n```\n telegraf --config etc/telegraf.conf --input-filter opensmtpd --test\n* Plugin: inputs.opensmtpd, Collection 1\n> opensmtpd,host=localhost scheduler_delivery_tempfail=822,mta_host=10,mta_task_running=4,queue_bounce=13017,scheduler_delivery_permfail=51022,mta_relay=7,queue_evpcache_size=2,scheduler_envelope_expired=26,bounce_message=0,mta_domain=7,queue_evpcache_update_hit=848,smtp_session_local=12294,bounce_envelope=0,queue_evpcache_load_hit=4389703,scheduler_ramqueue_update=0,mta_route=3,scheduler_delivery_ok=2149489,smtp_session_inet4=2131997,control_session=1,scheduler_envelope_incoming=0,uptime=10346728,scheduler_ramqueue_envelope=2,smtp_session=0,bounce_session=0,mta_envelope=2,mta_session=6,mta_task=2,scheduler_ramqueue_message=2,mta_connector=7,mta_source=1,scheduler_envelope=2,scheduler_envelope_inflight=2 1510220300000000000\n\n```\n',image:Vw.a},{id:"openweathermap",name:"OpenWeatherMap",url:"telegraf-plugins/openweathermap",markdown:'# OpenWeatherMap Input Plugin\n\nCollect current weather and forecast data from OpenWeatherMap.\n\nTo use this plugin you will need an [api key][] (app_id).\n\nCity identifiers can be found in the [city list][]. Alternately you\ncan [search][] by name; the `city_id` can be found as the last digits\nof the URL: https://openweathermap.org/city/2643743. Language\nidentifiers can be found in the [lang list][]. Documentation for\ncondition ID, icon, and main is at [weather conditions][].\n\n### Configuration\n\n```toml\n[[inputs.openweathermap]]\n  ## OpenWeatherMap API key.\n  app_id = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"\n\n  ## City ID\'s to collect weather data from.\n  city_id = ["5391959"]\n\n  ## Language of the description field. Can be one of "ar", "bg",\n  ## "ca", "cz", "de", "el", "en", "fa", "fi", "fr", "gl", "hr", "hu",\n  ## "it", "ja", "kr", "la", "lt", "mk", "nl", "pl", "pt", "ro", "ru",\n  ## "se", "sk", "sl", "es", "tr", "ua", "vi", "zh_cn", "zh_tw"\n  # lang = "en"\n\n  ## APIs to fetch; can contain "weather" or "forecast".\n  fetch = ["weather", "forecast"]\n\n  ## OpenWeatherMap base URL\n  # base_url = "https://api.openweathermap.org/"\n\n  ## Timeout for HTTP response.\n  # response_timeout = "5s"\n\n  ## Preferred unit system for temperature and wind speed. Can be one of\n  ## "metric", "imperial", or "standard".\n  # units = "metric"\n\n  ## Query interval; OpenWeatherMap weather data is updated every 10\n  ## minutes.\n  interval = "10m"\n```\n\n### Metrics\n\n- weather\n  - tags:\n    - city_id\n    - forecast\n    - condition_id\n    - condition_main\n  - fields:\n    - cloudiness (int, percent)\n    - humidity (int, percent)\n    - pressure (float, atmospheric pressure hPa)\n    - rain (float, rain volume for the last 1-3 hours (depending on API response) in mm)\n    - sunrise (int, nanoseconds since unix epoch)\n    - sunset (int, nanoseconds since unix epoch)\n    - temperature (float, degrees)\n    - visibility (int, meters, not available on forecast data)\n    - wind_degrees (float, wind direction in degrees)\n    - wind_speed (float, wind speed in meters/sec or miles/sec)\n    - condition_description (string, localized long description)\n    - condition_icon\n\n\n### Example Output\n\n```\n> weather,city=San\\ Francisco,city_id=5391959,condition_id=800,condition_main=Clear,country=US,forecast=* cloudiness=1i,condition_description="clear sky",condition_icon="01d",humidity=35i,pressure=1012,rain=0,sunrise=1570630329000000000i,sunset=1570671689000000000i,temperature=21.52,visibility=16093i,wind_degrees=280,wind_speed=5.7 1570659256000000000\n> weather,city=San\\ Francisco,city_id=5391959,condition_id=800,condition_main=Clear,country=US,forecast=3h cloudiness=0i,condition_description="clear sky",condition_icon="01n",humidity=41i,pressure=1010,rain=0,temperature=22.34,wind_degrees=249.393,wind_speed=2.085 1570665600000000000\n> weather,city=San\\ Francisco,city_id=5391959,condition_id=800,condition_main=Clear,country=US,forecast=6h cloudiness=0i,condition_description="clear sky",condition_icon="01n",humidity=50i,pressure=1012,rain=0,temperature=17.09,wind_degrees=310.754,wind_speed=3.009 1570676400000000000\n```\n\n[api key]: https://openweathermap.org/appid\n[city list]: http://bulk.openweathermap.org/sample/city.list.json.gz\n[search]: https://openweathermap.org/find\n[lang list]: https://openweathermap.org/current#multi\n[weather conditions]: https://openweathermap.org/weather-conditions\n',image:Ww.a},{id:"passenger",name:"Passenger",url:"telegraf-plugins/passenger",markdown:'# Passenger Input Plugin\n\nGather [Phusion Passenger](https://www.phusionpassenger.com/) metrics using the `passenger-status` command line utility.\n\n**Series Cardinality Warning**\n\nDepending on your environment, this `passenger_process` measurement of this\nplugin can quickly create a high number of series which, when unchecked, can\ncause high load on your database.  You can use the following techniques to\nmanage your series cardinality:\n\n- Use the\n  [measurement filtering](https://docs.influxdata.com/telegraf/latest/administration/configuration/#measurement-filtering)\n  options to exclude unneeded tags.  In some environments, you may wish to use\n  `tagexclude` to remove the `pid` and `process_group_id` tags.\n- Write to a database with an appropriate\n  [retention policy](https://docs.influxdata.com/influxdb/latest/guides/downsampling_and_retention/).\n- Limit series cardinality in your database using the\n  [`max-series-per-database`](https://docs.influxdata.com/influxdb/latest/administration/config/#max-series-per-database-1000000) and\n  [`max-values-per-tag`](https://docs.influxdata.com/influxdb/latest/administration/config/#max-values-per-tag-100000) settings.\n- Consider using the\n  [Time Series Index](https://docs.influxdata.com/influxdb/latest/concepts/time-series-index/).\n- Monitor your databases\n  [series cardinality](https://docs.influxdata.com/influxdb/latest/query_language/spec/#show-cardinality).\n\n### Configuration\n\n```toml\n# Read metrics of passenger using passenger-status\n[[inputs.passenger]]\n  ## Path of passenger-status.\n  ##\n  ## Plugin gather metric via parsing XML output of passenger-status\n  ## More information about the tool:\n  ##   https://www.phusionpassenger.com/library/admin/apache/overall_status_report.html\n  ##\n  ## If no path is specified, then the plugin simply execute passenger-status\n  ## hopefully it can be found in your PATH\n  command = "passenger-status -v --show=xml"\n```\n\n#### Permissions:\n\nTelegraf must have permission to execute the `passenger-status` command.  On most systems, Telegraf runs as the `telegraf` user.\n\n### Metrics:\n\n- passenger\n  - tags:\n    - passenger_version\n  - fields:\n    - process_count\n    - max\n    - capacity_used\n    - get_wait_list_size\n\n- passenger_supergroup\n  - tags:\n    - name\n  - fields:\n    - get_wait_list_size\n    - capacity_used\n\n- passenger_group\n  - tags:\n    - name\n    - app_root\n    - app_type\n  - fields:\n    - get_wait_list_size\n    - capacity_used\n    - processes_being_spawned\n\n- passenger_process\n  - tags:\n    - group_name\n    - app_root\n    - supergroup_name\n    - pid\n    - code_revision\n    - life_status\n    - process_group_id\n  - fields:\n    - concurrency\n    - sessions\n    - busyness\n    - processed\n    - spawner_creation_time\n    - spawn_start_time\n    - spawn_end_time\n    - last_used\n    - uptime\n    - cpu\n    - rss\n    - pss\n    - private_dirty\n    - swap\n    - real_memory\n    - vmsize\n\n### Example Output:\n```\npassenger,passenger_version=5.0.17 capacity_used=23i,get_wait_list_size=0i,max=23i,process_count=23i 1452984112799414257\npassenger_supergroup,name=/var/app/current/public capacity_used=23i,get_wait_list_size=0i 1452984112799496977\npassenger_group,app_root=/var/app/current,app_type=rack,name=/var/app/current/public capacity_used=23i,get_wait_list_size=0i,processes_being_spawned=0i 1452984112799527021\npassenger_process,app_root=/var/app/current,code_revision=899ac7f,group_name=/var/app/current/public,life_status=ALIVE,pid=11553,process_group_id=13608,supergroup_name=/var/app/current/public busyness=0i,concurrency=1i,cpu=58i,last_used=1452747071764940i,private_dirty=314900i,processed=951i,pss=319391i,real_memory=314900i,rss=418548i,sessions=0i,spawn_end_time=1452746845013365i,spawn_start_time=1452746844946982i,spawner_creation_time=1452746835922747i,swap=0i,uptime=226i,vmsize=1563580i 1452984112799571490\npassenger_process,app_root=/var/app/current,code_revision=899ac7f,group_name=/var/app/current/public,life_status=ALIVE,pid=11563,process_group_id=13608,supergroup_name=/var/app/current/public busyness=2147483647i,concurrency=1i,cpu=47i,last_used=1452747071709179i,private_dirty=309240i,processed=756i,pss=314036i,real_memory=309240i,rss=418296i,sessions=1i,spawn_end_time=1452746845172460i,spawn_start_time=1452746845136882i,spawner_creation_time=1452746835922747i,swap=0i,uptime=226i,vmsize=1563608i 1452984112799638581\n```\n',image:Qw.a},{id:"pf",name:"PF",url:"telegraf-plugins/pf",markdown:"# PF Input Plugin\n\nThe pf plugin gathers information from the FreeBSD/OpenBSD pf firewall. Currently it can retrieve information about the state table: the number of current entries in the table, and counters for the number of searches, inserts, and removals to the table.\n\nThe pf plugin retrieves this information by invoking the `pfstat` command. The `pfstat` command requires read access to the device file `/dev/pf`. You have several options to permit telegraf to run `pfctl`:\n\n* Run telegraf as root. This is strongly discouraged.\n* Change the ownership and permissions for /dev/pf such that the user telegraf runs at can read the /dev/pf device file. This is probably not that good of an idea either.\n* Configure sudo to grant telegraf to run `pfctl` as root. This is the most restrictive option, but require sudo setup.\n\n### Using sudo\n\nYou may edit your sudo configuration with the following:\n\n```sudo\ntelegraf ALL=(root) NOPASSWD: /sbin/pfctl -s info\n```\n\n### Configuration:\n\n```toml\n  # use sudo to run pfctl\n  use_sudo = false\n```\n\n### Measurements & Fields:\n\n\n- pf\n    - entries (integer, count)\n    - searches (integer, count)\n    - inserts (integer, count)\n    - removals (integer, count)\n    - match (integer, count)\n    - bad-offset (integer, count)\n    - fragment (integer, count)\n    - short (integer, count)\n    - normalize (integer, count)\n    - memory (integer, count)\n    - bad-timestamp (integer, count)\n    - congestion (integer, count)\n    - ip-option (integer, count)\n    - proto-cksum (integer, count)\n    - state-mismatch (integer, count)\n    - state-insert (integer, count)\n    - state-limit (integer, count)\n    - src-limit (integer, count)\n    - synproxy (integer, count)\n\n### Example Output:\n\n```\n> pfctl -s info\nStatus: Enabled for 0 days 00:26:05           Debug: Urgent\n\nState Table                          Total             Rate\n  current entries                        2               \n  searches                           11325            7.2/s\n  inserts                                5            0.0/s\n  removals                               3            0.0/s\nCounters\n  match                              11226            7.2/s\n  bad-offset                             0            0.0/s\n  fragment                               0            0.0/s\n  short                                  0            0.0/s\n  normalize                              0            0.0/s\n  memory                                 0            0.0/s\n  bad-timestamp                          0            0.0/s\n  congestion                             0            0.0/s\n  ip-option                              0            0.0/s\n  proto-cksum                            0            0.0/s\n  state-mismatch                         0            0.0/s\n  state-insert                           0            0.0/s\n  state-limit                            0            0.0/s\n  src-limit                              0            0.0/s\n  synproxy                               0            0.0/s\n```\n\n```\n> ./telegraf --config telegraf.conf --input-filter pf --test\n* Plugin: inputs.pf, Collection 1\n> pf,host=columbia entries=3i,searches=2668i,inserts=12i,removals=9i 1510941775000000000\n```\n",image:Xw.a},{id:"pgbouncer",name:"PgBouncer",url:"telegraf-plugins/pgbouncer",markdown:'# PgBouncer Input Plugin\n\nThe `pgbouncer` plugin provides metrics for your PgBouncer load balancer.\n\nMore information about the meaning of these metrics can be found in the\n[PgBouncer Documentation](https://pgbouncer.github.io/usage.html).\n\n- PgBouncer minimum tested version: 1.5\n\n### Configuration example\n\n```toml\n[[inputs.pgbouncer]]\n  ## specify address via a url matching:\n  ##   postgres://[pqgotest[:password]]@host:port[/dbname]\\\n  ##       ?sslmode=[disable|verify-ca|verify-full]\n  ## or a simple string:\n  ##   host=localhost port=5432 user=pqgotest password=... sslmode=... dbname=app_production\n  ##\n  ## All connection parameters are optional.\n  ##\n  address = "host=localhost user=pgbouncer sslmode=disable"\n```\n\n#### `address`\n\nSpecify address via a postgresql connection string:\n\n  `host=/run/postgresql port=6432 user=telegraf database=pgbouncer`\n\nOr via an url matching:\n\n  `postgres://[pqgotest[:password]]@host:port[/dbname]?sslmode=[disable|verify-ca|verify-full]`\n\nAll connection parameters are optional.\n\nWithout the dbname parameter, the driver will default to a database with the same name as the user.\nThis dbname is just for instantiating a connection with the server and doesn\'t restrict the databases we are trying to grab metrics for.\n\n### Metrics\n\n- pgbouncer\n  - tags:\n    - db\n    - server\n  - fields:\n    - avg_query_count\n    - avg_query_time\n    - avg_wait_time\n    - avg_xact_count\n    - avg_xact_time\n    - total_query_count\n    - total_query_time\n    - total_received\n    - total_sent\n    - total_wait_time\n    - total_xact_count\n    - total_xact_time\n\n+ pgbouncer_pools\n  - tags:\n    - db\n    - pool_mode\n    - server\n    - user\n  - fields:\n    - cl_active\n    - cl_waiting\n    - maxwait\n    - maxwait_us\n    - sv_active\n    - sv_idle\n    - sv_login\n    - sv_tested\n    - sv_used\n\n### Example Output\n\n```\npgbouncer,db=pgbouncer,server=host\\=debian-buster-postgres\\ user\\=dbn\\ port\\=6432\\ dbname\\=pgbouncer\\  avg_query_count=0i,avg_query_time=0i,avg_wait_time=0i,avg_xact_count=0i,avg_xact_time=0i,total_query_count=26i,total_query_time=0i,total_received=0i,total_sent=0i,total_wait_time=0i,total_xact_count=26i,total_xact_time=0i 1581569936000000000\npgbouncer_pools,db=pgbouncer,pool_mode=statement,server=host\\=debian-buster-postgres\\ user\\=dbn\\ port\\=6432\\ dbname\\=pgbouncer\\ ,user=pgbouncer cl_active=1i,cl_waiting=0i,maxwait=0i,maxwait_us=0i,sv_active=0i,sv_idle=0i,sv_login=0i,sv_tested=0i,sv_used=0i 1581569936000000000\n```\n',image:Jw.a},{id:"phpfpm",name:"PHP-FPM",url:"telegraf-plugins/phpfpm",markdown:'# PHP-FPM Input Plugin\n\nGet phpfpm stats using either HTTP status page or fpm socket.\n\n### Configuration:\n\n```toml\n# Read metrics of phpfpm, via HTTP status page or socket\n[[inputs.phpfpm]]\n  ## An array of addresses to gather stats about. Specify an ip or hostname\n  ## with optional port and path\n  ##\n  ## Plugin can be configured in three modes (either can be used):\n  ##   - http: the URL must start with http:// or https://, ie:\n  ##       "http://localhost/status"\n  ##       "http://192.168.130.1/status?full"\n  ##\n  ##   - unixsocket: path to fpm socket, ie:\n  ##       "/var/run/php5-fpm.sock"\n  ##      or using a custom fpm status path:\n  ##       "/var/run/php5-fpm.sock:fpm-custom-status-path"\n  ##      glob patterns are also supported:\n  ##       "/var/run/php*.sock"\n  ##\n  ##   - fcgi: the URL must start with fcgi:// or cgi://, and port must be present, ie:\n  ##       "fcgi://10.0.0.12:9000/status"\n  ##       "cgi://10.0.10.12:9001/status"\n  ##\n  ## Example of multiple gathering from local socket and remote host\n  ## urls = ["http://192.168.1.20/status", "/tmp/fpm.sock"]\n  urls = ["http://localhost/status"]\n\n  ## Duration allowed to complete HTTP requests.\n  # timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\nWhen using `unixsocket`, you have to ensure that telegraf runs on same\nhost, and socket path is accessible to telegraf user.\n\n### Metrics:\n\n- phpfpm\n  - tags:\n    - pool\n    - url\n  - fields:\n    - accepted_conn\n    - listen_queue\n    - max_listen_queue\n    - listen_queue_len\n    - idle_processes\n    - active_processes\n    - total_processes\n    - max_active_processes\n    - max_children_reached\n    - slow_requests\n\n# Example Output\n\n```\nphpfpm,pool=www accepted_conn=13i,active_processes=2i,idle_processes=1i,listen_queue=0i,listen_queue_len=0i,max_active_processes=2i,max_children_reached=0i,max_listen_queue=0i,slow_requests=0i,total_processes=3i 1453011293083331187\nphpfpm,pool=www2 accepted_conn=12i,active_processes=1i,idle_processes=2i,listen_queue=0i,listen_queue_len=0i,max_active_processes=2i,max_children_reached=0i,max_listen_queue=0i,slow_requests=0i,total_processes=3i 1453011293083691422\nphpfpm,pool=www3 accepted_conn=11i,active_processes=1i,idle_processes=2i,listen_queue=0i,listen_queue_len=0i,max_active_processes=2i,max_children_reached=0i,max_listen_queue=0i,slow_requests=0i,total_processes=3i 1453011293083691658\n```\n',image:tE.a},{id:"ping",name:"Ping",url:"telegraf-plugins/ping",markdown:'# Ping Input Plugin\n\nSends a ping message by executing the system ping command and reports the results.\n\nThis plugin has two main methods of operation: `exec` and `native`.  The\nrecommended method is `native`, which has greater system compatibility and\nperformance.  However, for backwards compatibility the `exec` method is the\ndefault.\n\nWhen using `method = "exec"`, the systems ping utility is executed to send the\nping packets.\n\nMost ping command implementations are supported, one notable exception being\nthat there is currently no support for GNU Inetutils ping.  You may instead use\nthe iputils-ping implementation:\n```\napt-get install iputils-ping\n```\n\nWhen using `method = "native"` a ping is sent and the results are reported in\nnative Go by the Telegraf process, eliminating the need to execute the system\n`ping` command.\n\n### Configuration:\n\n```toml\n[[inputs.ping]]\n  ## Hosts to send ping packets to.\n  urls = ["example.org"]\n\n  ## Method used for sending pings, can be either "exec" or "native".  When set\n  ## to "exec" the systems ping command will be executed.  When set to "native"\n  ## the plugin will send pings directly.\n  ##\n  ## While the default is "exec" for backwards compatibility, new deployments\n  ## are encouraged to use the "native" method for improved compatibility and\n  ## performance.\n  # method = "exec"\n\n  ## Number of ping packets to send per interval.  Corresponds to the "-c"\n  ## option of the ping command.\n  # count = 1\n\n  ## Time to wait between sending ping packets in seconds.  Operates like the\n  ## "-i" option of the ping command.\n  # ping_interval = 1.0\n\n  ## If set, the time to wait for a ping response in seconds.  Operates like\n  ## the "-W" option of the ping command.\n  # timeout = 1.0\n\n  ## If set, the total ping deadline, in seconds.  Operates like the -w option\n  ## of the ping command.\n  # deadline = 10\n\n  ## Interface or source address to send ping from.  Operates like the -I or -S\n  ## option of the ping command.\n  # interface = ""\n\n  ## Specify the ping executable binary.\n  # binary = "ping"\n\n  ## Arguments for ping command. When arguments is not empty, the command from\n  ## the binary option will be used and other options (ping_interval, timeout,\n  ## etc) will be ignored.\n  # arguments = ["-c", "3"]\n\n  ## Use only IPv6 addresses when resolving a hostname.\n  # ipv6 = false\n```\n\n#### File Limit\n\nSince this plugin runs the ping command, it may need to open multiple files per\nhost.  The number of files used is lessened with the `native` option but still\nmany files are used.  With a large host list you may receive a `too many open\nfiles` error.\n\nTo increase this limit on platforms using systemd the recommended method is to\nuse the "drop-in directory", usually located at\n`/etc/systemd/system/telegraf.service.d`.\n\nYou can create or edit a drop-in file in the correct location using:\n```sh\n$ systemctl edit telegraf\n```\n\nIncrease the number of open files:\n```ini\n[Service]\nLimitNOFILE=8192\n```\n\nRestart Telegraf:\n```sh\n$ systemctl edit telegraf\n```\n\n#### Linux Permissions\n\nWhen using `method = "native"`, Telegraf will attempt to use privileged raw\nICMP sockets.  On most systems, doing so requires `CAP_NET_RAW` capabilities.\n\nWith systemd:\n```sh\n$ systemctl edit telegraf\n```\n```ini\n[Service]\nCapabilityBoundingSet=CAP_NET_RAW\nAmbientCapabilities=CAP_NET_RAW\n```\n```sh\n$ systemctl restart telegraf\n```\n\nWithout systemd:\n```sh\n$ setcap cap_net_raw=eip /usr/bin/telegraf\n```\n\nReference [`man 7 capabilities`][man 7 capabilities] for more information about\nsetting capabilities.\n\n[man 7 capabilities]: http://man7.org/linux/man-pages/man7/capabilities.7.html\n\nWhen Telegraf cannot listen on a privileged ICMP socket it will attempt to use\nICMP echo sockets.  If you wish to use this method you must ensure Telegraf\'s\ngroup, usually `telegraf`, is allowed to use ICMP echo sockets:\n\n```sh\n$ sysctl -w net.ipv4.ping_group_range="GROUP_ID_LOW   GROUP_ID_HIGH"\n```\n\nReference [`man 7 icmp`][man 7 icmp] for more information about ICMP echo\nsockets and the `ping_group_range` setting.\n\n[man 7 icmp]: http://man7.org/linux/man-pages/man7/icmp.7.html\n\n### Metrics\n\n- ping\n  - tags:\n    - url\n  - fields:\n    - packets_transmitted (integer)\n    - packets_received (integer)\n    - percent_packet_loss (float)\n    - ttl (integer, Not available on Windows)\n    - average_response_ms (integer)\n    - minimum_response_ms (integer)\n    - maximum_response_ms (integer)\n    - standard_deviation_ms (integer, Available on Windows only with native ping)\n    - errors (float, Windows only)\n    - reply_received (integer, Windows with method = "exec" only)\n    - percent_reply_loss (float, Windows with method = "exec" only)\n    - result_code (int, success = 0, no such host = 1, ping error = 2)\n\n##### reply_received vs packets_received\n\nOn Windows systems with `method = "exec"`, the "Destination net unreachable" reply will increment `packets_received` but not `reply_received`*.\n\n##### ttl\n\nThere is currently no support for TTL on windows with `"native"`; track\nprogress at https://github.com/golang/go/issues/7175 and\nhttps://github.com/golang/go/issues/7174\n\n\n### Example Output\n\n```\nping,url=example.org average_response_ms=23.066,ttl=63,maximum_response_ms=24.64,minimum_response_ms=22.451,packets_received=5i,packets_transmitted=5i,percent_packet_loss=0,result_code=0i,standard_deviation_ms=0.809 1535747258000000000\n```\n',image:aE.a},{id:"postfix",name:"Postfix",url:"telegraf-plugins/postfix",markdown:"# Postfix Input Plugin\n\nThe postfix plugin reports metrics on the postfix queues.\n\nFor each of the active, hold, incoming, maildrop, and deferred queues\n(http://www.postfix.org/QSHAPE_README.html#queues), it will report the queue\nlength (number of items), size (bytes used by items), and age (age of oldest\nitem in seconds).\n\n### Configuration\n\n```toml\n[[inputs.postfix]]\n  ## Postfix queue directory. If not provided, telegraf will try to use\n  ## 'postconf -h queue_directory' to determine it.\n  # queue_directory = \"/var/spool/postfix\"\n```\n\n#### Permissions\n\nTelegraf will need read access to the files in the queue directory.  You may\nneed to alter the permissions of these directories to provide access to the\ntelegraf user.\n\nThis can be setup either using standard unix permissions or with Posix ACLs,\nyou will only need to use one method:\n\nUnix permissions:\n```sh\n$ sudo chgrp -R telegraf /var/spool/postfix/{active,hold,incoming,deferred}\n$ sudo chmod -R g+rXs /var/spool/postfix/{active,hold,incoming,deferred}\n$ sudo usermod -a -G postdrop telegraf\n$ sudo chmod g+r /var/spool/postfix/maildrop\n```\n\nPosix ACL:\n```sh\n$ sudo setfacl -Rm g:telegraf:rX /var/spool/postfix/\n$ sudo setfacl -dm g:telegraf:rX /var/spool/postfix/\n```\n\n### Metrics\n\n- postfix_queue\n  - tags:\n    - queue\n  - fields:\n    - length (integer)\n    - size (integer, bytes)\n    - age (integer, seconds)\n\n\n### Example Output\n\n```\npostfix_queue,queue=active length=3,size=12345,age=9\npostfix_queue,queue=hold length=0,size=0,age=0\npostfix_queue,queue=maildrop length=1,size=2000,age=2\npostfix_queue,queue=incoming length=1,size=1020,age=0\npostfix_queue,queue=deferred length=400,size=76543210,age=3600\n```\n",image:rE.a},{id:"postgresql",name:"PostgreSQL",url:"telegraf-plugins/postgresql",markdown:'# PostgreSQL Input Plugin\n\nThis postgresql plugin provides metrics for your postgres database. It currently works with postgres versions 8.1+. It uses data from the built in _pg_stat_database_ and pg_stat_bgwriter views. The metrics recorded depend on your version of postgres. See table:\n```\npg version      9.2+   9.1   8.3-9.0   8.1-8.2   7.4-8.0(unsupported)\n---             ---    ---   -------   -------   -------\ndatid            x      x       x         x\ndatname          x      x       x         x\nnumbackends      x      x       x         x         x\nxact_commit      x      x       x         x         x\nxact_rollback    x      x       x         x         x\nblks_read        x      x       x         x         x\nblks_hit         x      x       x         x         x\ntup_returned     x      x       x\ntup_fetched      x      x       x\ntup_inserted     x      x       x\ntup_updated      x      x       x\ntup_deleted      x      x       x\nconflicts        x      x\ntemp_files       x\ntemp_bytes       x\ndeadlocks        x\nblk_read_time    x\nblk_write_time   x\nstats_reset*     x      x\n```\n\n_* value ignored and therefore not recorded._\n\n\nMore information about the meaning of these metrics can be found in the [PostgreSQL Documentation](http://www.postgresql.org/docs/9.2/static/monitoring-stats.html#PG-STAT-DATABASE-VIEW)\n\n## Configuration\nSpecify address via a postgresql connection string:\n\n  `host=localhost port=5432 user=telegraf database=telegraf`\n\nOr via an url matching:\n\n  `postgres://[pqgotest[:password]]@host:port[/dbname]?sslmode=[disable|verify-ca|verify-full]`\n\nAll connection parameters are optional. Without the dbname parameter, the driver will default to a database with the same name as the user. This dbname is just for instantiating a connection with the server and doesn\'t restrict the databases we are trying to grab metrics for.\n\nA  list of databases to explicitly ignore.  If not specified, metrics for all databases are gathered.  Do NOT use with the \'databases\' option.\n\n  `ignored_databases = ["postgres", "template0", "template1"]`\n\nA list of databases to pull metrics about. If not specified, metrics for all databases are gathered.  Do NOT use with the \'ignored_databases\' option.\n\n  `databases = ["app_production", "testing"]`\n\n### TLS Configuration\n\nAdd the `sslkey`, `sslcert` and `sslrootcert` options to your DSN:\n```\nhost=localhost user=pgotest dbname=app_production sslmode=require sslkey=/etc/telegraf/key.pem sslcert=/etc/telegraf/cert.pem sslrootcert=/etc/telegraf/ca.pem\n```\n\n### Configuration example\n```toml\n[[inputs.postgresql]]\n  address = "postgres://telegraf@localhost/someDB"\n  ignored_databases = ["template0", "template1"]\n```\n',image:cE.a},{id:"postgresql_extensible",name:"PostgreSQL Extensible",url:"telegraf-plugins/postgresql_extensible",markdown:"# PostgreSQL Extensible Input Plugin\n\nThis postgresql plugin provides metrics for your postgres database. It has been\ndesigned to parse SQL queries in the plugin section of your `telegraf.conf`.\n\nThe example below has two queries are specified, with the following parameters:\n\n* The SQL query itself\n* The minimum PostgreSQL version supported (the numeric display visible in pg_settings)\n* A boolean to define if the query has to be run against some specific database (defined in the `databases` variable of the plugin section)\n* The name of the measurement\n* A list of the columns to be defined as tags\n\n```toml\n[[inputs.postgresql_extensible]]\n  # specify address via a url matching:\n  # postgres://[pqgotest[:password]]@host:port[/dbname]?sslmode=...\n  # or a simple string:\n  #   host=localhost port=5432 user=pqgotest password=... sslmode=... dbname=app_production\n  #\n  # All connection parameters are optional.\n  # Without the dbname parameter, the driver will default to a database\n  # with the same name as the user. This dbname is just for instantiating a\n  # connection with the server and doesn't restrict the databases we are trying\n  # to grab metrics for.\n  #\n  address = \"host=localhost user=postgres sslmode=disable\"\n  # A list of databases to pull metrics about. If not specified, metrics for all\n  # databases are gathered.\n  # databases = [\"app_production\", \"testing\"]\n  #\n  # Define the toml config where the sql queries are stored\n  # New queries can be added, if the withdbname is set to true and there is no\n  # databases defined in the 'databases field', the sql query is ended by a 'is\n  # not null' in order to make the query succeed.\n  # Be careful that the sqlquery must contain the where clause with a part of\n  # the filtering, the plugin will add a 'IN (dbname list)' clause if the\n  # withdbname is set to true\n  # Example :\n  # The sqlquery : \"SELECT * FROM pg_stat_database where datname\" become\n  # \"SELECT * FROM pg_stat_database where datname IN ('postgres', 'pgbench')\"\n  # because the databases variable was set to ['postgres', 'pgbench' ] and the\n  # withdbname was true.\n  # Be careful that if the withdbname is set to false you don't have to define\n  # the where clause (aka with the dbname)\n  #\n  # The script option can be used to specify the .sql file path.\n  # If script and sqlquery options specified at same time, sqlquery will be used\n  #\n  # the tagvalue field is used to define custom tags (separated by comas).\n  # the query is expected to return columns which match the names of the\n  # defined tags. The values in these columns must be of a string-type,\n  # a number-type or a blob-type.\n  #\n  # Structure :\n  # [[inputs.postgresql_extensible.query]]\n  #   sqlquery string\n  #   version string\n  #   withdbname boolean\n  #   tagvalue string (coma separated)\n  [[inputs.postgresql_extensible.query]]\n    sqlquery=\"SELECT * FROM pg_stat_database where datname\"\n    version=901\n    withdbname=false\n    tagvalue=\"\"\n  [[inputs.postgresql_extensible.query]]\n    script=\"your_sql-filepath.sql\"\n    version=901\n    withdbname=false\n    tagvalue=\"\"\n```\n\nThe system can be easily extended using homemade metrics collection tools or\nusing postgresql extensions ([pg_stat_statements](http://www.postgresql.org/docs/current/static/pgstatstatements.html), [pg_proctab](https://github.com/markwkm/pg_proctab) or [powa](http://dalibo.github.io/powa/))\n\n# Sample Queries :\n- telegraf.conf postgresql_extensible queries (assuming that you have configured\n correctly your connection)\n```toml\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"SELECT * FROM pg_stat_database\"\n  version=901\n  withdbname=false\n  tagvalue=\"\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"SELECT * FROM pg_stat_bgwriter\"\n  version=901\n  withdbname=false\n  tagvalue=\"\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"select * from sessions\"\n  version=901\n  withdbname=false\n  tagvalue=\"db,username,state\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"select setting as max_connections from pg_settings where \\\n  name='max_connections'\"\n  version=801\n  withdbname=false\n  tagvalue=\"\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"select * from pg_stat_kcache\"\n  version=901\n  withdbname=false\n  tagvalue=\"\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"select setting as shared_buffers from pg_settings where \\\n  name='shared_buffers'\"\n  version=801\n  withdbname=false\n  tagvalue=\"\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"SELECT db, count( distinct blocking_pid ) AS num_blocking_sessions,\\\n  count( distinct blocked_pid) AS num_blocked_sessions FROM \\\n  public.blocking_procs group by db\"\n  version=901\n  withdbname=false\n  tagvalue=\"db\"\n[[inputs.postgresql_extensible.query]]\n  sqlquery=\"\"\"\n    SELECT type, (enabled || '') AS enabled, COUNT(*)\n      FROM application_users\n      GROUP BY type, enabled\n  \"\"\"\n  version=901\n  withdbname=false\n  tagvalue=\"type,enabled\"\n```\n\n# Postgresql Side\npostgresql.conf :\n```\nshared_preload_libraries = 'pg_stat_statements,pg_stat_kcache'\n```\n\nPlease follow the requirements to setup those extensions.\n\nIn the database (can be a specific monitoring db)\n```\ncreate extension pg_stat_statements;\ncreate extension pg_stat_kcache;\ncreate extension pg_proctab;\n```\n(assuming that the extension is installed on the OS Layer)\n\n - pg_stat_kcache is available on the postgresql.org yum repo\n - pg_proctab is available at : https://github.com/markwkm/pg_proctab\n\n ## Views\n - Blocking sessions\n```sql\nCREATE OR REPLACE VIEW public.blocking_procs AS\n SELECT a.datname AS db,\n    kl.pid AS blocking_pid,\n    ka.usename AS blocking_user,\n    ka.query AS blocking_query,\n    bl.pid AS blocked_pid,\n    a.usename AS blocked_user,\n    a.query AS blocked_query,\n    to_char(age(now(), a.query_start), 'HH24h:MIm:SSs'::text) AS age\n   FROM pg_locks bl\n     JOIN pg_stat_activity a ON bl.pid = a.pid\n     JOIN pg_locks kl ON bl.locktype = kl.locktype AND NOT bl.database IS\n     DISTINCT FROM kl.database AND NOT bl.relation IS DISTINCT FROM kl.relation\n     AND NOT bl.page IS DISTINCT FROM kl.page AND NOT bl.tuple IS DISTINCT FROM\n     kl.tuple AND NOT bl.virtualxid IS DISTINCT FROM kl.virtualxid AND NOT\n     bl.transactionid IS DISTINCT FROM kl.transactionid AND NOT bl.classid IS\n     DISTINCT FROM kl.classid AND NOT bl.objid IS DISTINCT FROM kl.objid AND\n      NOT bl.objsubid IS DISTINCT FROM kl.objsubid AND bl.pid <> kl.pid\n     JOIN pg_stat_activity ka ON kl.pid = ka.pid\n  WHERE kl.granted AND NOT bl.granted\n  ORDER BY a.query_start;\n```\n  - Sessions Statistics\n```sql\nCREATE OR REPLACE VIEW public.sessions AS\n WITH proctab AS (\n         SELECT pg_proctab.pid,\n                CASE\n                    WHEN pg_proctab.state::text = 'R'::bpchar::text\n                      THEN 'running'::text\n                    WHEN pg_proctab.state::text = 'D'::bpchar::text\n                      THEN 'sleep-io'::text\n                    WHEN pg_proctab.state::text = 'S'::bpchar::text\n                      THEN 'sleep-waiting'::text\n                    WHEN pg_proctab.state::text = 'Z'::bpchar::text\n                      THEN 'zombie'::text\n                    WHEN pg_proctab.state::text = 'T'::bpchar::text\n                      THEN 'stopped'::text\n                    ELSE NULL::text\n                END AS proc_state,\n            pg_proctab.ppid,\n            pg_proctab.utime,\n            pg_proctab.stime,\n            pg_proctab.vsize,\n            pg_proctab.rss,\n            pg_proctab.processor,\n            pg_proctab.rchar,\n            pg_proctab.wchar,\n            pg_proctab.syscr,\n            pg_proctab.syscw,\n            pg_proctab.reads,\n            pg_proctab.writes,\n            pg_proctab.cwrites\n           FROM pg_proctab() pg_proctab(pid, comm, fullcomm, state, ppid, pgrp,\n             session, tty_nr, tpgid, flags, minflt, cminflt, majflt, cmajflt,\n             utime, stime, cutime, cstime, priority, nice, num_threads,\n             itrealvalue, starttime, vsize, rss, exit_signal, processor,\n             rt_priority, policy, delayacct_blkio_ticks, uid, username, rchar,\n             wchar, syscr, syscw, reads, writes, cwrites)\n        ), stat_activity AS (\n         SELECT pg_stat_activity.datname,\n            pg_stat_activity.pid,\n            pg_stat_activity.usename,\n                CASE\n                    WHEN pg_stat_activity.query IS NULL THEN 'no query'::text\n                    WHEN pg_stat_activity.query IS NOT NULL AND\n                    pg_stat_activity.state = 'idle'::text THEN 'no query'::text\n                    ELSE regexp_replace(pg_stat_activity.query, '[\\n\\r]+'::text,\n                       ' '::text, 'g'::text)\n                END AS query\n           FROM pg_stat_activity\n        )\n SELECT stat.datname::name AS db,\n    stat.usename::name AS username,\n    stat.pid,\n    proc.proc_state::text AS state,\n('\"'::text || stat.query) || '\"'::text AS query,\n    (proc.utime/1000)::bigint AS session_usertime,\n    (proc.stime/1000)::bigint AS session_systemtime,\n    proc.vsize AS session_virtual_memory_size,\n    proc.rss AS session_resident_memory_size,\n    proc.processor AS session_processor_number,\n    proc.rchar AS session_bytes_read,\n    proc.rchar-proc.reads AS session_logical_bytes_read,\n    proc.wchar AS session_bytes_written,\n    proc.wchar-proc.writes AS session_logical_bytes_writes,\n    proc.syscr AS session_read_io,\n    proc.syscw AS session_write_io,\n    proc.reads AS session_physical_reads,\n    proc.writes AS session_physical_writes,\n    proc.cwrites AS session_cancel_writes\n   FROM proctab proc,\n    stat_activity stat\n  WHERE proc.pid = stat.pid;\n```\n",image:iE.a},{id:"powerdns",name:"PowerDNS",url:"telegraf-plugins/powerdns",markdown:"# PowerDNS Input Plugin\n\nThe powerdns plugin gathers metrics about PowerDNS using unix socket.\n\n### Configuration:\n\n```toml\n# Description\n[[inputs.powerdns]]\n  # An array of sockets to gather stats about.\n  # Specify a path to unix socket.\n  #\n  # If no servers are specified, then '/var/run/pdns.controlsocket' is used as the path.\n  unix_sockets = [\"/var/run/pdns.controlsocket\"]\n```\n\n#### Permissions\n\nTelegraf will need read access to the powerdns control socket.\n\nOn many systems this can be accomplished by adding the `telegraf` user to the\n`pdns` group:\n```\nusermod telegraf -a -G pdns\n```\n\n### Measurements & Fields:\n\n- powerdns\n  - corrupt-packets\n  - deferred-cache-inserts\n  - deferred-cache-lookup\n  - dnsupdate-answers\n  - dnsupdate-changes\n  - dnsupdate-queries\n  - dnsupdate-refused\n  - packetcache-hit\n  - packetcache-miss\n  - packetcache-size\n  - query-cache-hit\n  - query-cache-miss\n  - rd-queries\n  - recursing-answers\n  - recursing-questions\n  - recursion-unanswered\n  - security-status\n  - servfail-packets\n  - signatures\n  - tcp-answers\n  - tcp-queries\n  - timedout-packets\n  - udp-answers\n  - udp-answers-bytes\n  - udp-do-queries\n  - udp-queries\n  - udp4-answers\n  - udp4-queries\n  - udp6-answers\n  - udp6-queries\n  - key-cache-size\n  - latency\n  - meta-cache-size\n  - qsize-q\n  - signature-cache-size\n  - sys-msec\n  - uptime\n  - user-msec\n\n### Tags:\n\n- tags: `server=socket`\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter powerdns --test\n> powerdns,server=/var/run/pdns.controlsocket corrupt-packets=0i,deferred-cache-inserts=0i,deferred-cache-lookup=0i,dnsupdate-answers=0i,dnsupdate-changes=0i,dnsupdate-queries=0i,dnsupdate-refused=0i,key-cache-size=0i,latency=26i,meta-cache-size=0i,packetcache-hit=0i,packetcache-miss=1i,packetcache-size=0i,qsize-q=0i,query-cache-hit=0i,query-cache-miss=6i,rd-queries=1i,recursing-answers=0i,recursing-questions=0i,recursion-unanswered=0i,security-status=3i,servfail-packets=0i,signature-cache-size=0i,signatures=0i,sys-msec=4349i,tcp-answers=0i,tcp-queries=0i,timedout-packets=0i,udp-answers=1i,udp-answers-bytes=50i,udp-do-queries=0i,udp-queries=0i,udp4-answers=1i,udp4-queries=1i,udp6-answers=0i,udp6-queries=0i,uptime=166738i,user-msec=3036i 1454078624932715706\n```\n",image:pE.a},{id:"powerdns_recursor",name:"PowerDNS Recursor",url:"telegraf-plugins/powerdns_recursor",markdown:'# PowerDNS Recursor Input Plugin\n\nThe `powerdns_recursor` plugin gathers metrics about PowerDNS Recursor using\nthe unix controlsocket.\n\n### Configuration\n\n```toml\n[[inputs.powerdns_recursor]]\n  ## Path to the Recursor control socket.\n  unix_sockets = ["/var/run/pdns_recursor.controlsocket"]\n\n  ## Directory to create receive socket.  This default is likely not writable,\n  ## please reference the full plugin documentation for a recommended setup.\n  # socket_dir = "/var/run/"\n  ## Socket permissions for the receive socket.\n  # socket_mode = "0666"\n```\n\n#### Permissions\n\nTelegraf will need read/write access to the control socket and to the\n`socket_dir`.  PowerDNS will need to be able to write to the `socket_dir`.\n\nThe setup described below was tested on a Debian Stretch system and may need\nadapted for other systems.\n\nFirst change permissions on the controlsocket in the PowerDNS recursor\nconfiguration, usually in `/etc/powerdns/recursor.conf`:\n```\nsocket-mode = 660\n```\n\nThen place the `telegraf` user into the `pdns` group:\n```\nusermod telegraf -a -G pdns\n```\n\nSince `telegraf` cannot write to to the default `/var/run` socket directory,\ncreate a subdirectory and adjust permissions for this directory so that both\nusers can access it.\n```sh\n$ mkdir /var/run/pdns\n$ chown root:pdns /var/run/pdns\n$ chmod 770 /var/run/pdns\n```\n\n### Metrics\n\n- powerdns_recursor\n  - tags:\n    - server\n  - fields:\n    - all-outqueries\n    - answers-slow\n    - answers0-1\n    - answers1-10\n    - answers10-100\n    - answers100-1000\n    - auth-zone-queries\n    - auth4-answers-slow\n    - auth4-answers0-1\n    - auth4-answers1-10\n    - auth4-answers10-100\n    - auth4-answers100-1000\n    - auth6-answers-slow\n    - auth6-answers0-1\n    - auth6-answers1-10\n    - auth6-answers10-100\n    - auth6-answers100-1000\n    - cache-entries\n    - cache-hits\n    - cache-misses\n    - case-mismatches\n    - chain-resends\n    - client-parse-errors\n    - concurrent-queries\n    - dlg-only-drops\n    - dnssec-queries\n    - dnssec-result-bogus\n    - dnssec-result-indeterminate\n    - dnssec-result-insecure\n    - dnssec-result-nta\n    - dnssec-result-secure\n    - dnssec-validations\n    - dont-outqueries\n    - ecs-queries\n    - ecs-responses\n    - edns-ping-matches\n    - edns-ping-mismatches\n    - failed-host-entries\n    - fd-usage\n    - ignored-packets\n    - ipv6-outqueries\n    - ipv6-questions\n    - malloc-bytes\n    - max-cache-entries\n    - max-mthread-stack\n    - max-packetcache-entries\n    - negcache-entries\n    - no-packet-error\n    - noedns-outqueries\n    - noerror-answers\n    - noping-outqueries\n    - nsset-invalidations\n    - nsspeeds-entries\n    - nxdomain-answers\n    - outgoing-timeouts\n    - outgoing4-timeouts\n    - outgoing6-timeouts\n    - over-capacity-drops\n    - packetcache-entries\n    - packetcache-hits\n    - packetcache-misses\n    - policy-drops\n    - policy-result-custom\n    - policy-result-drop\n    - policy-result-noaction\n    - policy-result-nodata\n    - policy-result-nxdomain\n    - policy-result-truncate\n    - qa-latency\n    - query-pipe-full-drops\n    - questions\n    - real-memory-usage\n    - resource-limits\n    - security-status\n    - server-parse-errors\n    - servfail-answers\n    - spoof-prevents\n    - sys-msec\n    - tcp-client-overflow\n    - tcp-clients\n    - tcp-outqueries\n    - tcp-questions\n    - throttle-entries\n    - throttled-out\n    - throttled-outqueries\n    - too-old-drops\n    - udp-in-errors\n    - udp-noport-errors\n    - udp-recvbuf-errors\n    - udp-sndbuf-errors\n    - unauthorized-tcp\n    - unauthorized-udp\n    - unexpected-packets\n    - unreachables\n    - uptime\n    - user-msec\n    - x-our-latency\n    - x-ourtime-slow\n    - x-ourtime0-1\n    - x-ourtime1-2\n    - x-ourtime16-32\n    - x-ourtime2-4\n    - x-ourtime4-8\n    - x-ourtime8-16\n\n### Example Output\n\n```\npowerdns_recursor,server=/var/run/pdns_recursor.controlsocket all-outqueries=3631810i,answers-slow=36863i,answers0-1=179612i,answers1-10=1223305i,answers10-100=1252199i,answers100-1000=408357i,auth-zone-queries=4i,auth4-answers-slow=44758i,auth4-answers0-1=59721i,auth4-answers1-10=1766787i,auth4-answers10-100=1329638i,auth4-answers100-1000=430372i,auth6-answers-slow=0i,auth6-answers0-1=0i,auth6-answers1-10=0i,auth6-answers10-100=0i,auth6-answers100-1000=0i,cache-entries=296689i,cache-hits=150654i,cache-misses=2949682i,case-mismatches=0i,chain-resends=420004i,client-parse-errors=0i,concurrent-queries=0i,dlg-only-drops=0i,dnssec-queries=152970i,dnssec-result-bogus=0i,dnssec-result-indeterminate=0i,dnssec-result-insecure=0i,dnssec-result-nta=0i,dnssec-result-secure=47i,dnssec-validations=47i,dont-outqueries=62i,ecs-queries=0i,ecs-responses=0i,edns-ping-matches=0i,edns-ping-mismatches=0i,failed-host-entries=21i,fd-usage=32i,ignored-packets=0i,ipv6-outqueries=0i,ipv6-questions=0i,malloc-bytes=0i,max-cache-entries=1000000i,max-mthread-stack=33747i,max-packetcache-entries=500000i,negcache-entries=100019i,no-packet-error=0i,noedns-outqueries=73341i,noerror-answers=25453808i,noping-outqueries=0i,nsset-invalidations=2398i,nsspeeds-entries=3966i,nxdomain-answers=3341302i,outgoing-timeouts=44384i,outgoing4-timeouts=44384i,outgoing6-timeouts=0i,over-capacity-drops=0i,packetcache-entries=78258i,packetcache-hits=25999027i,packetcache-misses=3100179i,policy-drops=0i,policy-result-custom=0i,policy-result-drop=0i,policy-result-noaction=3100336i,policy-result-nodata=0i,policy-result-nxdomain=0i,policy-result-truncate=0i,qa-latency=6553i,query-pipe-full-drops=0i,questions=29099363i,real-memory-usage=280494080i,resource-limits=0i,security-status=1i,server-parse-errors=0i,servfail-answers=304253i,spoof-prevents=0i,sys-msec=1312600i,tcp-client-overflow=0i,tcp-clients=0i,tcp-outqueries=116i,tcp-questions=133i,throttle-entries=21i,throttled-out=13296i,throttled-outqueries=13296i,too-old-drops=2i,udp-in-errors=4i,udp-noport-errors=2918i,udp-recvbuf-errors=0i,udp-sndbuf-errors=0i,unauthorized-tcp=0i,unauthorized-udp=0i,unexpected-packets=0i,unreachables=1708i,uptime=167482i,user-msec=1282640i,x-our-latency=19i,x-ourtime-slow=642i,x-ourtime0-1=3095566i,x-ourtime1-2=3401i,x-ourtime16-32=201i,x-ourtime2-4=304i,x-ourtime4-8=198i,x-ourtime8-16=24i 1533903879000000000\n```\n',image:mE.a},{id:"processes",name:"Processes",url:"telegraf-plugins/processes",markdown:"# Processes Input Plugin\n\nThis plugin gathers info about the total number of processes and groups\nthem by status (zombie, sleeping, running, etc.)\n\nOn linux this plugin requires access to procfs (/proc), on other OSes\nit requires access to execute `ps`.\n\n**Supported Platforms**: Linux, FreeBSD, Darwin\n\n### Configuration\n\n```toml\n# Get the number of processes and group them by status\n[[inputs.processes]]\n  # no configuration\n```\n\nAnother possible configuration is to define an alternative path for resolving the /proc location.\nUsing the environment variable `HOST_PROC` the plugin will retrieve process information from the specified location.\n\n`docker run -v /proc:/rootfs/proc:ro -e HOST_PROC=/rootfs/proc`\n\n### Metrics\n\n- processes\n  - fields:\n    - blocked (aka disk sleep or uninterruptible sleep)\n    - running\n    - sleeping\n    - stopped\n    - total\n    - zombie\n    - dead\n    - wait (freebsd only)\n    - idle (bsd and Linux 4+ only)\n    - paging (linux only)\n    - parked (linux only)\n    - total_threads (linux only)\n\n### Process State Mappings\n\nDifferent OSes use slightly different State codes for their processes, these\nstate codes are documented in `man ps`, and I will give a mapping of what major\nOS state codes correspond to in telegraf metrics:\n\n```\nLinux  FreeBSD  Darwin  meaning\n  R       R       R     running\n  S       S       S     sleeping\n  Z       Z       Z     zombie\n  X      none    none   dead\n  T       T       T     stopped\n  I       I       I     idle (sleeping for longer than about 20 seconds)\n  D      D,L      U     blocked (waiting in uninterruptible sleep, or locked)\n  W       W      none   paging (linux kernel < 2.6 only), wait (freebsd)\n```\n\n### Example Output\n\n```\nprocesses blocked=8i,running=1i,sleeping=265i,stopped=0i,total=274i,zombie=0i,dead=0i,paging=0i,total_threads=687i 1457478636980905042\n```\n",image:_E.a},{id:"procstat",name:"Procstat",url:"telegraf-plugins/procstat",markdown:'# Procstat Input Plugin\n\nThe procstat plugin can be used to monitor the system resource usage of one or more processes.\nThe procstat_lookup metric displays the query information,\nspecifically the number of PIDs returned on a search\n\nProcesses can be selected for monitoring using one of several methods:\n- pidfile\n- exe\n- pattern\n- user\n- systemd_unit\n- cgroup\n- win_service\n\n### Configuration:\n\n```toml\n# Monitor process cpu and memory usage\n[[inputs.procstat]]\n  ## PID file to monitor process\n  pid_file = "/var/run/nginx.pid"\n  ## executable name (ie, pgrep <exe>)\n  # exe = "nginx"\n  ## pattern as argument for pgrep (ie, pgrep -f <pattern>)\n  # pattern = "nginx"\n  ## user as argument for pgrep (ie, pgrep -u <user>)\n  # user = "nginx"\n  ## Systemd unit name\n  # systemd_unit = "nginx.service"\n  ## CGroup name or path\n  # cgroup = "systemd/system.slice/nginx.service"\n\n  ## Windows service name\n  # win_service = ""\n\n  ## override for process_name\n  ## This is optional; default is sourced from /proc/<pid>/status\n  # process_name = "bar"\n\n  ## Field name prefix\n  # prefix = ""\n\n  ## When true add the full cmdline as a tag.\n  # cmdline_tag = false\n\n  ## Add the PID as a tag instead of as a field.  When collecting multiple\n  ## processes with otherwise matching tags this setting should be enabled to\n  ## ensure each process has a unique identity.\n  ##\n  ## Enabling this option may result in a large number of series, especially\n  ## when processes have a short lifetime.\n  # pid_tag = false\n\n  ## Method to use when finding process IDs.  Can be one of \'pgrep\', or\n  ## \'native\'.  The pgrep finder calls the pgrep executable in the PATH while\n  ## the native finder performs the search directly in a manor dependent on the\n  ## platform.  Default is \'pgrep\'\n  # pid_finder = "pgrep"\n```\n\n#### Windows support\n\nPreliminary support for Windows has been added, however you may prefer using\nthe `win_perf_counters` input plugin as a more mature alternative.\n\nWhen using the `pid_finder = "native"` in Windows, the pattern lookup method is\nimplemented as a WMI query.  The pattern allows fuzzy matching using only\n[WMI query patterns](https://msdn.microsoft.com/en-us/library/aa392263(v=vs.85).aspx):\n```toml\n[[inputs.procstat]]\n  pattern = "%influx%"\n  pid_finder = "native"\n```\n\n### Metrics:\n\n- procstat\n  - tags:\n    - pid (when `pid_tag` is true)\n    - cmdline (when \'cmdline_tag\' is true)\n    - process_name\n    - pidfile (when defined)\n    - exe (when defined)\n    - pattern (when defined)\n    - user (when selected)\n    - systemd_unit (when defined)\n    - cgroup (when defined)\n    - win_service (when defined)\n  - fields:\n    - child_major_faults (int)\n    - child_minor_faults (int)\n    - created_at (int) [epoch in nanoseconds]\n    - cpu_time (int)\n    - cpu_time_guest (float)\n    - cpu_time_guest_nice (float)\n    - cpu_time_idle (float)\n    - cpu_time_iowait (float)\n    - cpu_time_irq (float)\n    - cpu_time_nice (float)\n    - cpu_time_soft_irq (float)\n    - cpu_time_steal (float)\n    - cpu_time_system (float)\n    - cpu_time_user (float)\n    - cpu_usage (float)\n    - involuntary_context_switches (int)\n    - major_faults (int)\n    - memory_data (int)\n    - memory_locked (int)\n    - memory_rss (int)\n    - memory_stack (int)\n    - memory_swap (int)\n    - memory_usage (float)\n    - memory_vms (int)\n    - minor_faults (int)\n    - nice_priority (int)\n    - num_fds (int, *telegraf* may need to be ran as **root**)\n    - num_threads (int)\n    - pid (int)\n    - read_bytes (int, *telegraf* may need to be ran as **root**)\n    - read_count (int, *telegraf* may need to be ran as **root**)\n    - realtime_priority (int)\n    - rlimit_cpu_time_hard (int)\n    - rlimit_cpu_time_soft (int)\n    - rlimit_file_locks_hard (int)\n    - rlimit_file_locks_soft (int)\n    - rlimit_memory_data_hard (int)\n    - rlimit_memory_data_soft (int)\n    - rlimit_memory_locked_hard (int)\n    - rlimit_memory_locked_soft (int)\n    - rlimit_memory_rss_hard (int)\n    - rlimit_memory_rss_soft (int)\n    - rlimit_memory_stack_hard (int)\n    - rlimit_memory_stack_soft (int)\n    - rlimit_memory_vms_hard (int)\n    - rlimit_memory_vms_soft (int)\n    - rlimit_nice_priority_hard (int)\n    - rlimit_nice_priority_soft (int)\n    - rlimit_num_fds_hard (int)\n    - rlimit_num_fds_soft (int)\n    - rlimit_realtime_priority_hard (int)\n    - rlimit_realtime_priority_soft (int)\n    - rlimit_signals_pending_hard (int)\n    - rlimit_signals_pending_soft (int)\n    - signals_pending (int)\n    - voluntary_context_switches (int)\n    - write_bytes (int, *telegraf* may need to be ran as **root**)\n    - write_count (int, *telegraf* may need to be ran as **root**)\n- procstat_lookup\n  - tags:\n    - exe\n    - pid_finder\n    - pid_file\n    - pattern\n    - prefix\n    - user\n    - systemd_unit\n    - cgroup\n    - win_service\n    - result\n  - fields:\n    - pid_count (int)\n    - running (int)\n    - result_code (int, success = 0, lookup_error = 1)\n\n*NOTE: Resource limit > 2147483647 will be reported as 2147483647.*\n\n### Example Output:\n\n```\nprocstat_lookup,host=prash-laptop,pattern=influxd,pid_finder=pgrep,result=success pid_count=1i,running=1i,result_code=0i 1582089700000000000\nprocstat,host=prash-laptop,pattern=influxd,process_name=influxd,user=root involuntary_context_switches=151496i,child_minor_faults=1061i,child_major_faults=8i,cpu_time_user=2564.81,cpu_time_idle=0,cpu_time_irq=0,cpu_time_guest=0,pid=32025i,major_faults=8609i,created_at=1580107536000000000i,voluntary_context_switches=1058996i,cpu_time_system=616.98,cpu_time_steal=0,cpu_time_guest_nice=0,memory_swap=0i,memory_locked=0i,memory_usage=1.7797634601593018,num_threads=18i,cpu_time_nice=0,cpu_time_iowait=0,cpu_time_soft_irq=0,memory_rss=148643840i,memory_vms=1435688960i,memory_data=0i,memory_stack=0i,minor_faults=1856550i 1582089700000000000\n```\n',image:fE.a},{id:"prometheus",name:"Prometheus",url:"telegraf-plugins/prometheus",markdown:'# Prometheus Input Plugin\n\nThe prometheus input plugin gathers metrics from HTTP servers exposing metrics\nin Prometheus format.\n\n### Configuration:\n\n```toml\n# Read metrics from one or many prometheus clients\n[[inputs.prometheus]]\n  ## An array of urls to scrape metrics from.\n  urls = ["http://localhost:9100/metrics"]\n\n  ## Metric version controls the mapping from Prometheus metrics into\n  ## Telegraf metrics.  When using the prometheus_client output, use the same\n  ## value in both plugins to ensure metrics are round-tripped without\n  ## modification.\n  ##\n  ##   example: metric_version = 1; deprecated in 1.13\n  ##            metric_version = 2; recommended version\n  # metric_version = 1\n\n  ## An array of Kubernetes services to scrape metrics from.\n  # kubernetes_services = ["http://my-service-dns.my-namespace:9100/metrics"]\n\n  ## Kubernetes config file to create client from.\n  # kube_config = "/path/to/kubernetes.config"\n\n  ## Scrape Kubernetes pods for the following prometheus annotations:\n  ## - prometheus.io/scrape: Enable scraping for this pod\n  ## - prometheus.io/scheme: If the metrics endpoint is secured then you will need to\n  ##     set this to `https` & most likely set the tls config.\n  ## - prometheus.io/path: If the metrics path is not /metrics, define it with this annotation.\n  ## - prometheus.io/port: If port is not 9102 use this annotation\n  # monitor_kubernetes_pods = true\n  ## Restricts Kubernetes monitoring to a single namespace\n  ##   ex: monitor_kubernetes_pods_namespace = "default"\n  # monitor_kubernetes_pods_namespace = ""\n  # label selector to target pods which have the label\n  # kubernetes_label_selector = "env=dev,app=nginx"\n  # field selector to target pods\n  # eg. To scrape pods on a specific node\n  # kubernetes_field_selector = "spec.nodeName=$HOSTNAME"\n\n  ## Use bearer token for authorization. (\'bearer_token\' takes priority)\n  # bearer_token = "/path/to/bearer/token"\n  ## OR\n  # bearer_token_string = "abc_123"\n\n  ## HTTP Basic Authentication username and password. (\'bearer_token\' and\n  ## \'bearer_token_string\' take priority)\n  # username = ""\n  # password = ""\n\n  ## Specify timeout duration for slower prometheus clients (default is 3s)\n  # response_timeout = "3s"\n\n  ## Optional TLS Config\n  # tls_ca = /path/to/cafile\n  # tls_cert = /path/to/certfile\n  # tls_key = /path/to/keyfile\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n`urls` can contain a unix socket as well. If a different path is required (default is `/metrics` for both http[s] and unix) for a unix socket, add `path` as a query parameter as follows: `unix:///var/run/prometheus.sock?path=/custom/metrics`\n\n#### Kubernetes Service Discovery\n\nURLs listed in the `kubernetes_services` parameter will be expanded\nby looking up all A records assigned to the hostname as described in\n[Kubernetes DNS service discovery](https://kubernetes.io/docs/concepts/services-networking/service/#dns).\n\nThis method can be used to locate all\n[Kubernetes headless services](https://kubernetes.io/docs/concepts/services-networking/service/#headless-services).\n\n#### Kubernetes scraping\n\nEnabling this option will allow the plugin to scrape for prometheus annotation on Kubernetes\npods. Currently, you can run this plugin in your kubernetes cluster, or we use the kubeconfig\nfile to determine where to monitor.\nCurrently the following annotation are supported:\n\n* `prometheus.io/scrape` Enable scraping for this pod.\n* `prometheus.io/scheme` If the metrics endpoint is secured then you will need to set this to `https` & most likely set the tls config. (default \'http\')\n* `prometheus.io/path` Override the path for the metrics endpoint on the service. (default \'/metrics\')\n* `prometheus.io/port` Used to override the port. (default 9102)\n\nUsing the `monitor_kubernetes_pods_namespace` option allows you to limit which pods you are scraping.\n\n#### Bearer Token\n\nIf set, the file specified by the `bearer_token` parameter will be read on\neach interval and its contents will be appended to the Bearer string in the\nAuthorization header.\n\n### Usage for Caddy HTTP server\n\nIf you want to monitor Caddy, you need to use Caddy with its Prometheus plugin:\n\n* Download Caddy+Prometheus plugin [here](https://caddyserver.com/download/linux/amd64?plugins=http.prometheus)\n* Add the `prometheus` directive in your `CaddyFile`\n* Restart Caddy\n* Configure Telegraf to fetch metrics on it:\n\n```toml\n[[inputs.prometheus]]\n#   ## An array of urls to scrape metrics from.\n  urls = ["http://localhost:9180/metrics"]\n```\n\n> This is the default URL where Caddy Prometheus plugin will send data.\n> For more details, please read the [Caddy Prometheus documentation](https://github.com/miekg/caddy-prometheus/blob/master/README.md).\n\n### Metrics:\n\nMeasurement names are based on the Metric Family and tags are created for each\nlabel.  The value is added to a field named based on the metric type.\n\nAll metrics receive the `url` tag indicating the related URL specified in the\nTelegraf configuration. If using Kubernetes service discovery the `address`\ntag is also added indicating the discovered ip address.\n\n### Example Output:\n\n**Source**\n```\n# HELP go_gc_duration_seconds A summary of the GC invocation durations.\n# TYPE go_gc_duration_seconds summary\ngo_gc_duration_seconds{quantile="0"} 7.4545e-05\ngo_gc_duration_seconds{quantile="0.25"} 7.6999e-05\ngo_gc_duration_seconds{quantile="0.5"} 0.000277935\ngo_gc_duration_seconds{quantile="0.75"} 0.000706591\ngo_gc_duration_seconds{quantile="1"} 0.000706591\ngo_gc_duration_seconds_sum 0.00113607\ngo_gc_duration_seconds_count 4\n# HELP go_goroutines Number of goroutines that currently exist.\n# TYPE go_goroutines gauge\ngo_goroutines 15\n# HELP cpu_usage_user Telegraf collected metric\n# TYPE cpu_usage_user gauge\ncpu_usage_user{cpu="cpu0"} 1.4112903225816156\ncpu_usage_user{cpu="cpu1"} 0.702106318955865\ncpu_usage_user{cpu="cpu2"} 2.0161290322588776\ncpu_usage_user{cpu="cpu3"} 1.5045135406226022\n```\n\n**Output**\n```\ngo_gc_duration_seconds,url=http://example.org:9273/metrics 1=0.001336611,count=14,sum=0.004527551,0=0.000057965,0.25=0.000083812,0.5=0.000286537,0.75=0.000365303 1505776733000000000\ngo_goroutines,url=http://example.org:9273/metrics gauge=21 1505776695000000000\ncpu_usage_user,cpu=cpu0,url=http://example.org:9273/metrics gauge=1.513622603430151 1505776751000000000\ncpu_usage_user,cpu=cpu1,url=http://example.org:9273/metrics gauge=5.829145728641773 1505776751000000000\ncpu_usage_user,cpu=cpu2,url=http://example.org:9273/metrics gauge=2.119071644805144 1505776751000000000\ncpu_usage_user,cpu=cpu3,url=http://example.org:9273/metrics gauge=1.5228426395944945 1505776751000000000\n```\n\n**Output (when metric_version = 2)**\n```\nprometheus,quantile=1,url=http://example.org:9273/metrics go_gc_duration_seconds=0.005574303 1556075100000000000\nprometheus,quantile=0.75,url=http://example.org:9273/metrics go_gc_duration_seconds=0.0001046 1556075100000000000\nprometheus,quantile=0.5,url=http://example.org:9273/metrics go_gc_duration_seconds=0.0000719 1556075100000000000\nprometheus,quantile=0.25,url=http://example.org:9273/metrics go_gc_duration_seconds=0.0000579 1556075100000000000\nprometheus,quantile=0,url=http://example.org:9273/metrics go_gc_duration_seconds=0.0000349 1556075100000000000\nprometheus,url=http://example.org:9273/metrics go_gc_duration_seconds_count=324,go_gc_duration_seconds_sum=0.091340353 1556075100000000000\nprometheus,url=http://example.org:9273/metrics go_goroutines=15 1556075100000000000\nprometheus,cpu=cpu0,url=http://example.org:9273/metrics cpu_usage_user=1.513622603430151 1505776751000000000\nprometheus,cpu=cpu1,url=http://example.org:9273/metrics cpu_usage_user=5.829145728641773 1505776751000000000\nprometheus,cpu=cpu2,url=http://example.org:9273/metrics cpu_usage_user=2.119071644805144 1505776751000000000\nprometheus,cpu=cpu3,url=http://example.org:9273/metrics cpu_usage_user=1.5228426395944945 1505776751000000000\n```\n',image:yE.a},{id:"proxmox",name:"Proxmox",url:"telegraf-plugins/proxmox",markdown:'# Proxmox Input Plugin\n\nThe proxmox plugin gathers metrics about containers and VMs using the Proxmox API.\n\nTelegraf minimum version: Telegraf 1.16.0\n\n### Configuration:\n\n```toml\n[[inputs.proxmox]]\n  ## API connection configuration. The API token was introduced in Proxmox v6.2. Required permissions for user and token: PVEAuditor role on /.\n  base_url = "https://localhost:8006/api2/json"\n  api_token = "USER@REALM!TOKENID=UUID"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  insecure_skip_verify = false\n\n  # HTTP response timeout (default: 5s)\n  response_timeout = "5s"\n```\n\n#### Permissions\n\nThe plugin will need to have access to the Proxmox API. An API token\nmust be provided with the corresponding user being assigned at least the PVEAuditor\nrole on /.\n\n### Measurements & Fields:\n\n- proxmox\n  - status\n  - uptime\n  - cpuload\n  - mem_used\n  - mem_total\n  - mem_free\n  - mem_used_percentage\n  - swap_used\n  - swap_total\n  - swap_free\n  - swap_used_percentage\n  - disk_used\n  - disk_total\n  - disk_free\n  - disk_used_percentage\n\n### Tags:\n\n  - node_fqdn - FQDN of the node telegraf is running on\n  - vm_name - Name of the VM/container\n  - vm_fqdn - FQDN of the VM/container\n  - vm_type - Type of the VM/container (lxc, qemu)\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter proxmox --test\n> proxmox,host=pxnode,node_fqdn=pxnode.example.com,vm_fqdn=vm1.example.com,vm_name=vm1,vm_type=lxc cpuload=0.147998116735236,disk_free=4461129728i,disk_total=5217320960i,disk_used=756191232i,disk_used_percentage=14,mem_free=1046827008i,mem_total=1073741824i,mem_used=26914816i,mem_used_percentage=2,status="running",swap_free=536698880i,swap_total=536870912i,swap_used=172032i,swap_used_percentage=0,uptime=1643793i 1595457277000000000\n> ...\n```\n',image:xE.a},{id:"puppetagent",name:"PuppetAgent",url:"telegraf-plugins/puppetagent",markdown:"# PuppetAgent Input Plugin\n\n#### Description\n\nThe puppetagent plugin collects variables outputted from the 'last_run_summary.yaml' file\nusually located in `/var/lib/puppet/state/`\n[PuppetAgent Runs](https://puppet.com/blog/puppet-monitoring-how-to-monitor-success-or-failure-of-puppet-runs/).\n\n```\ncat /var/lib/puppet/state/last_run_summary.yaml\n\n---\n  events:\n    failure: 0\n    total: 0\n    success: 0\n  resources:\n    failed: 0\n    scheduled: 0\n    changed: 0\n    skipped: 0\n    total: 109\n    failed_to_restart: 0\n    restarted: 0\n    out_of_sync: 0\n  changes:\n    total: 0\n  time:\n    user: 0.004331\n    schedule: 0.001123\n    filebucket: 0.000353\n    file: 0.441472\n    exec: 0.508123\n    anchor: 0.000555\n    yumrepo: 0.006989\n    ssh_authorized_key: 0.000764\n    service: 1.807795\n    package: 1.325788\n    total: 8.85354707064819\n    config_retrieval: 4.75567007064819\n    last_run: 1444936531\n    cron: 0.000584\n  version:\n    config: 1444936521\n    puppet: \"3.7.5\"\n```\n\n```\njcross@pit-devops-02 ~ >sudo ./telegraf_linux_amd64 --input-filter puppetagent --config tele.conf --test\n* Plugin: puppetagent, Collection 1\n> [] puppetagent_events_failure value=0\n> [] puppetagent_events_total value=0\n> [] puppetagent_events_success value=0\n> [] puppetagent_resources_failed value=0\n> [] puppetagent_resources_scheduled value=0\n> [] puppetagent_resources_changed value=0\n> [] puppetagent_resources_skipped value=0\n> [] puppetagent_resources_total value=109\n> [] puppetagent_resources_failedtorestart value=0\n> [] puppetagent_resources_restarted value=0\n> [] puppetagent_resources_outofsync value=0\n> [] puppetagent_changes_total value=0\n> [] puppetagent_time_user value=0.00393\n> [] puppetagent_time_schedule value=0.001234\n> [] puppetagent_time_filebucket value=0.000244\n> [] puppetagent_time_file value=0.587734\n> [] puppetagent_time_exec value=0.389584\n> [] puppetagent_time_anchor value=0.000399\n> [] puppetagent_time_sshauthorizedkey value=0.000655\n> [] puppetagent_time_service value=0\n> [] puppetagent_time_package value=1.297537\n> [] puppetagent_time_total value=9.45297606225586\n> [] puppetagent_time_configretrieval value=5.89822006225586\n> [] puppetagent_time_lastrun value=1444940131\n> [] puppetagent_time_cron value=0.000646\n> [] puppetagent_version_config value=1444940121\n> [] puppetagent_version_puppet value=3.7.5\n```\n\n## Measurements:\n#### PuppetAgent int64 measurements:\n\nMeta:\n- units: int64\n- tags: ``\n\nMeasurement names:\n - puppetagent_events_failure\n - puppetagent_events_total\n - puppetagent_events_success\n - puppetagent_resources_failed\n - puppetagent_resources_scheduled\n - puppetagent_resources_changed\n - puppetagent_resources_skipped\n - puppetagent_resources_total\n - puppetagent_resources_failedtorestart\n - puppetagent_resources_restarted\n - puppetagent_resources_outofsync\n - puppetagent_changes_total\n - puppetagent_time_service\n - puppetagent_time_lastrun\n - puppetagent_version_config\n\n#### PuppetAgent float64 measurements:\n\nMeta:\n- units: float64\n- tags: ``\n\nMeasurement names:\n - puppetagent_time_user\n - puppetagent_time_schedule\n - puppetagent_time_filebucket\n - puppetagent_time_file\n - puppetagent_time_exec\n - puppetagent_time_anchor\n - puppetagent_time_sshauthorizedkey\n - puppetagent_time_package\n - puppetagent_time_total\n - puppetagent_time_configretrieval\n - puppetagent_time_lastrun\n - puppetagent_time_cron\n - puppetagent_version_config\n\n#### PuppetAgent string measurements:\n\nMeta:\n- units: string\n- tags: ``\n\nMeasurement names:\n - puppetagent_version_puppet\n",image:EE.a},{id:"rabbitmq",name:"RabbitMQ",url:"telegraf-plugins/rabbitmq",markdown:'# RabbitMQ Input Plugin\n\nReads metrics from RabbitMQ servers via the [Management Plugin][management].\n\nFor additional details reference the [RabbitMQ Management HTTP Stats][management-reference].\n\n[management]: https://www.rabbitmq.com/management.html\n[management-reference]: https://raw.githack.com/rabbitmq/rabbitmq-management/rabbitmq_v3_6_9/priv/www/api/index.html\n\n### Configuration\n\n```toml\n[[inputs.rabbitmq]]\n  ## Management Plugin url. (default: http://localhost:15672)\n  # url = "http://localhost:15672"\n  ## Tag added to rabbitmq_overview series; deprecated: use tags\n  # name = "rmq-server-1"\n  ## Credentials\n  # username = "guest"\n  # password = "guest"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n\n  ## Optional request timeouts\n  ##\n  ## ResponseHeaderTimeout, if non-zero, specifies the amount of time to wait\n  ## for a server\'s response headers after fully writing the request.\n  # header_timeout = "3s"\n  ##\n  ## client_timeout specifies a time limit for requests made by this client.\n  ## Includes connection time, any redirects, and reading the response body.\n  # client_timeout = "4s"\n\n  ## A list of nodes to gather as the rabbitmq_node measurement. If not\n  ## specified, metrics for all nodes are gathered.\n  # nodes = ["rabbit@node1", "rabbit@node2"]\n\n  ## A list of queues to gather as the rabbitmq_queue measurement. If not\n  ## specified, metrics for all queues are gathered.\n  # queues = ["telegraf"]\n\n  ## A list of exchanges to gather as the rabbitmq_exchange measurement. If not\n  ## specified, metrics for all exchanges are gathered.\n  # exchanges = ["telegraf"]\n\n  ## Queues to include and exclude. Globs accepted.\n  ## Note that an empty array for both will include all queues\n  # queue_name_include = []\n  # queue_name_exclude = []\n\n  ## Federation upstreams to include and exclude specified as an array of glob\n  ## pattern strings.  Federation links can also be limited by the queue and\n  ## exchange filters.\n  # federation_upstream_include = []\n  # federation_upstream_exclude = []\n```\n\n### Metrics\n\n- rabbitmq_overview\n  - tags:\n    - url\n    - name\n  - fields:\n    - channels (int, channels)\n    - connections (int, connections)\n    - consumers (int, consumers)\n    - exchanges (int, exchanges)\n    - messages (int, messages)\n    - messages_acked (int, messages)\n    - messages_delivered (int, messages)\n    - messages_delivered_get (int, messages)\n    - messages_published (int, messages)\n    - messages_ready (int, messages)\n    - messages_unacked (int, messages)\n    - queues (int, queues)\n    - clustering_listeners (int, cluster nodes)\n    - amqp_listeners (int, amqp nodes up)\n    - return_unroutable (int, number of unroutable messages)\n    - return_unroutable_rate (float, number of unroutable messages per second)\n\n+ rabbitmq_node\n  - tags:\n    - url\n    - node\n    - url\n  - fields:\n    - disk_free (int, bytes)\n    - disk_free_limit (int, bytes)\n    - disk_free_alarm (int, disk alarm)\n    - fd_total (int, file descriptors)\n    - fd_used (int, file descriptors)\n    - mem_limit (int, bytes)\n    - mem_used (int, bytes)\n    - mem_alarm (int, memory a)\n    - proc_total (int, erlang processes)\n    - proc_used (int, erlang processes)\n    - run_queue (int, erlang processes)\n    - sockets_total (int, sockets)\n    - sockets_used (int, sockets)\n    - running (int, node up)\n    - uptime (int, milliseconds)\n    - mnesia_disk_tx_count (int, number of disk transaction)\n    - mnesia_ram_tx_count (int, number of ram transaction)\n    - mnesia_disk_tx_count_rate (float, number of disk transaction per second)\n    - mnesia_ram_tx_count_rate (float, number of ram transaction per second)\n    - gc_num (int, number of garbage collection)\n    - gc_bytes_reclaimed (int, bytes)\n    - gc_num_rate (float, number of garbage collection per second)\n    - gc_bytes_reclaimed_rate (float, bytes per second)\n    - io_read_avg_time (float, number of read operations)\n    - io_read_avg_time_rate (int, number of read operations per second)\n    - io_read_bytes (int, bytes)\n    - io_read_bytes_rate (float, bytes per second)\n    - io_write_avg_time (int, milliseconds)\n    - io_write_avg_time_rate (float, milliseconds per second)\n    - io_write_bytes (int, bytes)\n    - io_write_bytes_rate (float, bytes per second)\n    - mem_connection_readers (int, bytes)\n    - mem_connection_writers (int, bytes)\n    - mem_connection_channels (int, bytes)\n    - mem_connection_other (int, bytes)\n    - mem_queue_procs (int, bytes)\n    - mem_queue_slave_procs (int, bytes)\n    - mem_plugins (int, bytes)\n    - mem_other_proc (int, bytes)\n    - mem_metrics (int, bytes)\n    - mem_mgmt_db (int, bytes)\n    - mem_mnesia (int, bytes)\n    - mem_other_ets (int, bytes)\n    - mem_binary (int, bytes)\n    - mem_msg_index (int, bytes)\n    - mem_code (int, bytes)\n    - mem_atom (int, bytes)\n    - mem_other_system (int, bytes)\n    - mem_allocated_unused (int, bytes)\n    - mem_reserved_unallocated (int, bytes)\n    - mem_total (int, bytes)\n\n- rabbitmq_queue\n  - tags:\n    - url\n    - queue\n    - vhost\n    - node\n    - durable\n    - auto_delete\n  - fields:\n    - consumer_utilisation (float, percent)\n    - consumers (int, int)\n    - idle_since (string, time - e.g., "2006-01-02 15:04:05")\n    - memory (int, bytes)\n    - message_bytes (int, bytes)\n    - message_bytes_persist (int, bytes)\n    - message_bytes_ram (int, bytes)\n    - message_bytes_ready (int, bytes)\n    - message_bytes_unacked (int, bytes)\n    - messages (int, count)\n    - messages_ack (int, count)\n    - messages_ack_rate (float, messages per second)\n    - messages_deliver (int, count)\n    - messages_deliver_rate (float, messages per second)\n    - messages_deliver_get (int, count)\n    - messages_deliver_get_rate (float, messages per second)\n    - messages_publish (int, count)\n    - messages_publish_rate (float, messages per second)\n    - messages_ready (int, count)\n    - messages_redeliver (int, count)\n    - messages_redeliver_rate (float, messages per second)\n    - messages_unack (int, count)\n    - slave_nodes (int, count)\n    - synchronised_slave_nodes (int, count)\n\n+ rabbitmq_exchange\n  - tags:\n    - url\n    - exchange\n    - type\n    - vhost\n    - internal\n    - durable\n    - auto_delete\n  - fields:\n    - messages_publish_in (int, count)\n    - messages_publish_in_rate (int, messages per second)\n    - messages_publish_out (int, count)\n    - messages_publish_out_rate (int, messages per second)\n\n- rabbitmq_federation\n  - tags:\n    - url\n    - vhost\n    - type\n    - upstream\n    - exchange\n    - upstream_exchange\n    - queue\n    - upstream_queue\n  - fields:\n    - acks_uncommitted (int, count)\n    - consumers (int, count)\n    - messages_unacknowledged (int, count)\n    - messages_uncommitted (int, count)\n    - messages_unconfirmed (int, count)\n    - messages_confirm (int, count)\n    - messages_publish (int, count)\n    - messages_return_unroutable (int, count)\n\n### Sample Queries\n\nMessage rates for the entire node can be calculated from total message counts. For instance, to get the rate of messages published per minute, use this query:\n\n```\nSELECT NON_NEGATIVE_DERIVATIVE(LAST("messages_published"), 1m) AS messages_published_rate FROM rabbitmq_overview WHERE time > now() - 10m GROUP BY time(1m)\n```\n\n### Example Output\n\n```\nrabbitmq_queue,url=http://amqp.example.org:15672,queue=telegraf,vhost=influxdb,node=rabbit@amqp.example.org,durable=true,auto_delete=false,host=amqp.example.org messages_deliver_get=0i,messages_publish=329i,messages_publish_rate=0.2,messages_redeliver_rate=0,message_bytes_ready=0i,message_bytes_unacked=0i,messages_deliver=329i,messages_unack=0i,consumers=1i,idle_since="",messages=0i,messages_deliver_rate=0.2,messages_deliver_get_rate=0.2,messages_redeliver=0i,memory=43032i,message_bytes_ram=0i,messages_ack=329i,messages_ready=0i,messages_ack_rate=0.2,consumer_utilisation=1,message_bytes=0i,message_bytes_persist=0i 1493684035000000000\nrabbitmq_overview,url=http://amqp.example.org:15672,host=amqp.example.org channels=2i,consumers=1i,exchanges=17i,messages_acked=329i,messages=0i,messages_ready=0i,messages_unacked=0i,connections=2i,queues=1i,messages_delivered=329i,messages_published=329i,clustering_listeners=2i,amqp_listeners=1i 1493684035000000000\nrabbitmq_node,url=http://amqp.example.org:15672,node=rabbit@amqp.example.org,host=amqp.example.org fd_total=1024i,fd_used=32i,mem_limit=8363329126i,sockets_total=829i,disk_free=8175935488i,disk_free_limit=50000000i,mem_used=58771080i,proc_total=1048576i,proc_used=267i,run_queue=0i,sockets_used=2i,running=1i 149368403500000000\nrabbitmq_exchange,url=http://amqp.example.org:15672,exchange=telegraf,type=fanout,vhost=influxdb,internal=false,durable=true,auto_delete=false,host=amqp.example.org messages_publish_in=2i,messages_publish_out=1i 149368403500000000\n```\n',image:SE.a},{id:"raindrops",name:"Raindrops",url:"telegraf-plugins/raindrops",markdown:'# Raindrops Input Plugin\n\nThe [raindrops](http://raindrops.bogomips.org/) plugin reads from\nspecified raindops [middleware](http://raindrops.bogomips.org/Raindrops/Middleware.html) URI and adds stats to InfluxDB.\n\n### Configuration:\n\n```toml\n# Read raindrops stats\n[[inputs.raindrops]]\n  urls = ["http://localhost:8080/_raindrops"]\n```\n\n### Measurements & Fields:\n\n- raindrops\n    - calling (integer, count)\n    - writing (integer, count)\n- raindrops_listen\n    - active (integer, bytes)\n    - queued (integer, bytes)\n\n### Tags:\n\n- Raindops calling/writing of all the workers:\n    - server\n    - port\n\n- raindrops_listen (ip:port):\n    - ip\n    - port\n\n- raindrops_listen (Unix Socket):\n    - socket\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter raindrops --test\n* Plugin: raindrops, Collection 1\n> raindrops,port=8080,server=localhost calling=0i,writing=0i 1455479896806238204\n> raindrops_listen,ip=0.0.0.0,port=8080 active=0i,queued=0i 1455479896806561938\n> raindrops_listen,ip=0.0.0.0,port=8081 active=1i,queued=0i 1455479896806605749\n> raindrops_listen,ip=127.0.0.1,port=8082 active=0i,queued=0i 1455479896806646315\n> raindrops_listen,ip=0.0.0.0,port=8083 active=0i,queued=0i 1455479896806683252\n> raindrops_listen,ip=0.0.0.0,port=8084 active=0i,queued=0i 1455479896806712025\n> raindrops_listen,ip=0.0.0.0,port=3000 active=0i,queued=0i 1455479896806779197\n> raindrops_listen,socket=/tmp/listen.me active=0i,queued=0i 1455479896806813907\n```\n',image:TE.a},{id:"ras",name:"RAS Daemon",url:"telegraf-plugins/ras",markdown:'# RAS Input Plugin\n\nThe `RAS` plugin gathers and counts errors provided by [RASDaemon](https://github.com/mchehab/rasdaemon).\n\n### Configuration\n\n```toml\n[[inputs.ras]]\n  ## Optional path to RASDaemon sqlite3 database.\n  ## Default: /var/lib/rasdaemon/ras-mc_event.db\n  # db_path = ""\n```\n\nIn addition `RASDaemon` runs, by default, with `--enable-sqlite3` flag. In case of problems with SQLite3 database please verify this is still a default option.\n\n### Metrics\n\n- ras\n  - tags:\n    - socket_id\n  - fields:\n    - memory_read_corrected_errors\n    - memory_read_uncorrectable_errors\n    - memory_write_corrected_errors\n    - memory_write_uncorrectable_errors\n    - cache_l0_l1_errors\n    - tlb_instruction_errors\n    - cache_l2_errors\n    - upi_errors\n    - processor_base_errors\n    - processor_bus_errors\n    - internal_timer_errors\n    - smm_handler_code_access_violation_errors\n    - internal_parity_errors\n    - frc_errors\n    - external_mce_errors\n    - microcode_rom_parity_errors\n    - unclassified_mce_errors\n\nPlease note that `processor_base_errors` is aggregate counter measuring the following MCE events:\n- internal_timer_errors\n- smm_handler_code_access_violation_errors\n- internal_parity_errors\n- frc_errors\n- external_mce_errors\n- microcode_rom_parity_errors\n- unclassified_mce_errors\n\n### Permissions\n\nThis plugin requires access to SQLite3 database from `RASDaemon`. Please make sure that user has required permissions to this database.\n\n### Example Output\n\n```\nras,host=ubuntu,socket_id=0 external_mce_base_errors=1i,frc_errors=1i,instruction_tlb_errors=5i,internal_parity_errors=1i,internal_timer_errors=1i,l0_and_l1_cache_errors=7i,memory_read_corrected_errors=25i,memory_read_uncorrectable_errors=0i,memory_write_corrected_errors=5i,memory_write_uncorrectable_errors=0i,microcode_rom_parity_errors=1i,processor_base_errors=7i,processor_bus_errors=1i,smm_handler_code_access_violation_errors=1i,unclassified_mce_base_errors=1i 1598867393000000000\nras,host=ubuntu level_2_cache_errors=0i,upi_errors=0i 1598867393000000000\n```\n',image:DE.a},{id:"redfish",name:"Redfish",url:"telegraf-plugins/redfish",markdown:'# Redfish Input Plugin\n\nThe `redfish` plugin gathers metrics and status information about CPU temperature, fanspeed, Powersupply, voltage, hostname and Location details (datacenter, placement, rack and room) of hardware servers for which [DMTF\'s Redfish](https://redfish.dmtf.org/) is enabled.\n\nTelegraf minimum version: Telegraf 1.15.0\n\n### Configuration\n\n```toml\n[[inputs.redfish]]\n  ## Redfish API Base URL.\n  address = "https://127.0.0.1:5000"\n\n  ## Credentials for the Redfish API.\n  username = "root"\n  password = "password123456"\n\n  ## System Id to collect data for in Redfish APIs.\n  computer_system_id="System.Embedded.1"\n\n  ## Amount of time allowed to complete the HTTP request\n  # timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics\n\n- redfish_thermal_temperatures\n  - tags:\n    - source\n    - address\n    - name\n    - datacenter (available only if location data is found)\n    - rack (available only if location data is found)\n    - room (available only if location data is found)\n    - row (available only if location data is found)\n    - state\n    - health\n  - fields:\n    - reading_celsius\n    - upper_threshold_critical\n    - upper_threshold_fatal\n    - lower_threshold_critical\n    - lower_threshold_fatal\n\n\n+ redfish_thermal_fans\n  - tags:\n    - source\n    - address\n    - name\n    - datacenter (available only if location data is found)\n    - rack (available only if location data is found)\n    - room (available only if location data is found)\n    - row (available only if location data is found)\n    - state\n    - health\n  - fields:\n    - reading_rpm (or) reading_percent\n    - upper_threshold_critical\n    - upper_threshold_fatal\n    - lower_threshold_critical\n    - lower_threshold_fatal\n\n\n- redfish_power_powersupplies\n  - tags:\n    - source\n    - address\n    - name\n    - datacenter (available only if location data is found)\n    - rack (available only if location data is found)\n    - room (available only if location data is found)\n    - row (available only if location data is found)\n    - state\n    - health\n  - fields:\n    - last_power_output_watts\n    - line_input_voltage\n    - power_capacity_watts\n    - power_input_watts\n    - power_output_watts\n\n\n- redfish_power_voltages (available only if voltage data is found)\n  - tags:\n    - source\n    - address\n    - name\n    - datacenter (available only if location data is found)\n    - rack (available only if location data is found)\n    - room (available only if location data is found)\n    - row (available only if location data is found)\n    - state\n    - health\n  - fields:\n    - reading_volts\n    - upper_threshold_critical\n    - upper_threshold_fatal\n    - lower_threshold_critical\n    - lower_threshold_fatal\n\n\n### Example Output\n\n```\nredfish_thermal_temperatures,source=test-hostname,name=CPU1,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_celsius=41,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_thermal_temperatures,source=test-hostname,name=CPU2,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_celsius=51,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_thermal_temperatures,source=test-hostname,name=SystemBoardInlet,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_celsius=23,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_thermal_temperatures,source=test-hostname,name=SystemBoardExhaust,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_celsius=33,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_thermal_fans,source=test-hostname,name=SystemBoardFan1A,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_rpm=17720,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_thermal_fans,source=test-hostname,name=SystemBoardFan1B,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_rpm=17760,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_thermal_fans,source=test-hostname,name=SystemBoardFan2A,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_rpm=17880,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_power_powersupplies,source=test-hostname,name=PS1Status,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" power_capacity_watts=750,power_input_watts=900,power_output_watts=208,last_power_output_watts=98,line_input_reading_volts=204 1582114112000000000\nredfish_power_powersupplies,source=test-hostname,name=PS2Status,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" power_capacity_watts=750,power_input_watts=900,power_output_watts=194,last_power_output_watts=98,line_input_reading_volts=204 1582114112000000000\nredfish_power_voltages,source=test-hostname,name=CPU1MEM345,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_volts=1,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_power_voltages,source=test-hostname,name=CPU1MEM345,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_volts=1,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_power_voltages,source=test-hostname,name=CPU1MEM347,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_volts=1,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\nredfish_power_voltages,source=test-hostname,name=PS1voltage1,address=http://190.0.0.1,datacenter="Tampa",health="OK",rack="12",room="tbc",row="3",state="Enabled" reading_volts=208,upper_threshold_critical=59,upper_threshold_fatal=64 1582114112000000000\n\n```\n',image:jE.a},{id:"redis",name:"Redis",url:"telegraf-plugins/redis",markdown:'# Redis Input Plugin\n\n### Configuration:\n\n```toml\n# Read Redis\'s basic status information\n[[inputs.redis]]\n  ## specify servers via a url matching:\n  ##  [protocol://][:password]@address[:port]\n  ##  e.g.\n  ##    tcp://localhost:6379\n  ##    tcp://:password@192.168.99.100\n  ##\n  ## If no servers are specified, then localhost is used as the host.\n  ## If no port is specified, 6379 is used\n  servers = ["tcp://localhost:6379"]\n  ## Optional. Specify redis commands to retrieve values\n  # [[inputs.redis.commands]]\n  # command = ["get", "sample-key"]\n  # field = "sample-key-value"\n  # type = "string"\n\n  ## specify server password\n  # password = "s#cr@t%"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = true\n```\n\n### Measurements & Fields:\n\nThe plugin gathers the results of the [INFO](https://redis.io/commands/info) redis command.\nThere are two separate measurements: _redis_ and _redis\\_keyspace_, the latter is used for gathering database related statistics.\n\nAdditionally the plugin also calculates the hit/miss ratio (keyspace\\_hitrate) and the elapsed time since the last rdb save (rdb\\_last\\_save\\_time\\_elapsed).\n\n- redis\n    - keyspace_hitrate(float, number)\n    - rdb_last_save_time_elapsed(int, seconds)\n\n    **Server**\n    - uptime(int, seconds)\n    - lru_clock(int, number)\n    - redis_version(string)\n\n    **Clients**\n    - clients(int, number)\n    - client_longest_output_list(int, number)\n    - client_biggest_input_buf(int, number)\n    - blocked_clients(int, number)\n\n    **Memory**\n    - used_memory(int, bytes)\n    - used_memory_rss(int, bytes)\n    - used_memory_peak(int, bytes)\n    - total_system_memory(int, bytes)\n    - used_memory_lua(int, bytes)\n    - maxmemory(int, bytes)\n    - maxmemory_policy(string)\n    - mem_fragmentation_ratio(float, number)\n\n    **Persistance**\n    - loading(int,flag)\n    - rdb_changes_since_last_save(int, number)\n    - rdb_bgsave_in_progress(int, flag)\n    - rdb_last_save_time(int, seconds)\n    - rdb_last_bgsave_status(string)\n    - rdb_last_bgsave_time_sec(int, seconds)\n    - rdb_current_bgsave_time_sec(int, seconds)\n    - aof_enabled(int, flag)\n    - aof_rewrite_in_progress(int, flag)\n    - aof_rewrite_scheduled(int, flag)\n    - aof_last_rewrite_time_sec(int, seconds)\n    - aof_current_rewrite_time_sec(int, seconds)\n    - aof_last_bgrewrite_status(string)\n    - aof_last_write_status(string)\n\n    **Stats**\n    - total_connections_received(int, number)\n    - total_commands_processed(int, number)\n    - instantaneous_ops_per_sec(int, number)\n    - total_net_input_bytes(int, bytes)\n    - total_net_output_bytes(int, bytes)\n    - instantaneous_input_kbps(float, KB/sec)\n    - instantaneous_output_kbps(float, KB/sec)\n    - rejected_connections(int, number)\n    - sync_full(int, number)\n    - sync_partial_ok(int, number)\n    - sync_partial_err(int, number)\n    - expired_keys(int, number)\n    - evicted_keys(int, number)\n    - keyspace_hits(int, number)\n    - keyspace_misses(int, number)\n    - pubsub_channels(int, number)\n    - pubsub_patterns(int, number)\n    - latest_fork_usec(int, microseconds)\n    - migrate_cached_sockets(int, number)\n\n    **Replication**\n    - connected_slaves(int, number)\n    - master_link_down_since_seconds(int, number)\n    - master_link_status(string)\n    - master_repl_offset(int, number)\n    - second_repl_offset(int, number)\n    - repl_backlog_active(int, number)\n    - repl_backlog_size(int, bytes)\n    - repl_backlog_first_byte_offset(int, number)\n    - repl_backlog_histlen(int, bytes)\n\n    **CPU**\n    - used_cpu_sys(float, number)\n    - used_cpu_user(float, number)\n    - used_cpu_sys_children(float, number)\n    - used_cpu_user_children(float, number)\n\n    **Cluster**\n    - cluster_enabled(int, flag)\n\n- redis_keyspace\n    - keys(int, number)\n    - expires(int, number)\n    - avg_ttl(int, number)\n\n- redis_cmdstat\n    Every Redis used command will have 3 new fields:\n    - calls(int, number)\n    - usec(int, mircoseconds)\n    - usec_per_call(float, microseconds)\n\n- redis_replication\n  - tags:\n    - replication_role\n    - replica_ip\n    - replica_port\n    - state (either "online", "wait_bgsave", or "send_bulk")\n\n  - fields:\n    - lag(int, number)\n    - offset(int, number)\n\n### Tags:\n\n- All measurements have the following tags:\n    - port\n    - server\n    - replication_role\n\n- The redis_keyspace measurement has an additional database tag:\n    - database\n\n- The redis_cmdstat measurement has an additional tag:\n    - command\n\n### Example Output:\n\nUsing this configuration:\n```toml\n[[inputs.redis]]\n  ## specify servers via a url matching:\n  ##  [protocol://][:password]@address[:port]\n  ##  e.g.\n  ##    tcp://localhost:6379\n  ##    tcp://:password@192.168.99.100\n  ##\n  ## If no servers are specified, then localhost is used as the host.\n  ## If no port is specified, 6379 is used\n  servers = ["tcp://localhost:6379"]\n```\n\nWhen run with:\n```\n./telegraf --config telegraf.conf --input-filter redis --test\n```\n\nIt produces:\n```\n* Plugin: redis, Collection 1\n> redis,server=localhost,port=6379,replication_role=master,host=host keyspace_hitrate=1,clients=2i,blocked_clients=0i,instantaneous_input_kbps=0,sync_full=0i,pubsub_channels=0i,pubsub_patterns=0i,total_net_output_bytes=6659253i,used_memory=842448i,total_system_memory=8351916032i,aof_current_rewrite_time_sec=-1i,rdb_changes_since_last_save=0i,sync_partial_err=0i,latest_fork_usec=508i,instantaneous_output_kbps=0,expired_keys=0i,used_memory_peak=843416i,aof_rewrite_in_progress=0i,aof_last_bgrewrite_status="ok",migrate_cached_sockets=0i,connected_slaves=0i,maxmemory_policy="noeviction",aof_rewrite_scheduled=0i,total_net_input_bytes=3125i,used_memory_rss=9564160i,repl_backlog_histlen=0i,rdb_last_bgsave_status="ok",aof_last_rewrite_time_sec=-1i,keyspace_misses=0i,client_biggest_input_buf=5i,used_cpu_user=1.33,maxmemory=0i,rdb_current_bgsave_time_sec=-1i,total_commands_processed=271i,repl_backlog_size=1048576i,used_cpu_sys=3,uptime=2822i,lru_clock=16706281i,used_memory_lua=37888i,rejected_connections=0i,sync_partial_ok=0i,evicted_keys=0i,rdb_last_save_time_elapsed=1922i,rdb_last_save_time=1493099368i,instantaneous_ops_per_sec=0i,used_cpu_user_children=0,client_longest_output_list=0i,master_repl_offset=0i,repl_backlog_active=0i,keyspace_hits=2i,used_cpu_sys_children=0,cluster_enabled=0i,rdb_last_bgsave_time_sec=0i,aof_last_write_status="ok",total_connections_received=263i,aof_enabled=0i,repl_backlog_first_byte_offset=0i,mem_fragmentation_ratio=11.35,loading=0i,rdb_bgsave_in_progress=0i 1493101290000000000\n```\n\nredis_keyspace:\n```\n> redis_keyspace,database=db1,host=host,server=localhost,port=6379,replication_role=master keys=1i,expires=0i,avg_ttl=0i 1493101350000000000\n```\n\nredis_command:\n```\n> redis_cmdstat,command=publish,host=host,port=6379,replication_role=master,server=localhost calls=68113i,usec=325146i,usec_per_call=4.77 1559227136000000000\n```\n',image:NE.a},{id:"rethinkdb",name:"RethinkDB",url:"telegraf-plugins/rethinkdb",markdown:'# RethinkDB Input Plugin\n\nCollect metrics from [RethinkDB](https://www.rethinkdb.com/).\n\n### Configuration\n\nThis section contains the default TOML to configure the plugin.  You can\ngenerate it using `telegraf --usage rethinkdb`.\n\n```toml\n[[inputs.rethinkdb]]\n  ## An array of URI to gather stats about. Specify an ip or hostname\n  ## with optional port add password. ie,\n  ##   rethinkdb://user:auth_key@10.10.3.30:28105,\n  ##   rethinkdb://10.10.3.33:18832,\n  ##   10.0.0.1:10000, etc.\n  servers = ["127.0.0.1:28015"]\n\n  ## If you use actual rethinkdb of > 2.3.0 with username/password authorization,\n  ## protocol have to be named "rethinkdb2" - it will use 1_0 H.\n  # servers = ["rethinkdb2://username:password@127.0.0.1:28015"]\n\n  ## If you use older versions of rethinkdb (<2.2) with auth_key, protocol\n  ## have to be named "rethinkdb".\n  # servers = ["rethinkdb://username:auth_key@127.0.0.1:28015"]\n```\n\n### Metrics\n\n- rethinkdb\n  - tags:\n    - type\n    - ns\n    - rethinkdb_host\n    - rethinkdb_hostname\n  - fields:\n    - cache_bytes_in_use (integer, bytes)\n    - disk_read_bytes_per_sec (integer, reads)\n    - disk_read_bytes_total (integer, bytes)\n    - disk_written_bytes_per_sec (integer, bytes)\n    - disk_written_bytes_total (integer, bytes)\n    - disk_usage_data_bytes (integer, bytes)\n    - disk_usage_garbage_bytes (integer, bytes)\n    - disk_usage_metadata_bytes (integer, bytes)\n    - disk_usage_preallocated_bytes (integer, bytes)\n\n+ rethinkdb_engine\n  - tags:\n    - type\n    - ns\n    - rethinkdb_host\n    - rethinkdb_hostname\n  - fields:\n    - active_clients (integer, clients)\n    - clients (integer, clients)\n    - queries_per_sec (integer, queries)\n    - total_queries (integer, queries)\n    - read_docs_per_sec (integer, reads)\n    - total_reads (integer, reads)\n    - written_docs_per_sec (integer, writes)\n    - total_writes (integer, writes)\n',image:PE.a},{id:"riak",name:"Riak",url:"telegraf-plugins/riak",markdown:'# Riak Input Plugin\n\nThe Riak plugin gathers metrics from one or more riak instances.\n\n### Configuration:\n\n```toml\n# Description\n[[inputs.riak]]\n  # Specify a list of one or more riak http servers\n  servers = ["http://localhost:8098"]\n```\n\n### Measurements & Fields:\n\nRiak provides one measurement named "riak", with the following fields:\n\n- cpu_avg1\n- cpu_avg15\n- cpu_avg5\n- memory_code\n- memory_ets\n- memory_processes\n- memory_system\n- memory_total\n- node_get_fsm_objsize_100\n- node_get_fsm_objsize_95\n- node_get_fsm_objsize_99\n- node_get_fsm_objsize_mean\n- node_get_fsm_objsize_median\n- node_get_fsm_siblings_100\n- node_get_fsm_siblings_95\n- node_get_fsm_siblings_99\n- node_get_fsm_siblings_mean\n- node_get_fsm_siblings_median\n- node_get_fsm_time_100\n- node_get_fsm_time_95\n- node_get_fsm_time_99\n- node_get_fsm_time_mean\n- node_get_fsm_time_median\n- node_gets\n- node_gets_total\n- node_put_fsm_time_100\n- node_put_fsm_time_95\n- node_put_fsm_time_99\n- node_put_fsm_time_mean\n- node_put_fsm_time_median\n- node_puts\n- node_puts_total\n- pbc_active\n- pbc_connects\n- pbc_connects_total\n- vnode_gets\n- vnode_gets_total\n- vnode_index_reads\n- vnode_index_reads_total\n- vnode_index_writes\n- vnode_index_writes_total\n- vnode_puts\n- vnode_puts_total\n- read_repairs\n- read_repairs_total\n\nMeasurements of time (such as node_get_fsm_time_mean) are measured in nanoseconds.\n\n### Tags:\n\nAll measurements have the following tags:\n\n- server (the host:port of the given server address, ex. `127.0.0.1:8087`)\n- nodename (the internal node name received, ex. `riak@127.0.0.1`)\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter riak --test\n> riak,nodename=riak@127.0.0.1,server=localhost:8098 cpu_avg1=31i,cpu_avg15=69i,cpu_avg5=51i,memory_code=11563738i,memory_ets=5925872i,memory_processes=30236069i,memory_system=93074971i,memory_total=123311040i,node_get_fsm_objsize_100=0i,node_get_fsm_objsize_95=0i,node_get_fsm_objsize_99=0i,node_get_fsm_objsize_mean=0i,node_get_fsm_objsize_median=0i,node_get_fsm_siblings_100=0i,node_get_fsm_siblings_95=0i,node_get_fsm_siblings_99=0i,node_get_fsm_siblings_mean=0i,node_get_fsm_siblings_median=0i,node_get_fsm_time_100=0i,node_get_fsm_time_95=0i,node_get_fsm_time_99=0i,node_get_fsm_time_mean=0i,node_get_fsm_time_median=0i,node_gets=0i,node_gets_total=19i,node_put_fsm_time_100=0i,node_put_fsm_time_95=0i,node_put_fsm_time_99=0i,node_put_fsm_time_mean=0i,node_put_fsm_time_median=0i,node_puts=0i,node_puts_total=0i,pbc_active=0i,pbc_connects=0i,pbc_connects_total=20i,vnode_gets=0i,vnode_gets_total=57i,vnode_index_reads=0i,vnode_index_reads_total=0i,vnode_index_writes=0i,vnode_index_writes_total=0i,vnode_puts=0i,vnode_puts_total=0i,read_repair=0i,read_repairs_total=0i 1455913392622482332\n```\n',image:LE.a},{id:"salesforce",name:"Salesforce",url:"telegraf-plugins/salesforce",markdown:'# Salesforce Input Plugin\n\nThe Salesforce plugin gathers metrics about the limits in your Salesforce organization and the remaining usage.\nIt fetches its data from the [limits endpoint](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/resources_limits.htm) of Salesforce\'s REST API.\n\n### Configuration:\n\n```toml\n# Gather Metrics about Salesforce limits and remaining usage\n[[inputs.salesforce]]\n  username = "your_username"\n  password = "your_password"\n  ## (Optional) security token\n  security_token = "your_security_token"\n  ## (Optional) environment type (sandbox or production)\n  ## default is: production\n  # environment = "production"\n  ## (Optional) API version (default: "39.0")\n  # version = "39.0"\n```\n\n### Measurements & Fields:\n\nSalesforce provide one measurement named "salesforce".\nEach entry is converted to snake\\_case and 2 fields are created.\n\n- \\<key\\>_max represents the limit threshold\n- \\<key\\>_remaining represents the usage remaining before hitting the limit threshold\n\n- salesforce\n    - \\<key\\>_max (int)\n    - \\<key\\>_remaining (int)\n    - (...)\n\n### Tags:\n\n- All measurements have the following tags:\n    - host\n    - organization_id (t18 char organisation ID)\n\n\n### Example Output:\n\n```\n$./telegraf --config telegraf.conf --input-filter salesforce --test\n\nsalesforce,organization_id=XXXXXXXXXXXXXXXXXX,host=xxxxx.salesforce.com daily_workflow_emails_max=546000i,hourly_time_based_workflow_max=50i,daily_async_apex_executions_remaining=250000i,daily_durable_streaming_api_events_remaining=1000000i,streaming_api_concurrent_clients_remaining=2000i,daily_bulk_api_requests_remaining=10000i,hourly_sync_report_runs_remaining=500i,daily_api_requests_max=5000000i,data_storage_mb_remaining=1073i,file_storage_mb_remaining=1069i,daily_generic_streaming_api_events_remaining=10000i,hourly_async_report_runs_remaining=1200i,hourly_time_based_workflow_remaining=50i,daily_streaming_api_events_remaining=1000000i,single_email_max=5000i,hourly_dashboard_refreshes_remaining=200i,streaming_api_concurrent_clients_max=2000i,daily_durable_generic_streaming_api_events_remaining=1000000i,daily_api_requests_remaining=4999998i,hourly_dashboard_results_max=5000i,hourly_async_report_runs_max=1200i,daily_durable_generic_streaming_api_events_max=1000000i,hourly_dashboard_results_remaining=5000i,concurrent_sync_report_runs_max=20i,durable_streaming_api_concurrent_clients_remaining=2000i,daily_workflow_emails_remaining=546000i,hourly_dashboard_refreshes_max=200i,daily_streaming_api_events_max=1000000i,hourly_sync_report_runs_max=500i,hourly_o_data_callout_max=10000i,mass_email_max=5000i,mass_email_remaining=5000i,single_email_remaining=5000i,hourly_dashboard_statuses_max=999999999i,concurrent_async_get_report_instances_max=200i,daily_durable_streaming_api_events_max=1000000i,daily_generic_streaming_api_events_max=10000i,hourly_o_data_callout_remaining=10000i,concurrent_sync_report_runs_remaining=20i,daily_bulk_api_requests_max=10000i,data_storage_mb_max=1073i,hourly_dashboard_statuses_remaining=999999999i,concurrent_async_get_report_instances_remaining=200i,daily_async_apex_executions_max=250000i,durable_streaming_api_concurrent_clients_max=2000i,file_storage_mb_max=1073i 1501565661000000000\n```\n',image:qE.a},{id:"sensors",name:"LM Sensors",url:"telegraf-plugins/sensors",markdown:"# LM Sensors Input Plugin\n\nCollect [lm-sensors](https://en.wikipedia.org/wiki/Lm_sensors) metrics - requires the lm-sensors\npackage installed.\n\nThis plugin collects sensor metrics with the `sensors` executable from the lm-sensor package.\n\n### Configuration:\n```toml\n# Monitor sensors, requires lm-sensors package\n[[inputs.sensors]]\n  ## Remove numbers from field names.\n  ## If true, a field name like 'temp1_input' will be changed to 'temp_input'.\n  # remove_numbers = true\n\n  ## Timeout is the maximum amount of time that the sensors command can run.\n  # timeout = \"5s\"\n```\n\n### Measurements & Fields:\nFields are created dynamically depending on the sensors. All fields are float.\n\n### Tags:\n\n- All measurements have the following tags:\n    - chip\n    - feature\n\n### Example Output:\n\n#### Default\n```\n$ telegraf --config telegraf.conf --input-filter sensors --test\n* Plugin: sensors, Collection 1\n> sensors,chip=power_meter-acpi-0,feature=power1 power_average=0,power_average_interval=300 1466751326000000000\n> sensors,chip=k10temp-pci-00c3,feature=temp1 temp_crit=70,temp_crit_hyst=65,temp_input=29,temp_max=70 1466751326000000000\n> sensors,chip=k10temp-pci-00cb,feature=temp1 temp_input=29,temp_max=70 1466751326000000000\n> sensors,chip=k10temp-pci-00d3,feature=temp1 temp_input=27.5,temp_max=70 1466751326000000000\n> sensors,chip=k10temp-pci-00db,feature=temp1 temp_crit=70,temp_crit_hyst=65,temp_input=29.5,temp_max=70 1466751326000000000\n```\n\n#### With remove_numbers=false\n```\n* Plugin: sensors, Collection 1\n> sensors,chip=power_meter-acpi-0,feature=power1 power1_average=0,power1_average_interval=300 1466753424000000000\n> sensors,chip=k10temp-pci-00c3,feature=temp1 temp1_crit=70,temp1_crit_hyst=65,temp1_input=29.125,temp1_max=70 1466753424000000000\n> sensors,chip=k10temp-pci-00cb,feature=temp1 temp1_input=29,temp1_max=70 1466753424000000000\n> sensors,chip=k10temp-pci-00d3,feature=temp1 temp1_input=29.5,temp1_max=70 1466753424000000000\n> sensors,chip=k10temp-pci-00db,feature=temp1 temp1_crit=70,temp1_crit_hyst=65,temp1_input=30,temp1_max=70 1466753424000000000\n```\n",image:zE.a},{id:"sflow",name:"SFlow",url:"telegraf-plugins/sflow",markdown:'# SFlow Input Plugin\n\nThe SFlow Input Plugin provides support for acting as an SFlow V5 collector in\naccordance with the specification from [sflow.org](https://sflow.org/).\n\nCurrently only Flow Samples of Ethernet / IPv4 & IPv4 TCP & UDP headers are\nturned into metrics.  Counters and other header samples are ignored.\n\n#### Series Cardinality Warning\n\nThis plugin may produce a high number of series which, when not controlled\nfor, will cause high load on your database. Use the following techniques to\navoid cardinality issues:\n\n- Use [metric filtering][] options to exclude unneeded measurements and tags.\n- Write to a database with an appropriate [retention policy][].\n- Limit series cardinality in your database using the\n  [max-series-per-database][] and [max-values-per-tag][] settings.\n- Consider using the [Time Series Index][tsi].\n- Monitor your databases [series cardinality][].\n- Consult the [InfluxDB documentation][influx-docs] for the most up-to-date techniques.\n\n### Configuration\n\n```toml\n[[inputs.sflow]]\n  ## Address to listen for sFlow packets.\n  ##   example: service_address = "udp://:6343"\n  ##            service_address = "udp4://:6343"\n  ##            service_address = "udp6://:6343"\n  service_address = "udp://:6343"\n\n  ## Set the size of the operating system\'s receive buffer.\n  ##   example: read_buffer_size = "64KiB"\n  # read_buffer_size = ""\n```\n\n### Metrics\n\n- sflow\n  - tags:\n    - agent_address (IP address of the agent that obtained the sflow sample and sent it to this collector)\n    - source_id_type(source_id_type field of flow_sample or flow_sample_expanded structures)\n    - source_id_index(source_id_index field of flow_sample or flow_sample_expanded structures)\n    - input_ifindex (value (input) field of flow_sample or flow_sample_expanded structures)\n    - output_ifindex (value (output) field of flow_sample or flow_sample_expanded structures)\n    - sample_direction (source_id_index, netif_index_in and netif_index_out)\n    - header_protocol (header_protocol field of sampled_header structures)\n    - ether_type (eth_type field of an ETHERNET-ISO88023 header)\n    - src_ip (source_ipaddr field of IPv4 or IPv6 structures)\n    - src_port (src_port field of TCP or UDP structures)\n    - src_port_name (src_port)\n    - src_mac (source_mac_addr field of an ETHERNET-ISO88023 header)\n    - src_vlan (src_vlan field of extended_switch structure)\n    - src_priority (src_priority field of extended_switch structure)\n    - src_mask_len (src_mask_len field of extended_router structure)\n    - dst_ip (destination_ipaddr field of IPv4 or IPv6 structures)\n    - dst_port (dst_port field of TCP or UDP structures)\n    - dst_port_name (dst_port)\n    - dst_mac (destination_mac_addr field of an ETHERNET-ISO88023 header)\n    - dst_vlan (dst_vlan field of extended_switch structure)\n    - dst_priority (dst_priority field of extended_switch structure)\n    - dst_mask_len (dst_mask_len field of extended_router structure)\n    - next_hop (next_hop field of extended_router structure)\n    - ip_version (ip_ver field of IPv4 or IPv6 structures)\n    - ip_protocol (ip_protocol field of IPv4 or IPv6 structures)\n    - ip_dscp (ip_dscp field of IPv4 or IPv6 structures)\n    - ip_ecn (ecn field of IPv4 or IPv6 structures)\n    - tcp_urgent_pointer (urgent_pointer field of TCP structure)\n  - fields:\n    - bytes (integer, the product of frame_length and packets)\n    - drops (integer, drops field of flow_sample or flow_sample_expanded structures)\n    - packets (integer, sampling_rate field of flow_sample or flow_sample_expanded structures)\n    - frame_length (integer, frame_length field of sampled_header structures)\n    - header_size (integer, header_size field of sampled_header structures)\n    - ip_fragment_offset (integer, ip_ver field of IPv4 structures)\n    - ip_header_length (integer, ip_ver field of IPv4 structures)\n    - ip_total_length (integer, ip_total_len field of IPv4 structures)\n    - ip_ttl (integer, ip_ttl field of IPv4 structures or ip_hop_limit field IPv6 structures)\n    - tcp_header_length (integer, size field of TCP structure. This value is specified in 32-bit words. It must be multiplied by 4 to produce a value in bytes.)\n    - tcp_window_size (integer, window_size field of TCP structure)\n    - udp_length (integer, length field of UDP structures)\n    - ip_flags (integer, ip_ver field of IPv4 structures)\n    - tcp_flags (integer, TCP flags of TCP IP header (IPv4 or IPv6))\n\n### Troubleshooting\n\nThe [sflowtool][] utility can be used to print sFlow packets, and compared\nagainst the metrics produced by Telegraf.\n```\nsflowtool -p 6343\n```\n\nIf opening an issue, in addition to the output of sflowtool it will also be\nhelpful to collect a packet capture.  Adjust the interface, host and port as\nneeded:\n```\n$ sudo tcpdump -s 0 -i eth0 -w telegraf-sflow.pcap host 127.0.0.1 and port 6343\n```\n\n[sflowtool]: https://github.com/sflow/sflowtool\n\n### Example Output\n```\nsflow,agent_address=0.0.0.0,dst_ip=10.0.0.2,dst_mac=ff:ff:ff:ff:ff:ff,dst_port=40042,ether_type=IPv4,header_protocol=ETHERNET-ISO88023,input_ifindex=6,ip_dscp=27,ip_ecn=0,output_ifindex=1073741823,source_id_index=3,source_id_type=0,src_ip=10.0.0.1,src_mac=ff:ff:ff:ff:ff:ff,src_port=443 bytes=1570i,drops=0i,frame_length=157i,header_length=128i,ip_flags=2i,ip_fragment_offset=0i,ip_total_length=139i,ip_ttl=42i,sampling_rate=10i,tcp_header_length=0i,tcp_urgent_pointer=0i,tcp_window_size=14i 1584473704793580447\n```\n\n### Reference Documentation\n\nThis sflow implementation was built from the reference document \n[sflow.org/sflow_version_5.txt](sflow_version_5)\n\n\n[metric filtering]: https://github.com/influxdata/telegraf/blob/master/docs/CONFIGURATION.md#metric-filtering\n[retention policy]: https://docs.influxdata.com/influxdb/latest/guides/downsampling_and_retention/\n[max-series-per-database]: https://docs.influxdata.com/influxdb/latest/administration/config/#max-series-per-database-1000000\n[max-values-per-tag]: https://docs.influxdata.com/influxdb/latest/administration/config/#max-values-per-tag-100000\n[tsi]: https://docs.influxdata.com/influxdb/latest/concepts/time-series-index/\n[series cardinality]: https://docs.influxdata.com/influxdb/latest/query_language/spec/#show-cardinality\n[influx-docs]: https://docs.influxdata.com/influxdb/latest/\n[sflow_version_5]: https://sflow.org/sflow_version_5.txt\n',image:HE.a},{id:"smart",name:"S.M.A.R.T.",url:"telegraf-plugins/smart",markdown:'# S.M.A.R.T. Input Plugin\n\nGet metrics using the command line utility `smartctl` for S.M.A.R.T. (Self-Monitoring, Analysis and Reporting Technology) storage devices. SMART is a monitoring system included in computer hard disk drives (HDDs) and solid-state drives (SSDs) that detects and reports on various indicators of drive reliability, with the intent of enabling the anticipation of hardware failures.\nSee smartmontools (https://www.smartmontools.org/).\n\nSMART information is separated between different measurements: `smart_device` is used for general information, while `smart_attribute` stores the detailed attribute information if `attributes = true` is enabled in the plugin configuration.\n\nIf no devices are specified, the plugin will scan for SMART devices via the following command:\n\n```\nsmartctl --scan\n```\n\nMetrics will be reported from the following `smartctl` command:\n\n```\nsmartctl --info --attributes --health -n <nocheck> --format=brief <device>\n```\n\nThis plugin supports _smartmontools_ version 5.41 and above, but v. 5.41 and v. 5.42\nmight require setting `nocheck`, see the comment in the sample configuration.\nAlso, NVMe capabilities were introduced in version 6.5.\n\nTo enable SMART on a storage device run:\n\n```\nsmartctl -s on <device>\n```\n## NVMe vendor specific attributes\n\nFor NVMe disk type, plugin can use command line utility `nvme-cli`. It has a feature \nto easy access a vendor specific attributes.\nThis plugin supports nmve-cli version 1.5 and above (https://github.com/linux-nvme/nvme-cli). \nIn case of `nvme-cli` absence NVMe vendor specific metrics will not be obtained.\n\nVendor specific SMART metrics for NVMe disks may be reported from the following `nvme` command:\n\n```\nnvme <vendor> smart-log-add <device>\n```\n\nNote that vendor plugins for `nvme-cli` could require different naming convention and report format.\n\nTo see installed plugin extensions, depended on the nvme-cli version, look at the bottom of:\n```\nnvme help\n```\n\nTo gather disk vendor id (vid) `id-ctrl` could be used:\n```\nnvme id-ctrl <device>\n```\nAssociation between a vid and company can be found there: https://pcisig.com/membership/member-companies.\n\nDevices affiliation to being NVMe or non NVMe will be determined thanks to:\n```\nsmartctl --scan\n```\nand:\n```\nsmartctl --scan -d nvme\n```\n\n## Configuration\n\n```toml\n# Read metrics from storage devices supporting S.M.A.R.T.\n[[inputs.smart]]\n    ## Optionally specify the path to the smartctl executable\n    # path_smartctl = "/usr/bin/smartctl"\n  \n    ## Optionally specify the path to the nvme-cli executable\n    # path_nvme = "/usr/bin/nvme"\n  \n    ## Optionally specify if vendor specific attributes should be propagated for NVMe disk case\n    ## ["auto-on"] - automatically find and enable additional vendor specific disk info\n    ## ["vendor1", "vendor2", ...] - e.g. "Intel" enable additional Intel specific disk info\n    # enable_extensions = ["auto-on"]\n  \n    ## On most platforms used cli utilities requires root access.\n    ## Setting \'use_sudo\' to true will make use of sudo to run smartctl or nvme-cli.\n    ## Sudo must be configured to allow the telegraf user to run smartctl or nvme-cli\n    ## without a password.\n    # use_sudo = false\n  \n    ## Skip checking disks in this power mode. Defaults to\n    ## "standby" to not wake up disks that have stopped rotating.\n    ## See --nocheck in the man pages for smartctl.\n    ## smartctl version 5.41 and 5.42 have faulty detection of\n    ## power mode and might require changing this value to\n    ## "never" depending on your disks.\n    # nocheck = "standby"\n  \n    ## Gather all returned S.M.A.R.T. attribute metrics and the detailed\n    ## information from each drive into the \'smart_attribute\' measurement.\n    # attributes = false\n  \n    ## Optionally specify devices to exclude from reporting if disks auto-discovery is performed.\n    # excludes = [ "/dev/pass6" ]\n  \n    ## Optionally specify devices and device type, if unset\n    ## a scan (smartctl --scan and smartctl --scan -d nvme) for S.M.A.R.T. devices will be done\n    ## and all found will be included except for the excluded in excludes.\n    # devices = [ "/dev/ada0 -d atacam", "/dev/nvme0"]\n  \n    ## Timeout for the cli command to complete.\n    # timeout = "30s"\n```\n\n## Permissions\n\nIt\'s important to note that this plugin references smartctl and nvme-cli, which may require additional permissions to execute successfully.\nDepending on the user/group permissions of the telegraf user executing this plugin, you may need to use sudo.\n\nYou will need the following in your telegraf config:\n```toml\n[[inputs.smart]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# For smartctl add the following lines:\nCmnd_Alias SMARTCTL = /usr/bin/smartctl\ntelegraf  ALL=(ALL) NOPASSWD: SMARTCTL\nDefaults!SMARTCTL !logfile, !syslog, !pam_session\n\n# For nvme-cli add the following lines:\nCmnd_Alias NVME = /path/to/nvme\ntelegraf  ALL=(ALL) NOPASSWD: NVME\nDefaults!NVME !logfile, !syslog, !pam_session\n```\nTo run smartctl or nvme with `sudo` wrapper script can be created. `path_smartctl` or\n`path_nvme` in the configuration should be set to execute this script.\n\n## Metrics\n\n- smart_device:\n  - tags:\n    - capacity\n    - device\n    - enabled\n    - model\n    - serial_no\n    - wwn\n  - fields:\n    - exit_status\n    - health_ok\n    - read_error_rate\n    - seek_error\n    - temp_c\n    - udma_crc_errors\n\n- smart_attribute:\n  - tags:\n    - capacity\n    - device\n    - enabled\n    - fail\n    - flags\n    - id\n    - model\n    - name\n    - serial_no\n    - wwn\n  - fields:\n    - exit_status\n    - raw_value\n    - threshold\n    - value\n    - worst\n\n#### Flags\n\nThe interpretation of the tag `flags` is:\n - `K` auto-keep\n - `C` event count\n - `R` error rate\n - `S` speed/performance\n - `O` updated online\n - `P` prefailure warning\n\n#### Exit Status\n\nThe `exit_status` field captures the exit status of the used cli utilities command which\nis defined by a bitmask. For the interpretation of the bitmask see the man page for\nsmartctl or nvme-cli.\n\n## Device Names\nDevice names, e.g., `/dev/sda`, are *not persistent*, and may be\nsubject to change across reboots or system changes. Instead, you can use the\n*World Wide Name* (WWN) or serial number to identify devices. On Linux block\ndevices can be referenced by the WWN in the following location:\n`/dev/disk/by-id/`.\n## Troubleshooting\nIf you expect to see more SMART metrics than this plugin shows, be sure to use a proper version\nof smartctl or nvme-cli utility which has the functionality to gather desired data. Also, check\nyour device capability because not every SMART metrics are mandatory. \nFor example the number of temperature sensors depends on the device specification.\n\nIf this plugin is not working as expected for your SMART enabled device,\nplease run these commands and include the output in a bug report:\n\nFor non NVMe devices (from smartctl version >= 7.0 this will also return NVMe devices by default):\n```\nsmartctl --scan\n```\nFor NVMe devices:\n```\nsmartctl --scan -d nvme\n```\nRun the following command replacing your configuration setting for NOCHECK and\nthe DEVICE (name of the device could be taken from the previous command):\n```\nsmartctl --info --health --attributes --tolerance=verypermissive --nocheck NOCHECK --format=brief -d DEVICE\n```\nIf you try to gather vendor specific metrics, please provide this commad\nand replace vendor and device to match your case:\n```\nnvme VENDOR smart-log-add DEVICE\n```\n## Example SMART Plugin Outputs\n```\nsmart_device,enabled=Enabled,host=mbpro.local,device=rdisk0,model=APPLE\\ SSD\\ SM0512F,serial_no=S1K5NYCD964433,wwn=5002538655584d30,capacity=500277790720 udma_crc_errors=0i,exit_status=0i,health_ok=true,read_error_rate=0i,temp_c=40i 1502536854000000000\nsmart_attribute,capacity=500277790720,device=rdisk0,enabled=Enabled,fail=-,flags=-O-RC-,host=mbpro.local,id=199,model=APPLE\\ SSD\\ SM0512F,name=UDMA_CRC_Error_Count,serial_no=S1K5NYCD964433,wwn=5002538655584d30 exit_status=0i,raw_value=0i,threshold=0i,value=200i,worst=200i 1502536854000000000\nsmart_attribute,capacity=500277790720,device=rdisk0,enabled=Enabled,fail=-,flags=-O---K,host=mbpro.local,id=199,model=APPLE\\ SSD\\ SM0512F,name=Unknown_SSD_Attribute,serial_no=S1K5NYCD964433,wwn=5002538655584d30 exit_status=0i,raw_value=0i,threshold=0i,value=100i,worst=100i 1502536854000000000\n```\n',image:VE.a},{id:"snmp",name:"SNMP",url:"telegraf-plugins/snmp",markdown:'# SNMP Input Plugin\n\nThe `snmp` input plugin uses polling to gather metrics from SNMP agents.\nSupport for gathering individual OIDs as well as complete SNMP tables is\nincluded.\n\n### Prerequisites\n\nThis plugin uses the `snmptable` and `snmptranslate` programs from the\n[net-snmp][] project.  These tools will need to be installed into the `PATH` in\norder to be located.  Other utilities from the net-snmp project may be useful\nfor troubleshooting, but are not directly used by the plugin.\n\nThese programs will load available MIBs on the system.  Typically the default\ndirectory for MIBs is `/usr/share/snmp/mibs`, but if your MIBs are in a\ndifferent location you may need to make the paths known to net-snmp.  The\nlocation of these files can be configured in the `snmp.conf` or via the\n`MIBDIRS` environment variable. See [`man 1 snmpcmd`][man snmpcmd] for more\ninformation.\n\n### Configuration\n```toml\n[[inputs.snmp]]\n  ## Agent addresses to retrieve values from.\n  ##   example: agents = ["udp://127.0.0.1:161"]\n  ##            agents = ["tcp://127.0.0.1:161"]\n  agents = ["udp://127.0.0.1:161"]\n\n  ## Timeout for each request.\n  # timeout = "5s"\n\n  ## SNMP version; can be 1, 2, or 3.\n  # version = 2\n\n  ## SNMP community string.\n  # community = "public"\n\n  ## Agent host tag\n  # agent_host_tag = "agent_host"\n\n  ## Number of retries to attempt.\n  # retries = 3\n\n  ## The GETBULK max-repetitions parameter.\n  # max_repetitions = 10\n\n  ## SNMPv3 authentication and encryption options.\n  ##\n  ## Security Name.\n  # sec_name = "myuser"\n  ## Authentication protocol; one of "MD5", "SHA", or "".\n  # auth_protocol = "MD5"\n  ## Authentication password.\n  # auth_password = "pass"\n  ## Security Level; one of "noAuthNoPriv", "authNoPriv", or "authPriv".\n  # sec_level = "authNoPriv"\n  ## Context Name.\n  # context_name = ""\n  ## Privacy protocol used for encrypted messages; one of "DES", "AES" or "".\n  # priv_protocol = ""\n  ## Privacy password used for encrypted messages.\n  # priv_password = ""\n\n  ## Add fields and tables defining the variables you wish to collect.  This\n  ## example collects the system uptime and interface variables.  Reference the\n  ## full plugin documentation for configuration details.\n  [[inputs.snmp.field]]\n    oid = "RFC1213-MIB::sysUpTime.0"\n    name = "uptime"\n\n  [[inputs.snmp.field]]\n    oid = "RFC1213-MIB::sysName.0"\n    name = "source"\n    is_tag = true\n\n  [[inputs.snmp.table]]\n    oid = "IF-MIB::ifTable"\n    name = "interface"\n    inherit_tags = ["source"]\n\n    [[inputs.snmp.table.field]]\n      oid = "IF-MIB::ifDescr"\n      name = "ifDescr"\n      is_tag = true\n```\n\n#### Configure SNMP Requests\n\nThis plugin provides two methods for configuring the SNMP requests: `fields`\nand `tables`.  Use the `field` option to gather single ad-hoc variables.\nTo collect SNMP tables, use the `table` option.\n\n##### Field\n\nUse a `field` to collect a variable by OID.  Requests specified with this\noption operate similar to the `snmpget` utility.\n\n```toml\n[[inputs.snmp]]\n  # ... snip ...\n\n  [[inputs.snmp.field]]\n    ## Object identifier of the variable as a numeric or textual OID.\n    oid = "RFC1213-MIB::sysName.0"\n\n    ## Name of the field or tag to create.  If not specified, it defaults to\n    ## the value of \'oid\'. If \'oid\' is numeric, an attempt to translate the\n    ## numeric OID into a textual OID will be made.\n    # name = ""\n\n    ## If true the variable will be added as a tag, otherwise a field will be\n    ## created.\n    # is_tag = false\n\n    ## Apply one of the following conversions to the variable value:\n    ##   float(X) Convert the input value into a float and divides by the\n    ##            Xth power of 10. Effectively just moves the decimal left\n    ##            X places. For example a value of `123` with `float(2)`\n    ##            will result in `1.23`.\n    ##   float:   Convert the value into a float with no adjustment. Same\n    ##            as `float(0)`.\n    ##   int:     Convert the value into an integer.\n    ##   hwaddr:  Convert the value to a MAC address.\n    ##   ipaddr:  Convert the value to an IP address.\n    # conversion = ""\n```\n\n##### Table\n\nUse a `table` to configure the collection of a SNMP table.  SNMP requests\nformed with this option operate similarly way to the `snmptable` command.\n\nControl the handling of specific table columns using a nested `field`.  These\nnested fields are specified similarly to a top-level `field`.\n\nBy default all columns of the SNMP table will be collected - it is not required\nto add a nested field for each column, only those which you wish to modify. To\n*only* collect certain columns, omit the `oid` from the `table` section and only\ninclude `oid` settings in `field` sections. For more complex include/exclude\ncases for columns use [metric filtering][].\n\nOne [metric][] is created for each row of the SNMP table.\n\n```toml\n[[inputs.snmp]]\n  # ... snip ...\n\n  [[inputs.snmp.table]]\n    ## Object identifier of the SNMP table as a numeric or textual OID.\n    oid = "IF-MIB::ifTable"\n\n    ## Name of the field or tag to create.  If not specified, it defaults to\n    ## the value of \'oid\'.  If \'oid\' is numeric an attempt to translate the\n    ## numeric OID into a textual OID will be made.\n    # name = ""\n\n    ## Which tags to inherit from the top-level config and to use in the output\n    ## of this table\'s measurement.\n    ## example: inherit_tags = ["source"]\n    # inherit_tags = []\n\n    ## Add an \'index\' tag with the table row number.  Use this if the table has\n    ## no indexes or if you are excluding them.  This option is normally not\n    ## required as any index columns are automatically added as tags.\n    # index_as_tag = false\n\n    [[inputs.snmp.table.field]]\n      ## OID to get. May be a numeric or textual module-qualified OID.\n      oid = "IF-MIB::ifDescr"\n\n      ## Name of the field or tag to create.  If not specified, it defaults to\n      ## the value of \'oid\'. If \'oid\' is numeric an attempt to translate the\n      ## numeric OID into a textual OID will be made.\n      # name = ""\n\n      ## Output this field as a tag.\n      # is_tag = false\n\n      ## The OID sub-identifier to strip off so that the index can be matched\n      ## against other fields in the table.\n      # oid_index_suffix = ""\n\n      ## Specifies the length of the index after the supplied table OID (in OID\n      ## path segments). Truncates the index after this point to remove non-fixed\n      ## value or length index suffixes.\n      # oid_index_length = 0\n```\n\n### Troubleshooting\n\nCheck that a numeric field can be translated to a textual field:\n```\n$ snmptranslate .1.3.6.1.2.1.1.3.0\nDISMAN-EVENT-MIB::sysUpTimeInstance\n```\n\nRequest a top-level field:\n```\n$ snmpget -v2c -c public 127.0.0.1 sysUpTime.0\n```\n\nRequest a table:\n```\n$ snmptable -v2c -c public 127.0.0.1 ifTable\n```\n\nTo collect a packet capture, run this command in the background while running\nTelegraf or one of the above commands.  Adjust the interface, host and port as\nneeded:\n```\n$ sudo tcpdump -s 0 -i eth0 -w telegraf-snmp.pcap host 127.0.0.1 and port 161\n```\n\n### Example Output\n\n```\nsnmp,agent_host=127.0.0.1,source=loaner uptime=11331974i 1575509815000000000\ninterface,agent_host=127.0.0.1,ifDescr=wlan0,ifIndex=3,source=example.org ifAdminStatus=1i,ifInDiscards=0i,ifInErrors=0i,ifInNUcastPkts=0i,ifInOctets=3436617431i,ifInUcastPkts=2717778i,ifInUnknownProtos=0i,ifLastChange=0i,ifMtu=1500i,ifOperStatus=1i,ifOutDiscards=0i,ifOutErrors=0i,ifOutNUcastPkts=0i,ifOutOctets=581368041i,ifOutQLen=0i,ifOutUcastPkts=1354338i,ifPhysAddress="c8:5b:76:c9:e6:8c",ifSpecific=".0.0",ifSpeed=0i,ifType=6i 1575509815000000000\ninterface,agent_host=127.0.0.1,ifDescr=eth0,ifIndex=2,source=example.org ifAdminStatus=1i,ifInDiscards=0i,ifInErrors=0i,ifInNUcastPkts=21i,ifInOctets=3852386380i,ifInUcastPkts=3634004i,ifInUnknownProtos=0i,ifLastChange=9088763i,ifMtu=1500i,ifOperStatus=1i,ifOutDiscards=0i,ifOutErrors=0i,ifOutNUcastPkts=0i,ifOutOctets=434865441i,ifOutQLen=0i,ifOutUcastPkts=2110394i,ifPhysAddress="c8:5b:76:c9:e6:8c",ifSpecific=".0.0",ifSpeed=1000000000i,ifType=6i 1575509815000000000\ninterface,agent_host=127.0.0.1,ifDescr=lo,ifIndex=1,source=example.org ifAdminStatus=1i,ifInDiscards=0i,ifInErrors=0i,ifInNUcastPkts=0i,ifInOctets=51555569i,ifInUcastPkts=339097i,ifInUnknownProtos=0i,ifLastChange=0i,ifMtu=65536i,ifOperStatus=1i,ifOutDiscards=0i,ifOutErrors=0i,ifOutNUcastPkts=0i,ifOutOctets=51555569i,ifOutQLen=0i,ifOutUcastPkts=339097i,ifSpecific=".0.0",ifSpeed=10000000i,ifType=24i 1575509815000000000\n```\n\n[net-snmp]: http://www.net-snmp.org/\n[man snmpcmd]: http://net-snmp.sourceforge.net/docs/man/snmpcmd.html#lbAK\n[metric filtering]: /docs/CONFIGURATION.md#metric-filtering\n[metric]: /docs/METRICS.md\n',image:XE.a},{id:"snmp_legacy",name:"SNMP Legacy",url:"telegraf-plugins/snmp_legacy",markdown:'# SNMP Legacy Input Plugin\n\nThe SNMP input plugin gathers metrics from SNMP agents\n\n### Configuration:\n\n\n#### Very simple example\n\nIn this example, the plugin will gather value of OIDS:\n\n - `.1.3.6.1.2.1.2.2.1.4.1`\n\n```toml\n# Very Simple Example\n[[inputs.snmp]]\n\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Simple list of OIDs to get, in addition to "collect"\n    get_oids = [".1.3.6.1.2.1.2.2.1.4.1"]\n```\n\n\n#### Simple example\n\nIn this example, Telegraf gathers value of OIDS:\n\n - named **ifnumber**\n - named **interface_speed**\n\nWith **inputs.snmp.get** section the plugin gets the oid number:\n\n - **ifnumber** => `.1.3.6.1.2.1.2.1.0`\n - **interface_speed** => *ifSpeed*\n\nAs you can see *ifSpeed* is not a valid OID. In order to get\nthe valid OID, the plugin uses `snmptranslate_file` to match the OID:\n\n - **ifnumber** => `.1.3.6.1.2.1.2.1.0`\n - **interface_speed** => *ifSpeed* => `.1.3.6.1.2.1.2.2.1.5`\n\nAlso as the plugin will append `instance` to the corresponding OID:\n\n - **ifnumber** => `.1.3.6.1.2.1.2.1.0`\n - **interface_speed** => *ifSpeed* => `.1.3.6.1.2.1.2.2.1.5.1`\n\nIn this example, the plugin will gather value of OIDS:\n\n- `.1.3.6.1.2.1.2.1.0`\n- `.1.3.6.1.2.1.2.2.1.5.1`\n\n\n```toml\n# Simple example\n[[inputs.snmp]]\n  ## Use \'oids.txt\' file to translate oids to names\n  ## To generate \'oids.txt\' you need to run:\n  ##   snmptranslate -m all -Tz -On | sed -e \'s/"//g\' > /tmp/oids.txt\n  ## Or if you have an other MIB folder with custom MIBs\n  ##   snmptranslate -M /mycustommibfolder -Tz -On -m all | sed -e \'s/"//g\' > oids.txt\n  snmptranslate_file = "/tmp/oids.txt"\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Which get/bulk do you want to collect for this host\n    collect = ["ifnumber", "interface_speed"]\n\n  [[inputs.snmp.get]]\n    name = "ifnumber"\n    oid = ".1.3.6.1.2.1.2.1.0"\n\n  [[inputs.snmp.get]]\n    name = "interface_speed"\n    oid = "ifSpeed"\n    instance = "1"\n\n```\n\n\n#### Simple bulk example\n\nIn this example, Telegraf gathers value of OIDS:\n\n - named **ifnumber**\n - named **interface_speed**\n - named **if_out_octets**\n\nWith **inputs.snmp.get** section the plugin gets oid number:\n\n - **ifnumber** => `.1.3.6.1.2.1.2.1.0`\n - **interface_speed** => *ifSpeed*\n\nWith **inputs.snmp.bulk** section the plugin gets the oid number:\n\n - **if_out_octets** => *ifOutOctets*\n\nAs you can see *ifSpeed* and *ifOutOctets* are not a valid OID.\nIn order to get the valid OID, the plugin uses `snmptranslate_file`\nto match the OID:\n\n - **ifnumber** => `.1.3.6.1.2.1.2.1.0`\n - **interface_speed** => *ifSpeed* => `.1.3.6.1.2.1.2.2.1.5`\n - **if_out_octets** => *ifOutOctets*  => `.1.3.6.1.2.1.2.2.1.16`\n\nAlso, the plugin will append `instance` to the corresponding OID:\n\n - **ifnumber** => `.1.3.6.1.2.1.2.1.0`\n - **interface_speed** => *ifSpeed* => `.1.3.6.1.2.1.2.2.1.5.1`\n\nAnd **if_out_octets** is a bulk request, the plugin will gathers all\nOIDS in the table.\n\n- `.1.3.6.1.2.1.2.2.1.16.1`\n- `.1.3.6.1.2.1.2.2.1.16.2`\n- `.1.3.6.1.2.1.2.2.1.16.3`\n- `.1.3.6.1.2.1.2.2.1.16.4`\n- `.1.3.6.1.2.1.2.2.1.16.5`\n- `...`\n\nIn this example, the plugin will gather value of OIDS:\n\n- `.1.3.6.1.2.1.2.1.0`\n- `.1.3.6.1.2.1.2.2.1.5.1`\n- `.1.3.6.1.2.1.2.2.1.16.1`\n- `.1.3.6.1.2.1.2.2.1.16.2`\n- `.1.3.6.1.2.1.2.2.1.16.3`\n- `.1.3.6.1.2.1.2.2.1.16.4`\n- `.1.3.6.1.2.1.2.2.1.16.5`\n- `...`\n\n\n```toml\n# Simple bulk example\n[[inputs.snmp]]\n  ## Use \'oids.txt\' file to translate oids to names\n  ## To generate \'oids.txt\' you need to run:\n  ##   snmptranslate -m all -Tz -On | sed -e \'s/"//g\' > /tmp/oids.txt\n  ## Or if you have an other MIB folder with custom MIBs\n  ##   snmptranslate -M /mycustommibfolder -Tz -On -m all | sed -e \'s/"//g\' > oids.txt\n  snmptranslate_file = "/tmp/oids.txt"\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Which get/bulk do you want to collect for this host\n    collect = ["interface_speed", "if_number", "if_out_octets"]\n\n  [[inputs.snmp.get]]\n    name = "interface_speed"\n    oid = "ifSpeed"\n    instance = "1"\n\n  [[inputs.snmp.get]]\n    name = "if_number"\n    oid = "ifNumber"\n\n  [[inputs.snmp.bulk]]\n    name = "if_out_octets"\n    oid = "ifOutOctets"\n```\n\n\n#### Table example\n\nIn this example, we remove collect attribute to the host section,\nbut you can still use it in combination of the following part.\n\nNote: This example is like a bulk request a but using an\nother configuration\n\nTelegraf gathers value of OIDS of the table:\n\n - named **iftable1**\n\nWith **inputs.snmp.table** section the plugin gets oid number:\n\n - **iftable1** => `.1.3.6.1.2.1.31.1.1.1`\n\nAlso **iftable1** is a table, the plugin will gathers all\nOIDS in the table and in the subtables\n\n- `.1.3.6.1.2.1.31.1.1.1.1`\n- `.1.3.6.1.2.1.31.1.1.1.1.1`\n- `.1.3.6.1.2.1.31.1.1.1.1.2`\n- `.1.3.6.1.2.1.31.1.1.1.1.3`\n- `.1.3.6.1.2.1.31.1.1.1.1.4`\n- `.1.3.6.1.2.1.31.1.1.1.1....`\n- `.1.3.6.1.2.1.31.1.1.1.2`\n- `.1.3.6.1.2.1.31.1.1.1.2....`\n- `.1.3.6.1.2.1.31.1.1.1.3`\n- `.1.3.6.1.2.1.31.1.1.1.3....`\n- `.1.3.6.1.2.1.31.1.1.1.4`\n- `.1.3.6.1.2.1.31.1.1.1.4....`\n- `.1.3.6.1.2.1.31.1.1.1.5`\n- `.1.3.6.1.2.1.31.1.1.1.5....`\n- `.1.3.6.1.2.1.31.1.1.1.6....`\n- `...`\n\n```toml\n# Table example\n[[inputs.snmp]]\n  ## Use \'oids.txt\' file to translate oids to names\n  ## To generate \'oids.txt\' you need to run:\n  ##   snmptranslate -m all -Tz -On | sed -e \'s/"//g\' > /tmp/oids.txt\n  ## Or if you have an other MIB folder with custom MIBs\n  ##   snmptranslate -M /mycustommibfolder -Tz -On -m all | sed -e \'s/"//g\' > oids.txt\n  snmptranslate_file = "/tmp/oids.txt"\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Which get/bulk do you want to collect for this host\n    # Which table do you want to collect\n    [[inputs.snmp.host.table]]\n      name = "iftable1"\n\n  # table without mapping neither subtables\n  # This is like bulk request\n  [[inputs.snmp.table]]\n    name = "iftable1"\n    oid = ".1.3.6.1.2.1.31.1.1.1"\n```\n\n\n#### Table with subtable example\n\nIn this example, we remove collect attribute to the host section,\nbut you can still use it in combination of the following part.\n\nNote: This example is like a bulk request a but using an\nother configuration\n\nTelegraf gathers value of OIDS of the table:\n\n - named **iftable2**\n\nWith **inputs.snmp.table** section *AND* **sub_tables** attribute,\nthe plugin will get OIDS from subtables:\n\n - **iftable2** => `.1.3.6.1.2.1.2.2.1.13`\n\nAlso **iftable2** is a table, the plugin will gathers all\nOIDS in subtables:\n\n- `.1.3.6.1.2.1.2.2.1.13.1`\n- `.1.3.6.1.2.1.2.2.1.13.2`\n- `.1.3.6.1.2.1.2.2.1.13.3`\n- `.1.3.6.1.2.1.2.2.1.13.4`\n- `.1.3.6.1.2.1.2.2.1.13....`\n\n\n```toml\n# Table with subtable example\n[[inputs.snmp]]\n  ## Use \'oids.txt\' file to translate oids to names\n  ## To generate \'oids.txt\' you need to run:\n  ##   snmptranslate -m all -Tz -On | sed -e \'s/"//g\' > /tmp/oids.txt\n  ## Or if you have an other MIB folder with custom MIBs\n  ##   snmptranslate -M /mycustommibfolder -Tz -On -m all | sed -e \'s/"//g\' > oids.txt\n  snmptranslate_file = "/tmp/oids.txt"\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Which table do you want to collect\n    [[inputs.snmp.host.table]]\n      name = "iftable2"\n\n  # table without mapping but with subtables\n  [[inputs.snmp.table]]\n    name = "iftable2"\n    sub_tables = [".1.3.6.1.2.1.2.2.1.13"]\n    # note\n    # oid attribute is useless\n```\n\n\n#### Table with mapping example\n\nIn this example, we remove collect attribute to the host section,\nbut you can still use it in combination of the following part.\n\nTelegraf gathers value of OIDS of the table:\n\n - named **iftable3**\n\nWith **inputs.snmp.table** section the plugin gets oid number:\n\n - **iftable3** => `.1.3.6.1.2.1.31.1.1.1`\n\nAlso **iftable2** is a table, the plugin will gathers all\nOIDS in the table and in the subtables\n\n- `.1.3.6.1.2.1.31.1.1.1.1`\n- `.1.3.6.1.2.1.31.1.1.1.1.1`\n- `.1.3.6.1.2.1.31.1.1.1.1.2`\n- `.1.3.6.1.2.1.31.1.1.1.1.3`\n- `.1.3.6.1.2.1.31.1.1.1.1.4`\n- `.1.3.6.1.2.1.31.1.1.1.1....`\n- `.1.3.6.1.2.1.31.1.1.1.2`\n- `.1.3.6.1.2.1.31.1.1.1.2....`\n- `.1.3.6.1.2.1.31.1.1.1.3`\n- `.1.3.6.1.2.1.31.1.1.1.3....`\n- `.1.3.6.1.2.1.31.1.1.1.4`\n- `.1.3.6.1.2.1.31.1.1.1.4....`\n- `.1.3.6.1.2.1.31.1.1.1.5`\n- `.1.3.6.1.2.1.31.1.1.1.5....`\n- `.1.3.6.1.2.1.31.1.1.1.6....`\n- `...`\n\nBut the **include_instances** attribute will filter which OIDS\nwill be gathered; As you see, there is an other attribute, `mapping_table`.\n`include_instances` and `mapping_table` permit to build a hash table\nto filter only OIDS you want.\nLet\'s say, we have the following data on SNMP server:\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.1` has as value: `enp5s0`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.2` has as value: `enp5s1`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.3` has as value: `enp5s2`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.4` has as value: `eth0`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.5` has as value: `eth1`\n\nThe plugin will build the following hash table:\n\n| instance name | instance id |\n|---------------|-------------|\n| `enp5s0`      | `1`         |\n| `enp5s1`      | `2`         |\n| `enp5s2`      | `3`         |\n| `eth0`        | `4`         |\n| `eth1`        | `5`         |\n\nWith the **include_instances** attribute, the plugin will gather\nthe following OIDS:\n\n- `.1.3.6.1.2.1.31.1.1.1.1.1`\n- `.1.3.6.1.2.1.31.1.1.1.1.5`\n- `.1.3.6.1.2.1.31.1.1.1.2.1`\n- `.1.3.6.1.2.1.31.1.1.1.2.5`\n- `.1.3.6.1.2.1.31.1.1.1.3.1`\n- `.1.3.6.1.2.1.31.1.1.1.3.5`\n- `.1.3.6.1.2.1.31.1.1.1.4.1`\n- `.1.3.6.1.2.1.31.1.1.1.4.5`\n- `.1.3.6.1.2.1.31.1.1.1.5.1`\n- `.1.3.6.1.2.1.31.1.1.1.5.5`\n- `.1.3.6.1.2.1.31.1.1.1.6.1`\n- `.1.3.6.1.2.1.31.1.1.1.6.5`\n- `...`\n\nNote: the plugin will add instance name as tag *instance*\n\n```toml\n# Simple table with mapping example\n[[inputs.snmp]]\n  ## Use \'oids.txt\' file to translate oids to names\n  ## To generate \'oids.txt\' you need to run:\n  ##   snmptranslate -m all -Tz -On | sed -e \'s/"//g\' > /tmp/oids.txt\n  ## Or if you have an other MIB folder with custom MIBs\n  ##   snmptranslate -M /mycustommibfolder -Tz -On -m all | sed -e \'s/"//g\' > oids.txt\n  snmptranslate_file = "/tmp/oids.txt"\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Which table do you want to collect\n    [[inputs.snmp.host.table]]\n      name = "iftable3"\n      include_instances = ["enp5s0", "eth1"]\n\n  # table with mapping but without subtables\n  [[inputs.snmp.table]]\n    name = "iftable3"\n    oid = ".1.3.6.1.2.1.31.1.1.1"\n    # if empty. get all instances\n    mapping_table = ".1.3.6.1.2.1.31.1.1.1.1"\n    # if empty, get all subtables\n```\n\n\n#### Table with both mapping and subtable example\n\nIn this example, we remove collect attribute to the host section,\nbut you can still use it in combination of the following part.\n\nTelegraf gathers value of OIDS of the table:\n\n - named **iftable4**\n\nWith **inputs.snmp.table** section *AND* **sub_tables** attribute,\nthe plugin will get OIDS from subtables:\n\n - **iftable4** => `.1.3.6.1.2.1.31.1.1.1`\n\nAlso **iftable2** is a table, the plugin will gathers all\nOIDS in the table and in the subtables\n\n- `.1.3.6.1.2.1.31.1.1.1.6.1\n- `.1.3.6.1.2.1.31.1.1.1.6.2`\n- `.1.3.6.1.2.1.31.1.1.1.6.3`\n- `.1.3.6.1.2.1.31.1.1.1.6.4`\n- `.1.3.6.1.2.1.31.1.1.1.6....`\n- `.1.3.6.1.2.1.31.1.1.1.10.1`\n- `.1.3.6.1.2.1.31.1.1.1.10.2`\n- `.1.3.6.1.2.1.31.1.1.1.10.3`\n- `.1.3.6.1.2.1.31.1.1.1.10.4`\n- `.1.3.6.1.2.1.31.1.1.1.10....`\n\nBut the **include_instances** attribute will filter which OIDS\nwill be gathered; As you see, there is an other attribute, `mapping_table`.\n`include_instances` and `mapping_table` permit to build a hash table\nto filter only OIDS you want.\nLet\'s say, we have the following data on SNMP server:\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.1` has as value: `enp5s0`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.2` has as value: `enp5s1`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.3` has as value: `enp5s2`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.4` has as value: `eth0`\n - OID: `.1.3.6.1.2.1.31.1.1.1.1.5` has as value: `eth1`\n\nThe plugin will build the following hash table:\n\n| instance name | instance id |\n|---------------|-------------|\n| `enp5s0`      | `1`         |\n| `enp5s1`      | `2`         |\n| `enp5s2`      | `3`         |\n| `eth0`        | `4`         |\n| `eth1`        | `5`         |\n\nWith the **include_instances** attribute, the plugin will gather\nthe following OIDS:\n\n- `.1.3.6.1.2.1.31.1.1.1.6.1`\n- `.1.3.6.1.2.1.31.1.1.1.6.5`\n- `.1.3.6.1.2.1.31.1.1.1.10.1`\n- `.1.3.6.1.2.1.31.1.1.1.10.5`\n\nNote: the plugin will add instance name as tag *instance*\n\n\n\n```toml\n# Table with both mapping and subtable example\n[[inputs.snmp]]\n  ## Use \'oids.txt\' file to translate oids to names\n  ## To generate \'oids.txt\' you need to run:\n  ##   snmptranslate -m all -Tz -On | sed -e \'s/"//g\' > /tmp/oids.txt\n  ## Or if you have an other MIB folder with custom MIBs\n  ##   snmptranslate -M /mycustommibfolder -Tz -On -m all | sed -e \'s/"//g\' > oids.txt\n  snmptranslate_file = "/tmp/oids.txt"\n  [[inputs.snmp.host]]\n    address = "127.0.0.1:161"\n    # SNMP community\n    community = "public" # default public\n    # SNMP version (1, 2 or 3)\n    # Version 3 not supported yet\n    version = 2 # default 2\n    # Which table do you want to collect\n    [[inputs.snmp.host.table]]\n      name = "iftable4"\n      include_instances = ["enp5s0", "eth1"]\n\n  # table with both mapping and subtables\n  [[inputs.snmp.table]]\n    name = "iftable4"\n    # if empty get all instances\n    mapping_table = ".1.3.6.1.2.1.31.1.1.1.1"\n    # if empty get all subtables\n    # sub_tables could be not "real subtables"  \n    sub_tables=[".1.3.6.1.2.1.2.2.1.13", "bytes_recv", "bytes_send"]\n    # note\n    # oid attribute is useless\n\n  # SNMP SUBTABLES\n  [[inputs.snmp.subtable]]\n    name = "bytes_recv"\n    oid = ".1.3.6.1.2.1.31.1.1.1.6"\n    unit = "octets"\n\n  [[inputs.snmp.subtable]]\n    name = "bytes_send"\n    oid = ".1.3.6.1.2.1.31.1.1.1.10"\n    unit = "octets"\n```\n\n#### Configuration notes\n\n- In **inputs.snmp.table** section, the `oid` attribute is useless if\n  the `sub_tables` attributes is defined\n\n- In **inputs.snmp.subtable** section, you can put a name from `snmptranslate_file`\n  as `oid` attribute instead of a valid OID\n\n### Measurements & Fields:\n\nWith the last example (Table with both mapping and subtable example):\n\n- ifHCOutOctets\n    - ifHCOutOctets\n- ifInDiscards\n    - ifInDiscards\n- ifHCInOctets\n    - ifHCInOctets\n\n### Tags:\n\nWith the last example (Table with both mapping and subtable example):\n\n- ifHCOutOctets\n    - host\n    - instance\n    - unit\n- ifInDiscards\n    - host\n    - instance\n- ifHCInOctets\n    - host\n    - instance\n    - unit\n\n### Example Output:\n\nWith the last example (Table with both mapping and subtable example):\n\n```\nifHCOutOctets,host=127.0.0.1,instance=enp5s0,unit=octets ifHCOutOctets=10565628i 1456878706044462901\nifInDiscards,host=127.0.0.1,instance=enp5s0 ifInDiscards=0i 1456878706044510264\nifHCInOctets,host=127.0.0.1,instance=enp5s0,unit=octets ifHCInOctets=76351777i 1456878706044531312\n```\n',image:WE.a},{id:"snmp_trap",name:"SNMP Trap",url:"telegraf-plugins/snmp_trap",markdown:'# SNMP Trap Input Plugin\n\nThe SNMP Trap plugin is a service input plugin that receives SNMP\nnotifications (traps and inform requests).\n\nNotifications are received on plain UDP. The port to listen is\nconfigurable.\n\n### Prerequisites\n\nThis plugin uses the `snmptranslate` programs from the\n[net-snmp][] project.  These tools will need to be installed into the `PATH` in\norder to be located.  Other utilities from the net-snmp project may be useful\nfor troubleshooting, but are not directly used by the plugin.\n\nThese programs will load available MIBs on the system.  Typically the default\ndirectory for MIBs is `/usr/share/snmp/mibs`, but if your MIBs are in a\ndifferent location you may need to make the paths known to net-snmp.  The\nlocation of these files can be configured in the `snmp.conf` or via the\n`MIBDIRS` environment variable. See [`man 1 snmpcmd`][man snmpcmd] for more\ninformation.\n\n### Configuration\n```toml\n[[inputs.snmp_trap]]\n  ## Transport, local address, and port to listen on.  Transport must\n  ## be "udp://".  Omit local address to listen on all interfaces.\n  ##   example: "udp://127.0.0.1:1234"\n  ##\n  ## Special permissions may be required to listen on a port less than\n  ## 1024.  See README.md for details\n  ##\n  # service_address = "udp://:162"\n  ## Timeout running snmptranslate command\n  # timeout = "5s"\n  ## Snmp version\n  # version = "2c"\n  ## SNMPv3 authentication and encryption options.\n  ##\n  ## Security Name.\n  # sec_name = "myuser"\n  ## Authentication protocol; one of "MD5", "SHA" or "".\n  # auth_protocol = "MD5"\n  ## Authentication password.\n  # auth_password = "pass"\n  ## Security Level; one of "noAuthNoPriv", "authNoPriv", or "authPriv".\n  # sec_level = "authNoPriv"\n  ## Privacy protocol used for encrypted messages; one of "DES", "AES", "AES192", "AES192C", "AES256", "AES256C" or "".\n  # priv_protocol = ""\n  ## Privacy password used for encrypted messages.\n  # priv_password = ""\n```\n\n#### Using a Privileged Port\n\nOn many operating systems, listening on a privileged port (a port\nnumber less than 1024) requires extra permission.  Since the default\nSNMP trap port 162 is in this category, using telegraf to receive SNMP\ntraps may need extra permission.\n\nInstructions for listening on a privileged port vary by operating\nsystem. It is not recommended to run telegraf as superuser in order to\nuse a privileged port. Instead follow the principle of least privilege\nand use a more specific operating system mechanism to allow telegraf to\nuse the port.  You may also be able to have telegraf use an\nunprivileged port and then configure a firewall port forward rule from\nthe privileged port.\n\nTo use a privileged port on Linux, you can use setcap to enable the\nCAP_NET_BIND_SERVICE capability on the telegraf binary:\n\n```\nsetcap cap_net_bind_service=+ep /usr/bin/telegraf\n```\n\nOn Mac OS, listening on privileged ports is unrestricted on versions\n10.14 and later.\n\n### Metrics\n\n- snmp_trap\n  - tags:\n\t- source (string, IP address of trap source)\n\t- name (string, value from SNMPv2-MIB::snmpTrapOID.0 PDU)\n\t- mib (string, MIB from SNMPv2-MIB::snmpTrapOID.0 PDU)\n\t- oid (string, OID string from SNMPv2-MIB::snmpTrapOID.0 PDU)\n\t- version (string, "1" or "2c" or "3")\n\t- context_name (string, value from v3 trap)\n\t- engine_id (string, value from v3 trap)\n\t- community (string, value from 1 or 2c trap)\n  - fields:\n\t- Fields are mapped from variables in the trap. Field names are\n      the trap variable names after MIB lookup. Field values are trap\n      variable values.\n\n### Example Output\n```\nsnmp_trap,mib=SNMPv2-MIB,name=coldStart,oid=.1.3.6.1.6.3.1.1.5.1,source=192.168.122.102,version=2c,community=public snmpTrapEnterprise.0="linux",sysUpTimeInstance=1i 1574109187723429814\nsnmp_trap,mib=NET-SNMP-AGENT-MIB,name=nsNotifyShutdown,oid=.1.3.6.1.4.1.8072.4.0.2,source=192.168.122.102,version=2c,community=public sysUpTimeInstance=5803i,snmpTrapEnterprise.0="netSnmpNotificationPrefix" 1574109186555115459\n```\n\n[net-snmp]: http://www.net-snmp.org/\n[man snmpcmd]: http://net-snmp.sourceforge.net/docs/man/snmpcmd.html#lbAK\n',image:QE.a},{id:"socket_listener",name:"Socket Listener",url:"telegraf-plugins/socket_listener",markdown:'# Socket Listener Input Plugin\n\nThe Socket Listener is a service input plugin that listens for messages from\nstreaming (tcp, unix) or datagram (udp, unixgram) protocols.\n\nThe plugin expects messages in the\n[Telegraf Input Data Formats](https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md).\n\n### Configuration:\n\nThis is a sample configuration for the plugin.\n\n```toml\n# Generic socket listener capable of handling multiple socket types.\n[[inputs.socket_listener]]\n  ## URL to listen on\n  # service_address = "tcp://:8094"\n  # service_address = "tcp://127.0.0.1:http"\n  # service_address = "tcp4://:8094"\n  # service_address = "tcp6://:8094"\n  # service_address = "tcp6://[2001:db8::1]:8094"\n  # service_address = "udp://:8094"\n  # service_address = "udp4://:8094"\n  # service_address = "udp6://:8094"\n  # service_address = "unix:///tmp/telegraf.sock"\n  # service_address = "unixgram:///tmp/telegraf.sock"\n\n  ## Change the file mode bits on unix sockets.  These permissions may not be\n  ## respected by some platforms, to safely restrict write permissions it is best\n  ## to place the socket into a directory that has previously been created\n  ## with the desired permissions.\n  ##   ex: socket_mode = "777"\n  # socket_mode = ""\n\n  ## Maximum number of concurrent connections.\n  ## Only applies to stream sockets (e.g. TCP).\n  ## 0 (default) is unlimited.\n  # max_connections = 1024\n\n  ## Read timeout.\n  ## Only applies to stream sockets (e.g. TCP).\n  ## 0 (default) is unlimited.\n  # read_timeout = "30s"\n\n  ## Optional TLS configuration.\n  ## Only applies to stream sockets (e.g. TCP).\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key  = "/etc/telegraf/key.pem"\n  ## Enables client authentication if set.\n  # tls_allowed_cacerts = ["/etc/telegraf/clientca.pem"]\n\n  ## Maximum socket buffer size (in bytes when no unit specified).\n  ## For stream sockets, once the buffer fills up, the sender will start backing up.\n  ## For datagram sockets, once the buffer fills up, metrics will start dropping.\n  ## Defaults to the OS default.\n  # read_buffer_size = "64KiB"\n\n  ## Period between keep alive probes.\n  ## Only applies to TCP sockets.\n  ## 0 disables keep alive probes.\n  ## Defaults to the OS configuration.\n  # keep_alive_period = "5m"\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  # data_format = "influx"\n\n  ## Content encoding for message payloads, can be set to "gzip" to or\n  ## "identity" to apply no encoding.\n  # content_encoding = "identity"\n```\n\n## A Note on UDP OS Buffer Sizes\n\nThe `read_buffer_size` config option can be used to adjust the size of the socket\nbuffer, but this number is limited by OS settings. On Linux, `read_buffer_size`\nwill default to `rmem_default` and will be capped by `rmem_max`. On BSD systems,\n`read_buffer_size` is capped by `maxsockbuf`, and there is no OS default\nsetting.\n\nInstructions on how to adjust these OS settings are available below.\n\nSome OSes (most notably, Linux) place very restrictive limits on the performance\nof UDP protocols. It is _highly_ recommended that you increase these OS limits to\nat least 8MB before trying to run large amounts of UDP traffic to your instance.\n8MB is just a recommendation, and can be adjusted higher.\n\n### Linux\n\nCheck the current UDP/IP receive buffer limit & default by typing the following\ncommands:\n\n```\nsysctl net.core.rmem_max\nsysctl net.core.rmem_default\n```\n\nIf the values are less than 8388608 bytes you should add the following lines to\nthe /etc/sysctl.conf file:\n\n```\nnet.core.rmem_max=8388608\nnet.core.rmem_default=8388608\n```\n\nChanges to /etc/sysctl.conf do not take effect until reboot.\nTo update the values immediately, type the following commands as root:\n\n```\nsysctl -w net.core.rmem_max=8388608\nsysctl -w net.core.rmem_default=8388608\n```\n\n### BSD/Darwin\n\nOn BSD/Darwin systems you need to add about a 15% padding to the kernel limit\nsocket buffer. Meaning if you want an 8MB buffer (8388608 bytes) you need to set\nthe kernel limit to `8388608*1.15 = 9646900`. This is not documented anywhere but\nhappens\n[in the kernel here.](https://github.com/freebsd/freebsd/blob/master/sys/kern/uipc_sockbuf.c#L63-L64)\n\nCheck the current UDP/IP buffer limit by typing the following command:\n\n```\nsysctl kern.ipc.maxsockbuf\n```\n\nIf the value is less than 9646900 bytes you should add the following lines\nto the /etc/sysctl.conf file (create it if necessary):\n\n```\nkern.ipc.maxsockbuf=9646900\n```\n\nChanges to /etc/sysctl.conf do not take effect until reboot.\nTo update the values immediately, type the following command as root:\n\n```\nsysctl -w kern.ipc.maxsockbuf=9646900\n```\n',image:JE.a},{id:"solr",name:"Solr",url:"telegraf-plugins/solr",markdown:'# Solr Input Plugin\n\nThe [solr](http://lucene.apache.org/solr/) plugin collects stats via the\n[MBean Request Handler](https://cwiki.apache.org/confluence/display/solr/MBean+Request+Handler)\n\nMore about [performance statistics](https://cwiki.apache.org/confluence/display/solr/Performance+Statistics+Reference)\n\nTested from 3.5 to 7.*\n\n### Configuration:\n\n```toml\n[[inputs.solr]]\n  ## specify a list of one or more Solr servers\n  servers = ["http://localhost:8983"]\n  ##\n  ## specify a list of one or more Solr cores (default - all)\n  # cores = ["main"]\n  ##\n  ## Optional HTTP Basic Auth Credentials\n  # username = "username"\n  # password = "pa$$word"\n```\n\n### Example output of gathered metrics:\n\n```\n➜  ~ telegraf -config telegraf.conf -input-filter solr -test\n* Plugin: solr, Collection 1\n> solr_core,core=main,handler=searcher,host=testhost deleted_docs=17616645i,max_docs=261848363i,num_docs=244231718i 1478214949000000000\n> solr_core,core=main,handler=core,host=testhost deleted_docs=0i,max_docs=0i,num_docs=0i 1478214949000000000\n> solr_queryhandler,core=main,handler=/replication,host=testhost 15min_rate_reqs_per_second=0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000444659081257,5min_rate_reqs_per_second=0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014821969375,75th_pc_request_time=16.484211,95th_pc_request_time=16.484211,999th_pc_request_time=16.484211,99th_pc_request_time=16.484211,avg_requests_per_second=0.0000008443809966322143,avg_time_per_request=12.984811,errors=0i,handler_start=1474662050865i,median_request_time=11.352427,requests=3i,timeouts=0i,total_time=38.954433 1478214949000000000\n> solr_queryhandler,core=main,handler=/update/extract,host=testhost 15min_rate_reqs_per_second=0,5min_rate_reqs_per_second=0,75th_pc_request_time=0,95th_pc_request_time=0,999th_pc_request_time=0,99th_pc_request_time=0,avg_requests_per_second=0,avg_time_per_request=0,errors=0i,handler_start=0i,median_request_time=0,requests=0i,timeouts=0i,total_time=0 1478214949000000000\n> solr_queryhandler,core=main,handler=org.apache.solr.handler.component.SearchHandler,host=testhost 15min_rate_reqs_per_second=0,5min_rate_reqs_per_second=0,75th_pc_request_time=0,95th_pc_request_time=0,999th_pc_request_time=0,99th_pc_request_time=0,avg_requests_per_second=0,avg_time_per_request=0,errors=0i,handler_start=1474662050861i,median_request_time=0,requests=0i,timeouts=0i,total_time=0 1478214949000000000\n> solr_queryhandler,core=main,handler=/tvrh,host=testhost 15min_rate_reqs_per_second=0,5min_rate_reqs_per_second=0,75th_pc_request_time=0,95th_pc_request_time=0,999th_pc_request_time=0,99th_pc_request_time=0,avg_requests_per_second=0,avg_time_per_request=0,errors=0i,handler_start=0i,median_request_time=0,requests=0i,timeouts=0i,total_time=0 1478214949000000000\n[…]\n```\n',image:tk.a},{id:"sqlserver",name:"SQL Server",url:"telegraf-plugins/sqlserver",markdown:'# SQL Server Input Plugin\nThe `sqlserver` plugin provides metrics for your SQL Server instance. It\ncurrently works with SQL Server 2008 SP3 and newer. Recorded metrics are\nlightweight and use Dynamic Management Views supplied by SQL Server.\n\n### The SQL Server plugin supports the following editions/versions of SQL Server\n- SQL Server\n  - 2008 SP3 (with CU3)\n  - SQL Server 2008 R2 SP3 and newer versions\n- Azure SQL Database (Single)\n- Azure SQL Managed Instance\n\n### Additional Setup:\n\nYou have to create a login on every SQL Server instance  or Azure SQL Managed instance you want to monitor, with following script:\n```sql\nUSE master;\nGO\nCREATE LOGIN [telegraf] WITH PASSWORD = N\'mystrongpassword\';\nGO\nGRANT VIEW SERVER STATE TO [telegraf];\nGO\nGRANT VIEW ANY DEFINITION TO [telegraf];\nGO\n```\n\nFor Azure SQL Database, you require the View Database State permission and can create a user with a password directly in the database.\n```sql\nCREATE USER [telegraf] WITH PASSWORD = N\'mystrongpassword\';\nGO\nGRANT VIEW DATABASE STATE TO [telegraf];\nGO\n```\n\n### Configuration:\n\n```toml\n[agent]\n  ## Default data collection interval for all inputs, can be changed as per collection interval needs\n  interval = "10s"\n\n# Read metrics from Microsoft SQL Server\n[[inputs.sqlserver]]\n  ## Specify instances to monitor with a list of connection strings.\n  ## All connection parameters are optional.\n  ## By default, the host is localhost, listening on default port, TCP 1433.\n  ##   for Windows, the user is the currently running AD user (SSO).\n  ##   See https://github.com/denisenkom/go-mssqldb for detailed connection\n  ##   parameters, in particular, tls connections can be created like so:\n  ##   "encrypt=true;certificate=<cert>;hostNameInCertificate=<SqlServer host fqdn>"\n  # servers = [\n  #  "Server=192.168.1.10;Port=1433;User Id=<user>;Password=<pw>;app name=telegraf;log=1;",\n  # ]\n\n  ## This enables a specific set of queries depending on the database type. If specified, it replaces azuredb = true/false and query_version = 2\n  ## In the config file, the sql server plugin section should be repeated  each with a set of servers for a specific database_type.\n  ## Possible values for database_type are  \n  ## "AzureSQLDB" \n  ## "SQLServer"\n  ## "AzureSQLManagedInstance"\n  # database_type = "AzureSQLDB"\n\n  ## Optional parameter, setting this to 2 will use a new version\n  ## of the collection queries that break compatibility with the original dashboards.\n  ## Version 2 - is compatible from SQL Server 2008 Sp3 and later versions and also for SQL Azure DB\n  ## Version 2 is in the process of being deprecated, please consider using database_type.\n  # query_version = 2\n\n  ## If you are using AzureDB, setting this to true will gather resource utilization metrics\n  # azuredb = false\n\n  ## Possible queries accross different versions of the collectors\n  ## Queries enabled by default for specific Database Type\n  \n  ## database_type =  AzureSQLDB  by default collects the following queries\n  ## - AzureSQLDBWaitStats\n  ## - AzureSQLDBResourceStats \n  ## - AzureSQLDBResourceGovernance\n  ## - AzureSQLDBDatabaseIO\n  ## - AzureSQLDBServerProperties\n  ## - AzureSQLDBOsWaitstats\n  ## - AzureSQLDBMemoryClerks\n  ## - AzureSQLDBPerformanceCounters\n  ## - AzureSQLDBRequests\n  ## - AzureSQLDBSchedulers\n\n   ## database_type =  AzureSQLManagedInstance by default collects the following queries\n   ## - AzureSQLMIResourceStats \n   ## - AzureSQLMIResourceGovernance \n   ## - AzureSQLMIDatabaseIO \n   ## - AzureSQLMIServerProperties \n   ## - AzureSQLMIOsWaitstats \n   ## - AzureSQLMIMemoryClerks\n   ## - AzureSQLMIPerformanceCounters\n   ## - AzureSQLMIRequests\n   ## - AzureSQLMISchedulers\n\n   ## database_type =  SQLServer by default collects the following queries\n   ## - SQLServerPerformanceCounters \n   ## - SQLServerWaitStatsCategorized \n   ## - SQLServerDatabaseIO \n   ## - SQLServerProperties \n   ## - SQLServerMemoryClerks \n   ## - SQLServerSchedulers\n   ## - SQLServerRequests\n   ## - SQLServerVolumeSpace\n   ## - SQLServerCpu\n\n  ## Version 2 by default collects the following queries\n  ## Version 2 is being deprecated, please consider using database_type.\n  ## - PerformanceCounters\n  ## - WaitStatsCategorized\n  ## - DatabaseIO\n  ## - ServerProperties\n  ## - MemoryClerk\n  ## - Schedulers\n  ## - SqlRequests\n  ## - VolumeSpace\n  ## - Cpu\n\n  ## Version 1 by default collects the following queries\n  ## Version 1 is deprecated, please consider using database_type.\n  ## - PerformanceCounters\n  ## - WaitStatsCategorized\n  ## - CPUHistory\n  ## - DatabaseIO\n  ## - DatabaseSize\n  ## - DatabaseStats\n  ## - DatabaseProperties\n  ## - MemoryClerk\n  ## - VolumeSpace\n  ## - PerformanceMetrics\n\n\n\n  ## A list of queries to include. If not specified, all the above listed queries are used.\n  # include_query = []\n\n  ## A list of queries to explicitly ignore.\n  exclude_query = [ \'Schedulers\' , \'SqlRequests\' ]\n\n\n\n```\n\n### Metrics:\nTo provide backwards compatibility, this plugin support two versions of metrics queries.\n\n**Note**: Version 2 queries are not backwards compatible with the old queries. Any dashboards or queries based on the old query format will not work with the new format. The version 2 queries only report raw metrics, no math has been done to calculate deltas. To graph this data you must calculate deltas in your dashboarding software.\n\n#### Version 1 (query_version=1): This is Deprecated in 1.6, all future development will be under configuration option database_type.\nThe original metrics queries provide:\n- *Performance counters*: 1000+ metrics from `sys.dm_os_performance_counters`\n- *Performance metrics*: special performance and ratio metrics\n- *Wait stats*: wait tasks categorized from `sys.dm_os_wait_stats`\n- *Memory clerk*: memory breakdown from `sys.dm_os_memory_clerks`\n- *Database size*: databases size trend from `sys.dm_io_virtual_file_stats`\n- *Database IO*: databases I/O from `sys.dm_io_virtual_file_stats`\n- *Database latency*: databases latency from `sys.dm_io_virtual_file_stats`\n- *Database properties*: databases properties, state and recovery model, from `sys.databases`\n- *OS Volume*: available, used and total space from `sys.dm_os_volume_stats`\n- *CPU*: cpu usage from `sys.dm_os_ring_buffers`\n\nIf you are using the original queries all stats have the following tags:\n- `servername`:  hostname:instance\n- `type`: type of stats to easily filter measurements\n\n#### Version 2 (query_version=2): Being deprecated, All future development will be under configuration option database_type.\nThe new (version 2) metrics provide:\n- *Database IO*: IO stats from `sys.dm_io_virtual_file_stats`\n- *Memory Clerk*: Memory clerk breakdown from `sys.dm_os_memory_clerks`, most clerks have been given a friendly name.\n- *Performance Counters*: A select list of performance counters from `sys.dm_os_performance_counters`. Some of the important metrics included:\n  - *Activity*: Transactions/sec/database, Batch requests/sec, blocked processes, + more\n  - *Availability Groups*: Bytes sent to replica, Bytes received from replica, Log bytes received, Log send queue, transaction delay, + more\n  - *Log activity*: Log bytes flushed/sec, Log flushes/sec, Log Flush Wait Time\n  - *Memory*: PLE, Page reads/sec, Page writes/sec, + more\n  - *TempDB*: Free space, Version store usage, Active temp tables, temp table creation rate, + more\n  - *Resource Governor*: CPU Usage, Requests/sec, Queued Requests, and Blocked tasks per workload group + more\n- *Server properties*: Number of databases in all possible states (online, offline, suspect, etc.), cpu count, physical memory, SQL Server service uptime, and SQL Server version. In the case of Azure SQL relevent properties such as Tier, #Vcores, Memory etc.\n- *Wait stats*: Wait time in ms, number of waiting tasks, resource wait time, signal wait time, max wait time in ms, wait type, and wait category. The waits are categorized using the same categories used in Query Store.\n- *Schedulers* - This captures `sys.dm_os_schedulers`.\n- *SqlRequests* - This captures a snapshot of `sys.dm_exec_requests` and `sys.dm_exec_sessions` that gives you running requests as well as wait types and\n  blocking sessions.\n- *VolumeSpace* - uses `sys.dm_os_volume_stats` to get total, used and occupied space on every disk that contains a data or log file. (Note that even if enabled it won\'t get any data from Azure SQL Database or SQL Managed Instance). It is pointless to run this with high frequency (ie: every 10s), but it won\'t cause any problem.\n- *Cpu* - uses the buffer ring (`sys.dm_os_ring_buffers`) to get CPU data, the table is updated once per minute. (Note that even if enabled it won\'t get any data from Azure SQL Database or SQL Managed Instance).\n\n  In order to allow tracking on a per statement basis this query produces a\n  unique tag for each query.  Depending on the database workload, this may\n  result in a high cardinality series.  Reference the FAQ for tips on\n  [managing series cardinality][cardinality].\n\n- *Azure Managed Instances*\n  - Stats from `sys.server_resource_stats`\n  - Resource governance stats from `sys.dm_instance_resource_governance`\n- *Azure SQL Database* in addition to other stats\n  - Stats from `sys.dm_db_wait_stats`\n  - Resource governance stats from `sys.dm_user_db_resource_governance`\n  - Stats from `sys.dm_db_resource_stats`\n  \n\n\n#### database_type = "AzureSQLDB \nThese are metrics for Azure SQL Database (single database) and are very similar to version 2 but split out for maintenance reasons, better ability to test,differences in DMVs:\n- AzureSQLDBDatabaseIO: IO stats from `sys.dm_io_virtual_file_stats` including resource governance time, RBPEX, IO for Hyperscale.\n- AzureSQLDBMemoryClerks: Memory clerk breakdown from `sys.dm_os_memory_clerks`.\n= AzureSQLDBResourceGovernance: Relevant properties indicatign resource limits from `sys.dm_user_db_resource_governance`\n- AzureSQLDBPerformanceCounters: A select list of performance counters from `sys.dm_os_performance_counters` including cloud specific counters for SQL Hyperscale.\n- AzureSQLDBServerProperties: Relevant Azure SQL relevent properties from  such as Tier, #Vcores, Memory etc, storage, etc.\n- AzureSQLDBWaitstats: Wait time in ms from `sys.dm_db_wait_stats`, number of waiting tasks, resource wait time, signal wait time, max wait time in ms, wait type, and wait category. The waits are categorized using the same categories used in Query Store. These waits are collected only as of the end of the a statement. and for a specific database only.\n- *AzureSQLOsWaitstats*: Wait time in ms from `sys.dm_os_wait_stats`, number of waiting tasks, resource wait time, signal wait time, max wait time in ms, wait type, and wait category. The waits are categorized using the same categories used in Query Store. These waits are collected as they occur and instance wide\n- *AzureSQLDBRequests: Requests which are blocked or have a wait type from `sys.dm_exec_sessions` and `sys.dm_exec_requests`\n- *AzureSQLDBSchedulers* - This captures `sys.dm_os_schedulers` snapshots.\n\n\n#### database_type = "AzureSQLManagedInstance \nThese are metrics for Azure SQL Managed instance, are very similar to version 2 but split out for maintenance reasons, better ability to test, differences in DMVs:\n- AzureSQLMIDatabaseIO: IO stats from `sys.dm_io_virtual_file_stats` including resource governance time, RBPEX, IO for Hyperscale.\n- AzureSQLMIMemoryClerks: Memory clerk breakdown from `sys.dm_os_memory_clerks`.\n- AzureSQLMIResourceGovernance: Relevant properties indicatign resource limits from `sys.dm_instance_resource_governance`\n- AzureSQLMIPerformanceCounters: A select list of performance counters from `sys.dm_os_performance_counters` including cloud specific counters for SQL Hyperscale.\n- AzureSQLMIServerProperties: Relevant Azure SQL relevent properties such as Tier, #Vcores, Memory etc, storage, etc.\n- AzureSQLMIOsWaitstats: Wait time in ms from `sys.dm_os_wait_stats`, number of waiting tasks, resource wait time, signal wait time, max wait time in ms, wait type, and wait category. The waits are categorized using the same categories used in Query Store. These waits are collected as they occur and instance wide\n- AzureSQLMIRequests: Requests which are blocked or have a wait type from `sys.dm_exec_sessions` and `sys.dm_exec_requests`\n- AzureSQLMISchedulers - This captures `sys.dm_os_schedulers` snapshots.\n\n#### database_type = "SQLServer \n- SQLServerDatabaseIO: IO stats from `sys.dm_io_virtual_file_stats`\n- SQLServerMemoryClerks: Memory clerk breakdown from `sys.dm_os_memory_clerks`, most clerks have been given a friendly name.\n- SQLServerPerformanceCounters: A select list of performance counters from `sys.dm_os_performance_counters`. Some of the important metrics included:\n  - *Activity*: Transactions/sec/database, Batch requests/sec, blocked processes, + more\n  - *Availability Groups*: Bytes sent to replica, Bytes received from replica, Log bytes received, Log send queue, transaction delay, + more\n  - *Log activity*: Log bytes flushed/sec, Log flushes/sec, Log Flush Wait Time\n  - *Memory*: PLE, Page reads/sec, Page writes/sec, + more\n  - *TempDB*: Free space, Version store usage, Active temp tables, temp table creation rate, + more\n  - *Resource Governor*: CPU Usage, Requests/sec, Queued Requests, and Blocked tasks per workload group + more\n- SQLServerProperties: Number of databases in all possible states (online, offline, suspect, etc.), cpu count, physical memory, SQL Server service uptime, and SQL Server version. In the case of Azure SQL relevent properties such as Tier, #Vcores, Memory etc.\n- SQLServerWaitStatsCategorized: Wait time in ms, number of waiting tasks, resource wait time, signal wait time, max wait time in ms, wait type, and wait category. The waits are categorized using the same categories used in Query Store.\n- SQLServerSchedulers - This captures `sys.dm_os_schedulers`.\n- SQLServerRequests - This captures a snapshot of `sys.dm_exec_requests` and `sys.dm_exec_sessions` that gives you running requests as well as wait types and\n  blocking sessions.\n- SQLServerVolumeSpace - uses `sys.dm_os_volume_stats` to get total, used and occupied space on every disk that contains a data or log file. (Note that even if enabled it won\'t get any data from Azure SQL Database or SQL Managed Instance). It is pointless to run this with high frequency (ie: every 10s), but it won\'t cause any problem.\n- SQLServerCpu - uses the buffer ring (`sys.dm_os_ring_buffers`) to get CPU data, the table is updated once per minute. (Note that even if enabled it won\'t get any data from Azure SQL Database or SQL Managed Instance).\n\n\n#### Output Measures\nThe guiding principal is that all data collected from the same primary DMV ends up in the same measure irrespective of database_type.\n`sqlserver_database_io` - Used by  AzureSQLDBDatabaseIO, AzureSQLMIDatabaseIO, SQLServerDatabaseIO, DatabaseIO given the data is from `sys.dm_io_virtual_file_stats`\n`sqlserver_waitstats` - Used by  WaitStatsCategorized,AzureSQLDBOsWaitstats,AzureSQLMIOsWaitstats\n`sqlserver_server_properties` - Used by  SQLServerProperties, AzureSQLDBServerProperties , AzureSQLMIServerProperties,ServerProperties\n`sqlserver_memory_clerks` - Used by SQLServerMemoryClerks, AzureSQLDBMemoryClerks, AzureSQLMIMemoryClerks,MemoryClerk\n`sqlserver_performance` - Used by  SQLServerPerformanceCounters, AzureSQLDBPerformanceCounters, AzureSQLMIPerformanceCounters,PerformanceCounters\n`sys.dm_os_schedulers`  - Used by SQLServerSchedulers,AzureSQLDBServerSchedulers, AzureSQLMIServerSchedulers\n\n\n\nThe following Performance counter metrics can be used directly, with no delta calculations:\n - SQLServer:Buffer Manager\\Buffer cache hit ratio\n - SQLServer:Buffer Manager\\Page life expectancy\n - SQLServer:Buffer Node\\Page life expectancy\n - SQLServer:Database Replica\\Log Apply Pending Queue\n - SQLServer:Database Replica\\Log Apply Ready Queue\n - SQLServer:Database Replica\\Log Send Queue\n - SQLServer:Database Replica\\Recovery Queue\n - SQLServer:Databases\\Data File(s) Size (KB)\n - SQLServer:Databases\\Log File(s) Size (KB)\n - SQLServer:Databases\\Log File(s) Used Size (KB)\n - SQLServer:Databases\\XTP Memory Used (KB)\n - SQLServer:General Statistics\\Active Temp Tables\n - SQLServer:General Statistics\\Processes blocked\n - SQLServer:General Statistics\\Temp Tables For Destruction\n - SQLServer:General Statistics\\User Connections\n - SQLServer:Memory Broker Clerks\\Memory broker clerk size\n - SQLServer:Memory Manager\\Memory Grants Pending\n - SQLServer:Memory Manager\\Target Server Memory (KB)\n - SQLServer:Memory Manager\\Total Server Memory (KB)\n - SQLServer:Resource Pool Stats\\Active memory grant amount (KB)\n - SQLServer:Resource Pool Stats\\Disk Read Bytes/sec\n - SQLServer:Resource Pool Stats\\Disk Read IO Throttled/sec\n - SQLServer:Resource Pool Stats\\Disk Read IO/sec\n - SQLServer:Resource Pool Stats\\Disk Write Bytes/sec\n - SQLServer:Resource Pool Stats\\Disk Write IO Throttled/sec\n - SQLServer:Resource Pool Stats\\Disk Write IO/sec\n - SQLServer:Resource Pool Stats\\Used memory (KB)\n - SQLServer:Transactions\\Free Space in tempdb (KB)\n - SQLServer:Transactions\\Version Store Size (KB)\n - SQLServer:User Settable\\Query\n - SQLServer:Workload Group Stats\\Blocked tasks\n - SQLServer:Workload Group Stats\\CPU usage %\n - SQLServer:Workload Group Stats\\Queued requests\n - SQLServer:Workload Group Stats\\Requests completed/sec\n\nVersion 2 queries have the following tags:\n- `sql_instance`: Physical host and instance name (hostname:instance)\n- `database_name`:  For Azure SQLDB, database_name denotes the name of the Azure SQL Database as server name is a logical construct.\n\n[cardinality]: /docs/FAQ.md#user-content-q-how-can-i-manage-series-cardinality\n',image:ak.a},{id:"stackdriver",name:"Stackdriver Google Cloud Monitoring",url:"telegraf-plugins/stackdriver",markdown:'# Stackdriver Google Cloud Monitoring Input Plugin\n\nQuery data from Google Cloud Monitoring (formerly Stackdriver) using the\n[Cloud Monitoring API v3][stackdriver].\n\nThis plugin accesses APIs which are [chargeable][pricing]; you might incur\ncosts.\n\n### Configuration\n\n```toml\n[[inputs.stackdriver]]\n  ## GCP Project\n  project = "erudite-bloom-151019"\n\n  ## Include timeseries that start with the given metric type.\n  metric_type_prefix_include = [\n    "compute.googleapis.com/",\n  ]\n\n  ## Exclude timeseries that start with the given metric type.\n  # metric_type_prefix_exclude = []\n\n  ## Most metrics are updated no more than once per minute; it is recommended\n  ## to override the agent level interval with a value of 1m or greater.\n  interval = "1m"\n\n  ## Maximum number of API calls to make per second.  The quota for accounts\n  ## varies, it can be viewed on the API dashboard:\n  ##   https://cloud.google.com/monitoring/quotas#quotas_and_limits\n  # rate_limit = 14\n\n  ## The delay and window options control the number of points selected on\n  ## each gather.  When set, metrics are gathered between:\n  ##   start: now() - delay - window\n  ##   end:   now() - delay\n  #\n  ## Collection delay; if set too low metrics may not yet be available.\n  # delay = "5m"\n  #\n  ## If unset, the window will start at 1m and be updated dynamically to span\n  ## the time between calls (approximately the length of the plugin interval).\n  # window = "1m"\n\n  ## TTL for cached list of metric types.  This is the maximum amount of time\n  ## it may take to discover new metrics.\n  # cache_ttl = "1h"\n\n  ## If true, raw bucket counts are collected for distribution value types.\n  ## For a more lightweight collection, you may wish to disable and use\n  ## distribution_aggregation_aligners instead.\n  # gather_raw_distribution_buckets = true\n\n  ## Aggregate functions to be used for metrics whose value type is\n  ## distribution.  These aggregate values are recorded in in addition to raw\n  ## bucket counts; if they are enabled.\n  ##\n  ## For a list of aligner strings see:\n  ##   https://cloud.google.com/monitoring/api/ref_v3/rpc/google.monitoring.v3#aligner\n  # distribution_aggregation_aligners = [\n  # \t"ALIGN_PERCENTILE_99",\n  # \t"ALIGN_PERCENTILE_95",\n  # \t"ALIGN_PERCENTILE_50",\n  # ]\n\n  ## Filters can be added to reduce the number of time series matched.  All\n  ## functions are supported: starts_with, ends_with, has_substring, and\n  ## one_of.  Only the \'=\' operator is supported.\n  ##\n  ## The logical operators when combining filters are defined statically using\n  ## the following values:\n  ##   filter ::= <resource_labels> {AND <metric_labels>}\n  ##   resource_labels ::= <resource_labels> {OR <resource_label>}\n  ##   metric_labels ::= <metric_labels> {OR <metric_label>}\n  ##\n  ## For more details, see https://cloud.google.com/monitoring/api/v3/filters\n  #\n  ## Resource labels refine the time series selection with the following expression:\n  ##   resource.labels.<key> = <value>\n  # [[inputs.stackdriver.filter.resource_labels]]\n  #   key = "instance_name"\n  #   value = \'starts_with("localhost")\'\n  #\n  ## Metric labels refine the time series selection with the following expression:\n  ##   metric.labels.<key> = <value>\n  #  [[inputs.stackdriver.filter.metric_labels]]\n  #  \t key = "device_name"\n  #  \t value = \'one_of("sda", "sdb")\'\n```\n\n#### Authentication\n\nIt is recommended to use a service account to authenticate with the\nStackdriver Monitoring API.  [Getting Started with Authentication][auth].\n\n### Metrics\n\nMetrics are created using one of there patterns depending on if the value type\nis a scalar value, raw distribution buckets, or aligned bucket values.\n\nIn all cases, the Stackdriver metric type is split on the last component into\nthe measurement and field:\n```\ncompute.googleapis.com/instance/disk/read_bytes_count\n└──────────  measurement  ─────────┘ └──  field  ───┘\n```\n\n**Scalar Values:**\n\n- measurement\n  - tags:\n    - resource_labels\n    - metric_labels\n  - fields:\n    - field\n\n\n**Distributions:**\n\nDistributions are represented by a set of fields along with the bucket values\ntagged with the bucket boundary.  Buckets are cumulative: each bucket\nrepresents the total number of items less than the `lt` tag.\n\n- measurement\n  - tags:\n    - resource_labels\n    - metric_labels\n  - fields:\n    - field_count\n    - field_mean\n    - field_sum_of_squared_deviation\n    - field_range_min\n    - field_range_max\n\n+ measurement\n  - tags:\n    - resource_labels\n    - metric_labels\n    - lt (less than)\n  - fields:\n    - field_bucket\n\n**Aligned Aggregations:**\n\n- measurement\n  - tags:\n    - resource_labels\n    - metric_labels\n  - fields:\n    - field_alignment_function\n\n### Troubleshooting\n\nWhen Telegraf is ran with `--debug`, detailed information about the performed\nqueries will be logged.\n\n### Example Output\n```\n```\n[stackdriver]: https://cloud.google.com/monitoring/api/v3/\n[auth]: https://cloud.google.com/docs/authentication/getting-started\n[pricing]: https://cloud.google.com/stackdriver/pricing#stackdriver_monitoring_services\n',image:rk.a},{id:"statsd",name:"StatsD",url:"telegraf-plugins/statsd",markdown:'# StatsD Input Plugin\n\n### Configuration\n\n```toml\n# Statsd Server\n[[inputs.statsd]]\n  ## Protocol, must be "tcp", "udp4", "udp6" or "udp" (default=udp)\n  protocol = "udp"\n\n  ## MaxTCPConnection - applicable when protocol is set to tcp (default=250)\n  max_tcp_connections = 250\n\n  ## Enable TCP keep alive probes (default=false)\n  tcp_keep_alive = false\n\n  ## Specifies the keep-alive period for an active network connection.\n  ## Only applies to TCP sockets and will be ignored if tcp_keep_alive is false.\n  ## Defaults to the OS configuration.\n  # tcp_keep_alive_period = "2h"\n\n  ## Address and port to host UDP listener on\n  service_address = ":8125"\n\n  ## The following configuration options control when telegraf clears it\'s cache\n  ## of previous values. If set to false, then telegraf will only clear it\'s\n  ## cache when the daemon is restarted.\n  ## Reset gauges every interval (default=true)\n  delete_gauges = true\n  ## Reset counters every interval (default=true)\n  delete_counters = true\n  ## Reset sets every interval (default=true)\n  delete_sets = true\n  ## Reset timings & histograms every interval (default=true)\n  delete_timings = true\n\n  ## Percentiles to calculate for timing & histogram stats.\n  percentiles = [50.0, 90.0, 99.0, 99.9, 99.95, 100.0]\n\n  ## separator to use between elements of a statsd metric\n  metric_separator = "_"\n\n  ## Parses tags in the datadog statsd format\n  ## http://docs.datadoghq.com/guides/dogstatsd/\n  ## deprecated in 1.10; use datadog_extensions option instead\n  parse_data_dog_tags = false\n\n  ## Parses extensions to statsd in the datadog statsd format\n  ## currently supports metrics and datadog tags.\n  ## http://docs.datadoghq.com/guides/dogstatsd/\n  datadog_extensions = false\n\n  ## Statsd data translation templates, more info can be read here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/TEMPLATE_PATTERN.md\n  # templates = [\n  #     "cpu.* measurement*"\n  # ]\n\n  ## Number of UDP messages allowed to queue up, once filled,\n  ## the statsd server will start dropping packets\n  allowed_pending_messages = 10000\n\n  ## Number of timing/histogram values to track per-measurement in the\n  ## calculation of percentiles. Raising this limit increases the accuracy\n  ## of percentiles but also increases the memory usage and cpu time.\n  percentile_limit = 1000\n\n  ## Maximum socket buffer size in bytes, once the buffer fills up, metrics\n  ## will start dropping.  Defaults to the OS default.\n  # read_buffer_size = 65535\n```\n\n### Description\n\nThe statsd plugin is a special type of plugin which runs a backgrounded statsd\nlistener service while telegraf is running.\n\nThe format of the statsd messages was based on the format described in the\noriginal [etsy statsd](https://github.com/etsy/statsd/blob/master/docs/metric_types.md)\nimplementation. In short, the telegraf statsd listener will accept:\n\n- Gauges\n    - `users.current.den001.myapp:32|g` <- standard\n    - `users.current.den001.myapp:+10|g` <- additive\n    - `users.current.den001.myapp:-10|g`\n- Counters\n    - `deploys.test.myservice:1|c` <- increments by 1\n    - `deploys.test.myservice:101|c` <- increments by 101\n    - `deploys.test.myservice:1|c|@0.1` <- with sample rate, increments by 10\n- Sets\n    - `users.unique:101|s`\n    - `users.unique:101|s`\n    - `users.unique:102|s` <- would result in a count of 2 for `users.unique`\n- Timings & Histograms\n    - `load.time:320|ms`\n    - `load.time.nanoseconds:1|h`\n    - `load.time:200|ms|@0.1` <- sampled 1/10 of the time\n\nIt is possible to omit repetitive names and merge individual stats into a\nsingle line by separating them with additional colons:\n\n  - `users.current.den001.myapp:32|g:+10|g:-10|g`\n  - `deploys.test.myservice:1|c:101|c:1|c|@0.1`\n  - `users.unique:101|s:101|s:102|s`\n  - `load.time:320|ms:200|ms|@0.1`\n\nThis also allows for mixed types in a single line:\n\n  - `foo:1|c:200|ms`\n\nThe string `foo:1|c:200|ms` is internally split into two individual metrics\n`foo:1|c` and `foo:200|ms` which are added to the aggregator separately.\n\n\n### Influx Statsd\n\nIn order to take advantage of InfluxDB\'s tagging system, we have made a couple\nadditions to the standard statsd protocol. First, you can specify\ntags in a manner similar to the line-protocol, like this:\n\n```\nusers.current,service=payroll,region=us-west:32|g\n```\n\n\x3c!-- TODO Second, you can specify multiple fields within a measurement:\n\n```\ncurrent.users,service=payroll,server=host01:west=10,east=10,central=2,south=10|g\n``` --\x3e\n\n### Measurements:\n\nMeta:\n- tags: `metric_type=<gauge|set|counter|timing|histogram>`\n\nOutputted measurements will depend entirely on the measurements that the user\nsends, but here is a brief rundown of what you can expect to find from each\nmetric type:\n\n- Gauges\n    - Gauges are a constant data type. They are not subject to averaging, and they\n    don’t change unless you change them. That is, once you set a gauge value, it\n    will be a flat line on the graph until you change it again.\n- Counters\n    - Counters are the most basic type. They are treated as a count of a type of\n    event. They will continually increase unless you set `delete_counters=true`.\n- Sets\n    - Sets count the number of unique values passed to a key. For example, you\n    could count the number of users accessing your system using `users:<user_id>|s`.\n    No matter how many times the same user_id is sent, the count will only increase\n    by 1.\n- Timings & Histograms\n    - Timers are meant to track how long something took. They are an invaluable\n    tool for tracking application performance.\n    - The following aggregate measurements are made for timers:\n        - `statsd_<name>_lower`: The lower bound is the lowest value statsd saw\n        for that stat during that interval.\n        - `statsd_<name>_upper`: The upper bound is the highest value statsd saw\n        for that stat during that interval.\n        - `statsd_<name>_mean`: The mean is the average of all values statsd saw\n        for that stat during that interval.\n        - `statsd_<name>_stddev`: The stddev is the sample standard deviation\n        of all values statsd saw for that stat during that interval.\n        - `statsd_<name>_sum`: The sum is the sample sum of all values statsd saw\n        for that stat during that interval.\n        - `statsd_<name>_count`: The count is the number of timings statsd saw\n        for that stat during that interval. It is not averaged.\n        - `statsd_<name>_percentile_<P>` The `Pth` percentile is a value x such\n        that `P%` of all the values statsd saw for that stat during that time\n        period are below x. The most common value that people use for `P` is the\n        `90`, this is a great number to try to optimize.\n\n### Plugin arguments\n\n- **protocol** string: Protocol used in listener - tcp or udp options\n- **max_tcp_connections** []int: Maximum number of concurrent TCP connections\nto allow. Used when protocol is set to tcp.\n- **tcp_keep_alive** boolean: Enable TCP keep alive probes\n- **tcp_keep_alive_period** internal.Duration: Specifies the keep-alive period for an active network connection\n- **service_address** string: Address to listen for statsd UDP packets on\n- **delete_gauges** boolean: Delete gauges on every collection interval\n- **delete_counters** boolean: Delete counters on every collection interval\n- **delete_sets** boolean: Delete set counters on every collection interval\n- **delete_timings** boolean: Delete timings on every collection interval\n- **percentiles** []int: Percentiles to calculate for timing & histogram stats\n- **allowed_pending_messages** integer: Number of messages allowed to queue up\nwaiting to be processed. When this fills, messages will be dropped and logged.\n- **percentile_limit** integer: Number of timing/histogram values to track\nper-measurement in the calculation of percentiles. Raising this limit increases\nthe accuracy of percentiles but also increases the memory usage and cpu time.\n- **templates** []string: Templates for transforming statsd buckets into influx\nmeasurements and tags.\n- **parse_data_dog_tags** boolean: Enable parsing of tags in DataDog\'s dogstatsd format (http://docs.datadoghq.com/guides/dogstatsd/)\n- **datadog_extensions** boolean: Enable parsing of DataDog\'s extensions to dogstatsd format (http://docs.datadoghq.com/guides/dogstatsd/)\n\n### Statsd bucket -> InfluxDB line-protocol Templates\n\nThe plugin supports specifying templates for transforming statsd buckets into\nInfluxDB measurement names and tags. The templates have a _measurement_ keyword,\nwhich can be used to specify parts of the bucket that are to be used in the\nmeasurement name. Other words in the template are used as tag names. For example,\nthe following template:\n\n```\ntemplates = [\n    "measurement.measurement.region"\n]\n```\n\nwould result in the following transformation:\n\n```\ncpu.load.us-west:100|g\n=> cpu_load,region=us-west 100\n```\n\nUsers can also filter the template to use based on the name of the bucket,\nusing glob matching, like so:\n\n```\ntemplates = [\n    "cpu.* measurement.measurement.region",\n    "mem.* measurement.measurement.host"\n]\n```\n\nwhich would result in the following transformation:\n\n```\ncpu.load.us-west:100|g\n=> cpu_load,region=us-west 100\n\nmem.cached.localhost:256|g\n=> mem_cached,host=localhost 256\n```\n\nConsult the [Template Patterns](/docs/TEMPLATE_PATTERN.md) documentation for\nadditional details.\n',image:ik.a},{id:"suricata",name:"Suricata",url:"telegraf-plugins/suricata",markdown:'# Suricata Input Plugin\n\nThis plugin reports internal performance counters of the Suricata IDS/IPS\nengine, such as captured traffic volume, memory usage, uptime, flow counters,\nand much more. It provides a socket for the Suricata log output to write JSON\nstats output to, and processes the incoming data to fit Telegraf\'s format.\n\n### Configuration\n\n```toml\n[[inputs.suricata]]\n  ## Data sink for Suricata stats log.\n  # This is expected to be a filename of a\n  # unix socket to be created for listening.\n  source = "/var/run/suricata-stats.sock"\n\n  # Delimiter for flattening field keys, e.g. subitem "alert" of "detect"\n  # becomes "detect_alert" when delimiter is "_".\n  delimiter = "_"\n```\n\n### Metrics\n\nFields in the \'suricata\' measurement follow the JSON format used by Suricata\'s\nstats output.\nSee http://suricata.readthedocs.io/en/latest/performance/statistics.html for\nmore information.\n\nAll fields are numeric.\n- suricata\n  - tags:\n    - thread: `Global` for global statistics (if enabled), thread IDs (e.g. `W#03-enp0s31f6`) for thread-specific statistics\n  - fields:\n    - app_layer_flow_dcerpc_udp\n    - app_layer_flow_dns_tcp\n    - app_layer_flow_dns_udp\n    - app_layer_flow_enip_udp\n    - app_layer_flow_failed_tcp\n    - app_layer_flow_failed_udp\n    - app_layer_flow_http\n    - app_layer_flow_ssh\n    - app_layer_flow_tls\n    - app_layer_tx_dns_tcp\n    - app_layer_tx_dns_udp\n    - app_layer_tx_enip_udp\n    - app_layer_tx_http\n    - app_layer_tx_smtp\n    - capture_kernel_drops\n    - capture_kernel_packets\n    - decoder_avg_pkt_size\n    - decoder_bytes\n    - decoder_ethernet\n    - decoder_gre\n    - decoder_icmpv4\n    - decoder_icmpv4_ipv4_unknown_ver\n    - decoder_icmpv6\n    - decoder_invalid\n    - decoder_ipv4\n    - decoder_ipv6\n    - decoder_max_pkt_size\n    - decoder_pkts\n    - decoder_tcp\n    - decoder_tcp_hlen_too_small\n    - decoder_tcp_invalid_optlen\n    - decoder_teredo\n    - decoder_udp\n    - decoder_vlan\n    - detect_alert\n    - dns_memcap_global\n    - dns_memuse\n    - flow_memuse\n    - flow_mgr_closed_pruned\n    - flow_mgr_est_pruned\n    - flow_mgr_flows_checked\n    - flow_mgr_flows_notimeout\n    - flow_mgr_flows_removed\n    - flow_mgr_flows_timeout\n    - flow_mgr_flows_timeout_inuse\n    - flow_mgr_new_pruned\n    - flow_mgr_rows_checked\n    - flow_mgr_rows_empty\n    - flow_mgr_rows_maxlen\n    - flow_mgr_rows_skipped\n    - flow_spare\n    - flow_tcp_reuse\n    - http_memuse\n    - tcp_memuse\n    - tcp_pseudo\n    - tcp_reassembly_gap\n    - tcp_reassembly_memuse\n    - tcp_rst\n    - tcp_sessions\n    - tcp_syn\n    - tcp_synack\n    - ...\n\n\n#### Suricata configuration\n\nSuricata needs to deliver the \'stats\' event type to a given unix socket for\nthis plugin to pick up. This can be done, for example, by creating an additional\noutput in the Suricata configuration file:\n\n```yaml\n- eve-log:\n    enabled: yes\n    filetype: unix_stream\n    filename: /tmp/suricata-stats.sock\n    types:\n      - stats:\n         threads: yes\n```\n\n#### FreeBSD tuning\n\n\nUnder FreeBSD it is necessary to increase the localhost buffer space to at least 16384, default is 8192 \notherwise messages from Suricata are truncated as they exceed the default available buffer space, \nconsequently no statistics are processed by the plugin.\n\n```text\nsysctl -w net.local.stream.recvspace=16384\nsysctl -w net.local.stream.sendspace=16384\n```\n\n\n### Example Output\n\n```text\nsuricata,host=myhost,thread=FM#01 flow_mgr_rows_empty=0,flow_mgr_rows_checked=65536,flow_mgr_closed_pruned=0,flow_emerg_mode_over=0,flow_mgr_flows_timeout_inuse=0,flow_mgr_rows_skipped=65535,flow_mgr_bypassed_pruned=0,flow_mgr_flows_removed=0,flow_mgr_est_pruned=0,flow_mgr_flows_notimeout=1,flow_mgr_flows_checked=1,flow_mgr_rows_busy=0,flow_spare=10000,flow_mgr_rows_maxlen=1,flow_mgr_new_pruned=0,flow_emerg_mode_entered=0,flow_tcp_reuse=0,flow_mgr_flows_timeout=0 1568368562545197545\nsuricata,host=myhost,thread=W#04-wlp4s0 decoder_ltnull_pkt_too_small=0,decoder_ipraw_invalid_ip_version=0,defrag_ipv4_reassembled=0,tcp_no_flow=0,app_layer_flow_tls=1,decoder_udp=25,defrag_ipv6_fragments=0,defrag_ipv4_fragments=0,decoder_tcp=59,decoder_vlan=0,decoder_pkts=84,decoder_vlan_qinq=0,decoder_avg_pkt_size=574,flow_memcap=0,defrag_max_frag_hits=0,tcp_ssn_memcap_drop=0,capture_kernel_packets=84,app_layer_flow_dcerpc_udp=0,app_layer_tx_dns_tcp=0,tcp_rst=0,decoder_icmpv4=0,app_layer_tx_tls=0,decoder_ipv4=84,decoder_erspan=0,decoder_ltnull_unsupported_type=0,decoder_invalid=0,app_layer_flow_ssh=0,capture_kernel_drops=0,app_layer_flow_ftp=0,app_layer_tx_http=0,tcp_pseudo_failed=0,defrag_ipv6_reassembled=0,defrag_ipv6_timeouts=0,tcp_pseudo=0,tcp_sessions=1,decoder_ethernet=84,decoder_raw=0,decoder_sctp=0,app_layer_flow_dns_udp=1,decoder_gre=0,app_layer_flow_http=0,app_layer_flow_imap=0,tcp_segment_memcap_drop=0,detect_alert=0,app_layer_flow_failed_tcp=0,decoder_teredo=0,decoder_mpls=0,decoder_ppp=0,decoder_max_pkt_size=1422,decoder_ipv6=0,tcp_reassembly_gap=0,app_layer_flow_dcerpc_tcp=0,decoder_ipv4_in_ipv6=0,tcp_stream_depth_reached=0,app_layer_flow_dns_tcp=0,app_layer_flow_smtp=0,tcp_syn=1,decoder_sll=0,tcp_invalid_checksum=0,app_layer_tx_dns_udp=1,decoder_bytes=48258,defrag_ipv4_timeouts=0,app_layer_flow_msn=0,decoder_pppoe=0,decoder_null=0,app_layer_flow_failed_udp=3,app_layer_tx_smtp=0,decoder_icmpv6=0,decoder_ipv6_in_ipv6=0,tcp_synack=1,app_layer_flow_smb=0,decoder_dce_pkt_too_small=0 1568368562545174807\nsuricata,host=myhost,thread=W#01-wlp4s0 tcp_synack=0,app_layer_flow_imap=0,decoder_ipv4_in_ipv6=0,decoder_max_pkt_size=684,decoder_gre=0,defrag_ipv4_timeouts=0,tcp_invalid_checksum=0,decoder_ipv4=53,flow_memcap=0,app_layer_tx_http=0,app_layer_tx_smtp=0,decoder_null=0,tcp_no_flow=0,app_layer_tx_tls=0,app_layer_flow_ssh=0,app_layer_flow_smtp=0,decoder_pppoe=0,decoder_teredo=0,decoder_ipraw_invalid_ip_version=0,decoder_ltnull_pkt_too_small=0,tcp_rst=0,decoder_ppp=0,decoder_ipv6=29,app_layer_flow_dns_udp=3,decoder_vlan=0,app_layer_flow_dcerpc_tcp=0,tcp_syn=0,defrag_ipv4_fragments=0,defrag_ipv6_timeouts=0,decoder_raw=0,defrag_ipv6_reassembled=0,tcp_reassembly_gap=0,tcp_sessions=0,decoder_udp=44,tcp_segment_memcap_drop=0,app_layer_tx_dns_udp=3,app_layer_flow_tls=0,decoder_tcp=37,defrag_ipv4_reassembled=0,app_layer_flow_failed_udp=6,app_layer_flow_ftp=0,decoder_icmpv6=1,tcp_stream_depth_reached=0,capture_kernel_drops=0,decoder_sll=0,decoder_bytes=15883,decoder_ethernet=91,tcp_pseudo=0,app_layer_flow_http=0,decoder_sctp=0,decoder_pkts=91,decoder_avg_pkt_size=174,decoder_erspan=0,app_layer_flow_msn=0,app_layer_flow_smb=0,capture_kernel_packets=91,decoder_icmpv4=0,decoder_ipv6_in_ipv6=0,tcp_ssn_memcap_drop=0,decoder_vlan_qinq=0,decoder_ltnull_unsupported_type=0,decoder_invalid=0,defrag_max_frag_hits=0,tcp_pseudo_failed=0,detect_alert=0,app_layer_tx_dns_tcp=0,app_layer_flow_failed_tcp=0,app_layer_flow_dcerpc_udp=0,app_layer_flow_dns_tcp=0,defrag_ipv6_fragments=0,decoder_mpls=0,decoder_dce_pkt_too_small=0 1568368562545148438\nsuricata,host=myhost flow_memuse=7094464,tcp_memuse=3276800,tcp_reassembly_memuse=12332832,dns_memuse=0,dns_memcap_state=0,dns_memcap_global=0,http_memuse=0,http_memcap=0 1568368562545144569\nsuricata,host=myhost,thread=W#07-wlp4s0 app_layer_tx_http=0,app_layer_tx_dns_tcp=0,decoder_vlan=0,decoder_pppoe=0,decoder_sll=0,decoder_tcp=0,flow_memcap=0,app_layer_flow_msn=0,tcp_no_flow=0,tcp_rst=0,tcp_segment_memcap_drop=0,tcp_sessions=0,detect_alert=0,defrag_ipv6_reassembled=0,decoder_ipraw_invalid_ip_version=0,decoder_erspan=0,decoder_icmpv4=0,app_layer_tx_dns_udp=2,decoder_ltnull_pkt_too_small=0,decoder_bytes=1998,decoder_ipv6=1,defrag_ipv4_fragments=0,defrag_ipv6_fragments=0,app_layer_tx_smtp=0,decoder_ltnull_unsupported_type=0,decoder_max_pkt_size=342,app_layer_flow_ftp=0,decoder_ipv6_in_ipv6=0,defrag_ipv4_reassembled=0,defrag_ipv6_timeouts=0,app_layer_flow_dns_tcp=0,decoder_avg_pkt_size=181,defrag_ipv4_timeouts=0,tcp_stream_depth_reached=0,decoder_mpls=0,app_layer_flow_dns_udp=2,tcp_ssn_memcap_drop=0,app_layer_flow_dcerpc_tcp=0,app_layer_flow_failed_udp=2,app_layer_flow_smb=0,app_layer_flow_failed_tcp=0,decoder_invalid=0,decoder_null=0,decoder_gre=0,decoder_ethernet=11,app_layer_flow_ssh=0,defrag_max_frag_hits=0,capture_kernel_drops=0,tcp_pseudo_failed=0,app_layer_flow_smtp=0,decoder_udp=10,decoder_sctp=0,decoder_teredo=0,decoder_icmpv6=1,tcp_pseudo=0,tcp_synack=0,app_layer_tx_tls=0,app_layer_flow_imap=0,capture_kernel_packets=11,decoder_pkts=11,decoder_raw=0,decoder_ppp=0,tcp_syn=0,tcp_invalid_checksum=0,app_layer_flow_tls=0,decoder_ipv4_in_ipv6=0,app_layer_flow_http=0,decoder_dce_pkt_too_small=0,decoder_ipv4=10,decoder_vlan_qinq=0,tcp_reassembly_gap=0,app_layer_flow_dcerpc_udp=0 1568368562545110847\nsuricata,host=myhost,thread=W#06-wlp4s0 app_layer_tx_smtp=0,decoder_ipv6_in_ipv6=0,decoder_dce_pkt_too_small=0,tcp_segment_memcap_drop=0,tcp_sessions=1,decoder_ppp=0,tcp_pseudo_failed=0,app_layer_tx_dns_tcp=0,decoder_invalid=0,defrag_ipv4_timeouts=0,app_layer_flow_smb=0,app_layer_flow_ssh=0,decoder_bytes=19407,decoder_null=0,app_layer_flow_tls=1,decoder_avg_pkt_size=473,decoder_pkts=41,decoder_pppoe=0,decoder_tcp=32,defrag_ipv4_reassembled=0,tcp_reassembly_gap=0,decoder_raw=0,flow_memcap=0,defrag_ipv6_timeouts=0,app_layer_flow_smtp=0,app_layer_tx_http=0,decoder_sll=0,decoder_udp=8,decoder_ltnull_pkt_too_small=0,decoder_ltnull_unsupported_type=0,decoder_ipv4_in_ipv6=0,decoder_vlan=0,decoder_max_pkt_size=1422,tcp_no_flow=0,app_layer_flow_failed_tcp=0,app_layer_flow_dns_tcp=0,app_layer_flow_ftp=0,decoder_icmpv4=0,defrag_max_frag_hits=0,tcp_rst=0,app_layer_flow_msn=0,app_layer_flow_failed_udp=2,app_layer_flow_dns_udp=0,app_layer_flow_dcerpc_udp=0,decoder_ipv4=39,decoder_ethernet=41,defrag_ipv6_reassembled=0,tcp_ssn_memcap_drop=0,app_layer_tx_tls=0,decoder_gre=0,decoder_vlan_qinq=0,tcp_pseudo=0,app_layer_flow_imap=0,app_layer_flow_dcerpc_tcp=0,defrag_ipv4_fragments=0,defrag_ipv6_fragments=0,tcp_synack=1,app_layer_flow_http=0,app_layer_tx_dns_udp=0,capture_kernel_packets=41,decoder_ipv6=2,tcp_invalid_checksum=0,tcp_stream_depth_reached=0,decoder_ipraw_invalid_ip_version=0,decoder_icmpv6=1,tcp_syn=1,detect_alert=0,capture_kernel_drops=0,decoder_teredo=0,decoder_erspan=0,decoder_sctp=0,decoder_mpls=0 1568368562545084670\nsuricata,host=myhost,thread=W#02-wlp4s0 decoder_tcp=53,tcp_rst=3,tcp_reassembly_gap=0,defrag_ipv6_timeouts=0,tcp_ssn_memcap_drop=0,app_layer_flow_dcerpc_tcp=0,decoder_max_pkt_size=1422,decoder_ipv6_in_ipv6=0,tcp_no_flow=0,app_layer_flow_ftp=0,app_layer_flow_ssh=0,decoder_pkts=82,decoder_sctp=0,tcp_invalid_checksum=0,app_layer_flow_dns_tcp=0,decoder_ipraw_invalid_ip_version=0,decoder_bytes=26441,decoder_erspan=0,tcp_pseudo_failed=0,tcp_syn=1,app_layer_tx_http=0,app_layer_tx_smtp=0,decoder_teredo=0,decoder_ipv4=80,defrag_ipv4_fragments=0,tcp_stream_depth_reached=0,app_layer_flow_smb=0,capture_kernel_packets=82,decoder_null=0,decoder_ltnull_pkt_too_small=0,decoder_ppp=0,decoder_icmpv6=1,app_layer_flow_dns_udp=2,app_layer_flow_http=0,app_layer_tx_dns_udp=3,decoder_mpls=0,decoder_sll=0,defrag_ipv4_reassembled=0,tcp_segment_memcap_drop=0,app_layer_flow_imap=0,decoder_ltnull_unsupported_type=0,decoder_icmpv4=0,decoder_raw=0,defrag_ipv4_timeouts=0,app_layer_flow_failed_udp=8,decoder_gre=0,capture_kernel_drops=0,defrag_ipv6_reassembled=0,tcp_pseudo=0,app_layer_flow_tls=1,decoder_avg_pkt_size=322,decoder_dce_pkt_too_small=0,decoder_ethernet=82,defrag_ipv6_fragments=0,tcp_sessions=1,tcp_synack=1,app_layer_tx_dns_tcp=0,decoder_vlan=0,flow_memcap=0,decoder_vlan_qinq=0,decoder_udp=28,decoder_invalid=0,detect_alert=0,app_layer_flow_failed_tcp=0,app_layer_tx_tls=0,decoder_pppoe=0,decoder_ipv6=2,decoder_ipv4_in_ipv6=0,defrag_max_frag_hits=0,app_layer_flow_dcerpc_udp=0,app_layer_flow_smtp=0,app_layer_flow_msn=0 1568368562545061864\nsuricata,host=myhost,thread=W#08-wlp4s0 decoder_dce_pkt_too_small=0,app_layer_tx_dns_tcp=0,decoder_pkts=58,decoder_ppp=0,decoder_raw=0,decoder_ipv4_in_ipv6=0,decoder_max_pkt_size=1392,tcp_invalid_checksum=0,tcp_syn=0,decoder_ipv4=51,decoder_ipv6_in_ipv6=0,decoder_tcp=0,decoder_ltnull_pkt_too_small=0,flow_memcap=0,decoder_udp=58,tcp_ssn_memcap_drop=0,tcp_pseudo=0,app_layer_flow_dcerpc_udp=0,app_layer_flow_dns_udp=5,app_layer_tx_http=0,capture_kernel_drops=0,decoder_vlan=0,tcp_segment_memcap_drop=0,app_layer_flow_ftp=0,app_layer_flow_imap=0,app_layer_flow_http=0,app_layer_flow_tls=0,decoder_icmpv4=0,decoder_sctp=0,defrag_ipv4_timeouts=0,tcp_reassembly_gap=0,detect_alert=0,decoder_ethernet=58,tcp_pseudo_failed=0,decoder_teredo=0,defrag_ipv4_reassembled=0,tcp_sessions=0,app_layer_flow_msn=0,decoder_ipraw_invalid_ip_version=0,tcp_no_flow=0,app_layer_flow_dns_tcp=0,decoder_null=0,defrag_ipv4_fragments=0,app_layer_flow_dcerpc_tcp=0,app_layer_flow_failed_udp=8,app_layer_tx_tls=0,decoder_bytes=15800,decoder_ipv6=7,tcp_stream_depth_reached=0,decoder_invalid=0,decoder_ltnull_unsupported_type=0,app_layer_tx_dns_udp=6,decoder_pppoe=0,decoder_avg_pkt_size=272,decoder_erspan=0,defrag_ipv6_timeouts=0,app_layer_flow_failed_tcp=0,decoder_gre=0,decoder_sll=0,defrag_max_frag_hits=0,app_layer_flow_ssh=0,capture_kernel_packets=58,decoder_mpls=0,decoder_vlan_qinq=0,tcp_rst=0,app_layer_flow_smb=0,app_layer_tx_smtp=0,decoder_icmpv6=0,defrag_ipv6_fragments=0,defrag_ipv6_reassembled=0,tcp_synack=0,app_layer_flow_smtp=0 1568368562545035575\nsuricata,host=myhost,thread=W#05-wlp4s0 tcp_reassembly_gap=0,capture_kernel_drops=0,decoder_ltnull_unsupported_type=0,tcp_sessions=0,tcp_stream_depth_reached=0,tcp_pseudo_failed=0,app_layer_flow_failed_tcp=0,app_layer_tx_dns_tcp=0,decoder_null=0,decoder_dce_pkt_too_small=0,decoder_udp=7,tcp_rst=3,app_layer_flow_dns_tcp=0,decoder_invalid=0,defrag_ipv4_reassembled=0,tcp_synack=0,app_layer_flow_ftp=0,decoder_bytes=3117,decoder_pppoe=0,app_layer_flow_dcerpc_tcp=0,app_layer_flow_smb=0,decoder_ipv6_in_ipv6=0,decoder_ipraw_invalid_ip_version=0,app_layer_flow_imap=0,app_layer_tx_dns_udp=2,decoder_ppp=0,decoder_ipv4=21,decoder_tcp=14,flow_memcap=0,tcp_syn=0,tcp_invalid_checksum=0,decoder_teredo=0,decoder_ltnull_pkt_too_small=0,defrag_max_frag_hits=0,app_layer_tx_tls=0,decoder_pkts=24,decoder_sll=0,defrag_ipv6_fragments=0,app_layer_flow_dcerpc_udp=0,app_layer_flow_smtp=0,decoder_icmpv6=3,defrag_ipv6_timeouts=0,decoder_ipv6=3,decoder_raw=0,defrag_ipv6_reassembled=0,tcp_no_flow=0,detect_alert=0,app_layer_flow_tls=0,decoder_ethernet=24,decoder_vlan=0,decoder_icmpv4=0,decoder_ipv4_in_ipv6=0,app_layer_flow_failed_udp=1,decoder_mpls=0,decoder_max_pkt_size=653,decoder_sctp=0,defrag_ipv4_timeouts=0,tcp_ssn_memcap_drop=0,app_layer_flow_dns_udp=1,app_layer_tx_smtp=0,capture_kernel_packets=24,decoder_vlan_qinq=0,decoder_gre=0,app_layer_flow_ssh=0,app_layer_flow_msn=0,defrag_ipv4_fragments=0,app_layer_flow_http=0,tcp_segment_memcap_drop=0,tcp_pseudo=0,app_layer_tx_http=0,decoder_erspan=0,decoder_avg_pkt_size=129 1568368562545009684\nsuricata,host=myhost,thread=W#03-wlp4s0 app_layer_flow_failed_tcp=0,decoder_teredo=0,decoder_ipv6_in_ipv6=0,tcp_pseudo_failed=0,tcp_stream_depth_reached=0,tcp_syn=0,decoder_gre=0,tcp_segment_memcap_drop=0,tcp_ssn_memcap_drop=0,app_layer_tx_smtp=0,decoder_raw=0,decoder_ltnull_pkt_too_small=0,tcp_sessions=0,tcp_reassembly_gap=0,app_layer_flow_ssh=0,app_layer_flow_imap=0,decoder_ipv4=463,decoder_ethernet=463,capture_kernel_packets=463,decoder_pppoe=0,defrag_ipv4_reassembled=0,app_layer_flow_tls=0,app_layer_flow_dcerpc_udp=0,app_layer_flow_dns_udp=0,decoder_vlan=0,decoder_ipraw_invalid_ip_version=0,decoder_mpls=0,tcp_no_flow=0,decoder_avg_pkt_size=445,decoder_udp=432,flow_memcap=0,app_layer_tx_dns_udp=0,app_layer_flow_msn=0,app_layer_flow_http=0,app_layer_flow_dcerpc_tcp=0,decoder_ipv6=0,decoder_ipv4_in_ipv6=0,defrag_ipv4_timeouts=0,defrag_ipv4_fragments=0,defrag_ipv6_timeouts=0,decoder_sctp=0,defrag_ipv6_fragments=0,app_layer_flow_dns_tcp=0,app_layer_tx_tls=0,defrag_max_frag_hits=0,decoder_bytes=206345,decoder_vlan_qinq=0,decoder_invalid=0,decoder_ppp=0,tcp_rst=0,detect_alert=0,capture_kernel_drops=0,app_layer_flow_failed_udp=4,decoder_null=0,decoder_icmpv4=0,decoder_icmpv6=0,decoder_ltnull_unsupported_type=0,defrag_ipv6_reassembled=0,tcp_invalid_checksum=0,tcp_synack=0,decoder_tcp=31,tcp_pseudo=0,app_layer_flow_smb=0,app_layer_flow_smtp=0,decoder_max_pkt_size=1463,decoder_dce_pkt_too_small=0,app_layer_tx_http=0,decoder_pkts=463,decoder_sll=0,app_layer_flow_ftp=0,app_layer_tx_dns_tcp=0,decoder_erspan=0 1568368562544966078\n```\n',image:ck.a},{id:"swap",name:"Swap",url:"telegraf-plugins/swap",markdown:"# Swap Input Plugin\n\nThe swap plugin collects system swap metrics.\n\nFor more information on what swap memory is, read [All about Linux swap space](https://www.linux.com/news/all-about-linux-swap-space).\n\n### Configuration:\n\n```toml\n# Read metrics about swap memory usage\n[[inputs.swap]]\n  # no configuration\n```\n\n### Metrics:\n\n- swap\n  - fields:\n    - free (int, bytes): free swap memory\n    - total (int, bytes): total swap memory\n    - used (int, bytes): used swap memory\n    - used_percent (float, percent): percentage of swap memory used\n    - in (int, bytes): data swapped in since last boot calculated from page number\n    - out (int, bytes): data swapped out since last boot calculated from page number\n\n### Example Output:\n\n```\nswap total=20855394304i,used_percent=45.43883523785713,used=9476448256i,free=1715331072i 1511894782000000000\n```\n",image:mk.a},{id:"synproxy",name:"Synproxy",url:"telegraf-plugins/synproxy",markdown:'# Synproxy Input Plugin\n\nThe synproxy plugin gathers the synproxy counters. Synproxy is a Linux netfilter module used for SYN attack mitigation. \nThe use of synproxy is documented in `man iptables-extensions` under the SYNPROXY section.\n\n\n### Configuration\n\nThe synproxy plugin does not need any configuration\n\n```toml\n[[inputs.synproxy]]\n  # no configuration\n```\n\n### Metrics\n\nThe following synproxy counters are gathered\n\n- synproxy\n  - fields:\n    - cookie_invalid (uint32, packets, counter) - Invalid cookies\n    - cookie_retrans (uint32, packets, counter) - Cookies retransmitted\n    - cookie_valid (uint32, packets, counter) - Valid cookies\n    - entries (uint32, packets, counter) - Entries\n    - syn_received (uint32, packets, counter) - SYN received\n    - conn_reopened (uint32, packets, counter) - Connections reopened\n\n### Sample Queries\n\nGet the number of packets per 5 minutes for the measurement in the last hour from InfluxDB:\n```sql\nSELECT difference(last("cookie_invalid")) AS "cookie_invalid", difference(last("cookie_retrans")) AS "cookie_retrans", difference(last("cookie_valid")) AS "cookie_valid", difference(last("entries")) AS "entries", difference(last("syn_received")) AS "syn_received", difference(last("conn_reopened")) AS "conn_reopened" FROM synproxy WHERE time > NOW() - 1h GROUP BY time(5m) FILL(null);\n```\n\n### Troubleshooting\n\nExecute the following CLI command in Linux to test the synproxy counters:\n```sh\ncat /proc/net/stat/synproxy\n```\n\n### Example Output\n\nThis section shows example output in Line Protocol format.\n\n```\nsynproxy,host=Filter-GW01,rack=filter-node1 conn_reopened=0i,cookie_invalid=235i,cookie_retrans=0i,cookie_valid=8814i,entries=0i,syn_received=8742i 1549550634000000000\n```\n',image:pk.a},{id:"syslog",name:"Syslog",url:"telegraf-plugins/syslog",markdown:'# Syslog Input Plugin\n\nThe syslog plugin listens for syslog messages transmitted over\na Unix Domain socket,\n[UDP](https://tools.ietf.org/html/rfc5426),\n[TCP](https://tools.ietf.org/html/rfc6587), or\n[TLS](https://tools.ietf.org/html/rfc5425); with or without the octet counting framing.\n\nSyslog messages should be formatted according to\n[RFC 5424](https://tools.ietf.org/html/rfc5424).\n\n### Configuration\n\n```toml\n[[inputs.syslog]]\n  ## Protocol, address and port to host the syslog receiver.\n  ## If no host is specified, then localhost is used.\n  ## If no port is specified, 6514 is used (RFC5425#section-4.1).\n  ##   ex: server = "tcp://localhost:6514"\n  ##       server = "udp://:6514"\n  ##       server = "unix:///var/run/telegraf-syslog.sock"\n  server = "tcp://:6514"\n\n  ## TLS Config\n  # tls_allowed_cacerts = ["/etc/telegraf/ca.pem"]\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n\n  ## Period between keep alive probes.\n  ## 0 disables keep alive probes.\n  ## Defaults to the OS configuration.\n  ## Only applies to stream sockets (e.g. TCP).\n  # keep_alive_period = "5m"\n\n  ## Maximum number of concurrent connections (default = 0).\n  ## 0 means unlimited.\n  ## Only applies to stream sockets (e.g. TCP).\n  # max_connections = 1024\n\n  ## Read timeout is the maximum time allowed for reading a single message (default = 5s).\n  ## 0 means unlimited.\n  # read_timeout = "5s"\n\n  ## The framing technique with which it is expected that messages are transported (default = "octet-counting").\n  ## Whether the messages come using the octect-counting (RFC5425#section-4.3.1, RFC6587#section-3.4.1),\n  ## or the non-transparent framing technique (RFC6587#section-3.4.2).\n  ## Must be one of "octect-counting", "non-transparent".\n  # framing = "octet-counting"\n\n  ## The trailer to be expected in case of non-transparent framing (default = "LF").\n  ## Must be one of "LF", or "NUL".\n  # trailer = "LF"\n\n  ## Whether to parse in best effort mode or not (default = false).\n  ## By default best effort parsing is off.\n  # best_effort = false\n\n  ## Character to prepend to SD-PARAMs (default = "_").\n  ## A syslog message can contain multiple parameters and multiple identifiers within structured data section.\n  ## Eg., [id1 name1="val1" name2="val2"][id2 name1="val1" nameA="valA"]\n  ## For each combination a field is created.\n  ## Its name is created concatenating identifier, sdparam_separator, and parameter name.\n  # sdparam_separator = "_"\n```\n\n#### Message transport\n\nThe `framing` option only applies to streams. It governs the way we expect to receive messages within the stream.\nNamely, with the [`"octet counting"`](https://tools.ietf.org/html/rfc5425#section-4.3) technique (default) or with the [`"non-transparent"`](https://tools.ietf.org/html/rfc6587#section-3.4.2) framing.\n\nThe `trailer` option only applies when `framing` option is `"non-transparent"`. It must have one of the following values: `"LF"` (default), or `"NUL"`.\n\n#### Best effort\n\nThe [`best_effort`](https://github.com/influxdata/go-syslog#best-effort-mode)\noption instructs the parser to extract partial but valid info from syslog\nmessages. If unset only full messages will be collected.\n\n#### Rsyslog Integration\n\nRsyslog can be configured to forward logging messages to Telegraf by configuring\n[remote logging](https://www.rsyslog.com/doc/v8-stable/configuration/actions.html#remote-machine).\n\nMost system are setup with a configuration split between `/etc/rsyslog.conf`\nand the files in the `/etc/rsyslog.d/` directory, it is recommended to add the\nnew configuration into the config directory to simplify updates to the main\nconfig file.\n\nAdd the following lines to `/etc/rsyslog.d/50-telegraf.conf` making\nadjustments to the target address as needed:\n```\n$ActionQueueType LinkedList # use asynchronous processing\n$ActionQueueFileName srvrfwd # set file name, also enables disk mode\n$ActionResumeRetryCount -1 # infinite retries on insert failure\n$ActionQueueSaveOnShutdown on # save in-memory data if rsyslog shuts down\n\n# forward over tcp with octet framing according to RFC 5425\n*.* @@(o)127.0.0.1:6514;RSYSLOG_SyslogProtocol23Format\n\n# uncomment to use udp according to RFC 5424\n#*.* @127.0.0.1:6514;RSYSLOG_SyslogProtocol23Format\n```\n\nYou can alternately use `advanced` format (aka RainerScript):\n```\n# forward over tcp with octet framing according to RFC 5425\naction(type="omfwd" Protocol="tcp" TCP_Framing="octet-counted" Target="127.0.0.1" Port="6514" Template="RSYSLOG_SyslogProtocol23Format")\n\n# uncomment to use udp according to RFC 5424\n#action(type="omfwd" Protocol="udp" Target="127.0.0.1" Port="6514" Template="RSYSLOG_SyslogProtocol23Format")\n```\n\nTo complete TLS setup please refer to [rsyslog docs](https://www.rsyslog.com/doc/v8-stable/tutorials/tls.html).\n\n### Metrics\n\n- syslog\n  - tags\n    - severity (string)\n    - facility (string)\n    - hostname (string)\n    - appname (string)\n  - fields\n    - version (integer)\n    - severity_code (integer)\n    - facility_code (integer)\n    - timestamp (integer): the time recorded in the syslog message\n    - procid (string)\n    - msgid (string)\n    - sdid (bool)\n    - *Structured Data* (string)\n  - timestamp: the time the messages was received\n\n#### Structured Data\n\nStructured data produces field keys by combining the `SD_ID` with the `PARAM_NAME` combined using the `sdparam_separator` as in the following example:\n```\n170 <165>1 2018-10-01:14:15.000Z mymachine.example.com evntslog - ID47 [exampleSDID@32473 iut="3" eventSource="Application" eventID="1011"] An application event log entry...\n```\n```\nsyslog,appname=evntslog,facility=local4,hostname=mymachine.example.com,severity=notice exampleSDID@32473_eventID="1011",exampleSDID@32473_eventSource="Application",exampleSDID@32473_iut="3",facility_code=20i,message="An application event log entry...",msgid="ID47",severity_code=5i,timestamp=1065910455003000000i,version=1i 1538421339749472344\n```\n\n### Troubleshooting\n\nYou can send debugging messages directly to the input plugin using netcat:\n\n```sh\n# TCP with octet framing\necho "57 <13>1 2018-10-01T12:00:00.0Z example.org root - - - test" | nc 127.0.0.1 6514\n\n# UDP\necho "<13>1 2018-10-01T12:00:00.0Z example.org root - - - test" | nc -u 127.0.0.1 6514\n```\n\n#### RFC3164\n\nRFC3164 encoded messages are not currently supported.  You may see the following error if a message encoded in this format:\n```\nE! Error in plugin [inputs.syslog]: expecting a version value in the range 1-999 [col 5]\n```\n\nYou can use rsyslog to translate RFC3164 syslog messages into RFC5424 format.\n',image:_k.a},{id:"sysstat",name:"sysstat",url:"telegraf-plugins/sysstat",markdown:'# sysstat Input Plugin\n\nCollect [sysstat](https://github.com/sysstat/sysstat) metrics - requires the sysstat\npackage installed.\n\nThis plugin collects system metrics with the sysstat collector utility `sadc` and parses\nthe created binary data file with the `sadf` utility.\n\n### Configuration:\n\n```toml\n# Sysstat metrics collector\n[[inputs.sysstat]]\n  ## Path to the sadc command.\n  #\n  ## On Debian and Arch Linux the default path is /usr/lib/sa/sadc whereas\n  ## on RHEL and CentOS the default path is /usr/lib64/sa/sadc\n  sadc_path = "/usr/lib/sa/sadc" # required\n\n  ## Path to the sadf command, if it is not in PATH\n  # sadf_path = "/usr/bin/sadf"\n\n  ## Activities is a list of activities, that are passed as argument to the\n  ## sadc collector utility (e.g: DISK, SNMP etc...)\n  ## The more activities that are added, the more data is collected.\n  # activities = ["DISK"]\n\n  ## Group metrics to measurements.\n  ##\n  ## If group is false each metric will be prefixed with a description\n  ## and represents itself a measurement.\n  ##\n  ## If Group is true, corresponding metrics are grouped to a single measurement.\n  # group = true\n\n  ## Options for the sadf command. The values on the left represent the sadf options and\n  ## the values on the right their description (wich are used for grouping and prefixing metrics).\n  ##\n  ## Run \'sar -h\' or \'man sar\' to find out the supported options for your sysstat version.\n  [inputs.sysstat.options]\n\t-C = "cpu"\n\t-B = "paging"\n\t-b = "io"\n\t-d = "disk"             # requires DISK activity\n\t"-n ALL" = "network"\n\t"-P ALL" = "per_cpu"\n\t-q = "queue"\n\t-R = "mem"\n\t-r = "mem_util"\n\t-S = "swap_util"\n\t-u = "cpu_util"\n\t-v = "inode"\n\t-W = "swap"\n\t-w = "task"\n  #\t-H = "hugepages"        # only available for newer linux distributions\n  #\t"-I ALL" = "interrupts" # requires INT activity\n\n  ## Device tags can be used to add additional tags for devices. For example the configuration below\n  ## adds a tag vg with value rootvg for all metrics with sda devices.\n  # [[inputs.sysstat.device_tags.sda]]\n  #  vg = "rootvg"\n```\n\n### Measurements & Fields:\n#### If group=true\n- cpu\n    - pct_idle (float)\n    - pct_iowait (float)\n    - pct_nice (float)\n    - pct_steal (float)\n    - pct_system (float)\n    - pct_user (float)\n\n- disk\n    - avgqu-sz (float)\n    - avgrq-sz (float)\n    - await (float)\n    - pct_util (float)\n    - rd_sec_pers (float)\n    - svctm (float)\n    - tps (float)\n\nAnd much more, depending on the options you configure.\n\n#### If group=false\n- cpu_pct_idle\n    - value (float)\n- cpu_pct_iowait\n    - value (float)\n- cpu_pct_nice\n    - value (float)\n- cpu_pct_steal\n    - value (float)\n- cpu_pct_system\n    - value (float)\n- cpu_pct_user\n    - value (float)\n- disk_avgqu-sz\n    - value (float)\n- disk_avgrq-sz\n    - value (float)\n- disk_await\n    - value (float)\n- disk_pct_util\n    - value (float)\n- disk_rd_sec_per_s\n    - value (float)\n- disk_svctm\n    - value (float)\n- disk_tps\n    - value (float)\n\nAnd much more, depending on the options you configure.\n\n### Tags:\n\n- All measurements have the following tags:\n    - device\n\nAnd more if you define some `device_tags`.\n### Example Output:\n\nWith the configuration below:\n```toml\n[[inputs.sysstat]]\n  sadc_path = "/usr/lib/sa/sadc" # required\n  activities = ["DISK", "SNMP", "INT"]\n  group = true\n  [inputs.sysstat.options]\n\t-C = "cpu"\n\t-B = "paging"\n\t-b = "io"\n\t-d = "disk"             # requires DISK activity\n\t-H = "hugepages"\n\t"-I ALL" = "interrupts" # requires INT activity\n\t"-n ALL" = "network"\n\t"-P ALL" = "per_cpu"\n\t-q = "queue"\n\t-R = "mem"\n\t"-r ALL" = "mem_util"\n\t-S = "swap_util"\n\t-u = "cpu_util"\n\t-v = "inode"\n\t-W = "swap"\n\t-w = "task"\n  [[inputs.sysstat.device_tags.sda]]\n    vg = "rootvg"\n```\n\nyou get the following output:\n```\n$ telegraf --config telegraf.conf --input-filter sysstat --test\n* Plugin: sysstat, Collection 1\n> cpu_util,device=all pct_idle=98.85,pct_iowait=0,pct_nice=0.38,pct_steal=0,pct_system=0.64,pct_user=0.13 1459255626657883725\n> swap pswpin_per_s=0,pswpout_per_s=0 1459255626658387650\n> per_cpu,device=cpu1 pct_idle=98.98,pct_iowait=0,pct_nice=0.26,pct_steal=0,pct_system=0.51,pct_user=0.26 1459255626659630437\n> per_cpu,device=all pct_idle=98.85,pct_iowait=0,pct_nice=0.38,pct_steal=0,pct_system=0.64,pct_user=0.13 1459255626659670744\n> per_cpu,device=cpu0 pct_idle=98.73,pct_iowait=0,pct_nice=0.76,pct_steal=0,pct_system=0.51,pct_user=0 1459255626659697515\n> hugepages kbhugfree=0,kbhugused=0,pct_hugused=0 1459255626660057517\n> network,device=lo coll_per_s=0,pct_ifutil=0,rxcmp_per_s=0,rxdrop_per_s=0,rxerr_per_s=0,rxfifo_per_s=0,rxfram_per_s=0,rxkB_per_s=0.81,rxmcst_per_s=0,rxpck_per_s=16,txcarr_per_s=0,txcmp_per_s=0,txdrop_per_s=0,txerr_per_s=0,txfifo_per_s=0,txkB_per_s=0.81,txpck_per_s=16 1459255626661197666\n> network access_per_s=0,active_per_s=0,asmf_per_s=0,asmok_per_s=0,asmrq_per_s=0,atmptf_per_s=0,badcall_per_s=0,call_per_s=0,estres_per_s=0,fragcrt_per_s=0,fragf_per_s=0,fragok_per_s=0,fwddgm_per_s=0,getatt_per_s=0,hit_per_s=0,iadrerr_per_s=0,iadrmk_per_s=0,iadrmkr_per_s=0,idel_per_s=16,idgm_per_s=0,idgmerr_per_s=0,idisc_per_s=0,idstunr_per_s=0,iech_per_s=0,iechr_per_s=0,ierr_per_s=0,ihdrerr_per_s=0,imsg_per_s=0,ip-frag=0,iparmpb_per_s=0,irec_per_s=16,iredir_per_s=0,iseg_per_s=16,isegerr_per_s=0,isrcq_per_s=0,itm_per_s=0,itmex_per_s=0,itmr_per_s=0,iukwnpr_per_s=0,miss_per_s=0,noport_per_s=0,oadrmk_per_s=0,oadrmkr_per_s=0,odgm_per_s=0,odisc_per_s=0,odstunr_per_s=0,oech_per_s=0,oechr_per_s=0,oerr_per_s=0,omsg_per_s=0,onort_per_s=0,oparmpb_per_s=0,oredir_per_s=0,orq_per_s=16,orsts_per_s=0,oseg_per_s=16,osrcq_per_s=0,otm_per_s=0,otmex_per_s=0,otmr_per_s=0,packet_per_s=0,passive_per_s=0,rawsck=0,read_per_s=0,retrans_per_s=0,saccess_per_s=0,scall_per_s=0,sgetatt_per_s=0,sread_per_s=0,swrite_per_s=0,tcp-tw=7,tcp_per_s=0,tcpsck=1543,totsck=4052,udp_per_s=0,udpsck=2,write_per_s=0 1459255626661381788\n> network,device=ens33 coll_per_s=0,pct_ifutil=0,rxcmp_per_s=0,rxdrop_per_s=0,rxerr_per_s=0,rxfifo_per_s=0,rxfram_per_s=0,rxkB_per_s=0,rxmcst_per_s=0,rxpck_per_s=0,txcarr_per_s=0,txcmp_per_s=0,txdrop_per_s=0,txerr_per_s=0,txfifo_per_s=0,txkB_per_s=0,txpck_per_s=0 1459255626661533072\n> disk,device=sda,vg=rootvg avgqu-sz=0.01,avgrq-sz=8.5,await=3.31,pct_util=0.1,rd_sec_per_s=0,svctm=0.25,tps=4,wr_sec_per_s=34 1459255626663974389\n> queue blocked=0,ldavg-1=1.61,ldavg-15=1.34,ldavg-5=1.67,plist-sz=1415,runq-sz=0 1459255626664159054\n> paging fault_per_s=0.25,majflt_per_s=0,pct_vmeff=0,pgfree_per_s=19,pgpgin_per_s=0,pgpgout_per_s=17,pgscand_per_s=0,pgscank_per_s=0,pgsteal_per_s=0 1459255626664304249\n> mem_util kbactive=2206568,kbanonpg=1472208,kbbuffers=118020,kbcached=1035252,kbcommit=8717200,kbdirty=156,kbinact=418912,kbkstack=24672,kbmemfree=1744868,kbmemused=3610272,kbpgtbl=87116,kbslab=233804,kbvmused=0,pct_commit=136.13,pct_memused=67.42 1459255626664554981\n> io bread_per_s=0,bwrtn_per_s=34,rtps=0,tps=4,wtps=4 1459255626664596198\n> inode dentunusd=235039,file-nr=17120,inode-nr=94505,pty-nr=14 1459255626664663693\n> interrupts,device=i000 intr_per_s=0 1459255626664800109\n> interrupts,device=i003 intr_per_s=0 1459255626665255145\n> interrupts,device=i004 intr_per_s=0 1459255626665281776\n> interrupts,device=i006 intr_per_s=0 1459255626665297416\n> interrupts,device=i007 intr_per_s=0 1459255626665321008\n> interrupts,device=i010 intr_per_s=0 1459255626665339413\n> interrupts,device=i012 intr_per_s=0 1459255626665361510\n> interrupts,device=i013 intr_per_s=0 1459255626665381327\n> interrupts,device=i015 intr_per_s=1 1459255626665397313\n> interrupts,device=i001 intr_per_s=0.25 1459255626665412985\n> interrupts,device=i002 intr_per_s=0 1459255626665430475\n> interrupts,device=i005 intr_per_s=0 1459255626665453944\n> interrupts,device=i008 intr_per_s=0 1459255626665470650\n> interrupts,device=i011 intr_per_s=0 1459255626665486069\n> interrupts,device=i009 intr_per_s=0 1459255626665502913\n> interrupts,device=i014 intr_per_s=0 1459255626665518152\n> task cswch_per_s=722.25,proc_per_s=0 1459255626665849646\n> cpu,device=all pct_idle=98.85,pct_iowait=0,pct_nice=0.38,pct_steal=0,pct_system=0.64,pct_user=0.13 1459255626666639715\n> mem bufpg_per_s=0,campg_per_s=1.75,frmpg_per_s=-8.25 1459255626666770205\n> swap_util kbswpcad=0,kbswpfree=1048572,kbswpused=0,pct_swpcad=0,pct_swpused=0 1459255626667313276\n```\n\nIf you change the group value to false like below:\n```toml\n[[inputs.sysstat]]\n  sadc_path = "/usr/lib/sa/sadc" # required\n  activities = ["DISK", "SNMP", "INT"]\n  group = false\n  [inputs.sysstat.options]\n\t-C = "cpu"\n\t-B = "paging"\n\t-b = "io"\n\t-d = "disk"             # requires DISK activity\n\t-H = "hugepages"\n\t"-I ALL" = "interrupts" # requires INT activity\n\t"-n ALL" = "network"\n\t"-P ALL" = "per_cpu"\n\t-q = "queue"\n\t-R = "mem"\n\t"-r ALL" = "mem_util"\n\t-S = "swap_util"\n\t-u = "cpu_util"\n\t-v = "inode"\n\t-W = "swap"\n\t-w = "task"\n  [[inputs.sysstat.device_tags.sda]]\n    vg = "rootvg"\n```\n\nyou get the following output:\n```\n$ telegraf -config telegraf.conf -input-filter sysstat -test\n* Plugin: sysstat, Collection 1\n> io_tps value=0.5 1459255780126025822\n> io_rtps value=0 1459255780126025822\n> io_wtps value=0.5 1459255780126025822\n> io_bread_per_s value=0 1459255780126025822\n> io_bwrtn_per_s value=38 1459255780126025822\n> cpu_util_pct_user,device=all value=39.07 1459255780126025822\n> cpu_util_pct_nice,device=all value=0 1459255780126025822\n> cpu_util_pct_system,device=all value=47.94 1459255780126025822\n> cpu_util_pct_iowait,device=all value=0 1459255780126025822\n> cpu_util_pct_steal,device=all value=0 1459255780126025822\n> cpu_util_pct_idle,device=all value=12.98 1459255780126025822\n> swap_pswpin_per_s value=0 1459255780126025822\n> cpu_pct_user,device=all value=39.07 1459255780126025822\n> cpu_pct_nice,device=all value=0 1459255780126025822\n> cpu_pct_system,device=all value=47.94 1459255780126025822\n> cpu_pct_iowait,device=all value=0 1459255780126025822\n> cpu_pct_steal,device=all value=0 1459255780126025822\n> cpu_pct_idle,device=all value=12.98 1459255780126025822\n> per_cpu_pct_user,device=all value=39.07 1459255780126025822\n> per_cpu_pct_nice,device=all value=0 1459255780126025822\n> per_cpu_pct_system,device=all value=47.94 1459255780126025822\n> per_cpu_pct_iowait,device=all value=0 1459255780126025822\n> per_cpu_pct_steal,device=all value=0 1459255780126025822\n> per_cpu_pct_idle,device=all value=12.98 1459255780126025822\n> per_cpu_pct_user,device=cpu0 value=33.5 1459255780126025822\n> per_cpu_pct_nice,device=cpu0 value=0 1459255780126025822\n> per_cpu_pct_system,device=cpu0 value=65.25 1459255780126025822\n> per_cpu_pct_iowait,device=cpu0 value=0 1459255780126025822\n> per_cpu_pct_steal,device=cpu0 value=0 1459255780126025822\n> per_cpu_pct_idle,device=cpu0 value=1.25 1459255780126025822\n> per_cpu_pct_user,device=cpu1 value=44.85 1459255780126025822\n> per_cpu_pct_nice,device=cpu1 value=0 1459255780126025822\n> per_cpu_pct_system,device=cpu1 value=29.55 1459255780126025822\n> per_cpu_pct_iowait,device=cpu1 value=0 1459255780126025822\n> per_cpu_pct_steal,device=cpu1 value=0 1459255780126025822\n> per_cpu_pct_idle,device=cpu1 value=25.59 1459255780126025822\n> hugepages_kbhugfree value=0 1459255780126025822\n> hugepages_kbhugused value=0 1459255780126025822\n> hugepages_pct_hugused value=0 1459255780126025822\n> interrupts_intr_per_s,device=i000 value=0 1459255780126025822\n> inode_dentunusd value=252876 1459255780126025822\n> mem_util_kbmemfree value=1613612 1459255780126025822\n> disk_tps,device=sda,vg=rootvg value=0.5 1459255780126025822\n> swap_pswpout_per_s value=0 1459255780126025822\n> network_rxpck_per_s,device=ens33 value=0 1459255780126025822\n> queue_runq-sz value=4 1459255780126025822\n> task_proc_per_s value=0 1459255780126025822\n> task_cswch_per_s value=2019 1459255780126025822\n> mem_frmpg_per_s value=0 1459255780126025822\n> mem_bufpg_per_s value=0.5 1459255780126025822\n> mem_campg_per_s value=1.25 1459255780126025822\n> interrupts_intr_per_s,device=i001 value=0 1459255780126025822\n> inode_file-nr value=19104 1459255780126025822\n> mem_util_kbmemused value=3741528 1459255780126025822\n> disk_rd_sec_per_s,device=sda,vg=rootvg value=0 1459255780126025822\n> network_txpck_per_s,device=ens33 value=0 1459255780126025822\n> queue_plist-sz value=1512 1459255780126025822\n> paging_pgpgin_per_s value=0 1459255780126025822\n> paging_pgpgout_per_s value=19 1459255780126025822\n> paging_fault_per_s value=0.25 1459255780126025822\n> paging_majflt_per_s value=0 1459255780126025822\n> paging_pgfree_per_s value=34.25 1459255780126025822\n> paging_pgscank_per_s value=0 1459255780126025822\n> paging_pgscand_per_s value=0 1459255780126025822\n> paging_pgsteal_per_s value=0 1459255780126025822\n> paging_pct_vmeff value=0 1459255780126025822\n> interrupts_intr_per_s,device=i002 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i003 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i004 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i005 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i006 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i007 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i008 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i009 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i010 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i011 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i012 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i013 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i014 value=0 1459255780126025822\n> interrupts_intr_per_s,device=i015 value=1 1459255780126025822\n> inode_inode-nr value=94709 1459255780126025822\n> inode_pty-nr value=14 1459255780126025822\n> mem_util_pct_memused value=69.87 1459255780126025822\n> mem_util_kbbuffers value=118252 1459255780126025822\n> mem_util_kbcached value=1045240 1459255780126025822\n> mem_util_kbcommit value=9628152 1459255780126025822\n> mem_util_pct_commit value=150.35 1459255780126025822\n> mem_util_kbactive value=2303752 1459255780126025822\n> mem_util_kbinact value=428340 1459255780126025822\n> mem_util_kbdirty value=104 1459255780126025822\n> mem_util_kbanonpg value=1568676 1459255780126025822\n> mem_util_kbslab value=240032 1459255780126025822\n> mem_util_kbkstack value=26224 1459255780126025822\n> mem_util_kbpgtbl value=98056 1459255780126025822\n> mem_util_kbvmused value=0 1459255780126025822\n> disk_wr_sec_per_s,device=sda,vg=rootvg value=38 1459255780126025822\n> disk_avgrq-sz,device=sda,vg=rootvg value=76 1459255780126025822\n> disk_avgqu-sz,device=sda,vg=rootvg value=0 1459255780126025822\n> disk_await,device=sda,vg=rootvg value=2 1459255780126025822\n> disk_svctm,device=sda,vg=rootvg value=2 1459255780126025822\n> disk_pct_util,device=sda,vg=rootvg value=0.1 1459255780126025822\n> network_rxkB_per_s,device=ens33 value=0 1459255780126025822\n> network_txkB_per_s,device=ens33 value=0 1459255780126025822\n> network_rxcmp_per_s,device=ens33 value=0 1459255780126025822\n> network_txcmp_per_s,device=ens33 value=0 1459255780126025822\n> network_rxmcst_per_s,device=ens33 value=0 1459255780126025822\n> network_pct_ifutil,device=ens33 value=0 1459255780126025822\n> network_rxpck_per_s,device=lo value=10.75 1459255780126025822\n> network_txpck_per_s,device=lo value=10.75 1459255780126025822\n> network_rxkB_per_s,device=lo value=0.77 1459255780126025822\n> network_txkB_per_s,device=lo value=0.77 1459255780126025822\n> network_rxcmp_per_s,device=lo value=0 1459255780126025822\n> network_txcmp_per_s,device=lo value=0 1459255780126025822\n> network_rxmcst_per_s,device=lo value=0 1459255780126025822\n> network_pct_ifutil,device=lo value=0 1459255780126025822\n> network_rxerr_per_s,device=ens33 value=0 1459255780126025822\n> network_txerr_per_s,device=ens33 value=0 1459255780126025822\n> network_coll_per_s,device=ens33 value=0 1459255780126025822\n> network_rxdrop_per_s,device=ens33 value=0 1459255780126025822\n> network_txdrop_per_s,device=ens33 value=0 1459255780126025822\n> network_txcarr_per_s,device=ens33 value=0 1459255780126025822\n> network_rxfram_per_s,device=ens33 value=0 1459255780126025822\n> network_rxfifo_per_s,device=ens33 value=0 1459255780126025822\n> network_txfifo_per_s,device=ens33 value=0 1459255780126025822\n> network_rxerr_per_s,device=lo value=0 1459255780126025822\n> network_txerr_per_s,device=lo value=0 1459255780126025822\n> network_coll_per_s,device=lo value=0 1459255780126025822\n> network_rxdrop_per_s,device=lo value=0 1459255780126025822\n> network_txdrop_per_s,device=lo value=0 1459255780126025822\n> network_txcarr_per_s,device=lo value=0 1459255780126025822\n> network_rxfram_per_s,device=lo value=0 1459255780126025822\n> network_rxfifo_per_s,device=lo value=0 1459255780126025822\n> network_txfifo_per_s,device=lo value=0 1459255780126025822\n> network_call_per_s value=0 1459255780126025822\n> network_retrans_per_s value=0 1459255780126025822\n> network_read_per_s value=0 1459255780126025822\n> network_write_per_s value=0 1459255780126025822\n> network_access_per_s value=0 1459255780126025822\n> network_getatt_per_s value=0 1459255780126025822\n> network_scall_per_s value=0 1459255780126025822\n> network_badcall_per_s value=0 1459255780126025822\n> network_packet_per_s value=0 1459255780126025822\n> network_udp_per_s value=0 1459255780126025822\n> network_tcp_per_s value=0 1459255780126025822\n> network_hit_per_s value=0 1459255780126025822\n> network_miss_per_s value=0 1459255780126025822\n> network_sread_per_s value=0 1459255780126025822\n> network_swrite_per_s value=0 1459255780126025822\n> network_saccess_per_s value=0 1459255780126025822\n> network_sgetatt_per_s value=0 1459255780126025822\n> network_totsck value=4234 1459255780126025822\n> network_tcpsck value=1637 1459255780126025822\n> network_udpsck value=2 1459255780126025822\n> network_rawsck value=0 1459255780126025822\n> network_ip-frag value=0 1459255780126025822\n> network_tcp-tw value=4 1459255780126025822\n> network_irec_per_s value=10.75 1459255780126025822\n> network_fwddgm_per_s value=0 1459255780126025822\n> network_idel_per_s value=10.75 1459255780126025822\n> network_orq_per_s value=10.75 1459255780126025822\n> network_asmrq_per_s value=0 1459255780126025822\n> network_asmok_per_s value=0 1459255780126025822\n> network_fragok_per_s value=0 1459255780126025822\n> network_fragcrt_per_s value=0 1459255780126025822\n> network_ihdrerr_per_s value=0 1459255780126025822\n> network_iadrerr_per_s value=0 1459255780126025822\n> network_iukwnpr_per_s value=0 1459255780126025822\n> network_idisc_per_s value=0 1459255780126025822\n> network_odisc_per_s value=0 1459255780126025822\n> network_onort_per_s value=0 1459255780126025822\n> network_asmf_per_s value=0 1459255780126025822\n> network_fragf_per_s value=0 1459255780126025822\n> network_imsg_per_s value=0 1459255780126025822\n> network_omsg_per_s value=0 1459255780126025822\n> network_iech_per_s value=0 1459255780126025822\n> network_iechr_per_s value=0 1459255780126025822\n> network_oech_per_s value=0 1459255780126025822\n> network_oechr_per_s value=0 1459255780126025822\n> network_itm_per_s value=0 1459255780126025822\n> network_itmr_per_s value=0 1459255780126025822\n> network_otm_per_s value=0 1459255780126025822\n> network_otmr_per_s value=0 1459255780126025822\n> network_iadrmk_per_s value=0 1459255780126025822\n> network_iadrmkr_per_s value=0 1459255780126025822\n> network_oadrmk_per_s value=0 1459255780126025822\n> network_oadrmkr_per_s value=0 1459255780126025822\n> network_ierr_per_s value=0 1459255780126025822\n> network_oerr_per_s value=0 1459255780126025822\n> network_idstunr_per_s value=0 1459255780126025822\n> network_odstunr_per_s value=0 1459255780126025822\n> network_itmex_per_s value=0 1459255780126025822\n> network_otmex_per_s value=0 1459255780126025822\n> network_iparmpb_per_s value=0 1459255780126025822\n> network_oparmpb_per_s value=0 1459255780126025822\n> network_isrcq_per_s value=0 1459255780126025822\n> network_osrcq_per_s value=0 1459255780126025822\n> network_iredir_per_s value=0 1459255780126025822\n> network_oredir_per_s value=0 1459255780126025822\n> network_active_per_s value=0 1459255780126025822\n> network_passive_per_s value=0 1459255780126025822\n> network_iseg_per_s value=10.75 1459255780126025822\n> network_oseg_per_s value=9.5 1459255780126025822\n> network_atmptf_per_s value=0 1459255780126025822\n> network_estres_per_s value=0 1459255780126025822\n> network_retrans_per_s value=1.5 1459255780126025822\n> network_isegerr_per_s value=0.25 1459255780126025822\n> network_orsts_per_s value=0 1459255780126025822\n> network_idgm_per_s value=0 1459255780126025822\n> network_odgm_per_s value=0 1459255780126025822\n> network_noport_per_s value=0 1459255780126025822\n> network_idgmerr_per_s value=0 1459255780126025822\n> queue_ldavg-1 value=2.1 1459255780126025822\n> queue_ldavg-5 value=1.82 1459255780126025822\n> queue_ldavg-15 value=1.44 1459255780126025822\n> queue_blocked value=0 1459255780126025822\n> swap_util_kbswpfree value=1048572 1459255780126025822\n> swap_util_kbswpused value=0 1459255780126025822\n> swap_util_pct_swpused value=0 1459255780126025822\n> swap_util_kbswpcad value=0 1459255780126025822\n> swap_util_pct_swpcad value=0 1459255780126025822\n```\n',image:fk.a},{id:"system",name:"System",url:"telegraf-plugins/system",markdown:'# System Input Plugin\n\nThe system plugin gathers general stats on system load, uptime,\nand number of users logged in. It is similar to the unix `uptime` command.\n\nNumber of CPUs is obtained from the /proc/cpuinfo file.\n\n### Configuration:\n\n```toml\n# Read metrics about system load & uptime\n[[inputs.system]]\n  # no configuration\n```\n#### Permissions:\n\nThe `n_users` field requires read access to `/var/run/utmp`, and may require\nthe `telegraf` user to be added to the `utmp` group on some systems. If this file does not exist `n_users` will be skipped.\n\n### Metrics:\n\n- system\n  - fields:\n\t- load1 (float)\n\t- load15 (float)\n\t- load5 (float)\n\t- n_users (integer)\n\t- n_cpus (integer)\n\t- uptime (integer, seconds)\n\t- uptime_format (string, deprecated in 1.10, use `uptime` field)\n\n### Example Output:\n\n```\nsystem,host=tyrion load1=3.72,load5=2.4,load15=2.1,n_users=3i,n_cpus=4i 1483964144000000000\nsystem,host=tyrion uptime=1249632i 1483964144000000000\nsystem,host=tyrion uptime_format="14 days, 11:07" 1483964144000000000\n```\n',image:xk.a},{id:"systemd_units",name:"systemd Units",url:"telegraf-plugins/systemd_units",markdown:'# systemd Units Input Plugin\n\nThe systemd_units plugin gathers systemd unit status on Linux. It relies on\n`systemctl list-units --all --type=service` to collect data on service status.\n\nThe results are tagged with the unit name and provide enumerated fields for\nloaded, active and running fields, indicating the unit health.\n\nThis plugin is related to the [win_services module](/plugins/inputs/win_services/), which\nfulfills the same purpose on windows.\n\nIn addition to services, this plugin can gather other unit types as well,\nsee `systemctl list-units --all --type help` for possible options.\n\n### Configuration\n```toml\n[[inputs.systemd_units]]\n  ## Set timeout for systemctl execution\n  # timeout = "1s"\n  #\n  ## Filter for a specific unit type, default is "service", other possible\n  ## values are "socket", "target", "device", "mount", "automount", "swap",\n  ## "timer", "path", "slice" and "scope ":\n  # unittype = "service"\n```\n\n### Metrics\n- systemd_units:\n  - tags:\n    - name (string, unit name)\n    - load (string, load state)\n    - active (string, active state)\n    - sub (string, sub state)\n  - fields:\n    - load_code (int, see below)\n    - active_code (int, see below)\n    - sub_code (int, see below)\n\n#### Load\n\nenumeration of [unit_load_state_table](https://github.com/systemd/systemd/blob/c87700a1335f489be31cd3549927da68b5638819/src/basic/unit-def.c#L87)\n\n| Value | Meaning     | Description                     |\n| ----- | -------     | -----------                     |\n| 0     | loaded      | unit is ~                       |\n| 1     | stub        | unit is ~                       |\n| 2     | not-found   | unit is ~                       |\n| 3     | bad-setting | unit is ~                       |\n| 4     | error       | unit is ~                       |\n| 5     | merged      | unit is ~                       |\n| 6     | masked      | unit is ~                       |\n\n#### Active\n\nenumeration of [unit_active_state_table](https://github.com/systemd/systemd/blob/c87700a1335f489be31cd3549927da68b5638819/src/basic/unit-def.c#L99)\n\n| Value | Meaning   | Description                        |\n| ----- | -------   | -----------                        |\n| 0     | active       | unit is ~                       |\n| 1     | reloading    | unit is ~                       |\n| 2     | inactive     | unit is ~                       |\n| 3     | failed       | unit is ~                       |\n| 4     | activating   | unit is ~                       |\n| 5     | deactivating | unit is ~                       |\n\n#### Sub\n\nenumeration of sub states, see various [unittype_state_tables](https://github.com/systemd/systemd/blob/c87700a1335f489be31cd3549927da68b5638819/src/basic/unit-def.c#L163);\nduplicates were removed, tables are hex aligned to keep some space for future\nvalues\n\n| Value  | Meaning               | Description                         |\n| -----  | -------               | -----------                         |\n|        |                       | service_state_table start at 0x0000 |\n| 0x0000 | running               | unit is ~                           |\n| 0x0001 | dead                  | unit is ~                           |\n| 0x0002 | start-pre             | unit is ~                           |\n| 0x0003 | start                 | unit is ~                           |\n| 0x0004 | exited                | unit is ~                           |\n| 0x0005 | reload                | unit is ~                           |\n| 0x0006 | stop                  | unit is ~                           |\n| 0x0007 | stop-watchdog         | unit is ~                           |\n| 0x0008 | stop-sigterm          | unit is ~                           |\n| 0x0009 | stop-sigkill          | unit is ~                           |\n| 0x000a | stop-post             | unit is ~                           |\n| 0x000b | final-sigterm         | unit is ~                           |\n| 0x000c | failed                | unit is ~                           |\n| 0x000d | auto-restart          | unit is ~                           |\n|        |                       | service_state_table start at 0x0010 |\n| 0x0010 | waiting               | unit is ~                           |\n|        |                       | service_state_table start at 0x0020 |\n| 0x0020 | tentative             | unit is ~                           |\n| 0x0021 | plugged               | unit is ~                           |\n|        |                       | service_state_table start at 0x0030 |\n| 0x0030 | mounting              | unit is ~                           |\n| 0x0031 | mounting-done         | unit is ~                           |\n| 0x0032 | mounted               | unit is ~                           |\n| 0x0033 | remounting            | unit is ~                           |\n| 0x0034 | unmounting            | unit is ~                           |\n| 0x0035 | remounting-sigterm    | unit is ~                           |\n| 0x0036 | remounting-sigkill    | unit is ~                           |\n| 0x0037 | unmounting-sigterm    | unit is ~                           |\n| 0x0038 | unmounting-sigkill    | unit is ~                           |\n|        |                       | service_state_table start at 0x0040 |\n|        |                       | service_state_table start at 0x0050 |\n| 0x0050 | abandoned             | unit is ~                           |\n|        |                       | service_state_table start at 0x0060 |\n| 0x0060 | active                | unit is ~                           |\n|        |                       | service_state_table start at 0x0070 |\n| 0x0070 | start-chown           | unit is ~                           |\n| 0x0071 | start-post            | unit is ~                           |\n| 0x0072 | listening             | unit is ~                           |\n| 0x0073 | stop-pre              | unit is ~                           |\n| 0x0074 | stop-pre-sigterm      | unit is ~                           |\n| 0x0075 | stop-pre-sigkill      | unit is ~                           |\n| 0x0076 | final-sigkill         | unit is ~                           |\n|        |                       | service_state_table start at 0x0080 |\n| 0x0080 | activating            | unit is ~                           |\n| 0x0081 | activating-done       | unit is ~                           |\n| 0x0082 | deactivating          | unit is ~                           |\n| 0x0083 | deactivating-sigterm  | unit is ~                           |\n| 0x0084 | deactivating-sigkill  | unit is ~                           |\n|        |                       | service_state_table start at 0x0090 |\n|        |                       | service_state_table start at 0x00a0 |\n| 0x00a0 | elapsed               | unit is ~                           |\n|        |                       |                                     |\n\n### Example Output\n\n```\nsystemd_units,host=host1.example.com,name=dbus.service,load=loaded,active=active,sub=running load_code=0i,active_code=0i,sub_code=0i 1533730725000000000\nsystemd_units,host=host1.example.com,name=networking.service,load=loaded,active=failed,sub=failed load_code=0i,active_code=3i,sub_code=12i 1533730725000000000\nsystemd_units,host=host1.example.com,name=ssh.service,load=loaded,active=active,sub=running load_code=0i,active_code=0i,sub_code=0i 1533730725000000000\n...\n```\n',image:yk.a},{id:"tail",name:"Tail",url:"telegraf-plugins/tail",markdown:'# Tail Input Plugin\n\nThe tail plugin "tails" a logfile and parses each log message.\n\nBy default, the tail plugin acts like the following unix tail command:\n\n```\ntail -F --lines=0 myfile.log\n```\n\n- `-F` means that it will follow the _name_ of the given file, so\nthat it will be compatible with log-rotated files, and that it will retry on\ninaccessible files.\n- `--lines=0` means that it will start at the end of the file (unless\nthe `from_beginning` option is set).\n\nsee http://man7.org/linux/man-pages/man1/tail.1.html for more details.\n\nThe plugin expects messages in one of the\n[Telegraf Input Data Formats](https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md).\n\n### Configuration\n\n```toml\n[[inputs.tail]]\n  ## File names or a pattern to tail.\n  ## These accept standard unix glob matching rules, but with the addition of\n  ## ** as a "super asterisk". ie:\n  ##   "/var/log/**.log"  -> recursively find all .log files in /var/log\n  ##   "/var/log/*/*.log" -> find all .log files with a parent dir in /var/log\n  ##   "/var/log/apache.log" -> just tail the apache log file\n  ##\n  ## See https://github.com/gobwas/glob for more examples\n  ##\n  files = ["/var/mymetrics.out"]\n\n  ## Read file from beginning.\n  # from_beginning = false\n\n  ## Whether file is a named pipe\n  # pipe = false\n\n  ## Method used to watch for file updates.  Can be either "inotify" or "poll".\n  # watch_method = "inotify"\n\n  ## Maximum lines of the file to process that have not yet be written by the\n  ## output.  For best throughput set based on the number of metrics on each\n  ## line and the size of the output\'s metric_batch_size.\n  # max_undelivered_lines = 1000\n\n  ## Character encoding to use when interpreting the file contents.  Invalid\n  ## characters are replaced using the unicode replacement character.  When set\n  ## to the empty string the data is not decoded to text.\n  ##   ex: character_encoding = "utf-8"\n  ##       character_encoding = "utf-16le"\n  ##       character_encoding = "utf-16be"\n  ##       character_encoding = ""\n  # character_encoding = ""\n\n  ## Data format to consume.\n  ## Each data format has its own unique set of configuration options, read\n  ## more about them here:\n  ## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md\n  data_format = "influx"\n\n  ## multiline parser/codec\n  ## https://www.elastic.co/guide/en/logstash/2.4/plugins-filters-multiline.html\n  #[inputs.tail.multiline]\n    ## The pattern should be a regexp which matches what you believe to be an indicator that the field is part of an event consisting of multiple lines of log data.\n    #pattern = "^\\s"\n\n    ## The field\'s value must be previous or next and indicates the relation to the\n    ## multi-line event.\n    #match_which_line = "previous"\n\n    ## The invert_match can be true or false (defaults to false). \n    ## If true, a message not matching the pattern will constitute a match of the multiline filter and the what will be applied. (vice-versa is also true)\n    #invert_match = false\n\n    #After the specified timeout, this plugin sends the multiline event even if no new pattern is found to start a new event. The default is 5s.\n    #timeout = 5s\n```\n\n### Metrics\n\nMetrics are produced according to the `data_format` option.  Additionally a\ntag labeled `path` is added to the metric containing the filename being tailed.\n',image:Ek.a},{id:"tcp_listener",name:"TCP Listener",url:"telegraf-plugins/tcp_listener",markdown:"# TCP Listener Input Plugin\n\n> DEPRECATED: As of version 1.3 the TCP listener plugin has been deprecated in favor of the\n> [socket_listener plugin](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/socket_listener)\n",image:Sk.a},{id:"teamspeak",name:"Teamspeak 3",url:"telegraf-plugins/teamspeak",markdown:'# Teamspeak 3 Input Plugin\n\nThis plugin uses the Teamspeak 3 ServerQuery interface of the Teamspeak server to collect statistics of one or more\nvirtual servers. If you are querying an external Teamspeak server, make sure to add the host which is running Telegraf\nto query_ip_whitelist.txt in the Teamspeak Server directory. For information about how to configure the server take a look \nthe [Teamspeak 3 ServerQuery Manual](http://media.teamspeak.com/ts3_literature/TeamSpeak%203%20Server%20Query%20Manual.pdf)\n\n### Configuration:\n\n```toml\n# Reads metrics from a Teamspeak 3 Server via ServerQuery\n[[inputs.teamspeak]]\n  ## Server address for Teamspeak 3 ServerQuery\n  # server = "127.0.0.1:10011"\n  ## Username for ServerQuery\n  username = "serverqueryuser"\n  ## Password for ServerQuery\n  password = "secret"\n  ## Array of virtual servers\n  # virtual_servers = [1]\n```\n\n### Measurements:\n\n- teamspeak\n    - uptime\n    - clients_online\n    - total_ping\n    - total_packet_loss\n    - packets_sent_total\n    - packets_received_total\n    - bytes_sent_total\n    - bytes_received_total\n\n### Tags:\n\n- The following tags are used:\n    - virtual_server\n    - name\n\n### Example output:\n\n```\nteamspeak,virtual_server=1,name=LeopoldsServer,host=vm01 bytes_received_total=29638202639i,uptime=13567846i,total_ping=26.89,total_packet_loss=0,packets_sent_total=415821252i,packets_received_total=237069900i,bytes_sent_total=55309568252i,clients_online=11i 1507406561000000000\n```',image:Tk.a},{id:"temp",name:"Temperature",url:"telegraf-plugins/temp",markdown:"# Temperature Input Plugin\n\nThe temp input plugin gather metrics on system temperature.  This plugin is\nmeant to be multi platform and uses platform specific collection methods.\n\nCurrently supports Linux and Windows.\n\n### Configuration\n\n```toml\n[[inputs.temp]]\n  # no configuration\n```\n\n### Metrics\n\n- temp\n  - tags:\n    - sensor\n  - fields:\n    - temp (float, celcius)\n\n\n### Troubleshooting\n\nOn **Windows**, the plugin uses a WMI call that is can be replicated with the\nfollowing command:\n```\nwmic /namespace:\\\\root\\wmi PATH MSAcpi_ThermalZoneTemperature\n```\n\n### Example Output\n\n```\ntemp,sensor=coretemp_physicalid0_crit temp=100 1531298763000000000\ntemp,sensor=coretemp_physicalid0_critalarm temp=0 1531298763000000000\ntemp,sensor=coretemp_physicalid0_input temp=100 1531298763000000000\ntemp,sensor=coretemp_physicalid0_max temp=100 1531298763000000000\n```\n",image:Dk.a},{id:"tengine",name:"Tengine",url:"telegraf-plugins/tengine",markdown:'# Tengine Input Plugin\n\nThe tengine plugin gathers metrics from the\n[Tengine Web Server](http://tengine.taobao.org/) via the\n[reqstat](http://tengine.taobao.org/document/http_reqstat.html) module.\n\n### Configuration:\n\n```toml\n# Read Tengine\'s basic status information (ngx_http_reqstat_module)\n[[inputs.tengine]]\n  ## An array of Tengine reqstat module URI to gather stats.\n  urls = ["http://127.0.0.1/us"]\n\n  ## HTTP response timeout (default: 5s)\n  # response_timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Metrics:\n\n- Measurement\n  - tags:\n    - port\n    - server\n    - server_name\n  - fields:\n    - bytes_in (integer, total number of bytes received from client)\n    - bytes_out (integer, total number of bytes sent to client)\n    - conn_total (integer, total number of accepted connections)\n    - req_total (integer, total number of processed requests)\n    - http_2xx (integer, total number of 2xx requests)\n    - http_3xx (integer, total number of 3xx requests)\n    - http_4xx (integer, total number of 4xx requests)\n    - http_5xx (integer, total number of 5xx requests)\n    - http_other_status (integer, total number of other requests)\n    - rt (integer, accumulation or rt)\n    - ups_req (integer, total number of requests calling for upstream)\n    - ups_rt (integer, accumulation or upstream rt)\n    - ups_tries (integer, total number of times calling for upstream)\n    - http_200 (integer, total number of 200 requests)\n    - http_206 (integer, total number of 206 requests)\n    - http_302 (integer, total number of 302 requests)\n    - http_304 (integer, total number of 304 requests)\n    - http_403 (integer, total number of 403 requests)\n    - http_404 (integer, total number of 404 requests)\n    - http_416 (integer, total number of 416 requests)\n    - http_499 (integer, total number of 499 requests)\n    - http_500 (integer, total number of 500 requests)\n    - http_502 (integer, total number of 502 requests)\n    - http_503 (integer, total number of 503 requests)\n    - http_504 (integer, total number of 504 requests)\n    - http_508 (integer, total number of 508 requests)\n    - http_other_detail_status (integer, total number of requests of other status codes*http_ups_4xx total number of requests of upstream 4xx)\n    - http_ups_5xx (integer, total number of requests of upstream 5xx)\n\n### Example Output:\n\n```\ntengine,host=gcp-thz-api-5,port=80,server=localhost,server_name=localhost bytes_in=9129i,bytes_out=56334i,conn_total=14i,http_200=90i,http_206=0i,http_2xx=90i,http_302=0i,http_304=0i,http_3xx=0i,http_403=0i,http_404=0i,http_416=0i,http_499=0i,http_4xx=0i,http_500=0i,http_502=0i,http_503=0i,http_504=0i,http_508=0i,http_5xx=0i,http_other_detail_status=0i,http_other_status=0i,http_ups_4xx=0i,http_ups_5xx=0i,req_total=90i,rt=0i,ups_req=0i,ups_rt=0i,ups_tries=0i 1526546308000000000\ntengine,host=gcp-thz-api-5,port=80,server=localhost,server_name=28.79.190.35.bc.googleusercontent.com bytes_in=1500i,bytes_out=3009i,conn_total=4i,http_200=1i,http_206=0i,http_2xx=1i,http_302=0i,http_304=0i,http_3xx=0i,http_403=0i,http_404=1i,http_416=0i,http_499=0i,http_4xx=3i,http_500=0i,http_502=0i,http_503=0i,http_504=0i,http_508=0i,http_5xx=0i,http_other_detail_status=0i,http_other_status=0i,http_ups_4xx=0i,http_ups_5xx=0i,req_total=4i,rt=0i,ups_req=0i,ups_rt=0i,ups_tries=0i 1526546308000000000\ntengine,host=gcp-thz-api-5,port=80,server=localhost,server_name=www.google.com bytes_in=372i,bytes_out=786i,conn_total=1i,http_200=1i,http_206=0i,http_2xx=1i,http_302=0i,http_304=0i,http_3xx=0i,http_403=0i,http_404=0i,http_416=0i,http_499=0i,http_4xx=0i,http_500=0i,http_502=0i,http_503=0i,http_504=0i,http_508=0i,http_5xx=0i,http_other_detail_status=0i,http_other_status=0i,http_ups_4xx=0i,http_ups_5xx=0i,req_total=1i,rt=0i,ups_req=0i,ups_rt=0i,ups_tries=0i 1526546308000000000\ntengine,host=gcp-thz-api-5,port=80,server=localhost,server_name=35.190.79.28 bytes_in=4433i,bytes_out=10259i,conn_total=5i,http_200=3i,http_206=0i,http_2xx=3i,http_302=0i,http_304=0i,http_3xx=0i,http_403=0i,http_404=11i,http_416=0i,http_499=0i,http_4xx=11i,http_500=0i,http_502=0i,http_503=0i,http_504=0i,http_508=0i,http_5xx=0i,http_other_detail_status=0i,http_other_status=0i,http_ups_4xx=0i,http_ups_5xx=0i,req_total=14i,rt=0i,ups_req=0i,ups_rt=0i,ups_tries=0i 1526546308000000000\ntengine,host=gcp-thz-api-5,port=80,server=localhost,server_name=tenka-prod-api.txwy.tw bytes_in=3014397400i,bytes_out=14279992835i,conn_total=36844i,http_200=3177339i,http_206=0i,http_2xx=3177339i,http_302=0i,http_304=0i,http_3xx=0i,http_403=0i,http_404=123i,http_416=0i,http_499=0i,http_4xx=123i,http_500=17214i,http_502=4453i,http_503=80i,http_504=0i,http_508=0i,http_5xx=21747i,http_other_detail_status=0i,http_other_status=0i,http_ups_4xx=123i,http_ups_5xx=21747i,req_total=3199209i,rt=245874536i,ups_req=2685076i,ups_rt=245858217i,ups_tries=2685076i 1526546308000000000\n```\n',image:jk.a},{id:"tomcat",name:"Tomcat",url:"telegraf-plugins/tomcat",markdown:'# Tomcat Input Plugin\n\nThe Tomcat plugin collects statistics available from the tomcat manager status page from the `http://<host>/manager/status/all?XML=true URL.` (`XML=true` will return only xml data).\n\nSee the [Tomcat documentation](https://tomcat.apache.org/tomcat-9.0-doc/manager-howto.html#Server_Status) for details of these statistics.\n\n### Configuration:\n\n```toml\n# Gather metrics from the Tomcat server status page.\n[[inputs.tomcat]]\n  ## URL of the Tomcat server status\n  # url = "http://127.0.0.1:8080/manager/status/all?XML=true"\n\n  ## HTTP Basic Auth Credentials\n  # username = "tomcat"\n  # password = "s3cret"\n\n  ## Request timeout\n  # timeout = "5s"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## Use TLS but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Measurements & Fields:\n\n- tomcat_jvm_memory\n  - free\n  - total\n  - max\n- tomcat_jvm_memorypool\n  - max_threads\n  - current_thread_count\n  - current_threads_busy\n  - max_time\n  - processing_time\n  - request_count\n  - error_count\n  - bytes_received\n  - bytes_sent\n- tomcat_connector\n  - max_threads\n  - current_thread_count\n  - current_thread_busy\n  - max_time\n  - processing_time\n  - request_count\n  - error_count\n  - bytes_received\n  - bytes_sent\n\n### Tags:\n\n- tomcat_jvm_memorypool has the following tags:\n  - name\n  - type\n- tomcat_connector\n  - name\n\n### Example Output:\n\n```\ntomcat_jvm_memory,host=N8-MBP free=20014352i,max=127729664i,total=41459712i 1474663361000000000\ntomcat_jvm_memorypool,host=N8-MBP,name=Eden\\ Space,type=Heap\\ memory committed=11534336i,init=2228224i,max=35258368i,used=1941200i 1474663361000000000\ntomcat_jvm_memorypool,host=N8-MBP,name=Survivor\\ Space,type=Heap\\ memory committed=1376256i,init=262144i,max=4390912i,used=1376248i 1474663361000000000\ntomcat_jvm_memorypool,host=N8-MBP,name=Tenured\\ Gen,type=Heap\\ memory committed=28549120i,init=5636096i,max=88080384i,used=18127912i 1474663361000000000\ntomcat_jvm_memorypool,host=N8-MBP,name=Code\\ Cache,type=Non-heap\\ memory committed=6946816i,init=2555904i,max=251658240i,used=6406528i 1474663361000000000\ntomcat_jvm_memorypool,host=N8-MBP,name=Compressed\\ Class\\ Space,type=Non-heap\\ memory committed=1966080i,init=0i,max=1073741824i,used=1816120i 1474663361000000000\ntomcat_jvm_memorypool,host=N8-MBP,name=Metaspace,type=Non-heap\\ memory committed=18219008i,init=0i,max=-1i,used=17559376i 1474663361000000000\ntomcat_connector,host=N8-MBP,name=ajp-bio-8009 bytes_received=0i,bytes_sent=0i,current_thread_count=0i,current_threads_busy=0i,error_count=0i,max_threads=200i,max_time=0i,processing_time=0i,request_count=0i 1474663361000000000\ntomcat_connector,host=N8-MBP,name=http-bio-8080 bytes_received=0i,bytes_sent=86435i,current_thread_count=10i,current_threads_busy=1i,error_count=2i,max_threads=200i,max_time=167i,processing_time=245i,request_count=15i 1474663361000000000\n```\n',image:Nk.a},{id:"udp_listener",name:"UDP Listener",url:"telegraf-plugins/udp_listener",markdown:"# UDP Listener Input Plugin\n\n> DEPRECATED: As of version 1.3 the UDP listener plugin has been deprecated in favor of the\n> [socket_listener plugin](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/socket_listener)\n",image:Pk.a},{id:"unbound",name:"Unbound",url:"telegraf-plugins/unbound",markdown:'# Unbound Input Plugin\n\nThis plugin gathers stats from [Unbound](https://www.unbound.net/) -\na validating, recursive, and caching DNS resolver.\n\n### Configuration:\n\n```toml\n# A plugin to collect stats from the Unbound DNS resolver\n[[inputs.unbound]]\n  ## Address of server to connect to, read from unbound conf default, optionally \':port\'\n  ## Will lookup IP if given a hostname\n  server = "127.0.0.1:8953"\n\n  ## If running as a restricted user you can prepend sudo for additional access:\n  # use_sudo = false\n\n  ## The default location of the unbound-control binary can be overridden with:\n  # binary = "/usr/sbin/unbound-control"\n\n  ## The default location of the unbound config file can be overridden with:\n  # config_file = "/etc/unbound/unbound.conf"\n\n  ## The default timeout of 1s can be overridden with:\n  # timeout = "1s"\n\n  ## When set to true, thread metrics are tagged with the thread id.\n  ##\n  ## The default is false for backwards compatibility, and will be changed to\n  ## true in a future version.  It is recommended to set to true on new\n  ## deployments.\n  thread_as_tag = false\n```\n\n#### Permissions:\n\nIt\'s important to note that this plugin references unbound-control, which may require additional permissions to execute successfully.\nDepending on the user/group permissions of the telegraf user executing this plugin, you may need to alter the group membership, set facls, or use sudo.\n\n**Group membership (Recommended)**:\n```bash\n$ groups telegraf\ntelegraf : telegraf\n\n$ usermod -a -G unbound telegraf\n\n$ groups telegraf\ntelegraf : telegraf unbound\n```\n\n**Sudo privileges**:\nIf you use this method, you will need the following in your telegraf config:\n```toml\n[[inputs.unbound]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias UNBOUNDCTL = /usr/sbin/unbound-control\ntelegraf  ALL=(ALL) NOPASSWD: UNBOUNDCTL\nDefaults!UNBOUNDCTL !logfile, !syslog, !pam_session\n```\n\nPlease use the solution you see as most appropriate.\n\n### Metrics:\n\nThis is the full list of stats provided by unbound-control and potentially collected\ndepending of your unbound configuration.  Histogram related statistics will never be collected,\nextended statistics can also be imported ("extended-statistics: yes" in unbound configuration).\nIn the output, the dots in the unbound-control stat name are replaced by underscores(see\nhttps://www.unbound.net/documentation/unbound-control.html for details).\n\nShown metrics are with `thread_as_tag` enabled.\n\n- unbound\n  - fields:\n    total_num_queries\n    total_num_cachehits\n    total_num_cachemiss\n    total_num_prefetch\n    total_num_recursivereplies\n    total_requestlist_avg\n    total_requestlist_max\n    total_requestlist_overwritten\n    total_requestlist_exceeded\n    total_requestlist_current_all\n    total_requestlist_current_user\n    total_recursion_time_avg\n    total_recursion_time_median\n    time_now\n    time_up\n    time_elapsed\n    mem_total_sbrk\n    mem_cache_rrset\n    mem_cache_message\n    mem_mod_iterator\n    mem_mod_validator\n    num_query_type_A\n    num_query_type_PTR\n    num_query_type_TXT\n    num_query_type_AAAA\n    num_query_type_SRV\n    num_query_type_ANY\n    num_query_class_IN\n    num_query_opcode_QUERY\n    num_query_tcp\n    num_query_ipv6\n    num_query_flags_QR\n    num_query_flags_AA\n    num_query_flags_TC\n    num_query_flags_RD\n    num_query_flags_RA\n    num_query_flags_Z\n    num_query_flags_AD\n    num_query_flags_CD\n    num_query_edns_present\n    num_query_edns_DO\n    num_answer_rcode_NOERROR\n    num_answer_rcode_SERVFAIL\n    num_answer_rcode_NXDOMAIN\n    num_answer_rcode_nodata\n    num_answer_secure\n    num_answer_bogus\n    num_rrset_bogus\n    unwanted_queries\n    unwanted_replies\n\n- unbound_thread\n  - tags:\n    - thread\n  - fields:\n    - num_queries\n    - num_cachehits\n    - num_cachemiss\n    - num_prefetch\n    - num_recursivereplies\n    - requestlist_avg\n    - requestlist_max\n    - requestlist_overwritten\n    - requestlist_exceeded\n    - requestlist_current_all\n    - requestlist_current_user\n    - recursion_time_avg\n    - recursion_time_median\n\n### Example Output:\n```\nunbound,host=localhost total_requestlist_avg=0,total_requestlist_exceeded=0,total_requestlist_overwritten=0,total_requestlist_current_user=0,total_recursion_time_avg=0.029186,total_tcpusage=0,total_num_queries=51,total_num_queries_ip_ratelimited=0,total_num_recursivereplies=6,total_requestlist_max=0,time_now=1522804978.784814,time_elapsed=310.435217,total_num_cachemiss=6,total_num_zero_ttl=0,time_up=310.435217,total_num_cachehits=45,total_num_prefetch=0,total_requestlist_current_all=0,total_recursion_time_median=0.016384 1522804979000000000\nunbound_threads,host=localhost,thread=0 num_queries_ip_ratelimited=0,requestlist_current_user=0,recursion_time_avg=0.029186,num_prefetch=0,requestlist_overwritten=0,requestlist_exceeded=0,requestlist_current_all=0,tcpusage=0,num_cachehits=37,num_cachemiss=6,num_recursivereplies=6,requestlist_avg=0,num_queries=43,num_zero_ttl=0,requestlist_max=0,recursion_time_median=0.032768 1522804979000000000\nunbound_threads,host=localhost,thread=1 num_zero_ttl=0,recursion_time_avg=0,num_queries_ip_ratelimited=0,num_cachehits=8,num_prefetch=0,requestlist_exceeded=0,recursion_time_median=0,tcpusage=0,num_cachemiss=0,num_recursivereplies=0,requestlist_max=0,requestlist_overwritten=0,requestlist_current_user=0,num_queries=8,requestlist_avg=0,requestlist_current_all=0 1522804979000000000\n```\n',image:Lk.a},{id:"uwsgi",name:"uWSGI",url:"telegraf-plugins/uwsgi",markdown:'# uWSGI Input Plugin\n\nThe uWSGI input plugin gathers metrics about uWSGI using its [Stats Server](https://uwsgi-docs.readthedocs.io/en/latest/StatsServer.html).\n\n### Configuration\n\n```toml\n[[inputs.uwsgi]]\n  ## List with urls of uWSGI Stats servers. Url must match pattern:\n  ## scheme://address[:port]\n  ##\n  ## For example:\n  ## servers = ["tcp://localhost:5050", "http://localhost:1717", "unix:///tmp/statsock"]\n  servers = ["tcp://127.0.0.1:1717"]\n\n  ## General connection timeout\n  # timeout = "5s"\n```\n\n\n### Metrics:\n\n - uwsgi_overview\n  - tags:\n    - source\n    - uid\n    - gid\n    - version\n  - fields:\n    - listen_queue\n    - listen_queue_errors\n    - signal_queue\n    - load\n    - pid\n\n+ uwsgi_workers\n  - tags:\n    - worker_id\n    - source\n  - fields:\n    - requests\n    - accepting\n    - delta_request\n    - exceptions\n    - harakiri_count\n    - pid\n    - signals\n    - signal_queue\n    - status\n    - rss\n    - vsz\n    - running_time\n    - last_spawn\n    - respawn_count\n    - tx\n    - avg_rt\n\n- uwsgi_apps\n  - tags:\n    - app_id\n    - worker_id\n    - source\n  - fields:\n    - modifier1\n    - requests\n    - startup_time\n    - exceptions\n\n+ uwsgi_cores\n  - tags:\n    - core_id\n    - worker_id\n    - source\n  - fields:\n    - requests\n    - static_requests\n    - routed_requests\n    - offloaded_requests\n    - write_errors\n    - read_errors\n    - in_request \n\n\n### Example Output:\n\n```\nuwsgi_overview,gid=0,uid=0,source=172.17.0.2,version=2.0.18 listen_queue=0i,listen_queue_errors=0i,load=0i,pid=1i,signal_queue=0i 1564441407000000000\nuwsgi_workers,source=172.17.0.2,worker_id=1 accepting=1i,avg_rt=0i,delta_request=0i,exceptions=0i,harakiri_count=0i,last_spawn=1564441202i,pid=6i,requests=0i,respawn_count=1i,rss=0i,running_time=0i,signal_queue=0i,signals=0i,status="idle",tx=0i,vsz=0i 1564441407000000000\nuwsgi_apps,app_id=0,worker_id=1,source=172.17.0.2 exceptions=0i,modifier1=0i,requests=0i,startup_time=0i 1564441407000000000\nuwsgi_cores,core_id=0,worker_id=1,source=172.17.0.2 in_request=0i,offloaded_requests=0i,read_errors=0i,requests=0i,routed_requests=0i,static_requests=0i,write_errors=0i 1564441407000000000\n```\n\n',image:qk.a},{id:"varnish",name:"Varnish",url:"telegraf-plugins/varnish",markdown:'# Varnish Input Plugin\n\nThis plugin gathers stats from [Varnish HTTP Cache](https://varnish-cache.org/)\n\n### Configuration:\n\n```toml\n[[inputs.varnish]]\n  ## If running as a restricted user you can prepend sudo for additional access:\n  #use_sudo = false\n\n  ## The default location of the varnishstat binary can be overridden with:\n  binary = "/usr/bin/varnishstat"\n\n  ## By default, telegraf gather stats for 3 metric points.\n  ## Setting stats will override the defaults shown below.\n  ## Glob matching can be used, ie, stats = ["MAIN.*"]\n  ## stats may also be set to ["*"], which will collect all stats\n  stats = ["MAIN.cache_hit", "MAIN.cache_miss", "MAIN.uptime"]\n\n  ## Optional name for the varnish instance (or working directory) to query\n  ## Usually append after -n in varnish cli\n  # instance_name = instanceName\n\n  ## Timeout for varnishstat command\n  # timeout = "1s"\n```\n\n### Measurements & Fields:\n\nThis is the full list of stats provided by varnish. Stats will be grouped by their capitalized prefix (eg MAIN, \nMEMPOOL, etc). In the output, the prefix will be used as a tag, and removed from field names.\n\n- varnish\n    - MAIN.uptime                                    (uint64, count,  Child process uptime)\n    - MAIN.sess_conn                                 (uint64, count,  Sessions accepted)\n    - MAIN.sess_drop                                 (uint64, count,  Sessions dropped)\n    - MAIN.sess_fail                                 (uint64, count,  Session accept failures)\n    - MAIN.sess_pipe_overflow                        (uint64, count,  Session pipe overflow)\n    - MAIN.client_req_400                            (uint64, count,  Client requests received,)\n    - MAIN.client_req_411                            (uint64, count,  Client requests received,)\n    - MAIN.client_req_413                            (uint64, count,  Client requests received,)\n    - MAIN.client_req_417                            (uint64, count,  Client requests received,)\n    - MAIN.client_req                                (uint64, count,  Good client requests)\n    - MAIN.cache_hit                                 (uint64, count,  Cache hits)\n    - MAIN.cache_hitpass                             (uint64, count,  Cache hits for)\n    - MAIN.cache_miss                                (uint64, count,  Cache misses)\n    - MAIN.backend_conn                              (uint64, count,  Backend conn. success)\n    - MAIN.backend_unhealthy                         (uint64, count,  Backend conn. not)\n    - MAIN.backend_busy                              (uint64, count,  Backend conn. too)\n    - MAIN.backend_fail                              (uint64, count,  Backend conn. failures)\n    - MAIN.backend_reuse                             (uint64, count,  Backend conn. reuses)\n    - MAIN.backend_toolate                           (uint64, count,  Backend conn. was)\n    - MAIN.backend_recycle                           (uint64, count,  Backend conn. recycles)\n    - MAIN.backend_retry                             (uint64, count,  Backend conn. retry)\n    - MAIN.fetch_head                                (uint64, count,  Fetch no body)\n    - MAIN.fetch_length                              (uint64, count,  Fetch with Length)\n    - MAIN.fetch_chunked                             (uint64, count,  Fetch chunked)\n    - MAIN.fetch_eof                                 (uint64, count,  Fetch EOF)\n    - MAIN.fetch_bad                                 (uint64, count,  Fetch bad T- E)\n    - MAIN.fetch_close                               (uint64, count,  Fetch wanted close)\n    - MAIN.fetch_oldhttp                             (uint64, count,  Fetch pre HTTP/1.1)\n    - MAIN.fetch_zero                                (uint64, count,  Fetch zero len)\n    - MAIN.fetch_1xx                                 (uint64, count,  Fetch no body)\n    - MAIN.fetch_204                                 (uint64, count,  Fetch no body)\n    - MAIN.fetch_304                                 (uint64, count,  Fetch no body)\n    - MAIN.fetch_failed                              (uint64, count,  Fetch failed (all)\n    - MAIN.fetch_no_thread                           (uint64, count,  Fetch failed (no)\n    - MAIN.pools                                     (uint64, count,  Number of thread)\n    - MAIN.threads                                   (uint64, count,  Total number of)\n    - MAIN.threads_limited                           (uint64, count,  Threads hit max)\n    - MAIN.threads_created                           (uint64, count,  Threads created)\n    - MAIN.threads_destroyed                         (uint64, count,  Threads destroyed)\n    - MAIN.threads_failed                            (uint64, count,  Thread creation failed)\n    - MAIN.thread_queue_len                          (uint64, count,  Length of session)\n    - MAIN.busy_sleep                                (uint64, count,  Number of requests)\n    - MAIN.busy_wakeup                               (uint64, count,  Number of requests)\n    - MAIN.sess_queued                               (uint64, count,  Sessions queued for)\n    - MAIN.sess_dropped                              (uint64, count,  Sessions dropped for)\n    - MAIN.n_object                                  (uint64, count,  object structs made)\n    - MAIN.n_vampireobject                           (uint64, count,  unresurrected objects)\n    - MAIN.n_objectcore                              (uint64, count,  objectcore structs made)\n    - MAIN.n_objecthead                              (uint64, count,  objecthead structs made)\n    - MAIN.n_waitinglist                             (uint64, count,  waitinglist structs made)\n    - MAIN.n_backend                                 (uint64, count,  Number of backends)\n    - MAIN.n_expired                                 (uint64, count,  Number of expired)\n    - MAIN.n_lru_nuked                               (uint64, count,  Number of LRU)\n    - MAIN.n_lru_moved                               (uint64, count,  Number of LRU)\n    - MAIN.losthdr                                   (uint64, count,  HTTP header overflows)\n    - MAIN.s_sess                                    (uint64, count,  Total sessions seen)\n    - MAIN.s_req                                     (uint64, count,  Total requests seen)\n    - MAIN.s_pipe                                    (uint64, count,  Total pipe sessions)\n    - MAIN.s_pass                                    (uint64, count,  Total pass- ed requests)\n    - MAIN.s_fetch                                   (uint64, count,  Total backend fetches)\n    - MAIN.s_synth                                   (uint64, count,  Total synthetic responses)\n    - MAIN.s_req_hdrbytes                            (uint64, count,  Request header bytes)\n    - MAIN.s_req_bodybytes                           (uint64, count,  Request body bytes)\n    - MAIN.s_resp_hdrbytes                           (uint64, count,  Response header bytes)\n    - MAIN.s_resp_bodybytes                          (uint64, count,  Response body bytes)\n    - MAIN.s_pipe_hdrbytes                           (uint64, count,  Pipe request header)\n    - MAIN.s_pipe_in                                 (uint64, count,  Piped bytes from)\n    - MAIN.s_pipe_out                                (uint64, count,  Piped bytes to)\n    - MAIN.sess_closed                               (uint64, count,  Session Closed)\n    - MAIN.sess_pipeline                             (uint64, count,  Session Pipeline)\n    - MAIN.sess_readahead                            (uint64, count,  Session Read Ahead)\n    - MAIN.sess_herd                                 (uint64, count,  Session herd)\n    - MAIN.shm_records                               (uint64, count,  SHM records)\n    - MAIN.shm_writes                                (uint64, count,  SHM writes)\n    - MAIN.shm_flushes                               (uint64, count,  SHM flushes due)\n    - MAIN.shm_cont                                  (uint64, count,  SHM MTX contention)\n    - MAIN.shm_cycles                                (uint64, count,  SHM cycles through)\n    - MAIN.sms_nreq                                  (uint64, count,  SMS allocator requests)\n    - MAIN.sms_nobj                                  (uint64, count,  SMS outstanding allocations)\n    - MAIN.sms_nbytes                                (uint64, count,  SMS outstanding bytes)\n    - MAIN.sms_balloc                                (uint64, count,  SMS bytes allocated)\n    - MAIN.sms_bfree                                 (uint64, count,  SMS bytes freed)\n    - MAIN.backend_req                               (uint64, count,  Backend requests made)\n    - MAIN.n_vcl                                     (uint64, count,  Number of loaded)\n    - MAIN.n_vcl_avail                               (uint64, count,  Number of VCLs)\n    - MAIN.n_vcl_discard                             (uint64, count,  Number of discarded)\n    - MAIN.bans                                      (uint64, count,  Count of bans)\n    - MAIN.bans_completed                            (uint64, count,  Number of bans)\n    - MAIN.bans_obj                                  (uint64, count,  Number of bans)\n    - MAIN.bans_req                                  (uint64, count,  Number of bans)\n    - MAIN.bans_added                                (uint64, count,  Bans added)\n    - MAIN.bans_deleted                              (uint64, count,  Bans deleted)\n    - MAIN.bans_tested                               (uint64, count,  Bans tested against)\n    - MAIN.bans_obj_killed                           (uint64, count,  Objects killed by)\n    - MAIN.bans_lurker_tested                        (uint64, count,  Bans tested against)\n    - MAIN.bans_tests_tested                         (uint64, count,  Ban tests tested)\n    - MAIN.bans_lurker_tests_tested                  (uint64, count,  Ban tests tested)\n    - MAIN.bans_lurker_obj_killed                    (uint64, count,  Objects killed by)\n    - MAIN.bans_dups                                 (uint64, count,  Bans superseded by)\n    - MAIN.bans_lurker_contention                    (uint64, count,  Lurker gave way)\n    - MAIN.bans_persisted_bytes                      (uint64, count,  Bytes used by)\n    - MAIN.bans_persisted_fragmentation              (uint64, count,  Extra bytes in)\n    - MAIN.n_purges                                  (uint64, count,  Number of purge)\n    - MAIN.n_obj_purged                              (uint64, count,  Number of purged)\n    - MAIN.exp_mailed                                (uint64, count,  Number of objects)\n    - MAIN.exp_received                              (uint64, count,  Number of objects)\n    - MAIN.hcb_nolock                                (uint64, count,  HCB Lookups without)\n    - MAIN.hcb_lock                                  (uint64, count,  HCB Lookups with)\n    - MAIN.hcb_insert                                (uint64, count,  HCB Inserts)\n    - MAIN.esi_errors                                (uint64, count,  ESI parse errors)\n    - MAIN.esi_warnings                              (uint64, count,  ESI parse warnings)\n    - MAIN.vmods                                     (uint64, count,  Loaded VMODs)\n    - MAIN.n_gzip                                    (uint64, count,  Gzip operations)\n    - MAIN.n_gunzip                                  (uint64, count,  Gunzip operations)\n    - MAIN.vsm_free                                  (uint64, count,  Free VSM space)\n    - MAIN.vsm_used                                  (uint64, count,  Used VSM space)\n    - MAIN.vsm_cooling                               (uint64, count,  Cooling VSM space)\n    - MAIN.vsm_overflow                              (uint64, count,  Overflow VSM space)\n    - MAIN.vsm_overflowed                            (uint64, count,  Overflowed VSM space)\n    - MGT.uptime                                     (uint64, count,  Management process uptime)\n    - MGT.child_start                                (uint64, count,  Child process started)\n    - MGT.child_exit                                 (uint64, count,  Child process normal)\n    - MGT.child_stop                                 (uint64, count,  Child process unexpected)\n    - MGT.child_died                                 (uint64, count,  Child process died)\n    - MGT.child_dump                                 (uint64, count,  Child process core)\n    - MGT.child_panic                                (uint64, count,  Child process panic)\n    - MEMPOOL.vbc.live                               (uint64, count,  In use)\n    - MEMPOOL.vbc.pool                               (uint64, count,  In Pool)\n    - MEMPOOL.vbc.sz_wanted                          (uint64, count,  Size requested)\n    - MEMPOOL.vbc.sz_needed                          (uint64, count,  Size allocated)\n    - MEMPOOL.vbc.allocs                             (uint64, count,  Allocations )\n    - MEMPOOL.vbc.frees                              (uint64, count,  Frees )\n    - MEMPOOL.vbc.recycle                            (uint64, count,  Recycled from pool)\n    - MEMPOOL.vbc.timeout                            (uint64, count,  Timed out from)\n    - MEMPOOL.vbc.toosmall                           (uint64, count,  Too small to)\n    - MEMPOOL.vbc.surplus                            (uint64, count,  Too many for)\n    - MEMPOOL.vbc.randry                             (uint64, count,  Pool ran dry)\n    - MEMPOOL.busyobj.live                           (uint64, count,  In use)\n    - MEMPOOL.busyobj.pool                           (uint64, count,  In Pool)\n    - MEMPOOL.busyobj.sz_wanted                      (uint64, count,  Size requested)\n    - MEMPOOL.busyobj.sz_needed                      (uint64, count,  Size allocated)\n    - MEMPOOL.busyobj.allocs                         (uint64, count,  Allocations )\n    - MEMPOOL.busyobj.frees                          (uint64, count,  Frees )\n    - MEMPOOL.busyobj.recycle                        (uint64, count,  Recycled from pool)\n    - MEMPOOL.busyobj.timeout                        (uint64, count,  Timed out from)\n    - MEMPOOL.busyobj.toosmall                       (uint64, count,  Too small to)\n    - MEMPOOL.busyobj.surplus                        (uint64, count,  Too many for)\n    - MEMPOOL.busyobj.randry                         (uint64, count,  Pool ran dry)\n    - MEMPOOL.req0.live                              (uint64, count,  In use)\n    - MEMPOOL.req0.pool                              (uint64, count,  In Pool)\n    - MEMPOOL.req0.sz_wanted                         (uint64, count,  Size requested)\n    - MEMPOOL.req0.sz_needed                         (uint64, count,  Size allocated)\n    - MEMPOOL.req0.allocs                            (uint64, count,  Allocations )\n    - MEMPOOL.req0.frees                             (uint64, count,  Frees )\n    - MEMPOOL.req0.recycle                           (uint64, count,  Recycled from pool)\n    - MEMPOOL.req0.timeout                           (uint64, count,  Timed out from)\n    - MEMPOOL.req0.toosmall                          (uint64, count,  Too small to)\n    - MEMPOOL.req0.surplus                           (uint64, count,  Too many for)\n    - MEMPOOL.req0.randry                            (uint64, count,  Pool ran dry)\n    - MEMPOOL.sess0.live                             (uint64, count,  In use)\n    - MEMPOOL.sess0.pool                             (uint64, count,  In Pool)\n    - MEMPOOL.sess0.sz_wanted                        (uint64, count,  Size requested)\n    - MEMPOOL.sess0.sz_needed                        (uint64, count,  Size allocated)\n    - MEMPOOL.sess0.allocs                           (uint64, count,  Allocations )\n    - MEMPOOL.sess0.frees                            (uint64, count,  Frees )\n    - MEMPOOL.sess0.recycle                          (uint64, count,  Recycled from pool)\n    - MEMPOOL.sess0.timeout                          (uint64, count,  Timed out from)\n    - MEMPOOL.sess0.toosmall                         (uint64, count,  Too small to)\n    - MEMPOOL.sess0.surplus                          (uint64, count,  Too many for)\n    - MEMPOOL.sess0.randry                           (uint64, count,  Pool ran dry)\n    - MEMPOOL.req1.live                              (uint64, count,  In use)\n    - MEMPOOL.req1.pool                              (uint64, count,  In Pool)\n    - MEMPOOL.req1.sz_wanted                         (uint64, count,  Size requested)\n    - MEMPOOL.req1.sz_needed                         (uint64, count,  Size allocated)\n    - MEMPOOL.req1.allocs                            (uint64, count,  Allocations )\n    - MEMPOOL.req1.frees                             (uint64, count,  Frees )\n    - MEMPOOL.req1.recycle                           (uint64, count,  Recycled from pool)\n    - MEMPOOL.req1.timeout                           (uint64, count,  Timed out from)\n    - MEMPOOL.req1.toosmall                          (uint64, count,  Too small to)\n    - MEMPOOL.req1.surplus                           (uint64, count,  Too many for)\n    - MEMPOOL.req1.randry                            (uint64, count,  Pool ran dry)\n    - MEMPOOL.sess1.live                             (uint64, count,  In use)\n    - MEMPOOL.sess1.pool                             (uint64, count,  In Pool)\n    - MEMPOOL.sess1.sz_wanted                        (uint64, count,  Size requested)\n    - MEMPOOL.sess1.sz_needed                        (uint64, count,  Size allocated)\n    - MEMPOOL.sess1.allocs                           (uint64, count,  Allocations )\n    - MEMPOOL.sess1.frees                            (uint64, count,  Frees )\n    - MEMPOOL.sess1.recycle                          (uint64, count,  Recycled from pool)\n    - MEMPOOL.sess1.timeout                          (uint64, count,  Timed out from)\n    - MEMPOOL.sess1.toosmall                         (uint64, count,  Too small to)\n    - MEMPOOL.sess1.surplus                          (uint64, count,  Too many for)\n    - MEMPOOL.sess1.randry                           (uint64, count,  Pool ran dry)\n    - SMA.s0.c_req                                   (uint64, count,  Allocator requests)\n    - SMA.s0.c_fail                                  (uint64, count,  Allocator failures)\n    - SMA.s0.c_bytes                                 (uint64, count,  Bytes allocated)\n    - SMA.s0.c_freed                                 (uint64, count,  Bytes freed)\n    - SMA.s0.g_alloc                                 (uint64, count,  Allocations outstanding)\n    - SMA.s0.g_bytes                                 (uint64, count,  Bytes outstanding)\n    - SMA.s0.g_space                                 (uint64, count,  Bytes available)\n    - SMA.Transient.c_req                            (uint64, count,  Allocator requests)\n    - SMA.Transient.c_fail                           (uint64, count,  Allocator failures)\n    - SMA.Transient.c_bytes                          (uint64, count,  Bytes allocated)\n    - SMA.Transient.c_freed                          (uint64, count,  Bytes freed)\n    - SMA.Transient.g_alloc                          (uint64, count,  Allocations outstanding)\n    - SMA.Transient.g_bytes                          (uint64, count,  Bytes outstanding)\n    - SMA.Transient.g_space                          (uint64, count,  Bytes available)\n    - VBE.default(127.0.0.1,,8080).vcls              (uint64, count,  VCL references)\n    - VBE.default(127.0.0.1,,8080).happy             (uint64, count,  Happy health probes)\n    - VBE.default(127.0.0.1,,8080).bereq_hdrbytes    (uint64, count,  Request header bytes)\n    - VBE.default(127.0.0.1,,8080).bereq_bodybytes   (uint64, count,  Request body bytes)\n    - VBE.default(127.0.0.1,,8080).beresp_hdrbytes   (uint64, count,  Response header bytes)\n    - VBE.default(127.0.0.1,,8080).beresp_bodybytes  (uint64, count,  Response body bytes)\n    - VBE.default(127.0.0.1,,8080).pipe_hdrbytes     (uint64, count,  Pipe request header)\n    - VBE.default(127.0.0.1,,8080).pipe_out          (uint64, count,  Piped bytes to)\n    - VBE.default(127.0.0.1,,8080).pipe_in           (uint64, count,  Piped bytes from)\n    - LCK.sms.creat                                  (uint64, count,  Created locks)\n    - LCK.sms.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.sms.locks                                  (uint64, count,  Lock Operations)\n    - LCK.smp.creat                                  (uint64, count,  Created locks)\n    - LCK.smp.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.smp.locks                                  (uint64, count,  Lock Operations)\n    - LCK.sma.creat                                  (uint64, count,  Created locks)\n    - LCK.sma.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.sma.locks                                  (uint64, count,  Lock Operations)\n    - LCK.smf.creat                                  (uint64, count,  Created locks)\n    - LCK.smf.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.smf.locks                                  (uint64, count,  Lock Operations)\n    - LCK.hsl.creat                                  (uint64, count,  Created locks)\n    - LCK.hsl.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.hsl.locks                                  (uint64, count,  Lock Operations)\n    - LCK.hcb.creat                                  (uint64, count,  Created locks)\n    - LCK.hcb.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.hcb.locks                                  (uint64, count,  Lock Operations)\n    - LCK.hcl.creat                                  (uint64, count,  Created locks)\n    - LCK.hcl.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.hcl.locks                                  (uint64, count,  Lock Operations)\n    - LCK.vcl.creat                                  (uint64, count,  Created locks)\n    - LCK.vcl.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.vcl.locks                                  (uint64, count,  Lock Operations)\n    - LCK.sessmem.creat                              (uint64, count,  Created locks)\n    - LCK.sessmem.destroy                            (uint64, count,  Destroyed locks)\n    - LCK.sessmem.locks                              (uint64, count,  Lock Operations)\n    - LCK.sess.creat                                 (uint64, count,  Created locks)\n    - LCK.sess.destroy                               (uint64, count,  Destroyed locks)\n    - LCK.sess.locks                                 (uint64, count,  Lock Operations)\n    - LCK.wstat.creat                                (uint64, count,  Created locks)\n    - LCK.wstat.destroy                              (uint64, count,  Destroyed locks)\n    - LCK.wstat.locks                                (uint64, count,  Lock Operations)\n    - LCK.herder.creat                               (uint64, count,  Created locks)\n    - LCK.herder.destroy                             (uint64, count,  Destroyed locks)\n    - LCK.herder.locks                               (uint64, count,  Lock Operations)\n    - LCK.wq.creat                                   (uint64, count,  Created locks)\n    - LCK.wq.destroy                                 (uint64, count,  Destroyed locks)\n    - LCK.wq.locks                                   (uint64, count,  Lock Operations)\n    - LCK.objhdr.creat                               (uint64, count,  Created locks)\n    - LCK.objhdr.destroy                             (uint64, count,  Destroyed locks)\n    - LCK.objhdr.locks                               (uint64, count,  Lock Operations)\n    - LCK.exp.creat                                  (uint64, count,  Created locks)\n    - LCK.exp.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.exp.locks                                  (uint64, count,  Lock Operations)\n    - LCK.lru.creat                                  (uint64, count,  Created locks)\n    - LCK.lru.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.lru.locks                                  (uint64, count,  Lock Operations)\n    - LCK.cli.creat                                  (uint64, count,  Created locks)\n    - LCK.cli.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.cli.locks                                  (uint64, count,  Lock Operations)\n    - LCK.ban.creat                                  (uint64, count,  Created locks)\n    - LCK.ban.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.ban.locks                                  (uint64, count,  Lock Operations)\n    - LCK.vbp.creat                                  (uint64, count,  Created locks)\n    - LCK.vbp.destroy                                (uint64, count,  Destroyed locks)\n    - LCK.vbp.locks                                  (uint64, count,  Lock Operations)\n    - LCK.backend.creat                              (uint64, count,  Created locks)\n    - LCK.backend.destroy                            (uint64, count,  Destroyed locks)\n    - LCK.backend.locks                              (uint64, count,  Lock Operations)\n    - LCK.vcapace.creat                              (uint64, count,  Created locks)\n    - LCK.vcapace.destroy                            (uint64, count,  Destroyed locks)\n    - LCK.vcapace.locks                              (uint64, count,  Lock Operations)\n    - LCK.nbusyobj.creat                             (uint64, count,  Created locks)\n    - LCK.nbusyobj.destroy                           (uint64, count,  Destroyed locks)\n    - LCK.nbusyobj.locks                             (uint64, count,  Lock Operations)\n    - LCK.busyobj.creat                              (uint64, count,  Created locks)\n    - LCK.busyobj.destroy                            (uint64, count,  Destroyed locks)\n    - LCK.busyobj.locks                              (uint64, count,  Lock Operations)\n    - LCK.mempool.creat                              (uint64, count,  Created locks)\n    - LCK.mempool.destroy                            (uint64, count,  Destroyed locks)\n    - LCK.mempool.locks                              (uint64, count,  Lock Operations)\n    - LCK.vxid.creat                                 (uint64, count,  Created locks)\n    - LCK.vxid.destroy                               (uint64, count,  Destroyed locks)\n    - LCK.vxid.locks                                 (uint64, count,  Lock Operations)\n    - LCK.pipestat.creat                             (uint64, count,  Created locks)\n    - LCK.pipestat.destroy                           (uint64, count,  Destroyed locks)\n    - LCK.pipestat.locks                             (uint64, count,  Lock Operations)\n\n\n### Tags:\n\nAs indicated above, the  prefix of a varnish stat will be used as it\'s \'section\' tag. So section tag may have one of \nthe following values:\n- section:\n  - MAIN\n  - MGT\n  - MEMPOOL\n  - SMA\n  - VBE\n  - LCK\n  \n  \n\n### Permissions:\n\nIt\'s important to note that this plugin references varnishstat, which may require additional permissions to execute successfully.\nDepending on the user/group permissions of the telegraf user executing this plugin, you may need to alter the group membership, set facls, or use sudo.\n\n**Group membership (Recommended)**:\n```bash\n$ groups telegraf\ntelegraf : telegraf\n\n$ usermod -a -G varnish telegraf\n\n$ groups telegraf\ntelegraf : telegraf varnish\n```\n\n**Extended filesystem ACL\'s**:\n```bash\n$ getfacl /var/lib/varnish/<hostname>/_.vsm\n# file: var/lib/varnish/<hostname>/_.vsm\n# owner: root\n# group: root\nuser::rw-\ngroup::r--\nother::---\n\n$ setfacl -m u:telegraf:r /var/lib/varnish/<hostname>/_.vsm\n\n$ getfacl /var/lib/varnish/<hostname>/_.vsm\n# file: var/lib/varnish/<hostname>/_.vsm\n# owner: root\n# group: root\nuser::rw-\nuser:telegraf:r--\ngroup::r--\nmask::r--\nother::---\n```\n\n**Sudo privileges**:\nIf you use this method, you will need the following in your telegraf config:\n```toml\n[[inputs.varnish]]\n  use_sudo = true\n```\n\nYou will also need to update your sudoers file:\n```bash\n$ visudo\n# Add the following line:\nCmnd_Alias VARNISHSTAT = /usr/bin/varnishstat\ntelegraf  ALL=(ALL) NOPASSWD: VARNISHSTAT\nDefaults!VARNISHSTAT !logfile, !syslog, !pam_session\n```\n\nPlease use the solution you see as most appropriate.\n\n### Example Output:\n\n```\n telegraf --config etc/telegraf.conf --input-filter varnish --test\n* Plugin: varnish, Collection 1\n> varnish,host=rpercy-VirtualBox,section=MAIN cache_hit=0i,cache_miss=0i,uptime=8416i 1462765437090957980\n```\n',image:zk.a},{id:"vsphere",name:"VMware vSphere",url:"telegraf-plugins/vsphere",markdown:'# VMware vSphere Input Plugin\n\nThe VMware vSphere plugin uses the vSphere API to gather metrics from multiple vCenter servers.\n\n* Clusters\n* Hosts\n* VMs\n* Datastores\n\n## Supported versions of vSphere\nThis plugin supports vSphere version 5.5 through 6.7.\n\n## Configuration\n\nNOTE: To disable collection of a specific resource type, simply exclude all metrics using the XX_metric_exclude.\nFor example, to disable collection of VMs, add this:\n\n```\nvm_metric_exclude = [ "*" ]\n```\n\n```toml\n# Read metrics from one or many vCenters\n[[inputs.vsphere]]\n    ## List of vCenter URLs to be monitored. These three lines must be uncommented\n  ## and edited for the plugin to work.\n  vcenters = [ "https://vcenter.local/sdk" ]\n  username = "user@corp.local"\n  password = "secret"\n\n  ## VMs\n  ## Typical VM metrics (if omitted or empty, all metrics are collected)\n  # vm_include = [ "/*/vm/**"] # Inventory path to VMs to collect (by default all are collected)\n  # vm_exclude = [] # Inventory paths to exclude\n  vm_metric_include = [\n    "cpu.demand.average",\n    "cpu.idle.summation",\n    "cpu.latency.average",\n    "cpu.readiness.average",\n    "cpu.ready.summation",\n    "cpu.run.summation",\n    "cpu.usagemhz.average",\n    "cpu.used.summation",\n    "cpu.wait.summation",\n    "mem.active.average",\n    "mem.granted.average",\n    "mem.latency.average",\n    "mem.swapin.average",\n    "mem.swapinRate.average",\n    "mem.swapout.average",\n    "mem.swapoutRate.average",\n    "mem.usage.average",\n    "mem.vmmemctl.average",\n    "net.bytesRx.average",\n    "net.bytesTx.average",\n    "net.droppedRx.summation",\n    "net.droppedTx.summation",\n    "net.usage.average",\n    "power.power.average",\n    "virtualDisk.numberReadAveraged.average",\n    "virtualDisk.numberWriteAveraged.average",\n    "virtualDisk.read.average",\n    "virtualDisk.readOIO.latest",\n    "virtualDisk.throughput.usage.average",\n    "virtualDisk.totalReadLatency.average",\n    "virtualDisk.totalWriteLatency.average",\n    "virtualDisk.write.average",\n    "virtualDisk.writeOIO.latest",\n    "sys.uptime.latest",\n  ]\n  # vm_metric_exclude = [] ## Nothing is excluded by default\n  # vm_instances = true ## true by default\n\n  ## Hosts\n  ## Typical host metrics (if omitted or empty, all metrics are collected)\n  # host_include = [ "/*/host/**"] # Inventory path to hosts to collect (by default all are collected)\n  # host_exclude [] # Inventory paths to exclude\n  host_metric_include = [\n    "cpu.coreUtilization.average",\n    "cpu.costop.summation",\n    "cpu.demand.average",\n    "cpu.idle.summation",\n    "cpu.latency.average",\n    "cpu.readiness.average",\n    "cpu.ready.summation",\n    "cpu.swapwait.summation",\n    "cpu.usage.average",\n    "cpu.usagemhz.average",\n    "cpu.used.summation",\n    "cpu.utilization.average",\n    "cpu.wait.summation",\n    "disk.deviceReadLatency.average",\n    "disk.deviceWriteLatency.average",\n    "disk.kernelReadLatency.average",\n    "disk.kernelWriteLatency.average",\n    "disk.numberReadAveraged.average",\n    "disk.numberWriteAveraged.average",\n    "disk.read.average",\n    "disk.totalReadLatency.average",\n    "disk.totalWriteLatency.average",\n    "disk.write.average",\n    "mem.active.average",\n    "mem.latency.average",\n    "mem.state.latest",\n    "mem.swapin.average",\n    "mem.swapinRate.average",\n    "mem.swapout.average",\n    "mem.swapoutRate.average",\n    "mem.totalCapacity.average",\n    "mem.usage.average",\n    "mem.vmmemctl.average",\n    "net.bytesRx.average",\n    "net.bytesTx.average",\n    "net.droppedRx.summation",\n    "net.droppedTx.summation",\n    "net.errorsRx.summation",\n    "net.errorsTx.summation",\n    "net.usage.average",\n    "power.power.average",\n    "storageAdapter.numberReadAveraged.average",\n    "storageAdapter.numberWriteAveraged.average",\n    "storageAdapter.read.average",\n    "storageAdapter.write.average",\n    "sys.uptime.latest",\n  ]\n    ## Collect IP addresses? Valid values are "ipv4" and "ipv6"\n  # ip_addresses = ["ipv6", "ipv4" ]\n\n  # host_metric_exclude = [] ## Nothing excluded by default\n  # host_instances = true ## true by default\n\n\n  ## Clusters\n  # cluster_include = [ "/*/host/**"] # Inventory path to clusters to collect (by default all are collected)\n  # cluster_exclude = [] # Inventory paths to exclude\n  # cluster_metric_include = [] ## if omitted or empty, all metrics are collected\n  # cluster_metric_exclude = [] ## Nothing excluded by default\n  # cluster_instances = false ## false by default\n\n  ## Datastores\n  # datastore_include = [ "/*/datastore/**"] # Inventory path to datastores to collect (by default all are collected)\n  # datastore_exclude = [] # Inventory paths to exclude\n  # datastore_metric_include = [] ## if omitted or empty, all metrics are collected\n  # datastore_metric_exclude = [] ## Nothing excluded by default\n  # datastore_instances = false ## false by default\n\n  ## Datacenters\n  # datacenter_include = [ "/*/host/**"] # Inventory path to clusters to collect (by default all are collected)\n  # datacenter_exclude = [] # Inventory paths to exclude\n  datacenter_metric_include = [] ## if omitted or empty, all metrics are collected\n  datacenter_metric_exclude = [ "*" ] ## Datacenters are not collected by default.\n  # datacenter_instances = false ## false by default\n\n  ## Plugin Settings\n  ## separator character to use for measurement and field names (default: "_")\n  # separator = "_"\n\n  ## number of objects to retrieve per query for realtime resources (vms and hosts)\n  ## set to 64 for vCenter 5.5 and 6.0 (default: 256)\n  # max_query_objects = 256\n\n  ## number of metrics to retrieve per query for non-realtime resources (clusters and datastores)\n  ## set to 64 for vCenter 5.5 and 6.0 (default: 256)\n  # max_query_metrics = 256\n\n  ## number of go routines to use for collection and discovery of objects and metrics\n  # collect_concurrency = 1\n  # discover_concurrency = 1\n\n  ## the interval before (re)discovering objects subject to metrics collection (default: 300s)\n  # object_discovery_interval = "300s"\n\n  ## timeout applies to any of the api request made to vcenter\n  # timeout = "60s"\n\n  ## When set to true, all samples are sent as integers. This makes the output\n  ## data types backwards compatible with Telegraf 1.9 or lower. Normally all\n  ## samples from vCenter, with the exception of percentages, are integer\n  ## values, but under some conditions, some averaging takes place internally in\n  ## the plugin. Setting this flag to "false" will send values as floats to\n  ## preserve the full precision when averaging takes place.\n  # use_int_samples = true\n\n  ## Custom attributes from vCenter can be very useful for queries in order to slice the\n  ## metrics along different dimension and for forming ad-hoc relationships. They are disabled\n  ## by default, since they can add a considerable amount of tags to the resulting metrics. To\n  ## enable, simply set custom_attribute_exclude to [] (empty set) and use custom_attribute_include\n  ## to select the attributes you want to include.\n  ## By default, since they can add a considerable amount of tags to the resulting metrics. To\n  ## enable, simply set custom_attribute_exclude to [] (empty set) and use custom_attribute_include\n  ## to select the attributes you want to include.\n  # custom_attribute_include = []\n  # custom_attribute_exclude = ["*"]\n\n  ## Optional SSL Config\n  # ssl_ca = "/path/to/cafile"\n  # ssl_cert = "/path/to/certfile"\n  # ssl_key = "/path/to/keyfile"\n  ## Use SSL but skip chain & host verification\n  # insecure_skip_verify = false\n```\n\n### Objects and Metrics Per Query\n\nBy default, in vCenter\'s configuration a limit is set to the number of entities that are included in a performance chart query. Default settings for vCenter 6.5 and above is 256. Prior versions of vCenter have this set to 64.\nA vCenter administrator can change this setting, see this [VMware KB article](https://kb.vmware.com/s/article/2107096) for more information.\n\nAny modification should be reflected in this plugin by modifying the parameter `max_query_objects`\n\n```\n  ## number of objects to retrieve per query for realtime resources (vms and hosts)\n  ## set to 64 for vCenter 5.5 and 6.0 (default: 256)\n  # max_query_objects = 256\n```\n\n### Collection and Discovery concurrency\n\nOn large vCenter setups it may be prudent to have multiple concurrent go routines collect performance metrics\nin order to avoid potential errors for time elapsed during a collection cycle. This should never be greater than 8,\nthough the default of 1 (no concurrency) should be sufficient for most configurations.\n\nFor setting up concurrency, modify `collect_concurrency` and `discover_concurrency` parameters.\n\n```\n  ## number of go routines to use for collection and discovery of objects and metrics\n  # collect_concurrency = 1\n  # discover_concurrency = 1\n```\n\n### Inventory Paths\nResources to be monitored can be selected using Inventory Paths. This treats the vSphere inventory as a tree structure similar\nto a file system. A vSphere inventory has a structure similar to this:\n\n```\n<root>\n+-DC0 # Virtual datacenter\n   +-datastore # Datastore folder (created by system)\n   | +-Datastore1\n   +-host # Host folder (created by system)\n   | +-Cluster1\n   | | +-Host1\n   | | | +-VM1\n   | | | +-VM2\n   | | | +-hadoop1\n   | +-Host2 # Dummy cluster created for non-clustered host\n   | | +-Host2\n   | | | +-VM3\n   | | | +-VM4\n   +-vm # VM folder (created by system)\n   | +-VM1\n   | +-VM2\n   | +-Folder1\n   | | +-hadoop1\n   | | +-NestedFolder1\n   | | | +-VM3\n   | | | +-VM4\n```\n\n#### Using Inventory Paths\nUsing familiar UNIX-style paths, one could select e.g. VM2 with the path ```/DC0/vm/VM2```.\n\nOften, we want to select a group of resource, such as all the VMs in a folder. We could use the path ```/DC0/vm/Folder1/*``` for that.\n\nAnother possibility is to select objects using a partial name, such as ```/DC0/vm/Folder1/hadoop*``` yielding all vms in Folder1 with a name starting with "hadoop".\n\nFinally, due to the arbitrary nesting of the folder structure, we need a "recursive wildcard" for traversing multiple folders. We use the "**" symbol for that. If we want to look for a VM with a name starting with "hadoop" in any folder, we could use the following path: ```/DC0/vm/**/hadoop*```\n\n#### Multiple paths to VMs\nAs we can see from the example tree above, VMs appear both in its on folder under the datacenter, as well as under the hosts. This is useful when you like to select VMs on a specific host. For example, ```/DC0/host/Cluster1/Host1/hadoop*``` selects all VMs with a name starting with "hadoop" that are running on Host1.\n\nWe can extend this to looking at a cluster level: ```/DC0/host/Cluster1/*/hadoop*```. This selects any VM matching "hadoop*" on any host in Cluster1.\n## Performance Considerations\n\n### Realtime vs. historical metrics\n\nvCenter keeps two different kinds of metrics, known as realtime and historical metrics.\n\n* Realtime metrics: Available at a 20 second granularity. These metrics are stored in memory and are very fast and cheap to query. Our tests have shown that a complete set of realtime metrics for 7000 virtual machines can be obtained in less than 20 seconds. Realtime metrics are only available on **ESXi hosts** and **virtual machine** resources. Realtime metrics are only stored for 1 hour in vCenter.\n* Historical metrics: Available at a 5 minute, 30 minutes, 2 hours and 24 hours rollup levels. The vSphere Telegraf plugin only uses the 5 minute rollup. These metrics are stored in the vCenter database and can be expensive and slow to query. Historical metrics are the only type of metrics available for **clusters**, **datastores** and **datacenters**.\n\nFor more information, refer to the vSphere documentation here: https://pubs.vmware.com/vsphere-50/index.jsp?topic=%2Fcom.vmware.wssdk.pg.doc_50%2FPG_Ch16_Performance.18.2.html\n\nThis distinction has an impact on how Telegraf collects metrics. A single instance of an input plugin can have one and only one collection interval, which means that you typically set the collection interval based on the most frequently collected metric. Let\'s assume you set the collection interval to 1 minute. All realtime metrics will be collected every minute. Since the historical metrics are only available on a 5 minute interval, the vSphere Telegraf plugin automatically skips four out of five collection cycles for these metrics. This works fine in many cases. Problems arise when the collection of historical metrics takes longer than the collection interval. This will cause error messages similar to this to appear in the Telegraf logs:\n\n```2019-01-16T13:41:10Z W! [agent] input "inputs.vsphere" did not complete within its interval```\n\nThis will disrupt the metric collection and can result in missed samples. The best practice workaround is to specify two instances of the vSphere plugin, one for the realtime metrics with a short collection interval and one for the historical metrics with a longer interval. You can use the ```*_metric_exclude``` to turn off the resources you don\'t want to collect metrics for in each instance. For example:\n\n```toml\n## Realtime instance\n[[inputs.vsphere]]\n  interval = "60s"\n  vcenters = [ "https://someaddress/sdk" ]\n  username = "someuser@vsphere.local"\n  password = "secret"\n\n  insecure_skip_verify = true\n  force_discover_on_init = true\n\n  # Exclude all historical metrics\n  datastore_metric_exclude = ["*"]\n  cluster_metric_exclude = ["*"]\n  datacenter_metric_exclude = ["*"]\n\n  collect_concurrency = 5\n  discover_concurrency = 5\n\n# Historical instance\n[[inputs.vsphere]]\n\n  interval = "300s"\n\n  vcenters = [ "https://someaddress/sdk" ]\n  username = "someuser@vsphere.local"\n  password = "secret"\n\n  insecure_skip_verify = true\n  force_discover_on_init = true\n  host_metric_exclude = ["*"] # Exclude realtime metrics\n  vm_metric_exclude = ["*"] # Exclude realtime metrics\n\n  max_query_metrics = 256\n  collect_concurrency = 3\n```\n\n### Configuring max_query_metrics setting\n\nThe ```max_query_metrics``` determines the maximum number of metrics to attempt to retrieve in one call to vCenter. Generally speaking, a higher number means faster and more efficient queries. However, the number of allowed metrics in a query is typically limited in vCenter by the ```config.vpxd.stats.maxQueryMetrics``` setting in vCenter. The value defaults to 64 on vSphere 5.5 and older and 256 on newver versions of vCenter. The vSphere plugin always checks this setting and will automatically reduce the number if the limit configured in vCenter is lower than max_query_metrics in the plugin. This will result in a log message similar to this:\n\n```2019-01-21T03:24:18Z W! [input.vsphere] Configured max_query_metrics is 256, but server limits it to 64. Reducing.```\n\nYou may ask a vCenter administrator to increase this limit to help boost performance.\n\n### Cluster metrics and the max_query_metrics setting\n\nCluster metrics are handled a bit differently by vCenter. They are aggregated from ESXi and virtual machine metrics and may not be available when you query their most recent values. When this happens, vCenter will attempt to perform that aggregation on the fly. Unfortunately, all the subqueries needed internally in vCenter to perform this aggregation will count towards ```config.vpxd.stats.maxQueryMetrics```. This means that even a very small query may result in an error message similar to this:\n\n```2018-11-02T13:37:11Z E! Error in plugin [inputs.vsphere]: ServerFaultCode: This operation is restricted by the administrator - \'vpxd.stats.maxQueryMetrics\'. Contact your system administrator```\n\nThere are two ways of addressing this:\n* Ask your vCenter administrator to set ```config.vpxd.stats.maxQueryMetrics``` to a number that\'s higher than the total number of virtual machines managed by a vCenter instance.\n* Exclude the cluster metrics and use either the basicstats aggregator to calculate sums and averages per cluster or use queries in the visualization tool to obtain the same result.\n\n### Concurrency settings\n\nThe vSphere plugin allows you to specify two concurrency settings:\n* ```collect_concurrency```: The maximum number of simultaneous queries for performance metrics allowed per resource type.\n* ```discover_concurrency```: The  maximum number of simultaneous queries for resource discovery allowed.\n\nWhile a higher level of concurrency typically has a positive impact on performance, increasing these numbers too much can cause performance issues at the vCenter server. A rule of thumb is to set these parameters to the number of virtual machines divided by 1500 and rounded up to the nearest integer.\n\n## Measurements &amp; Fields\n\n- Cluster Stats\n\t- Cluster services: CPU, memory, failover\n\t- CPU: total, usage\n\t- Memory: consumed, total, vmmemctl\n\t- VM operations: # changes, clone, create, deploy, destroy, power, reboot, reconfigure, register, reset, shutdown, standby, vmotion\n- Host Stats:\n\t- CPU: total, usage, cost, mhz\n\t- Datastore: iops, latency, read/write bytes, # reads/writes\n\t- Disk: commands, latency, kernel reads/writes, # reads/writes, queues\n\t- Memory: total, usage, active, latency, swap, shared, vmmemctl\n\t- Network: broadcast, bytes, dropped, errors, multicast, packets, usage\n\t- Power: energy, usage, capacity\n\t- Res CPU: active, max, running\n\t- Storage Adapter: commands, latency, # reads/writes\n\t- Storage Path: commands, latency, # reads/writes\n\t- System Resources: cpu active, cpu max, cpu running, cpu usage, mem allocated, mem consumed, mem shared, swap\n\t- System: uptime\n\t- Flash Module: active VMDKs\n- VM Stats:\n\t- CPU: demand, usage, readiness, cost, mhz\n\t- Datastore: latency, # reads/writes\n\t- Disk: commands, latency, # reads/writes, provisioned, usage\n\t- Memory: granted, usage, active, swap, vmmemctl\n\t- Network: broadcast, bytes, dropped, multicast, packets, usage\n\t- Power: energy, usage\n\t- Res CPU: active, max, running\n\t- System: operating system uptime, uptime\n\t- Virtual Disk: seeks, # reads/writes, latency, load\n- Datastore stats:\n\t- Disk: Capacity, provisioned, used\n\nFor a detailed list of commonly available metrics, please refer to [METRICS.md](METRICS.md)\n\n## Tags\n\n- all metrics\n\t- vcenter (vcenter url)\n- all host metrics\n\t- cluster (vcenter cluster)\n- all vm metrics\n\t- cluster (vcenter cluster)\n\t- esxhost (name of ESXi host)\n\t- guest (guest operating system id)\n- cpu stats for Host and VM\n\t- cpu (cpu core - not all CPU fields will have this tag)\n- datastore stats for Host and VM\n\t- datastore (id of datastore)\n- disk stats for Host and VM\n\t- disk (name of disk)\n- disk.used.capacity for Datastore\n\t- disk (type of disk)\n- net stats for Host and VM\n\t- interface (name of network interface)\n- storageAdapter stats for Host\n\t- adapter (name of storage adapter)\n- storagePath stats for Host\n\t- path (id of storage path)\n- sys.resource* stats for Host\n\t- resource (resource type)\n- vflashModule stats for Host\n\t- module (name of flash module)\n- virtualDisk stats for VM\n\t- disk (name of virtual disk)\n\n## Sample output\n\n```\nvsphere_vm_cpu,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 run_summation=2608i,ready_summation=129i,usage_average=5.01,used_summation=2134i,demand_average=326i 1535660299000000000\nvsphere_vm_net,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 bytesRx_average=321i,bytesTx_average=335i 1535660299000000000\nvsphere_vm_virtualDisk,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 write_average=144i,read_average=4i 1535660299000000000\nvsphere_vm_net,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 bytesRx_average=242i,bytesTx_average=308i 1535660299000000000\nvsphere_vm_virtualDisk,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 write_average=232i,read_average=4i 1535660299000000000\nvsphere_vm_cpu,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 usage_average=5.49,used_summation=1804i,demand_average=308i,run_summation=2001i,ready_summation=120i 1535660299000000000\nvsphere_vm_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 usage_average=4.19,used_summation=2108i,demand_average=285i,run_summation=1793i,ready_summation=93i 1535660299000000000\nvsphere_vm_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 bytesRx_average=272i,bytesTx_average=419i 1535660299000000000\nvsphere_vm_virtualDisk,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 write_average=229i,read_average=4i 1535660299000000000\nvsphere_vm_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 run_summation=2277i,ready_summation=118i,usage_average=4.67,used_summation=2546i,demand_average=289i 1535660299000000000\nvsphere_vm_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 bytesRx_average=243i,bytesTx_average=296i 1535660299000000000\nvsphere_vm_virtualDisk,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 write_average=158i,read_average=4i 1535660299000000000\nvsphere_host_net,esxhostname=DC0_H0,host=host.example.com,interface=vmnic0,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 usage_average=1042i,bytesTx_average=753i,bytesRx_average=660i 1535660299000000000\nvsphere_host_cpu,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 utilization_average=10.46,usage_average=22.4,readiness_average=0.4,costop_summation=2i,coreUtilization_average=19.61,wait_summation=5148518i,idle_summation=58581i,latency_average=0.6,ready_summation=13370i,used_summation=19219i 1535660299000000000\nvsphere_host_cpu,cpu=0,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 coreUtilization_average=25.6,utilization_average=11.58,used_summation=24306i,usage_average=24.26,idle_summation=86688i 1535660299000000000\nvsphere_host_cpu,cpu=1,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 coreUtilization_average=12.29,utilization_average=8.32,used_summation=31312i,usage_average=22.47,idle_summation=94934i 1535660299000000000\nvsphere_host_disk,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 read_average=331i,write_average=2800i 1535660299000000000\nvsphere_host_disk,disk=/var/folders/rf/txwdm4pj409f70wnkdlp7sz80000gq/T/govcsim-DC0-LocalDS_0-367088371@folder-5,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 write_average=2701i,read_average=258i 1535660299000000000\nvsphere_host_mem,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 usage_average=93.27 1535660299000000000\nvsphere_host_net,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 bytesTx_average=650i,usage_average=1414i,bytesRx_average=569i 1535660299000000000\nvsphere_host_cpu,clustername=DC0_C0,cpu=1,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 utilization_average=12.6,used_summation=25775i,usage_average=24.44,idle_summation=68886i,coreUtilization_average=17.59 1535660299000000000\nvsphere_host_disk,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 read_average=340i,write_average=2340i 1535660299000000000\nvsphere_host_disk,clustername=DC0_C0,disk=/var/folders/rf/txwdm4pj409f70wnkdlp7sz80000gq/T/govcsim-DC0-LocalDS_0-367088371@folder-5,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 write_average=2277i,read_average=282i 1535660299000000000\nvsphere_host_mem,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=104.78 1535660299000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 bytesTx_average=463i,usage_average=1131i,bytesRx_average=719i 1535660299000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,interface=vmnic0,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=1668i,bytesTx_average=838i,bytesRx_average=921i 1535660299000000000\nvsphere_host_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 used_summation=28952i,utilization_average=11.36,idle_summation=93261i,latency_average=0.46,ready_summation=12837i,usage_average=21.56,readiness_average=0.39,costop_summation=2i,coreUtilization_average=27.19,wait_summation=3820829i 1535660299000000000\nvsphere_host_cpu,clustername=DC0_C0,cpu=0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 coreUtilization_average=24.12,utilization_average=13.83,used_summation=22462i,usage_average=24.69,idle_summation=96993i 1535660299000000000\ninternal_vsphere,host=host.example.com,os=Mac,vcenter=localhost:8989 connect_ns=4727607i,discover_ns=65389011i,discovered_objects=8i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=datastore,vcenter=localhost:8989 gather_duration_ns=296223i,gather_count=0i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=vm,vcenter=192.168.1.151 gather_duration_ns=136050i,gather_count=0i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=host,vcenter=localhost:8989 gather_count=62i,gather_duration_ns=8788033i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=host,vcenter=192.168.1.151 gather_count=0i,gather_duration_ns=162002i 1535660309000000000\ninternal_gather,host=host.example.com,input=vsphere,os=Mac gather_time_ns=17483653i,metrics_gathered=28i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,vcenter=192.168.1.151 connect_ns=0i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=vm,vcenter=localhost:8989 gather_duration_ns=7291897i,gather_count=36i 1535660309000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=datastore,vcenter=192.168.1.151 gather_duration_ns=958474i,gather_count=0i 1535660309000000000\nvsphere_vm_cpu,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 usage_average=8.82,used_summation=3192i,demand_average=283i,run_summation=2419i,ready_summation=115i 1535660319000000000\nvsphere_vm_net,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 bytesRx_average=277i,bytesTx_average=343i 1535660319000000000\nvsphere_vm_virtualDisk,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 read_average=1i,write_average=741i 1535660319000000000\nvsphere_vm_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 bytesRx_average=386i,bytesTx_average=369i 1535660319000000000\nvsphere_vm_virtualDisk,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 write_average=814i,read_average=1i 1535660319000000000\nvsphere_vm_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 run_summation=1778i,ready_summation=111i,usage_average=7.54,used_summation=2339i,demand_average=297i 1535660319000000000\nvsphere_vm_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 usage_average=6.98,used_summation=2125i,demand_average=211i,run_summation=2990i,ready_summation=141i 1535660319000000000\nvsphere_vm_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 bytesRx_average=357i,bytesTx_average=268i 1535660319000000000\nvsphere_vm_virtualDisk,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 write_average=528i,read_average=1i 1535660319000000000\nvsphere_vm_cpu,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 used_summation=2374i,demand_average=195i,run_summation=3454i,ready_summation=110i,usage_average=7.34 1535660319000000000\nvsphere_vm_net,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 bytesRx_average=308i,bytesTx_average=246i 1535660319000000000\nvsphere_vm_virtualDisk,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 write_average=1178i,read_average=1i 1535660319000000000\nvsphere_host_net,esxhostname=DC0_H0,host=host.example.com,interface=vmnic0,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 bytesRx_average=773i,usage_average=1521i,bytesTx_average=890i 1535660319000000000\nvsphere_host_cpu,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 wait_summation=3421258i,idle_summation=67994i,latency_average=0.36,usage_average=29.86,readiness_average=0.37,used_summation=25244i,costop_summation=2i,coreUtilization_average=21.94,utilization_average=17.19,ready_summation=15897i 1535660319000000000\nvsphere_host_cpu,cpu=0,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 utilization_average=11.32,used_summation=19333i,usage_average=14.29,idle_summation=92708i,coreUtilization_average=27.68 1535660319000000000\nvsphere_host_cpu,cpu=1,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 used_summation=28596i,usage_average=25.32,idle_summation=79553i,coreUtilization_average=28.01,utilization_average=11.33 1535660319000000000\nvsphere_host_disk,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 read_average=86i,write_average=1659i 1535660319000000000\nvsphere_host_disk,disk=/var/folders/rf/txwdm4pj409f70wnkdlp7sz80000gq/T/govcsim-DC0-LocalDS_0-367088371@folder-5,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 write_average=1997i,read_average=58i 1535660319000000000\nvsphere_host_mem,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 usage_average=68.45 1535660319000000000\nvsphere_host_net,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 bytesTx_average=679i,usage_average=2286i,bytesRx_average=719i 1535660319000000000\nvsphere_host_cpu,clustername=DC0_C0,cpu=1,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 utilization_average=10.52,used_summation=21693i,usage_average=23.09,idle_summation=84590i,coreUtilization_average=29.92 1535660319000000000\nvsphere_host_disk,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 read_average=113i,write_average=1236i 1535660319000000000\nvsphere_host_disk,clustername=DC0_C0,disk=/var/folders/rf/txwdm4pj409f70wnkdlp7sz80000gq/T/govcsim-DC0-LocalDS_0-367088371@folder-5,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 write_average=1708i,read_average=110i 1535660319000000000\nvsphere_host_mem,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=111.46 1535660319000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 bytesTx_average=998i,usage_average=2000i,bytesRx_average=881i 1535660319000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,interface=vmnic0,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=1683i,bytesTx_average=675i,bytesRx_average=1078i 1535660319000000000\nvsphere_host_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 used_summation=28531i,wait_summation=3139129i,utilization_average=9.99,idle_summation=98579i,latency_average=0.51,costop_summation=2i,coreUtilization_average=14.35,ready_summation=16121i,usage_average=34.19,readiness_average=0.4 1535660319000000000\nvsphere_host_cpu,clustername=DC0_C0,cpu=0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 utilization_average=12.2,used_summation=22750i,usage_average=18.84,idle_summation=99539i,coreUtilization_average=23.05 1535660319000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=host,vcenter=localhost:8989 gather_duration_ns=7076543i,gather_count=62i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=host,vcenter=192.168.1.151 gather_duration_ns=4051303i,gather_count=0i 1535660339000000000\ninternal_gather,host=host.example.com,input=vsphere,os=Mac metrics_gathered=56i,gather_time_ns=13555029i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,vcenter=192.168.1.151 connect_ns=0i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=vm,vcenter=localhost:8989 gather_duration_ns=6335467i,gather_count=36i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=datastore,vcenter=192.168.1.151 gather_duration_ns=958474i,gather_count=0i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,vcenter=localhost:8989 discover_ns=65389011i,discovered_objects=8i,connect_ns=4727607i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=datastore,vcenter=localhost:8989 gather_duration_ns=296223i,gather_count=0i 1535660339000000000\ninternal_vsphere,host=host.example.com,os=Mac,resourcetype=vm,vcenter=192.168.1.151 gather_count=0i,gather_duration_ns=1540920i 1535660339000000000\nvsphere_vm_virtualDisk,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 write_average=302i,read_average=11i 1535660339000000000\nvsphere_vm_cpu,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 usage_average=5.58,used_summation=2941i,demand_average=298i,run_summation=3255i,ready_summation=96i 1535660339000000000\nvsphere_vm_net,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-35,os=Mac,source=DC0_H0_VM0,vcenter=localhost:8989,vmname=DC0_H0_VM0 bytesRx_average=155i,bytesTx_average=241i 1535660339000000000\nvsphere_vm_cpu,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 usage_average=10.3,used_summation=3053i,demand_average=346i,run_summation=3289i,ready_summation=122i 1535660339000000000\nvsphere_vm_net,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 bytesRx_average=215i,bytesTx_average=275i 1535660339000000000\nvsphere_vm_virtualDisk,esxhostname=DC0_H0,guest=other,host=host.example.com,moid=vm-38,os=Mac,source=DC0_H0_VM1,vcenter=localhost:8989,vmname=DC0_H0_VM1 write_average=252i,read_average=14i 1535660339000000000\nvsphere_vm_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 usage_average=8,used_summation=2183i,demand_average=354i,run_summation=3542i,ready_summation=128i 1535660339000000000\nvsphere_vm_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 bytesRx_average=178i,bytesTx_average=200i 1535660339000000000\nvsphere_vm_virtualDisk,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-41,os=Mac,source=DC0_C0_RP0_VM0,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM0 write_average=283i,read_average=12i 1535660339000000000\nvsphere_vm_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 demand_average=328i,run_summation=3481i,ready_summation=122i,usage_average=7.95,used_summation=2167i 1535660339000000000\nvsphere_vm_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 bytesTx_average=282i,bytesRx_average=196i 1535660339000000000\nvsphere_vm_virtualDisk,clustername=DC0_C0,esxhostname=DC0_C0_H0,guest=other,host=host.example.com,moid=vm-44,os=Mac,source=DC0_C0_RP0_VM1,vcenter=localhost:8989,vmname=DC0_C0_RP0_VM1 write_average=321i,read_average=13i 1535660339000000000\nvsphere_host_disk,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 read_average=39i,write_average=2635i 1535660339000000000\nvsphere_host_disk,disk=/var/folders/rf/txwdm4pj409f70wnkdlp7sz80000gq/T/govcsim-DC0-LocalDS_0-367088371@folder-5,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 write_average=2635i,read_average=30i 1535660339000000000\nvsphere_host_mem,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 usage_average=98.5 1535660339000000000\nvsphere_host_net,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 usage_average=1887i,bytesRx_average=662i,bytesTx_average=251i 1535660339000000000\nvsphere_host_net,esxhostname=DC0_H0,host=host.example.com,interface=vmnic0,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 usage_average=1481i,bytesTx_average=899i,bytesRx_average=992i 1535660339000000000\nvsphere_host_cpu,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 used_summation=50405i,costop_summation=2i,utilization_average=17.32,latency_average=0.61,ready_summation=14843i,usage_average=27.94,coreUtilization_average=32.12,wait_summation=3058787i,idle_summation=56600i,readiness_average=0.36 1535660339000000000\nvsphere_host_cpu,cpu=0,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 coreUtilization_average=37.61,utilization_average=17.05,used_summation=38013i,usage_average=32.66,idle_summation=89575i 1535660339000000000\nvsphere_host_cpu,cpu=1,esxhostname=DC0_H0,host=host.example.com,moid=host-19,os=Mac,source=DC0_H0,vcenter=localhost:8989 coreUtilization_average=25.92,utilization_average=18.72,used_summation=39790i,usage_average=40.42,idle_summation=69457i 1535660339000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,interface=vmnic0,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=1246i,bytesTx_average=673i,bytesRx_average=781i 1535660339000000000\nvsphere_host_cpu,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 coreUtilization_average=33.8,idle_summation=77121i,ready_summation=15857i,readiness_average=0.39,used_summation=29554i,costop_summation=2i,wait_summation=4338417i,utilization_average=17.87,latency_average=0.44,usage_average=28.78 1535660339000000000\nvsphere_host_cpu,clustername=DC0_C0,cpu=0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 idle_summation=86610i,coreUtilization_average=34.36,utilization_average=19.03,used_summation=28766i,usage_average=23.72 1535660339000000000\nvsphere_host_cpu,clustername=DC0_C0,cpu=1,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 coreUtilization_average=33.15,utilization_average=16.8,used_summation=44282i,usage_average=30.08,idle_summation=93490i 1535660339000000000\nvsphere_host_disk,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 read_average=56i,write_average=1672i 1535660339000000000\nvsphere_host_disk,clustername=DC0_C0,disk=/var/folders/rf/txwdm4pj409f70wnkdlp7sz80000gq/T/govcsim-DC0-LocalDS_0-367088371@folder-5,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 write_average=2110i,read_average=48i 1535660339000000000\nvsphere_host_mem,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=116.21 1535660339000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 bytesRx_average=726i,bytesTx_average=643i,usage_average=1504i 1535660339000000000\nvsphere_host_mem,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 usage_average=116.21 1535660339000000000\nvsphere_host_net,clustername=DC0_C0,esxhostname=DC0_C0_H0,host=host.example.com,moid=host-30,os=Mac,source=DC0_C0_H0,vcenter=localhost:8989 bytesRx_average=726i,bytesTx_average=643i,usage_average=1504i 1535660339000000000\n```\n',image:Hk.a},{id:"webhooks",name:"Webhooks",url:"telegraf-plugins/webhooks",markdown:'# Webhooks Input Plugin\n\nThis is a Telegraf service plugin that start an http server and register multiple webhook listeners.\n\n```sh\n$ telegraf config -input-filter webhooks -output-filter influxdb > config.conf.new\n```\n\nChange the config file to point to the InfluxDB server you are using and adjust the settings to match your environment. Once that is complete:\n\n```sh\n$ cp config.conf.new /etc/telegraf/telegraf.conf\n$ sudo service telegraf start\n```\n\n\n### Configuration:\n\n```toml\n[[inputs.webhooks]]\n  ## Address and port to host Webhook listener on\n  service_address = ":1619"\n\n  [inputs.webhooks.filestack]\n    path = "/filestack"\n\n  [inputs.webhooks.github]\n    path = "/github"\n    # secret = ""\n\n  [inputs.webhooks.mandrill]\n    path = "/mandrill"\n\n  [inputs.webhooks.rollbar]\n    path = "/rollbar"\n\n  [inputs.webhooks.papertrail]\n    path = "/papertrail"\n\n  [inputs.webhooks.particle]\n    path = "/particle"\n```\n\n\n### Available webhooks\n\n- [Filestack](filestack/)\n- [Github](github/)\n- [Mandrill](mandrill/)\n- [Rollbar](rollbar/)\n- [Papertrail](papertrail/)\n- [Particle](particle/)\n\n\n### Adding new webhooks plugin\n\n1. Add your webhook plugin inside the `webhooks` folder\n1. Your plugin must implement the `Webhook` interface\n1. Import your plugin in the `webhooks.go` file and add it to the `Webhooks` struct\n\nBoth [Github](github/) and [Rollbar](rollbar/) are good example to follow.\n',image:Vk.a},{id:"win_eventlog",name:"Windows Eventlog",url:"telegraf-plugins/win_eventlog",markdown:'# Windows Eventlog Input Plugin\n\n## Collect Windows Event Log messages\n\nSupports Windows Vista and higher.\n\nTelegraf should have Administrator permissions to subscribe for some of the Windows Events Channels, like System Log.\n\nTelegraf minimum version: Telegraf 1.16.0\n\n### Configuration\n\n```toml\n[[inputs.win_eventlog]]\n  ## Telegraf should have Administrator permissions to subscribe for some Windows Events channels\n  ## (System log, for example)\n\n  ## LCID (Locale ID) for event rendering\n  ## 1033 to force English language\n  ## 0 to use default Windows locale\n  # locale = 0\n\n  ## Name of eventlog, used only if xpath_query is empty\n  ## Example: "Application"\n  # eventlog_name = ""\n\n  ## xpath_query can be in defined short form like "Event/System[EventID=999]"\n  ## or you can form a XML Query. Refer to the Consuming Events article:\n  ## https://docs.microsoft.com/en-us/windows/win32/wes/consuming-events\n  ## XML query is the recommended form, because it is most flexible\n  ## You can create or debug XML Query by creating Custom View in Windows Event Viewer\n  ## and then copying resulting XML here\n  xpath_query = \'\'\'\n  <QueryList>\n    <Query Id="0" Path="Security">\n      <Select Path="Security">*</Select>\n      <Suppress Path="Security">*[System[( (EventID &gt;= 5152 and EventID &lt;= 5158) or EventID=5379 or EventID=4672)]]</Suppress>\n    </Query>\n    <Query Id="1" Path="Application">\n      <Select Path="Application">*[System[(Level &lt; 4)]]</Select>\n    </Query>\n    <Query Id="2" Path="Windows PowerShell">\n      <Select Path="Windows PowerShell">*[System[(Level &lt; 4)]]</Select>\n    </Query>\n    <Query Id="3" Path="System">\n      <Select Path="System">*</Select>\n    </Query>\n    <Query Id="4" Path="Setup">\n      <Select Path="Setup">*</Select>\n    </Query>\n  </QueryList>\n  \'\'\'\n\n  ## System field names:\n  ##   "Source", "EventID", "Version", "Level", "Task", "Opcode", "Keywords", "TimeCreated",\n  ##   "EventRecordID", "ActivityID", "RelatedActivityID", "ProcessID", "ThreadID", "ProcessName",\n  ##   "Channel", "Computer", "UserID", "UserName", "Message", "LevelText", "TaskText", "OpcodeText"\n\n  ## In addition to System, Data fields can be unrolled from additional XML nodes in event.\n  ## Human-readable representation of those nodes is formatted into event Message field,\n  ## but XML is more machine-parsable\n\n  # Process UserData XML to fields, if this node exists in Event XML\n  process_userdata = true\n\n  # Process EventData XML to fields, if this node exists in Event XML\n  process_eventdata = true\n\n  ## Separator character to use for unrolled XML Data field names\n  separator = "_"\n\n  ## Get only first line of Message field. For most events first line is usually more than enough\n  only_first_line_of_message = true\n\n  ## Fields to include as tags. Globbing supported ("Level*" for both "Level" and "LevelText")\n  event_tags = ["Source", "EventID", "Level", "LevelText", "Task", "TaskText", "Opcode", "OpcodeText", "Keywords", "Channel", "Computer"]\n\n  ## Default list of fields to send. All fields are sent by default. Globbing supported\n  event_fields = ["*"]\n\n  ## Fields to exclude. Also applied to data fields. Globbing supported\n  exclude_fields = ["Binary", "Data_Address*"]\n\n  ## Skip those tags or fields if their value is empty or equals to zero. Globbing supported\n  exclude_empty = ["*ActivityID", "UserID"]\n```\n\n### Filtering\n\nThere are three types of filtering: **Event Log** name, **XPath Query** and **XML Query**.\n\n**Event Log** name filtering is simple:\n\n```toml\n  eventlog_name = "Application"\n  xpath_query = \'\'\'\n```\n\nFor **XPath Query** filtering set the `xpath_query` value, and `eventlog_name` will be ignored:\n\n```toml\n  eventlog_name = ""\n  xpath_query = "Event/System[EventID=999]"\n```\n\n**XML Query** is the most flexible: you can Select or Suppress any values, and give ranges for other values. XML query is the recommended form, because it is most flexible. You can create or debug XML Query by creating Custom View in Windows Event Viewer and then copying resulting XML in config file.\n\nXML Query documentation:\n\n<https://docs.microsoft.com/en-us/windows/win32/wes/consuming-events>\n\n### Metrics\n\nYou can send any field, *System*, *Computed* or *XML* as tag field. List of those fields is in the `event_tags` config array. Globbing is supported in this array, i.e. `Level*` for all fields beginning with `Level`, or `L?vel` for all fields where the name is `Level`, `L3vel`, `L@vel` and so on. Tag fields are converted to strings automatically.\n\nBy default, all other fields are sent, but you can limit that either by listing it in `event_fields` config array with globbing, or by adding some field name masks in the `exclude_fields` config array.\n\nYou can limit sending fields with empty values by adding masks of names of such fields in the `exclude_empty` config array. Value considered empty, if the System field of type `int` or `uint32` is equal to zero, or if any field of type `string` is an empty string.\n\nList of System fields:\n\n- Source (string)\n- EventID (int)\n- Version (int)\n- Level (int)\n- LevelText (string)\n- Opcode (int)\n- OpcodeText (string)\n- Task (int)\n- TaskText (string)\n- Keywords (string): comma-separated in case of multiple values\n- TimeCreated (string)\n- EventRecordID (string)\n- ActivityID (string)\n- RelatedActivityID (string)\n- ProcessID (int)\n- ThreadID (int)\n- ProcessName (string): derived from ProcessID\n- Channel (string)\n- Computer (string): useful if consumed from Forwarded Events\n- UserID (string): SID\n- UserName (string): derived from UserID, presented in form of DOMAIN\\Username\n- Message (string)\n\n### Computed fields\n\nFields `Level`, `Opcode` and `Task` are converted to text and saved as computed `*Text` fields.\n\n`Keywords` field is converted from hex uint64 value by the `_EvtFormatMessage` WINAPI function. There can be more than one value, in that case they will be comma-separated. If keywords can\'t be converted (bad device driver or forwarded from another computer with unknown Event Channel), hex uint64 is saved as is.\n\n`ProcessName` field is found by looking up ProcessID. Can be empty if telegraf doesn\'t have enough permissions.\n\n`Username` field is found by looking up SID from UserID.\n\n`Message` field is rendered from the event data, and can be several kilobytes of text with line breaks. For most events the first line of this text is more then enough, and additional info is more useful to be parsed as XML fields. So, for brevity, plugin takes only the first line. You can set `only_first_line_of_message` parameter to `false` to take full message text.\n\n### Additional Fields\n\nThe content of **Event Data** and **User Data** XML Nodes can be added as additional fields, and is added by default. You can disable that by setting `process_userdata` or `process_eventdata` parameters to `false`.\n\nFor the fields from additional XML Nodes the `Name` attribute is taken as the name, and inner text is the value. Type of those fields is always string.\n\nName of the field is formed from XML Path by adding _ inbetween levels. For example, if UserData XML looks like this:\n\n```xml\n<UserData>\n <CbsPackageChangeState xmlns="http://manifests.microsoft.com/win/2004/08/windows/setup_provider">\n  <PackageIdentifier>KB4566782</PackageIdentifier>\n  <IntendedPackageState>5112</IntendedPackageState>\n  <IntendedPackageStateTextized>Installed</IntendedPackageStateTextized>\n  <ErrorCode>0x0</ErrorCode>\n  <Client>UpdateAgentLCU</Client>\n </CbsPackageChangeState>\n</UserData>\n```\n\nIt will be converted to following fields:\n\n```text\nCbsPackageChangeState_PackageIdentifier = "KB4566782"\nCbsPackageChangeState_IntendedPackageState = "5112"\nCbsPackageChangeState_IntendedPackageStateTextized = "Installed"\nCbsPackageChangeState_ErrorCode = "0x0"\nCbsPackageChangeState_Client = "UpdateAgentLCU"\n```\n\nIf there are more than one field with the same name, all those fields are given suffix with number: `_1`, `_2` and so on.\n\n### Localization\n\nHuman readable Event Description is in the Message field. But it is better to be skipped in favour of the Event XML values, because they are more machine-readable.\n\nKeywords, LevelText, TaskText, OpcodeText and Message are saved with the current Windows locale by default. You can override this, for example, to English locale by setting `locale` config parameter to `1033`. Unfortunately, **Event Data** and **User Data** XML Nodes are in default Windows locale only.\n\nLocale should be present on the computer. English locale is usually available on all localized versions of modern Windows. List of locales:\n\n<https://docs.microsoft.com/en-us/openspecs/office_standards/ms-oe376/6c085406-a698-4e12-9d4d-c3b0ee3dbc4a>\n\n### Example Output\n\nSome values are changed for anonymity.\n\n```text\nwin_eventlog,Channel=System,Computer=PC,EventID=105,Keywords=0x8000000000000000,Level=4,LevelText=Information,Opcode=10,OpcodeText=General,Source=WudfUsbccidDriver,Task=1,TaskText=Driver,host=PC ProcessName="WUDFHost.exe",UserName="NT AUTHORITY\\\\LOCAL SERVICE",Data_dwMaxCCIDMessageLength="271",Data_bPINSupport="0x0",Data_bMaxCCIDBusySlots="1",EventRecordID=1914688i,UserID="S-1-5-19",Version=0i,Data_bClassGetEnvelope="0x0",Data_wLcdLayout="0x0",Data_bClassGetResponse="0x0",TimeCreated="2020-08-21T08:43:26.7481077Z",Message="The Smartcard reader reported the following class descriptor (part 2)." 1597999410000000000\n\nwin_eventlog,Channel=Security,Computer=PC,EventID=4798,Keywords=Audit\\ Success,Level=0,LevelText=Information,Opcode=0,OpcodeText=Info,Source=Microsoft-Windows-Security-Auditing,Task=13824,TaskText=User\\ Account\\ Management,host=PC Data_TargetDomainName="PC",Data_SubjectUserName="User",Data_CallerProcessId="0x3d5c",Data_SubjectLogonId="0x46d14f8d",Version=0i,EventRecordID=223157i,Message="A user\'s local group membership was enumerated.",Data_TargetUserName="User",Data_TargetSid="S-1-5-21-.-.-.-1001",Data_SubjectUserSid="S-1-5-21-.-.-.-1001",Data_CallerProcessName="C:\\\\Windows\\\\explorer.exe",ActivityID="{0d4cc11d-7099-0002-4dc1-4c0d9970d601}",UserID="",Data_SubjectDomainName="PC",TimeCreated="2020-08-21T08:43:27.3036771Z",ProcessName="lsass.exe" 1597999410000000000\n\nwin_eventlog,Channel=Microsoft-Windows-Dhcp-Client/Admin,Computer=PC,EventID=1002,Keywords=0x4000000000000001,Level=2,LevelText=Error,Opcode=76,OpcodeText=IpLeaseDenied,Source=Microsoft-Windows-Dhcp-Client,Task=3,TaskText=Address\\ Configuration\\ State\\ Event,host=PC Version=0i,Message="The IP address lease 10.20.30.40 for the Network Card with network address 0xaabbccddeeff has been denied by the DHCP server 10.20.30.1 (The DHCP Server sent a DHCPNACK message).",UserID="S-1-5-19",Data_HWLength="6",Data_HWAddress="545595B7EA01",TimeCreated="2020-08-21T08:43:42.8265853Z",EventRecordID=34i,ProcessName="svchost.exe",UserName="NT AUTHORITY\\\\LOCAL SERVICE" 1597999430000000000\n\nwin_eventlog,Channel=System,Computer=PC,EventID=10016,Keywords=Classic,Level=3,LevelText=Warning,Opcode=0,OpcodeText=Info,Source=Microsoft-Windows-DistributedCOM,Task=0,host=PC Data_param3="Активация",Data_param6="PC",Data_param8="S-1-5-21-2007059868-50816014-3139024325-1001",Version=0i,UserName="PC\\\\User",Data_param1="по умолчанию для компьютера",Data_param2="Локально",Data_param7="User",Data_param9="LocalHost (с использованием LRPC)",Data_param10="Microsoft.Windows.ShellExperienceHost_10.0.19041.423_neutral_neutral_cw5n1h2txyewy",ActivityID="{839cac9e-73a1-4559-a847-62f3a5e73e44}",ProcessName="svchost.exe",Message="The по умолчанию для компьютера permission settings do not grant Локально Активация permission for the COM Server application with CLSID ",Data_param5="{316CDED5-E4AE-4B15-9113-7055D84DCC97}",Data_param11="S-1-15-2-.-.-.-.-.-.-2861478708",TimeCreated="2020-08-21T08:43:45.5233759Z",EventRecordID=1914689i,UserID="S-1-5-21-.-.-.-1001",Data_param4="{C2F03A33-21F5-47FA-B4BB-156362A2F239}" 1597999430000000000\n\n```\n',image:Wk.a},{id:"win_perf_counters",name:"Windows Performance Counters",url:"telegraf-plugins/win_perf_counters",markdown:'# Windows Performance Counters Input Plugin\n\nThis document presents the input plugin to read Performance Counters on Windows operating systems.\n\nThe configuration is parsed and then tested for validity, such as\nwhether the Object, Instance and Counter exist on Telegraf startup.\n\nCounter paths are refreshed periodically, see the [CountersRefreshInterval](#countersrefreshinterval)\nconfiguration parameter for more info.\n\nIn case of query for all instances `["*"]`, the plugin does not return the instance `_Total`\nby default. See [IncludeTotal](#includetotal) for more info.\n\n## Basics\n\nThe examples contained in this file have been found on the internet\nas counters used when performance monitoring\n Active Directory and IIS in particular.\n There are a lot of other good objects to monitor, if you know what to look for.\n This file is likely to be updated in the future with more examples for\n useful configurations for separate scenarios.\n\n### Plugin wide\n\nPlugin wide entries are underneath `[[inputs.win_perf_counters]]`.\n\n#### PrintValid\n\nBool, if set to `true` will print out all matching performance objects.\n\nExample:\n`PrintValid=true`\n\n#### UseWildcardsExpansion\n\nIf `UseWildcardsExpansion` is set to true, wildcards can be used in the\ninstance name and the counter name.  When using localized Windows, counters\nwill be also be localized.  Instance indexes will also be returned in the\ninstance name.\n\nPartial wildcards (e.g. `chrome*`) are supported only in the instance name on Windows Vista and newer.\n\nIf disabled, wildcards (not partial) in instance names can still be used, but\ninstance indexes will not be returned in the instance names.\n\nExample:\n`UseWildcardsExpansion=true`\n\n#### CountersRefreshInterval\n\nConfigured counters are matched against available counters at the interval\nspecified by the `CountersRefreshInterval` parameter. The default value is `1m` (1 minute).\n\nIf wildcards are used in instance or counter names, they are expanded at this point, if the `UseWildcardsExpansion` param is set to `true`.\n\nSetting the `CountersRefreshInterval` too low (order of seconds) can cause Telegraf to create\na high CPU load.\n\nSet it to `0s` to disable periodic refreshing.\n\nExample:\n`CountersRefreshInterval=1m`\n\n#### PreVistaSupport\n\n_Deprecated. Necessary features on Windows Vista and newer are checked dynamically_\n\nBool, if set to `true`, the plugin will use the localized PerfCounter interface that has been present since before Vista for backwards compatability.\n\nIt is recommended NOT to use this on OSes starting with Vista and newer because it requires more configuration to use this than the newer interface present since Vista.\n\nExample for Windows Server 2003, this would be set to true:\n`PreVistaSupport=true`\n\n#### UsePerfCounterTime\n\nBool, if set to `true` will request a timestamp along with the PerfCounter data. \nIf se to `false`, current time will be used.\n\nSupported on Windows Vista/Windows Server 2008 and newer\nExample:\n`UsePerfCounterTime=true`\n\n### Object\n\nSee Entry below.\n\n### Entry\nA new configuration entry consists of the TOML header starting with,\n`[[inputs.win_perf_counters.object]]`.\nThis must follow before other plugin configurations,\nbeneath the main win_perf_counters entry, `[[inputs.win_perf_counters]]`.\n\nFollowing this are 3 required key/value pairs and three optional parameters and their usage.\n\n#### ObjectName\n**Required**\n\nObjectName is the Object to query for, like Processor, DirectoryServices, LogicalDisk or similar.\n\nExample: `ObjectName = "LogicalDisk"`\n\n#### Instances\n**Required**\n\nThe instances key (this is an array) declares the instances of a counter you would like returned,\nit can be one or more values.\n\nExample: `Instances = ["C:","D:","E:"]`\n\nThis will return only for the instances\nC:, D: and E: where relevant. To get all instances of a Counter, use `["*"]` only.\nBy default any results containing `_Total` are stripped,\nunless this is specified as the wanted instance.\nAlternatively see the option `IncludeTotal` below.\n\nIt is also possible to set partial wildcards, eg. `["chrome*"]`, if the `UseWildcardsExpansion` param is set to `true`\n\nSome Objects do not have instances to select from at all.\nHere only one option is valid if you want data back,\nand that is to specify `Instances = ["------"]`.\n\n#### Counters\n**Required**\n\nThe Counters key (this is an array) declares the counters of the ObjectName\nyou would like returned, it can also be one or more values.\n\nExample: `Counters = ["% Idle Time", "% Disk Read Time", "% Disk Write Time"]`\n\nThis must be specified for every counter you want the results of, or use\n`["*"]` for all the counters of the object, if the `UseWildcardsExpansion` param\nis set to `true`.\n\n#### Measurement\n*Optional*\n\nThis key is optional. If it is not set it will be `win_perf_counters`.\nIn InfluxDB this is the key underneath which the returned data is stored.\nSo for ordering your data in a good manner,\nthis is a good key to set with a value when you want your IIS and Disk results stored\nseparately from Processor results.\n\nExample: `Measurement = "win_disk"``\n\n#### IncludeTotal\n*Optional*\n\nThis key is optional. It is a simple bool.\nIf it is not set to true or included it is treated as false.\nThis key only has effect if the Instances key is set to `["*"]`\nand you would also like all instances containing `_Total` to be returned,\nlike `_Total`, `0,_Total` and so on where applicable\n(Processor Information is one example).\n\n#### WarnOnMissing\n*Optional*\n\nThis key is optional. It is a simple bool.\nIf it is not set to true or included it is treated as false.\nThis only has effect on the first execution of the plugin.\nIt will print out any ObjectName/Instance/Counter combinations\nasked for that do not match. Useful when debugging new configurations.\n\n#### FailOnMissing\n*Internal*\n\nThis key should not be used. It is for testing purposes only.\nIt is a simple bool. If it is not set to true or included this is treated as false.\nIf this is set to true, the plugin will abort and end prematurely\nif any of the combinations of ObjectName/Instances/Counters are invalid.\n\n## Examples\n\n### Generic Queries\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    # Processor usage, alternative to native, reports on a per core.\n    ObjectName = "Processor"\n    Instances = ["*"]\n    Counters = ["% Idle Time", "% Interrupt Time", "% Privileged Time", "% User Time", "% Processor Time"]\n    Measurement = "win_cpu"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # Disk times and queues\n    ObjectName = "LogicalDisk"\n    Instances = ["*"]\n    Counters = ["% Idle Time", "% Disk Time","% Disk Read Time", "% Disk Write Time", "% User Time", "Current Disk Queue Length"]\n    Measurement = "win_disk"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    ObjectName = "System"\n    Counters = ["Context Switches/sec","System Calls/sec", "Processor Queue Length"]\n    Instances = ["------"]\n    Measurement = "win_system"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # Example query where the Instance portion must be removed to get data back, such as from the Memory object.\n    ObjectName = "Memory"\n    Counters = ["Available Bytes","Cache Faults/sec","Demand Zero Faults/sec","Page Faults/sec","Pages/sec","Transition Faults/sec","Pool Nonpaged Bytes","Pool Paged Bytes"]\n    Instances = ["------"] # Use 6 x - to remove the Instance bit from the query.\n    Measurement = "win_mem"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # more counters for the Network Interface Object can be found at\n    # https://msdn.microsoft.com/en-us/library/ms803962.aspx\n    ObjectName = "Network Interface"\n    Counters = ["Bytes Received/sec","Bytes Sent/sec","Packets Received/sec","Packets Sent/sec"]\n    Instances = ["*"] # Use 6 x - to remove the Instance bit from the query.\n    Measurement = "win_net"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n```\n\n### Active Directory Domain Controller\n```toml\n[[inputs.win_perf_counters]]\n  [inputs.win_perf_counters.tags]\n    monitorgroup = "ActiveDirectory"\n  [[inputs.win_perf_counters.object]]\n    ObjectName = "DirectoryServices"\n    Instances = ["*"]\n    Counters = ["Base Searches/sec","Database adds/sec","Database deletes/sec","Database modifys/sec","Database recycles/sec","LDAP Client Sessions","LDAP Searches/sec","LDAP Writes/sec"]\n    Measurement = "win_ad" # Set an alternative measurement to win_perf_counters if wanted.\n    #Instances = [""] # Gathers all instances by default, specify to only gather these\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    ObjectName = "Security System-Wide Statistics"\n    Instances = ["*"]\n    Counters = ["NTLM Authentications","Kerberos Authentications","Digest Authentications"]\n    Measurement = "win_ad"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    ObjectName = "Database"\n    Instances = ["*"]\n    Counters = ["Database Cache % Hit","Database Cache Page Fault Stalls/sec","Database Cache Page Faults/sec","Database Cache Size"]\n    Measurement = "win_db"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n```\n\n### DFS Namespace + Domain Controllers\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    # AD, DFS N, Useful if the server hosts a DFS Namespace or is a Domain Controller\n    ObjectName = "DFS Namespace Service Referrals"\n    Instances = ["*"]\n    Counters = ["Requests Processed","Requests Failed","Avg. Response Time"]\n    Measurement = "win_dfsn"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n    #WarnOnMissing = false # Print out when the performance counter is missing, either of object, counter or instance.\n```\n\n### DFS Replication + Domain Controllers\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    # AD, DFS R, Useful if the server hosts a DFS Replication folder or is a Domain Controller\n    ObjectName = "DFS Replication Service Volumes"\n    Instances = ["*"]\n    Counters = ["Data Lookups","Database Commits"]\n    Measurement = "win_dfsr"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n    #WarnOnMissing = false # Print out when the performance counter is missing, either of object, counter or instance.\n```\n\n### DNS Server + Domain Controllers\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    ObjectName = "DNS"\n    Counters = ["Dynamic Update Received","Dynamic Update Rejected","Recursive Queries","Recursive Queries Failure","Secure Update Failure","Secure Update Received","TCP Query Received","TCP Response Sent","UDP Query Received","UDP Response Sent","Total Query Received","Total Response Sent"]\n    Instances = ["------"]\n    Measurement = "win_dns"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n```\n\n### IIS / ASP.NET\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    # HTTP Service request queues in the Kernel before being handed over to User Mode.\n    ObjectName = "HTTP Service Request Queues"\n    Instances = ["*"]\n    Counters = ["CurrentQueueSize","RejectedRequests"]\n    Measurement = "win_http_queues"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # IIS, ASP.NET Applications\n    ObjectName = "ASP.NET Applications"\n    Counters = ["Cache Total Entries","Cache Total Hit Ratio","Cache Total Turnover Rate","Output Cache Entries","Output Cache Hits","Output Cache Hit Ratio","Output Cache Turnover Rate","Compilations Total","Errors Total/Sec","Pipeline Instance Count","Requests Executing","Requests in Application Queue","Requests/Sec"]\n    Instances = ["*"]\n    Measurement = "win_aspnet_app"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # IIS, ASP.NET\n    ObjectName = "ASP.NET"\n    Counters = ["Application Restarts","Request Wait Time","Requests Current","Requests Queued","Requests Rejected"]\n    Instances = ["*"]\n    Measurement = "win_aspnet"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # IIS, Web Service\n    ObjectName = "Web Service"\n    Counters = ["Get Requests/sec","Post Requests/sec","Connection Attempts/sec","Current Connections","ISAPI Extension Requests/sec"]\n    Instances = ["*"]\n    Measurement = "win_websvc"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # Web Service Cache / IIS\n    ObjectName = "Web Service Cache"\n    Counters = ["URI Cache Hits %","Kernel: URI Cache Hits %","File Cache Hits %"]\n    Instances = ["*"]\n    Measurement = "win_websvc_cache"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n```\n\n### Process\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    # Process metrics, in this case for IIS only\n    ObjectName = "Process"\n    Counters = ["% Processor Time","Handle Count","Private Bytes","Thread Count","Virtual Bytes","Working Set"]\n    Instances = ["w3wp"]\n    Measurement = "win_proc"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n```\n\n### .NET Monitoring\n```toml\n[[inputs.win_perf_counters]]\n  [[inputs.win_perf_counters.object]]\n    # .NET CLR Exceptions, in this case for IIS only\n    ObjectName = ".NET CLR Exceptions"\n    Counters = ["# of Exceps Thrown / sec"]\n    Instances = ["w3wp"]\n    Measurement = "win_dotnet_exceptions"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # .NET CLR Jit, in this case for IIS only\n    ObjectName = ".NET CLR Jit"\n    Counters = ["% Time in Jit","IL Bytes Jitted / sec"]\n    Instances = ["w3wp"]\n    Measurement = "win_dotnet_jit"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # .NET CLR Loading, in this case for IIS only\n    ObjectName = ".NET CLR Loading"\n    Counters = ["% Time Loading"]\n    Instances = ["w3wp"]\n    Measurement = "win_dotnet_loading"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # .NET CLR LocksAndThreads, in this case for IIS only\n    ObjectName = ".NET CLR LocksAndThreads"\n    Counters = ["# of current logical Threads","# of current physical Threads","# of current recognized threads","# of total recognized threads","Queue Length / sec","Total # of Contentions","Current Queue Length"]\n    Instances = ["w3wp"]\n    Measurement = "win_dotnet_locks"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # .NET CLR Memory, in this case for IIS only\n    ObjectName = ".NET CLR Memory"\n    Counters = ["% Time in GC","# Bytes in all Heaps","# Gen 0 Collections","# Gen 1 Collections","# Gen 2 Collections","# Induced GC","Allocated Bytes/sec","Finalization Survivors","Gen 0 heap size","Gen 1 heap size","Gen 2 heap size","Large Object Heap size","# of Pinned Objects"]\n    Instances = ["w3wp"]\n    Measurement = "win_dotnet_mem"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n\n  [[inputs.win_perf_counters.object]]\n    # .NET CLR Security, in this case for IIS only\n    ObjectName = ".NET CLR Security"\n    Counters = ["% Time in RT checks","Stack Walk Depth","Total Runtime Checks"]\n    Instances = ["w3wp"]\n    Measurement = "win_dotnet_security"\n    #IncludeTotal=false #Set to true to include _Total instance when querying for all (*).\n```\n\n## Troubleshooting\n\nIf you are getting an error about an invalid counter, use the `typeperf` command to check the counter path\non the command line.\nE.g. `typeperf "Process(chrome*)\\% Processor Time"`\n\nIf no metrics are emitted even with the default config, you may need to repair\nyour performance counters.\n\n1. Launch the Command Prompt as Administrator (right click Runs As Administrator).\n1. Drop into the C:\\WINDOWS\\System32 directory by typing `C:` then `cd \\Windows\\System32`\n1. Rebuild your counter values, which may take a few moments so please be\n   patient, by running:\n   ```\n   lodctr /r\n   ```\n',image:Qk.a},{id:"win_services",name:"Windows Services",url:"telegraf-plugins/win_services",markdown:"# Windows Services Input Plugin\n\nReports information about Windows service status.\n\nMonitoring some services may require running Telegraf with administrator privileges.\n\n### Configuration:\n\n```toml\n[[inputs.win_services]]\n  ## Names of the services to monitor. Leave empty to monitor all the available services on the host\n  service_names = [\n    \"LanmanServer\",\n    \"TermService\",\n  ]\n```\n\n### Measurements & Fields:\n\n- win_services\n    - state : integer\n    - startup_mode : integer\n\nThe `state` field can have the following values:\n- 1 - stopped\n- 2 - start pending\n- 3 - stop pending\n- 4 - running\n- 5 - continue pending\n- 6 - pause pending\n- 7 - paused\n\nThe `startup_mode` field can have the following values:\n- 0 - boot start\n- 1 - system start\n- 2 - auto start\n- 3 - demand start\n- 4 - disabled\n\n### Tags:\n\n- All measurements have the following tags:\n    - service_name\n    - display_name\n\n### Example Output:\n```\nwin_services,host=WIN2008R2H401,display_name=Server,service_name=LanmanServer state=4i,startup_mode=2i 1500040669000000000\nwin_services,display_name=Remote\\ Desktop\\ Services,service_name=TermService,host=WIN2008R2H401 state=1i,startup_mode=3i 1500040669000000000\n```\n### TICK Scripts\n\nA sample TICK script for a notification about a not running service.\nIt sends a notification whenever any service changes its state to be not _running_ and when it changes that state back to _running_.\nThe notification is sent via an HTTP POST call.\n\n```\nstream\n    |from()\n        .database('telegraf')\n        .retentionPolicy('autogen')\n        .measurement('win_services')\n        .groupBy('host','service_name')\n    |alert()\n        .crit(lambda: \"state\" != 4)\n        .stateChangesOnly()\n        .message('Service {{ index .Tags \"service_name\" }} on Host {{ index .Tags \"host\" }} is in state {{ index .Fields \"state\" }} ')\n        .post('http://localhost:666/alert/service')\n```\n",image:Xk.a},{id:"wireguard",name:"Wireguard",url:"telegraf-plugins/wireguard",markdown:'# Wireguard Input Plugin\n\nThe Wireguard input plugin collects statistics on the local Wireguard server\nusing the [`wgctrl`](https://github.com/WireGuard/wgctrl-go) library. It\nreports gauge metrics for Wireguard interface device(s) and its peers.\n\n### Configuration\n\n```toml\n# Collect Wireguard server interface and peer statistics\n[[inputs.wireguard]]\n  ## Optional list of Wireguard device/interface names to query.\n  ## If omitted, all Wireguard interfaces are queried.\n  # devices = ["wg0"]\n```\n\n### Metrics\n\n- `wireguard_device`\n  - tags:\n    - `name` (interface device name, e.g. `wg0`)\n    - `type` (Wireguard tunnel type, e.g. `linux_kernel` or `userspace`)\n  - fields:\n    - `listen_port` (int, UDP port on which the interface is listening)\n    - `firewall_mark` (int, device\'s current firewall mark)\n    - `peers` (int, number of peers associated with the device)\n\n- `wireguard_peer`\n  - tags:\n    - `device` (associated interface device name, e.g. `wg0`)\n    - `public_key` (peer public key, e.g. `NZTRIrv/ClTcQoNAnChEot+WL7OH7uEGQmx8oAN9rWE=`)\n  - fields:\n    - `persistent_keepalive_interval_ns` (int, keepalive interval in nanoseconds; 0 if unset)\n    - `protocol_version` (int, Wireguard protocol version number)\n    - `allowed_ips` (int, number of allowed IPs for this peer)\n    - `last_handshake_time_ns` (int, Unix timestamp of the last handshake for this peer in nanoseconds)\n    - `rx_bytes` (int, number of bytes received from this peer)\n    - `tx_bytes` (int, number of bytes transmitted to this peer)\n\n### Troubleshooting\n\n#### Error: `operation not permitted`\n\nWhen the kernelspace implementation of Wireguard is in use (as opposed to its\nuserspace implementations), Telegraf communicates with the module over netlink.\nThis requires Telegraf to either run as root, or for the Telegraf binary to\nhave the `CAP_NET_ADMIN` capability.\n\nTo add this capability to the Telegraf binary (to allow this communication under\nthe default user `telegraf`):\n\n```bash\n$ sudo setcap CAP_NET_ADMIN+epi $(which telegraf)\n```\n\nN.B.: This capability is a filesystem attribute on the binary itself. The\nattribute needs to be re-applied if the Telegraf binary is rotated (e.g.\non installation of new a Telegraf version from the system package manager).\n\n#### Error: `error enumerating Wireguard devices`\n\nThis usually happens when the device names specified in config are invalid.\nEnsure that `sudo wg show` succeeds, and that the device names in config match\nthose printed by this command.\n\n### Example Output\n\n```\nwireguard_device,host=WGVPN,name=wg0,type=linux_kernel firewall_mark=51820i,listen_port=58216i 1582513589000000000\nwireguard_device,host=WGVPN,name=wg0,type=linux_kernel peers=1i 1582513589000000000\nwireguard_peer,device=wg0,host=WGVPN,public_key=NZTRIrv/ClTcQoNAnChEot+WL7OH7uEGQmx8oAN9rWE= allowed_ips=2i,persistent_keepalive_interval_ns=60000000000i,protocol_version=1i 1582513589000000000\nwireguard_peer,device=wg0,host=WGVPN,public_key=NZTRIrv/ClTcQoNAnChEot+WL7OH7uEGQmx8oAN9rWE= last_handshake_time_ns=1582513584530013376i,rx_bytes=6484i,tx_bytes=13540i 1582513589000000000\n```\n',image:Jk.a},{id:"wireless",name:"Wireless",url:"telegraf-plugins/wireless",markdown:"# Wireless Input Plugin\n\nThe wireless plugin gathers metrics about wireless link quality by reading the `/proc/net/wireless` file. This plugin currently supports linux only.\n\n### Configuration:\n\n```toml\n# Monitor wifi signal strength and quality\n[[inputs.wireless]]\n  ## Sets 'proc' directory path\n  ## If not specified, then default is /proc\n  # host_proc = \"/proc\"\n```\n\n### Metrics:\n\n- metric\n  - tags:\n    - interface (wireless interface)\n  - fields:\n    - status (int64, gauge) - Its current state. This is a device dependent information\n    - link (int64, percentage, gauge) - general quality of the reception\n    - level (int64, dBm, gauge) - signal strength at the receiver\n    - noise (int64, dBm, gauge) - silence level (no packet) at the receiver\n    - nwid (int64, packets, counter) - number of discarded packets due to invalid network id\n    - crypt (int64, packets, counter) - number of packet unable to decrypt\n    - frag (int64, packets, counter) - fragmented packets\n    - retry (int64, packets, counter) - cumulative retry counts\n    - misc (int64, packets, counter) - dropped for un-specified reason\n    - missed_beacon (int64, packets, counter) - missed beacon packets\n\n### Example Output:\n\nThis section shows example output in Line Protocol format.\n\n```\nwireless,host=example.localdomain,interface=wlan0 misc=0i,frag=0i,link=60i,level=-50i,noise=-256i,nwid=0i,crypt=0i,retry=1525i,missed_beacon=0i,status=0i 1519843022000000000\n```\n",image:tS.a},{id:"x509_cert",name:"x509 Certificate",url:"telegraf-plugins/x509_cert",markdown:'# x509 Certificate Input Plugin\n\nThis plugin provides information about X509 certificate accessible via local\nfile or network connection.\n\n\n### Configuration\n\n```toml\n# Reads metrics from a SSL certificate\n[[inputs.x509_cert]]\n  ## List certificate sources\n  sources = ["/etc/ssl/certs/ssl-cert-snakeoil.pem", "https://example.org:443"]\n\n  ## Timeout for SSL connection\n  # timeout = "5s"\n\n  ## Pass a different name into the TLS request (Server Name Indication)\n  ##   example: server_name = "myhost.example.org"\n  # server_name = "myhost.example.org"\n\n  ## Optional TLS Config\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n```\n\n\n### Metrics\n\n- x509_cert\n  - tags:\n    - source - source of the certificate\n    - organization\n    - organizational_unit\n    - country\n    - province\n    - locality\n    - verification\n    - serial_number\n    - signature_algorithm\n    - public_key_algorithm\n    - issuer_common_name\n    - issuer_serial_number\n    - san\n  - fields:\n    - verification_code (int)\n    - verification_error (string)\n    - expiry (int, seconds)\n    - age (int, seconds)\n    - startdate (int, seconds)\n    - enddate (int, seconds)\n\n\n### Example output\n\n```\nx509_cert,common_name=ubuntu,source=/etc/ssl/certs/ssl-cert-snakeoil.pem,verification=valid age=7693222i,enddate=1871249033i,expiry=307666777i,startdate=1555889033i,verification_code=0i 1563582256000000000\nx509_cert,common_name=www.example.org,country=US,locality=Los\\ Angeles,organization=Internet\\ Corporation\\ for\\ Assigned\\ Names\\ and\\ Numbers,organizational_unit=Technology,province=California,source=https://example.org:443,verification=invalid age=20219055i,enddate=1606910400i,expiry=43328144i,startdate=1543363200i,verification_code=1i,verification_error="x509: certificate signed by unknown authority" 1563582256000000000\nx509_cert,common_name=DigiCert\\ SHA2\\ Secure\\ Server\\ CA,country=US,organization=DigiCert\\ Inc,source=https://example.org:443,verification=valid age=200838255i,enddate=1678276800i,expiry=114694544i,startdate=1362744000i,verification_code=0i 1563582256000000000\nx509_cert,common_name=DigiCert\\ Global\\ Root\\ CA,country=US,organization=DigiCert\\ Inc,organizational_unit=www.digicert.com,source=https://example.org:443,verification=valid age=400465455i,enddate=1952035200i,expiry=388452944i,startdate=1163116800i,verification_code=0i 1563582256000000000\n```\n',image:aS.a},{id:"zfs",name:"ZFS",url:"telegraf-plugins/zfs",markdown:'# ZFS Input Plugin\n\nThis ZFS plugin provides metrics from your ZFS filesystems. It supports ZFS on\nLinux and FreeBSD. It gets ZFS stat from `/proc/spl/kstat/zfs` on Linux and\nfrom `sysctl` and `zpool` on FreeBSD.\n\n### Configuration:\n\n```toml\n[[inputs.zfs]]\n  ## ZFS kstat path. Ignored on FreeBSD\n  ## If not specified, then default is:\n  # kstatPath = "/proc/spl/kstat/zfs"\n\n  ## By default, telegraf gather all zfs stats\n  ## Override the stats list using the kstatMetrics array:\n  ## For FreeBSD, the default is:\n  # kstatMetrics = ["arcstats", "zfetchstats", "vdev_cache_stats"]\n  ## For Linux, the default is:\n  # kstatMetrics = ["abdstats", "arcstats", "dnodestats", "dbufcachestats",\n  #     "dmu_tx", "fm", "vdev_mirror_stats", "zfetchstats", "zil"]\n\n  ## By default, don\'t gather zpool stats\n  # poolMetrics = false\n```\n\n### Measurements & Fields:\n\nBy default this plugin collects metrics about ZFS internals and pool.\nThese metrics are either counters or measure sizes\nin bytes. These metrics will be in the `zfs` measurement with the field\nnames listed bellow.\n\nIf `poolMetrics` is enabled then additional metrics will be gathered for\neach pool.\n\n- zfs\n    With fields listed bellow.\n\n#### ARC Stats (FreeBSD and Linux)\n\n- arcstats_allocated (FreeBSD only)\n- arcstats_anon_evict_data (Linux only)\n- arcstats_anon_evict_metadata (Linux only)\n- arcstats_anon_evictable_data (FreeBSD only)\n- arcstats_anon_evictable_metadata (FreeBSD only)\n- arcstats_anon_size\n- arcstats_arc_loaned_bytes (Linux only)\n- arcstats_arc_meta_limit\n- arcstats_arc_meta_max\n- arcstats_arc_meta_min (FreeBSD only)\n- arcstats_arc_meta_used\n- arcstats_arc_no_grow (Linux only)\n- arcstats_arc_prune (Linux only)\n- arcstats_arc_tempreserve (Linux only)\n- arcstats_c\n- arcstats_c_max\n- arcstats_c_min\n- arcstats_data_size\n- arcstats_deleted\n- arcstats_demand_data_hits\n- arcstats_demand_data_misses\n- arcstats_demand_hit_predictive_prefetch (FreeBSD only)\n- arcstats_demand_metadata_hits\n- arcstats_demand_metadata_misses\n- arcstats_duplicate_buffers\n- arcstats_duplicate_buffers_size\n- arcstats_duplicate_reads\n- arcstats_evict_l2_cached\n- arcstats_evict_l2_eligible\n- arcstats_evict_l2_ineligible\n- arcstats_evict_l2_skip (FreeBSD only)\n- arcstats_evict_not_enough (FreeBSD only)\n- arcstats_evict_skip\n- arcstats_hash_chain_max\n- arcstats_hash_chains\n- arcstats_hash_collisions\n- arcstats_hash_elements\n- arcstats_hash_elements_max\n- arcstats_hdr_size\n- arcstats_hits\n- arcstats_l2_abort_lowmem\n- arcstats_l2_asize\n- arcstats_l2_cdata_free_on_write\n- arcstats_l2_cksum_bad\n- arcstats_l2_compress_failures\n- arcstats_l2_compress_successes\n- arcstats_l2_compress_zeros\n- arcstats_l2_evict_l1cached (FreeBSD only)\n- arcstats_l2_evict_lock_retry\n- arcstats_l2_evict_reading\n- arcstats_l2_feeds\n- arcstats_l2_free_on_write\n- arcstats_l2_hdr_size\n- arcstats_l2_hits\n- arcstats_l2_io_error\n- arcstats_l2_misses\n- arcstats_l2_read_bytes\n- arcstats_l2_rw_clash\n- arcstats_l2_size\n- arcstats_l2_write_buffer_bytes_scanned (FreeBSD only)\n- arcstats_l2_write_buffer_iter (FreeBSD only)\n- arcstats_l2_write_buffer_list_iter (FreeBSD only)\n- arcstats_l2_write_buffer_list_null_iter (FreeBSD only)\n- arcstats_l2_write_bytes\n- arcstats_l2_write_full (FreeBSD only)\n- arcstats_l2_write_in_l2 (FreeBSD only)\n- arcstats_l2_write_io_in_progress (FreeBSD only)\n- arcstats_l2_write_not_cacheable (FreeBSD only)\n- arcstats_l2_write_passed_headroom (FreeBSD only)\n- arcstats_l2_write_pios (FreeBSD only)\n- arcstats_l2_write_spa_mismatch (FreeBSD only)\n- arcstats_l2_write_trylock_fail (FreeBSD only)\n- arcstats_l2_writes_done\n- arcstats_l2_writes_error\n- arcstats_l2_writes_hdr_miss (Linux only)\n- arcstats_l2_writes_lock_retry (FreeBSD only)\n- arcstats_l2_writes_sent\n- arcstats_memory_direct_count (Linux only)\n- arcstats_memory_indirect_count (Linux only)\n- arcstats_memory_throttle_count\n- arcstats_meta_size (Linux only)\n- arcstats_mfu_evict_data (Linux only)\n- arcstats_mfu_evict_metadata (Linux only)\n- arcstats_mfu_ghost_evict_data (Linux only)\n- arcstats_mfu_ghost_evict_metadata (Linux only)\n- arcstats_metadata_size (FreeBSD only)\n- arcstats_mfu_evictable_data (FreeBSD only)\n- arcstats_mfu_evictable_metadata (FreeBSD only)\n- arcstats_mfu_ghost_evictable_data (FreeBSD only)\n- arcstats_mfu_ghost_evictable_metadata (FreeBSD only)\n- arcstats_mfu_ghost_hits\n- arcstats_mfu_ghost_size\n- arcstats_mfu_hits\n- arcstats_mfu_size\n- arcstats_misses\n- arcstats_mru_evict_data (Linux only)\n- arcstats_mru_evict_metadata (Linux only)\n- arcstats_mru_ghost_evict_data (Linux only)\n- arcstats_mru_ghost_evict_metadata (Linux only)\n- arcstats_mru_evictable_data (FreeBSD only)\n- arcstats_mru_evictable_metadata (FreeBSD only)\n- arcstats_mru_ghost_evictable_data (FreeBSD only)\n- arcstats_mru_ghost_evictable_metadata (FreeBSD only)\n- arcstats_mru_ghost_hits\n- arcstats_mru_ghost_size\n- arcstats_mru_hits\n- arcstats_mru_size\n- arcstats_mutex_miss\n- arcstats_other_size\n- arcstats_p\n- arcstats_prefetch_data_hits\n- arcstats_prefetch_data_misses\n- arcstats_prefetch_metadata_hits\n- arcstats_prefetch_metadata_misses\n- arcstats_recycle_miss (Linux only)\n- arcstats_size\n- arcstats_sync_wait_for_async (FreeBSD only)\n\n#### Zfetch Stats (FreeBSD and Linux)\n\n- zfetchstats_bogus_streams (Linux only)\n- zfetchstats_colinear_hits (Linux only)\n- zfetchstats_colinear_misses (Linux only)\n- zfetchstats_hits\n- zfetchstats_max_streams (FreeBSD only)\n- zfetchstats_misses\n- zfetchstats_reclaim_failures (Linux only)\n- zfetchstats_reclaim_successes (Linux only)\n- zfetchstats_streams_noresets (Linux only)\n- zfetchstats_streams_resets (Linux only)\n- zfetchstats_stride_hits (Linux only)\n- zfetchstats_stride_misses (Linux only)\n\n#### Vdev Cache Stats (FreeBSD)\n\n- vdev_cache_stats_delegations\n- vdev_cache_stats_hits\n- vdev_cache_stats_misses\n\n#### Pool Metrics (optional)\n\nOn Linux (reference: kstat accumulated time and queue length statistics):\n\n- zfs_pool\n    - nread (integer, bytes)\n    - nwritten (integer, bytes)\n    - reads (integer, count)\n    - writes (integer, count)\n    - wtime (integer, nanoseconds) \n    - wlentime (integer, queuelength * nanoseconds)\n    - wupdate (integer, timestamp)\n    - rtime (integer, nanoseconds)\n    - rlentime (integer, queuelength * nanoseconds)\n    - rupdate (integer, timestamp)\n    - wcnt (integer, count)\n    - rcnt (integer, count)\n\nOn FreeBSD:\n\n- zfs_pool\n    - allocated (integer, bytes)\n    - capacity (integer, bytes)\n    - dedupratio (float, ratio)\n    - free (integer, bytes)\n    - size (integer, bytes)\n    - fragmentation (integer, percent)\n\n### Tags:\n\n- ZFS stats (`zfs`) will have the following tag:\n    - pools - A `::` concatenated list of all ZFS pools on the machine.\n\n- Pool metrics (`zfs_pool`) will have the following tag:\n    - pool - with the name of the pool which the metrics are for.\n    - health - the health status of the pool. (FreeBSD only)\n\n### Example Output:\n\n```\n$ ./telegraf --config telegraf.conf --input-filter zfs --test\n* Plugin: zfs, Collection 1\n> zfs_pool,health=ONLINE,pool=zroot allocated=1578590208i,capacity=2i,dedupratio=1,fragmentation=1i,free=64456531968i,size=66035122176i 1464473103625653908\n> zfs,pools=zroot arcstats_allocated=4167764i,arcstats_anon_evictable_data=0i,arcstats_anon_evictable_metadata=0i,arcstats_anon_size=16896i,arcstats_arc_meta_limit=10485760i,arcstats_arc_meta_max=115269568i,arcstats_arc_meta_min=8388608i,arcstats_arc_meta_used=51977456i,arcstats_c=16777216i,arcstats_c_max=41943040i,arcstats_c_min=16777216i,arcstats_data_size=0i,arcstats_deleted=1699340i,arcstats_demand_data_hits=14836131i,arcstats_demand_data_misses=2842945i,arcstats_demand_hit_predictive_prefetch=0i,arcstats_demand_metadata_hits=1655006i,arcstats_demand_metadata_misses=830074i,arcstats_duplicate_buffers=0i,arcstats_duplicate_buffers_size=0i,arcstats_duplicate_reads=123i,arcstats_evict_l2_cached=0i,arcstats_evict_l2_eligible=332172623872i,arcstats_evict_l2_ineligible=6168576i,arcstats_evict_l2_skip=0i,arcstats_evict_not_enough=12189444i,arcstats_evict_skip=195190764i,arcstats_hash_chain_max=2i,arcstats_hash_chains=10i,arcstats_hash_collisions=43134i,arcstats_hash_elements=2268i,arcstats_hash_elements_max=6136i,arcstats_hdr_size=565632i,arcstats_hits=16515778i,arcstats_l2_abort_lowmem=0i,arcstats_l2_asize=0i,arcstats_l2_cdata_free_on_write=0i,arcstats_l2_cksum_bad=0i,arcstats_l2_compress_failures=0i,arcstats_l2_compress_successes=0i,arcstats_l2_compress_zeros=0i,arcstats_l2_evict_l1cached=0i,arcstats_l2_evict_lock_retry=0i,arcstats_l2_evict_reading=0i,arcstats_l2_feeds=0i,arcstats_l2_free_on_write=0i,arcstats_l2_hdr_size=0i,arcstats_l2_hits=0i,arcstats_l2_io_error=0i,arcstats_l2_misses=0i,arcstats_l2_read_bytes=0i,arcstats_l2_rw_clash=0i,arcstats_l2_size=0i,arcstats_l2_write_buffer_bytes_scanned=0i,arcstats_l2_write_buffer_iter=0i,arcstats_l2_write_buffer_list_iter=0i,arcstats_l2_write_buffer_list_null_iter=0i,arcstats_l2_write_bytes=0i,arcstats_l2_write_full=0i,arcstats_l2_write_in_l2=0i,arcstats_l2_write_io_in_progress=0i,arcstats_l2_write_not_cacheable=380i,arcstats_l2_write_passed_headroom=0i,arcstats_l2_write_pios=0i,arcstats_l2_write_spa_mismatch=0i,arcstats_l2_write_trylock_fail=0i,arcstats_l2_writes_done=0i,arcstats_l2_writes_error=0i,arcstats_l2_writes_lock_retry=0i,arcstats_l2_writes_sent=0i,arcstats_memory_throttle_count=0i,arcstats_metadata_size=17014784i,arcstats_mfu_evictable_data=0i,arcstats_mfu_evictable_metadata=16384i,arcstats_mfu_ghost_evictable_data=5723648i,arcstats_mfu_ghost_evictable_metadata=10709504i,arcstats_mfu_ghost_hits=1315619i,arcstats_mfu_ghost_size=16433152i,arcstats_mfu_hits=7646611i,arcstats_mfu_size=305152i,arcstats_misses=3676993i,arcstats_mru_evictable_data=0i,arcstats_mru_evictable_metadata=0i,arcstats_mru_ghost_evictable_data=0i,arcstats_mru_ghost_evictable_metadata=80896i,arcstats_mru_ghost_hits=324250i,arcstats_mru_ghost_size=80896i,arcstats_mru_hits=8844526i,arcstats_mru_size=16693248i,arcstats_mutex_miss=354023i,arcstats_other_size=34397040i,arcstats_p=4172800i,arcstats_prefetch_data_hits=0i,arcstats_prefetch_data_misses=0i,arcstats_prefetch_metadata_hits=24641i,arcstats_prefetch_metadata_misses=3974i,arcstats_size=51977456i,arcstats_sync_wait_for_async=0i,vdev_cache_stats_delegations=779i,vdev_cache_stats_hits=323123i,vdev_cache_stats_misses=59929i,zfetchstats_hits=0i,zfetchstats_max_streams=0i,zfetchstats_misses=0i 1464473103634124908\n```\n\n### Description\n\nA short description for some of the metrics.\n\n#### ARC Stats\n\n`arcstats_hits` Total amount of cache hits in the arc.\n\n`arcstats_misses` Total amount of cache misses in the arc.\n\n`arcstats_demand_data_hits` Amount of cache hits for demand data, this is what matters (is good) for your application/share.\n\n`arcstats_demand_data_misses` Amount of cache misses for demand data, this is what matters (is bad) for your application/share.\n\n`arcstats_demand_metadata_hits` Amount of cache hits for demand metadata, this matters (is good) for getting filesystem data (ls,find,…)\n\n`arcstats_demand_metadata_misses` Amount of cache misses for demand metadata, this matters (is bad) for getting filesystem data (ls,find,…)\n\n`arcstats_prefetch_data_hits` The zfs prefetcher tried to prefetch something, but it was already cached (boring)\n\n`arcstats_prefetch_data_misses` The zfs prefetcher prefetched something which was not in the cache (good job, could become a demand hit in the future)\n\n`arcstats_prefetch_metadata_hits` Same as above, but for metadata\n\n`arcstats_prefetch_metadata_misses` Same as above, but for metadata\n\n`arcstats_mru_hits` Cache hit in the “most recently used cache”, we move this to the mfu cache.\n\n`arcstats_mru_ghost_hits` Cache hit in the “most recently used ghost list” we had this item in the cache, but evicted it, maybe we should increase the mru cache size.\n\n`arcstats_mfu_hits` Cache hit in the “most frequently used cache” we move this to the beginning of the mfu cache.\n\n`arcstats_mfu_ghost_hits` Cache hit in the “most frequently used ghost list” we had this item in the cache, but evicted it, maybe we should increase the mfu cache size.\n\n`arcstats_allocated` New data is written to the cache.\n\n`arcstats_deleted` Old data is evicted (deleted) from the cache.\n\n`arcstats_evict_l2_cached` We evicted something from the arc, but its still cached in the l2 if we need it.\n\n`arcstats_evict_l2_eligible` We evicted something from the arc, and it’s not in the l2 this is sad. (maybe we hadn’t had enough time to store it there)\n\n`arcstats_evict_l2_ineligible` We evicted something which cannot be stored in the l2.\n Reasons could be:\n - We have multiple pools, we evicted something from a pool without an l2 device.\n - The zfs property secondary cache.\n\n`arcstats_c` Arc target size, this is the size the system thinks the arc should have.\n\n`arcstats_size` Total size of the arc.\n\n`arcstats_l2_hits` Hits to the L2 cache. (It was not in the arc, but in the l2 cache)\n\n`arcstats_l2_misses` Miss to the L2 cache. (It was not in the arc, and not in the l2 cache)\n\n`arcstats_l2_size` Size of the l2 cache.\n\n`arcstats_l2_hdr_size` Size of the metadata in the arc (ram) used to manage (lookup if something is in the l2) the l2 cache.\n\n#### Zfetch Stats\n\n`zfetchstats_hits` Counts the number of cache hits, to items which are in the cache because of the prefetcher.\n\n`zfetchstats_misses` Counts the number of prefetch cache misses.\n\n`zfetchstats_colinear_hits` Counts the number of cache hits, to items which are in the cache because of the prefetcher (prefetched linear reads)\n\n`zfetchstats_stride_hits` Counts the number of cache hits, to items which are in the cache because of the prefetcher (prefetched stride reads)\n\n#### Vdev Cache Stats (FreeBSD only)\nnote: the vdev cache is deprecated in some ZFS implementations\n\n`vdev_cache_stats_hits` Hits to the vdev (device level) cache.\n\n`vdev_cache_stats_misses` Misses to the vdev (device level) cache.\n\n#### ABD Stats (Linux Only)\nABD is a linear/scatter dual typed buffer for ARC\n\n`abdstats_linear_cnt` number of linear ABDs which are currently allocated\n\n`abdstats_linear_data_size` amount of data stored in all linear ABDs\n\n`abdstats_scatter_cnt` number of scatter ABDs which are currently allocated\n\n`abdstats_scatter_data_size` amount of data stored in all scatter ABDs\n\n#### DMU Stats (Linux Only)\n\n`dmu_tx_dirty_throttle` counts when writes are throttled due to the amount of dirty data growing too large\n\n`dmu_tx_memory_reclaim` counts when memory is low and throttling activity\n\n`dmu_tx_memory_reserve` counts when memory footprint of the txg exceeds the ARC size\n\n#### Fault Management Ereport errors (Linux Only)\n\n`fm_erpt-dropped` counts when an error report cannot be created (eg available memory is too low)\n\n#### ZIL (Linux Only)\nnote: ZIL measurements are system-wide, neither per-pool nor per-dataset\n\n`zil_commit_count` counts when ZFS transactions are committed to a ZIL\n',image:rS.a},{id:"zipkin",name:"Zipkin",url:"telegraf-plugins/zipkin",markdown:'# Zipkin Input Plugin\n\nThis plugin implements the Zipkin http server to gather trace and timing data needed to troubleshoot latency problems in microservice architectures.\n\n*Please Note: This plugin is experimental; Its data schema may be subject to change\nbased on its main usage cases and the evolution of the OpenTracing standard.*\n\n## Configuration:\n```toml\n[[inputs.zipkin]]\n    path = "/api/v1/spans" # URL path for span data\n    port = 9411 # Port on which Telegraf listens\n```\n\nThe plugin accepts spans in `JSON` or `thrift` if the `Content-Type` is `application/json` or `application/x-thrift`, respectively.\nIf `Content-Type` is not set, then the plugin assumes it is `JSON` format.\n\n## Tracing:\n\nThis plugin uses Annotations tags and fields to track data from spans\n\n- __TRACE:__ is a set of spans that share a single root span.\nTraces are built by collecting all Spans that share a traceId.\n\n- __SPAN:__ is a set of Annotations and BinaryAnnotations that correspond to a particular RPC.\n\n- __Annotations:__ for each annotation & binary annotation of a span a metric is output. *Records an occurrence in time at the beginning and end of a request.*\n\n  Annotations may have the following values:\n\n    - __CS (client start):__ beginning of span, request is made.\n    - __SR (server receive):__ server receives request and will start processing it\n      network latency & clock jitters differ it from cs\n    - __SS (server send):__ server is done processing and sends request back to client\n      amount of time it took to process request will differ it from sr\n    - __CR (client receive):__ end of span, client receives response from server\n      RPC is considered complete with this annotation\n\n### Tags\n* __"id":__               The 64 bit ID of the span.\n* __"parent_id":__        An ID associated with a particular child span.  If there is no child span, the parent ID is set to ID.\n* __"trace_id":__        The 64 or 128-bit ID of a particular trace. Every span in a trace shares this ID. Concatenation of high and low and converted to hexadecimal.\n* __"name":__             Defines a span\n\n##### Annotations have these additional tags:\n\n* __"service_name":__     Defines a service\n* __"annotation":__       The value of an annotation\n* __"endpoint_host":__    Listening port concat with IPV4, if port is not present it will not be concatenated\n\n##### Binary Annotations have these additional tag:\n\n  * __"service_name":__     Defines a service\n  * __"annotation":__       The value of an annotation\n  * __"endpoint_host":__    Listening port concat with IPV4, if port is not present it will not be concatenated\n  * __"annotation_key":__ label describing the annotation\n\n\n### Fields:\n  * __"duration_ns":__ The time in nanoseconds between the end and beginning of a span.\n\n\n\n### Sample Queries:\n\n__Get All Span Names for Service__ `my_web_server`\n```sql\nSHOW TAG VALUES FROM "zipkin" with key="name" WHERE "service_name" = \'my_web_server\'\n```\n  - __Description:__  returns a list containing the names of the spans which have annotations with the given `service_name` of `my_web_server`.\n\n__Get All Service Names__\n```sql\nSHOW TAG VALUES FROM "zipkin" WITH KEY = "service_name"\n```\n  - __Description:__  returns a list of all `distinct` endpoint service names.\n\n__Find spans with longest duration__\n```sql\nSELECT max("duration_ns") FROM "zipkin" WHERE "service_name" = \'my_service\' AND "name" = \'my_span_name\' AND time > now() - 20m GROUP BY "trace_id",time(30s) LIMIT 5\n```\n  - __Description:__  In the last 20 minutes find the top 5 longest span durations for service `my_server` and span name `my_span_name`\n\n\n### Recommended InfluxDB setup\n\nThis test will create high cardinality data so we recommend using the [tsi influxDB engine](https://www.influxdata.com/path-1-billion-time-series-influxdb-high-cardinality-indexing-ready-testing/).\n#### How To Set Up InfluxDB For Work With Zipkin\n\n  ##### Steps\n  1. ___Update___ InfluxDB to >= 1.3, in order to use the new tsi engine.\n\n  2. ___Generate___ a config file with the following command:\n```sh\ninfluxd config > /path/for/config/file\n```\n  3. ___Add___ the following to your config file, under the `[data]` tab:\n```toml\n[data]\n  index-version = "tsi1"\n```\n\n  4. ___Start___ `influxd` with your new config file:\n```sh\ninfluxd -config=/path/to/your/config/file\n```\n\n  5. ___Update___ your retention policy:\n```sql\nALTER RETENTION POLICY "autogen" ON "telegraf" DURATION 1d SHARD DURATION 30m\n```\n\n### Example Input Trace:\n\n- [Cli microservice with two services Test](https://github.com/openzipkin/zipkin-go-opentracing/tree/master/examples/cli_with_2_services)\n- [Test data from distributed trace repo sample json](https://github.com/mattkanwisher/distributedtrace/blob/master/testclient/sample.json)\n#### [Trace Example from Zipkin model](http://zipkin.io/pages/data_model.html)\n```json\n{\n  "traceId": "bd7a977555f6b982",\n  "name": "query",\n  "id": "be2d01e33cc78d97",\n  "parentId": "ebf33e1a81dc6f71",\n  "timestamp": 1458702548786000,\n  "duration": 13000,\n  "annotations": [\n    {\n      "endpoint": {\n        "serviceName": "zipkin-query",\n        "ipv4": "192.168.1.2",\n        "port": 9411\n      },\n      "timestamp": 1458702548786000,\n      "value": "cs"\n    },\n    {\n      "endpoint": {\n        "serviceName": "zipkin-query",\n        "ipv4": "192.168.1.2",\n        "port": 9411\n      },\n      "timestamp": 1458702548799000,\n      "value": "cr"\n    }\n  ],\n  "binaryAnnotations": [\n    {\n      "key": "jdbc.query",\n      "value": "select distinct `zipkin_spans`.`trace_id` from `zipkin_spans` join `zipkin_annotations` on (`zipkin_spans`.`trace_id` = `zipkin_annotations`.`trace_id` and `zipkin_spans`.`id` = `zipkin_annotations`.`span_id`) where (`zipkin_annotations`.`endpoint_service_name` = ? and `zipkin_spans`.`start_ts` between ? and ?) order by `zipkin_spans`.`start_ts` desc limit ?",\n      "endpoint": {\n        "serviceName": "zipkin-query",\n        "ipv4": "192.168.1.2",\n        "port": 9411\n      }\n    },\n    {\n      "key": "sa",\n      "value": true,\n      "endpoint": {\n        "serviceName": "spanstore-jdbc",\n        "ipv4": "127.0.0.1",\n        "port": 3306\n      }\n    }\n  ]\n}\n```\n',image:iS.a},{id:"zookeeper",name:"Zookeeper",url:"telegraf-plugins/zookeeper",markdown:'# Zookeeper Input Plugin\n\nThe zookeeper plugin collects variables outputted from the \'mntr\' command\n[Zookeeper Admin](https://zookeeper.apache.org/doc/current/zookeeperAdmin.html).\n\n### Configuration\n\n```toml\n# Reads \'mntr\' stats from one or many zookeeper servers\n[[inputs.zookeeper]]\n  ## An array of address to gather stats about. Specify an ip or hostname\n  ## with port. ie localhost:2181, 10.0.0.1:2181, etc.\n\n  ## If no servers are specified, then localhost is used as the host.\n  ## If no port is specified, 2181 is used\n  servers = [":2181"]\n\n  ## Timeout for metric collections from all servers.  Minimum timeout is "1s".\n  # timeout = "5s"\n\n  ## Optional TLS Config\n  # enable_tls = true\n  # tls_ca = "/etc/telegraf/ca.pem"\n  # tls_cert = "/etc/telegraf/cert.pem"\n  # tls_key = "/etc/telegraf/key.pem"\n  ## If false, skip chain & host verification\n  # insecure_skip_verify = true\n```\n\n### Metrics:\n\nExact field names are based on Zookeeper response and may vary between\nconfiguration, platform, and version.\n\n- zookeeper\n  - tags:\n    - server\n    - port\n    - state\n  - fields:\n    - approximate_data_size (integer)\n    - avg_latency (integer)\n    - ephemerals_count (integer)\n    - max_file_descriptor_count (integer)\n    - max_latency (integer)\n    - min_latency (integer)\n    - num_alive_connections (integer)\n    - open_file_descriptor_count (integer)\n    - outstanding_requests (integer)\n    - packets_received (integer)\n    - packets_sent (integer)\n    - version (string)\n    - watch_count (integer)\n    - znode_count (integer)\n    - followers (integer, leader only)\n    - synced_followers (integer, leader only)\n    - pending_syncs (integer, leader only)\n\n### Debugging:\n\nIf you have any issues please check the direct Zookeeper output using netcat:\n```sh\n$ echo mntr | nc localhost 2181\nzk_version      3.4.9-3--1, built on Thu, 01 Jun 2017 16:26:44 -0700\nzk_avg_latency  0\nzk_max_latency  0\nzk_min_latency  0\nzk_packets_received     8\nzk_packets_sent 7\nzk_num_alive_connections        1\nzk_outstanding_requests 0\nzk_server_state standalone\nzk_znode_count  129\nzk_watch_count  0\nzk_ephemerals_count     0\nzk_approximate_data_size        10044\nzk_open_file_descriptor_count   44\nzk_max_file_descriptor_count    4096\n```\n\n### Example Output\n\n```\nzookeeper,server=localhost,port=2181,state=standalone ephemerals_count=0i,approximate_data_size=10044i,open_file_descriptor_count=44i,max_latency=0i,packets_received=7i,outstanding_requests=0i,znode_count=129i,max_file_descriptor_count=4096i,version="3.4.9-3--1",avg_latency=0i,packets_sent=6i,num_alive_connections=1i,watch_count=0i,min_latency=0i 1522351112000000000\n```\n',image:cS.a}];var mS={id:Um,name:"Telegraf Plugins",description:"An open-source agent for collecting data and reporting metrics via a vast library of plugins",items:uS,featureFlag:"load-data-telegraf-plugins"};const dS=[yb,mS,{id:"integrations",name:"Integrations",description:"Description goes here",items:[{id:"my-cool-integration",name:"My Cool Integration",url:"integrations/my-cool-integration"}],featureFlag:"load-data-integrations"},{id:"developer-tools",name:"Developer Tools",description:"Description goes here",items:[{id:"dev-tool-a",name:"Dev Tool A",url:"developer-tools/dev-tool-a"}],featureFlag:"load-data-dev-tools"},{id:"flux-sources",name:"Flux Sources",description:"Description goes here",items:[{id:"big-table",name:"Big Table",url:"flux-sources/big-table"}],featureFlag:"load-data-flux-sources"}],pS=(e,t)=>e.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.toLowerCase());var hS=n(879),_S=n.n(hS);n(1578);var gS=Object(o.c)(e=>{const{id:t}=Object(S.a)(e);return{orgID:t}})(Object(i.j)(({id:e,name:t,url:n,image:a,history:r,orgID:o})=>{let i=s.a.createElement("img",{src:_S.a});return a&&(i=s.a.createElement("img",{src:a})),s.a.createElement(h.SquareGrid.Card,{key:e},s.a.createElement(h.SelectableCard,{id:e,formName:"load-data-cards",label:t,testID:`load-data-item ${e}`,selected:!1,onClick:()=>{r.push(`/orgs/${o}/load-data/${n}`)},fontSize:h.ComponentSize.ExtraSmall,className:"write-data--item"},s.a.createElement("div",{className:"write-data--item-thumb"},i)))}));var fS=({id:e,name:t,description:n,items:r})=>{const{searchTerm:o}=Object(a.useContext)(yS),i=r.filter(e=>pS(e.name,o)).sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase()));return s.a.createElement("div",{className:"write-data--section","data-testid":`write-data--section ${e}`},s.a.createElement(h.Heading,{element:h.HeadingElement.H2,weight:h.FontWeight.Regular,style:{marginTop:"24px",marginBottom:"4px"}},t),s.a.createElement(h.Heading,{element:h.HeadingElement.H5,weight:h.FontWeight.Regular,style:{marginBottom:"12px"}},n),s.a.createElement(h.SquareGrid,{cardSize:"170px",gutter:h.ComponentSize.Small},i.map(e=>s.a.createElement(gS,{key:e.id,id:e.id,name:e.name,image:e.image,url:e.url}))))};var bS=()=>{const{searchTerm:e}=Object(a.useContext)(yS),t=dS.filter(t=>{const n=((e,t)=>{return!!e.items.filter(e=>pS(e.name,t)).length})(t,e),a=Object(L.c)(t.featureFlag);return n&&a});return t.length?s.a.createElement(s.a.Fragment,null,t.map(e=>s.a.createElement(fS,{key:e.id,id:e.id,name:e.name,description:e.description,items:e.items}))):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement("h4",null,"Nothing matched ",s.a.createElement("strong",null,`"${e}"`)))};const yS=Object(a.createContext)({searchTerm:"",setSearchTerm:()=>{}});var vS=()=>{const[e,t]=Object(a.useState)("");return s.a.createElement(yS.Provider,{value:{searchTerm:e,setSearchTerm:t}},s.a.createElement(h.Page,{titleTag:Va(["Sources","Load Data"])},s.a.createElement(p_,null),s.a.createElement(d_,{activeTab:"sources"},s.a.createElement(Xf,null),s.a.createElement(bS,null))))};var xS=({activeTab:e,tabs:t,onTabClick:n})=>s.a.createElement(h.Tabs,{orientation:h.Orientation.Horizontal,size:h.ComponentSize.Large},t.map(t=>{let a=s.a.createElement(h.Tabs.Tab,{testID:`${t.id}--tab`,key:t.id,text:t.text,id:t.id,onClick:n,active:t.id===e});return t.cloudExclude&&(a=s.a.createElement(w,{key:t.id},a)),t.cloudOnly&&(a=s.a.createElement(E,{key:t.id},a)),t.featureFlagName&&(a=s.a.createElement(L.a,{key:t.id,name:t.featureFlagName,equals:t.featureFlagValue},a)),a}));let wS=class extends a.PureComponent{render(){const{activeTab:e,orgID:t,history:n}=this.props;return s.a.createElement(xS,{tabs:[{text:"Variables",id:"variables"},{text:"Templates",id:"templates"},{text:"Labels",id:"labels"},{text:"Annotations",id:"annotations",featureFlagName:"annotations"}],activeTab:e,onTabClick:e=>{n.push(`/orgs/${t}/settings/${e}`)}})}};wS=Object(m.a)([p.a],wS);var ES=Object(i.j)(wS);let kS=class extends a.PureComponent{render(){const{activeTab:e,orgID:t,children:n}=this.props;return s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(h.Tabs.Container,{orientation:h.Orientation.Horizontal},s.a.createElement(ES,{activeTab:e,orgID:t}),s.a.createElement(h.Tabs.TabContents,null,n)))}};var SS=kS=Object(m.a)([p.a],kS);class CS extends a.Component{render(){return s.a.createElement(h.Page.Header,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:"Settings",testID:"settings-page--header"}),s.a.createElement(Ga,null))}}var TS=CS;class OS extends a.PureComponent{render(){const{variable:e,onExport:t,onRename:n,onDelete:a}=this.props;return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.CogThick},s.a.createElement(ss.f.Item,{label:"Export",action:t}),s.a.createElement(ss.f.Item,{label:"Rename",action:n,testID:"context-rename-variable"})),s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:a,value:e,testID:"context-delete-variable"})))}}class DS extends a.PureComponent{constructor(){super(...arguments),this.handleNameClick=()=>{const{variable:e,match:t,history:n}=this.props;n.push(`/orgs/${t.params.orgID}/settings/variables/${e.id}/edit`)},this.handleAddLabel=e=>{const{variable:t,onAddVariableLabel:n}=this.props;n(t.id,e)},this.handleRemoveLabel=e=>{const{variable:t,onRemoveVariableLabel:n}=this.props;n(t.id,e)},this.handleExport=()=>{const{history:e,variable:t,match:n}=this.props;e.push(`/orgs/${n.params.orgID}/settings/variables/${t.id}/export`)},this.handleRenameVariable=()=>{const{history:e,variable:t,match:n}=this.props;e.push(`/orgs/${n.params.orgID}/settings/variables/${t.id}/rename`)}}render(){const{variable:e,onDeleteVariable:t}=this.props;return s.a.createElement(h.ResourceCard,{testID:"resource-card variable",contextMenu:s.a.createElement(OS,{variable:e,onExport:this.handleExport,onRename:this.handleRenameVariable,onDelete:t})},s.a.createElement(h.ResourceCard.Name,{onClick:this.handleNameClick,name:e.name,testID:`variable-card--name ${e.name}`}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,"Type: ",e.arguments.type)),this.labels)}get labels(){const{variable:e,onFilterChange:t}=this.props;return s.a.createElement(Ts,{selectedLabelIDs:e.labels,onFilterChange:t,onAddLabel:this.handleAddLabel,onRemoveLabel:this.handleRemoveLabel})}}const IS={onAddVariableLabel:dn.a,onRemoveVariableLabel:dn.i};var jS=Object(o.c)(null,IS)(Object(i.j)(DS));class RS extends a.PureComponent{constructor(e){super(e),this.memGetSortedResources=Object(as.a)(Ja.b),this.handleStartEdit=e=>{this.setState({variableID:e.id,variableOverlayState:W.OverlayState.Open})},this.state={variableID:null,variableOverlayState:W.OverlayState.Closed,sortedVariables:this.props.variables}}render(){const{emptyState:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:e},this.rows)))}get rows(){const{variables:e,sortKey:t,sortDirection:n,sortType:a,onDeleteVariable:r,onFilterChange:o}=this.props;return this.memGetSortedResources(e,t,n,a).map((e,t)=>s.a.createElement(jS,{key:e.id||`variable-${t}`,variable:e,onDeleteVariable:r,onEditVariable:this.handleStartEdit,onFilterChange:o}))}}const NS=Ze();class AS extends a.PureComponent{constructor(){super(...arguments),this.state={searchTerm:"",importOverlayState:W.OverlayState.Closed,sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String},this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.handleFilterChange=e=>{this.handleFilterUpdate(e)},this.handleFilterUpdate=e=>{this.setState({searchTerm:e})},this.handleOpenImportOverlay=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/settings/variables/import`)},this.handleOpenCreateOverlay=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/settings/variables/new`)},this.handleDeleteVariable=e=>{const{onDeleteVariable:t}=this.props;t(e.id)}}render(){const{variables:e}=this.props,{searchTerm:t,sortKey:n,sortDirection:a,sortType:r}=this.state,o=s.a.createElement(s.a.Fragment,null,s.a.createElement(Za,{placeholderText:"Filter variables...",searchTerm:t,onSearch:this.handleFilterChange}),s.a.createElement(ts,{onSelect:this.handleSort,resourceType:W.ResourceType.Variables,sortDirection:a,sortKey:n,sortType:r})),i=s.a.createElement(Ya,{resourceName:"Variable",onSelectImport:this.handleOpenImportOverlay,onSelectNew:this.handleOpenCreateOverlay});return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:o,childrenRight:i}),s.a.createElement(_n,{resources:[W.ResourceType.Labels]},s.a.createElement(NS,{searchTerm:t,searchKeys:["name","labels[].name"],list:e},e=>s.a.createElement(RS,{variables:e,emptyState:this.emptyState,onDeleteVariable:this.handleDeleteVariable,onFilterChange:this.handleFilterUpdate,sortKey:n,sortDirection:a,sortType:r}))))}get emptyState(){const{searchTerm:e}=this.state;return e?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"No Variables match your query")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like there aren't any ",s.a.createElement("b",null,"Variables"),", why not create one?"),s.a.createElement(Ya,{resourceName:"Variable",onSelectImport:this.handleOpenImportOverlay,onSelectNew:this.handleOpenCreateOverlay}))}}const PS={onDeleteVariable:dn.e};var MS=Object(o.c)(e=>{return{variables:Object(uo.j)(e)}},PS)(Object(i.j)(AS));class LS extends a.PureComponent{constructor(){super(...arguments),this.state={status:h.ComponentStatus.Default},this.onDismiss=()=>{const{history:e}=this.props;e.goBack()},this.updateOverlayStatus=e=>this.setState(()=>({status:e})),this.handleImportVariable=e=>{const{createVariableFromTemplate:t,getVariables:n,notify:a}=this.props;let s;this.updateOverlayStatus(h.ComponentStatus.Default);try{s=Xs.a.parse(e)}catch(e){return this.updateOverlayStatus(h.ComponentStatus.Error),void a(Object(me.Jb)(e.message))}t(s),n(),this.onDismiss()}}render(){return s.a.createElement(Qs,{onDismissOverlay:this.onDismiss,resourceName:"Variable",onSubmit:this.handleImportVariable,status:this.state.status,updateStatus:this.updateOverlayStatus})}}const FS={createVariableFromTemplate:dn.d,getVariables:dn.f,notify:$.c};var qS=Object(o.c)(null,FS)(Object(i.j)(LS));class BS extends a.PureComponent{constructor(){super(...arguments),this.onDismiss=()=>{const{history:e,clearExportTemplate:t}=this.props;e.goBack(),t()}}componentDidMount(){const{match:{params:{id:e}},convertToTemplate:t}=this.props;t(e)}render(){const{variableTemplate:e,status:t}=this.props;return s.a.createElement(Bs,{resourceName:"Variable",resource:e,onDismissOverlay:this.onDismiss,status:t})}}const zS={convertToTemplate:dn.b,clearExportTemplate:un};var US=Object(o.c)(e=>({variableTemplate:e.resources.templates.exportTemplate.item,status:e.resources.templates.exportTemplate.status}),zS)(Object(i.j)(BS));class HS extends a.PureComponent{constructor(){super(...arguments),this.handleHideOverlay=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/settings/variables`)}}render(){return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:1e3},s.a.createElement(h.Overlay.Header,{title:"Create Variable",onDismiss:this.handleHideOverlay}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(_n,{resources:[W.ResourceType.Variables]},s.a.createElement(tm,{onHideOverlay:this.handleHideOverlay})))))}}var GS=Object(i.j)(HS);class VS extends a.PureComponent{constructor(){super(...arguments),this.state={workingVariable:this.props.startVariable,isNameValid:!0},this.handleSubmit=e=>{const{workingVariable:t}=this.state;e.preventDefault(),this.props.onUpdateVariable(t.id,t),this.props.onClose()},this.handleNameValidation=e=>{const{variables:t}=this.props,{error:n}=Xu(e,t);return this.setState({isNameValid:!n}),n},this.handleChangeInput=e=>{const t=e.target.value,n=Object.assign(Object.assign({},this.state.workingVariable),{name:t});this.setState({workingVariable:n})}}render(){const{onClose:e}=this.props,{workingVariable:t,isNameValid:n}=this.state;return s.a.createElement(h.Form,{onSubmit:this.handleSubmit},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement("div",{className:"overlay-flux-editor--spacing"},s.a.createElement(h.Form.ValidationElement,{label:"Name",value:t.name,required:!0,validationFunc:this.handleNameValidation},e=>s.a.createElement(h.Input,{placeholder:"Rename your variable",name:"name",autoFocus:!0,value:t.name,onChange:this.handleChangeInput,status:e,testID:"rename-variable-input"}))))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",color:h.ComponentColor.Danger,onClick:e}),s.a.createElement(h.Button,{text:"Submit",type:h.ButtonType.Submit,color:h.ComponentColor.Primary,status:n?h.ComponentStatus.Default:h.ComponentStatus.Disabled,testID:"rename-variable-submit"}))))))}}const $S={onUpdateVariable:dn.k},WS=Object(o.c)((e,{match:t})=>{const n=Object(uo.j)(e),a=n.find(e=>e.id===t.params.id);return{variables:n,startVariable:a}},$S);var KS=Object(i.j)(WS(VS));let QS=class extends a.PureComponent{constructor(){super(...arguments),this.handleClose=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/settings/variables`)}}render(){return s.a.createElement(Pg,{title:"Rename Variable",message:this.message,effectedItems:this.effectedItems,onClose:this.handleClose,confirmButtonText:"I understand, let's rename my Variable"},s.a.createElement(KS,{onClose:this.handleClose}))}get message(){return"Updating the name of a Variable can have unintended consequences. Anything that references this Variable by name will stop working including:"}get effectedItems(){return["Queries","Dashboards","Telegraf Configurations","Templates"]}};QS=Object(m.a)([p.a],QS);var YS=Object(i.j)(QS);class XS extends a.PureComponent{constructor(){super(...arguments),this.state={workingVariable:this.props.startVariable,isNameValid:!0,hasValidArgs:!0},this.handleChangeType=e=>{const{isNameValid:t,workingVariable:n}=this.state,a={hasValidArgs:!1,isNameValid:t};switch(e){case"query":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{arguments:{type:"query",values:{query:"",language:"flux"}},selected:null})}));case"map":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{selected:null,arguments:{type:"map",values:{}}})}));case"constant":return this.setState(Object.assign(Object.assign({},a),{workingVariable:Object.assign(Object.assign({},n),{selected:null,arguments:{type:"constant",values:[]}})}))}},this.handleSelectMapDefault=e=>{const{workingVariable:t}=this.state;this.setState({workingVariable:Object.assign(Object.assign({},t),{selected:[e]})})},this.handleChangeArgs=({args:e,isValid:t})=>{const{workingVariable:n}=this.state;this.setState({workingVariable:Object.assign(Object.assign({},n),{arguments:e}),hasValidArgs:t})},this.handleSubmit=e=>{e.preventDefault();const{workingVariable:t}=this.state;this.props.onUpdateVariable(t.id,t),this.handleClose()},this.handleClose=()=>{const{history:e,match:t}=this.props;e.push(`/orgs/${t.params.orgID}/settings/variables`)}}render(){const{workingVariable:e,hasValidArgs:t}=this.state;return s.a.createElement(h.Overlay,{visible:!0,testID:"edit-variable--overlay"},s.a.createElement(h.Overlay.Container,{maxWidth:1e3},s.a.createElement(h.Overlay.Header,{title:"Edit Variable",onDismiss:this.handleClose}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Form,{onSubmit:this.handleSubmit},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement("div",{className:"overlay-flux-editor--spacing"},s.a.createElement(h.Form.Element,{label:"Name",helpText:"To rename your variable use the rename button. Renaming is not allowed here."},s.a.createElement(h.Input,{placeholder:"Give your variable a name",name:"name",autoFocus:!0,value:e.name,status:h.ComponentStatus.Disabled})))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Type",required:!0},s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{active:e,onClick:t,testID:"variable-type-dropdown--button"},this.typeDropdownLabel),menu:t=>s.a.createElement(h.Dropdown.Menu,{onCollapse:t},Qu.f.map(t=>s.a.createElement(h.Dropdown.Item,{key:t.type,id:t.type,value:t.type,onClick:this.handleChangeType,selected:t.type===e.arguments.type,testID:`variable-type-dropdown-${t.type}`},t.label)))})))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(Ku,{onChange:this.handleChangeArgs,onSelectMapDefault:this.handleSelectMapDefault,selected:e.selected,args:e.arguments}))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{text:"Cancel",color:h.ComponentColor.Danger,onClick:this.handleClose}),s.a.createElement(h.Button,{text:"Submit",type:h.ButtonType.Submit,color:h.ComponentColor.Primary,status:t?h.ComponentStatus.Default:h.ComponentStatus.Disabled})))))))))}get typeDropdownLabel(){const{workingVariable:e}=this.state;return Qu.f.find(t=>t.type===e.arguments.type).label}}const ZS={onUpdateVariable:dn.k},JS=Object(o.c)((e,{match:t})=>{const n=Object(uo.j)(e),a=n.find(e=>e.id===t.params.id);return{variables:n,startVariable:a}},ZS);var eC=Object(i.j)(JS(XS));const tC="/orgs/:orgID/settings/variables";let nC=class extends a.Component{render(){const{org:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Variables","Settings"])},s.a.createElement(TS,null),s.a.createElement(SS,{activeTab:"variables",orgID:e.id},s.a.createElement(_n,{resources:[W.ResourceType.Variables]},s.a.createElement(MS,null)))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${tC}/import`,component:qS}),s.a.createElement(i.a,{path:`${tC}/:id/export`,component:US}),s.a.createElement(i.a,{path:`${tC}/new`,component:GS}),s.a.createElement(i.a,{path:`${tC}/:id/rename`,component:YS}),s.a.createElement(i.a,{path:`${tC}/:id/edit`,component:eC})))}};nC=Object(m.a)([p.a],nC);var aC=Object(o.c)(e=>({org:e.resources.orgs.org}))(nC);var sC=({annotationStream:e})=>{const t=Object(o.e)(S.a),n=Object(i.f)();return s.a.createElement(h.ResourceCard,{testID:"resource-card annotation-stream",contextMenuInteraction:"alwaysVisible",contextMenu:s.a.createElement(h.ConfirmationButton,{shape:h.ButtonShape.Square,icon:h.IconFont.Trash,size:h.ComponentSize.ExtraSmall,color:h.ComponentColor.Danger,confirmationButtonText:"Delete",confirmationLabel:"Are you sure?",onConfirm:()=>{}})},s.a.createElement(h.ResourceCard.Name,{onClick:()=>{n.push(`/orgs/${t.id}/settings/annotations/${e.id}/edit`)},name:e.name,testID:`annotation-stream-card--name ${e.name}`}),s.a.createElement(h.ResourceCard.Description,{description:e.description}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Bullet,{glyph:h.IconFont.Annotate,size:h.ComponentSize.ExtraSmall,color:h.InfluxColors.Castle,backgroundColor:e.display.color,style:{marginRight:"4px"}}),"Streaming from ",e.query.bucketName),s.a.createElement(s.a.Fragment,null,"Created at ",e.meta.createdAt),s.a.createElement(s.a.Fragment,null,"Last modified ",e.meta.updatedAt)))};var rC=({annotationStreams:e,emptyState:t,sortKey:n,sortDirection:a,sortType:r})=>{const o=Object(Ja.b)(e,n,a,r);return s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:t},o.map(e=>s.a.createElement(sC,{key:e.id,annotationStream:e}))))};var oC=()=>s.a.createElement(h.Panel,{gradient:h.Gradients.PolarExpress,border:!0},s.a.createElement(h.Panel.Header,null,s.a.createElement("h5",null,"How to use Annotations")),s.a.createElement(h.Panel.Body,null,s.a.createElement("p",null,"Annotations exist as regular time series data in any bucket you like. Annotation Streams contain a query to get a specific set of annotation data for easy display."),s.a.createElement("p",null,"Look for the ",s.a.createElement("strong",null,"Annotations")," button in dashboards and the Data Explorer."),s.a.createElement("p",null,s.a.createElement("a",{href:"#",target:"_blank"},"Annotations Documentation"))));const iC=Ze();var lC=()=>{const e=Object(o.e)(S.a),t=Object(i.f)(),[n,r]=Object(a.useState)(""),l=h.Sort.Ascending,c=Ja.a.String,u=s.a.createElement(Za,{placeholderText:"Filter annotation streams...",searchTerm:n,onSearch:r}),m=s.a.createElement(h.Button,{text:"Add Annotation Stream",icon:h.IconFont.Annotate,color:h.ComponentColor.Primary,onClick:()=>{t.push(`/orgs/${e.id}/settings/annotations/new`)}});return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:u,childrenRight:m}),s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Eight,widthMD:h.Columns.Ten},s.a.createElement(_n,{resources:[W.ResourceType.Labels]},s.a.createElement(iC,{searchTerm:n,searchKeys:["name"],list:ha},e=>s.a.createElement(rC,{annotationStreams:e,emptyState:s.a.createElement(cC,{searchTerm:n}),sortKey:"name",sortDirection:l,sortType:c})))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four,widthMD:h.Columns.Two},s.a.createElement(oC,null)))))};const cC=({searchTerm:e})=>e?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"No Annotation Streams match your query")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,"Looks like there aren't any ",s.a.createElement("b",null,"Annotation Streams"),", why not create one?"));var uC=()=>{const e=Object(o.e)(S.a);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Annotations","Settings"])},s.a.createElement(TS,null),s.a.createElement(SS,{activeTab:"annotations",orgID:e.id},s.a.createElement(lC,null))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/settings/annotations/new",component:Ym}),s.a.createElement(i.a,{path:"/orgs/:orgID/settings/annotations/:annotationID/edit",component:Xm})))};let mC=class extends a.Component{constructor(e){super(e),this.handleSubmit=()=>{const{onUpdateLabel:e,onDismiss:t}=this.props;e(this.state.label),t()},this.handleInputChange=e=>{const{value:t,name:n}=e.target;this.setState(e=>({label:Object.assign(Object.assign({},e.label),{[n]:t})}))},this.handleLabelPropertyChange=e=>{const{value:t,name:n}=e.target;this.setState(e=>({label:Object.assign(Object.assign({},e.label),{properties:Object.assign(Object.assign({},e.label.properties),{[n]:t})})}))},this.handleColorHexChange=(e,t)=>{const n=Object.assign(Object.assign({},this.state.label.properties),{color:e}),a=Object.assign(Object.assign({},this.state.label),{properties:n});this.setState({label:a,colorStatus:t})},this.state={label:e.label,colorStatus:h.ComponentStatus.Default}}render(){const{onDismiss:e,onNameValidation:t}=this.props,{label:n}=this.state;return s.a.createElement(h.Overlay.Container,{maxWidth:400},s.a.createElement(h.Overlay.Header,{title:"Edit Label",onDismiss:e}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(gs,{id:n.id,name:n.name,description:n.properties.description,color:n.properties.color,onColorChange:this.handleColorHexChange,onSubmit:this.handleSubmit,onCloseModal:e,onInputChange:this.handleInputChange,onLabelPropertyChange:this.handleLabelPropertyChange,buttonText:"Save Changes",isFormValid:this.isFormValid,onNameValidation:t})))}get isFormValid(){const{label:e,colorStatus:t}=this.state,n=null===this.props.onNameValidation(e.name),a=t===h.ComponentStatus.Default||t==h.ComponentStatus.Valid;return n&&a}};var dC=mC=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],mC);class pC extends a.PureComponent{render(){const{label:e,onDelete:t}=this.props;return s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:t,value:e.id,testID:"context-delete-label"})))}}let hC=class extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{label:e,onClick:t}=this.props;t(e.id)}}render(){const{label:e,onDelete:t}=this.props,n=!!e.properties.description,a=f()("label-card--description",{"label-card--description__untitled":!n}),r=n?e.properties.description:"No description";return s.a.createElement(h.ResourceCard,{testID:"label-card",contextMenu:s.a.createElement(pC,{label:e,onDelete:t}),direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center},s.a.createElement(h.Label,{id:e.id,name:e.name,color:e.properties.color,description:e.properties.description,size:h.ComponentSize.Small,onClick:this.handleClick}),s.a.createElement("p",{className:a,"data-testid":"label-card--description"},r))}};var _C=hC=Object(m.a)([p.a],hC);let gC=class extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b),this.state={labelID:null,overlayState:W.OverlayState.Closed},this.handleCloseModal=()=>{this.setState({overlayState:W.OverlayState.Closed})},this.handleStartEdit=e=>{this.setState({labelID:e,overlayState:W.OverlayState.Open})},this.handleUpdateLabel=e=>{this.props.onUpdateLabel(e),this.setState({overlayState:W.OverlayState.Closed})},this.handleNameValidation=e=>{const{labels:t}=this.props,n=t.map(e=>e.name).filter(t=>t!==e);return Object(hs.c)(n,e)}}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:this.props.emptyState},this.rows)),s.a.createElement(h.Overlay,{visible:this.isOverlayVisible},s.a.createElement(dC,{label:this.label,onDismiss:this.handleCloseModal,onUpdateLabel:this.handleUpdateLabel,onNameValidation:this.handleNameValidation})))}get rows(){const{labels:e,sortKey:t,sortDirection:n,sortType:a,onDeleteLabel:r}=this.props;return this.memGetSortedResources(e,t,n,a).map((e,t)=>s.a.createElement(_C,{key:e.id||`label-${t}`,onDelete:r,onClick:this.handleStartEdit,label:e}))}get label(){if(this.state.labelID)return this.props.labels.find(e=>e.id===this.state.labelID)}get isOverlayVisible(){const{labelID:e,overlayState:t}=this.state;return!!e&&t===W.OverlayState.Open}};var fC=gC=Object(m.a)([p.a],gC);const bC=Ze();let yC=class extends a.PureComponent{constructor(e){super(e),this.handleSort=(e,t,n)=>{this.setState({sortKey:e,sortDirection:t,sortType:n})},this.handleShowOverlay=()=>{this.setState({isOverlayVisible:!0})},this.handleDismissOverlay=()=>{this.setState({isOverlayVisible:!1})},this.handleFilterChange=e=>{this.setState({searchTerm:e})},this.handleCreateLabel=e=>{this.props.createLabel(e.name,e.properties)},this.handleUpdateLabel=e=>{this.props.updateLabel(e.id,e)},this.handleDelete=e=>{this.props.deleteLabel(e)},this.handleNameValidation=e=>{const t=this.props.labels.map(e=>e.name);return Object(hs.c)(t,e)},this.state={searchTerm:"",isOverlayVisible:!1,sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}render(){const{labels:e}=this.props,{searchTerm:t,isOverlayVisible:n,sortKey:a,sortDirection:r,sortType:o}=this.state,i=s.a.createElement(s.a.Fragment,null,s.a.createElement(Za,{searchTerm:t,onSearch:this.handleFilterChange,placeholderText:"Filter Labels..."}),s.a.createElement(ts,{resourceType:W.ResourceType.Labels,sortKey:a,sortDirection:r,sortType:o,onSelect:this.handleSort})),l=s.a.createElement(h.Button,{text:"Create Label",color:h.ComponentColor.Primary,icon:h.IconFont.Plus,onClick:this.handleShowOverlay,testID:"button-create"});return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:i,childrenRight:l}),s.a.createElement(bC,{list:e,searchKeys:["name","properties.description"],searchTerm:t},e=>s.a.createElement(fC,{labels:e,emptyState:this.emptyState,onUpdateLabel:this.handleUpdateLabel,onDeleteLabel:this.handleDelete,sortKey:a,sortDirection:r,sortType:o})),s.a.createElement(bs,{isVisible:n,onDismiss:this.handleDismissOverlay,onCreateLabel:this.handleCreateLabel,onNameValidation:this.handleNameValidation}))}get emptyState(){const{searchTerm:e}=this.state;return e?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"No Labels match your search term")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"Looks like you haven't created any ",s.a.createElement("b",null,"Labels"),", why not create one?"),s.a.createElement(h.Button,{text:"Create Label",color:h.ComponentColor.Primary,icon:h.IconFont.Plus,onClick:this.handleShowOverlay,testID:"button-create-initial"}))}};yC=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],yC);const vC={createLabel:jt,updateLabel:(e,t)=>async n=>{try{n(Object(wt.f)(e,W.RemoteDataState.Loading));const a=await Object(fe.Y)({labelID:e,data:t});if(200!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data.label,Et.b);n(Object(wt.f)(e,W.RemoteDataState.Done,s))}catch(e){console.error(e),n(Object($.c)(Object(me.Qc)()))}},deleteLabel:e=>async t=>{try{const n=await Object(fe.i)({labelID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(wt.e)(e))}catch(e){console.error(e),t(Object($.c)(Object(me.lb)()))}}};var xC=Object(o.c)(e=>{return{labels:Object(ve.a)(e,W.ResourceType.Labels)}},vC)(yC);let wC=class extends a.PureComponent{render(){const{org:e,children:t}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Labels","Settings"])},s.a.createElement(TS,null),s.a.createElement(SS,{activeTab:"labels",orgID:e.id},s.a.createElement(_n,{resources:[W.ResourceType.Labels]},s.a.createElement(xC,null)))),t)}};wC=Object(m.a)([p.a],wC);var EC=Object(o.c)(e=>({org:Object(S.a)(e)}))(wC);let kC=class extends a.PureComponent{render(){const{activeTab:e,orgID:t}=this.props,n=[{text:"Members",id:"members-oss",cloudExclude:!0,link:`/orgs/${t}/members`},{text:"Users",id:"members-quartz",cloudOnly:!0,href:`${x.o}/organizations/${t}${x.q}`},{text:"About",id:"about",link:`/orgs/${t}/about`}];return s.a.createElement(h.Tabs,{orientation:h.Orientation.Horizontal,size:h.ComponentSize.Large},n.map(t=>{let n=t.id===e,a=s.a.createElement(s.a.Fragment,null);return"members-oss"!==t.id&&"members-cloud"!==t.id||"members"===e&&(n=!0),t.href?a=s.a.createElement(h.Tabs.Tab,{key:t.id,text:t.text,id:t.id,linkElement:e=>s.a.createElement("a",{href:t.href,className:e}),active:n}):t.link&&(a=s.a.createElement(h.Tabs.Tab,{key:t.id,text:t.text,id:t.id,linkElement:e=>s.a.createElement(b.a,{to:t.link,className:e}),active:n})),t.cloudExclude&&(a=s.a.createElement(w,{key:t.id},a)),t.cloudOnly&&(a=s.a.createElement(E,{key:t.id},a)),t.featureFlag&&(a=s.a.createElement(L.a,{key:t.id,name:t.featureFlag,equals:t.featureFlagValue},a)),a}))}};var SC=kC=Object(m.a)([p.a],kC);let CC=class extends a.PureComponent{render(){const{activeTab:e,orgID:t,children:n}=this.props;return s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(h.Tabs.Container,{orientation:h.Orientation.Horizontal},s.a.createElement(SC,{activeTab:e,orgID:t}),s.a.createElement(h.Tabs.TabContents,null,n)))}};var TC=CC=Object(m.a)([p.a],CC);class OC extends a.Component{render(){return s.a.createElement(h.Page.Header,{fullWidth:!1,testID:"member-page--header"},s.a.createElement(h.Page.Title,{title:"Organization"}),s.a.createElement(Ga,null))}}var DC=OC;let IC=class extends a.PureComponent{constructor(){super(...arguments),this.handleShowEditOverlay=()=>{const{match:{params:{orgID:e}},history:t}=this.props;t.push(`/orgs/${e}/about/rename`)},this.generateCopyText=e=>(t,n)=>n?Object(me.T)(t,e):Object(me.S)(t,e)}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Six},s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Onyx},s.a.createElement(h.Panel.Header,{size:h.ComponentSize.Small},s.a.createElement("h4",null,"Organization Profile")),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.Small},s.a.createElement(h.Form,{onSubmit:this.handleShowEditOverlay},s.a.createElement(h.Panel,{gradient:h.Gradients.DocScott},s.a.createElement(h.Panel.Header,{size:h.ComponentSize.ExtraSmall},s.a.createElement("h5",null,"Danger Zone!")),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.FlexBox,{stretchToFitWidth:!0,alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.SpaceBetween},s.a.createElement("div",null,s.a.createElement("h5",{style:{marginBottom:"0"}},"Rename Organization"),s.a.createElement("p",{style:{marginTop:"2px"}},"This action can have wide-reaching unintended consequences.")),s.a.createElement(h.Button,{testID:"rename-org--button",text:"Rename",icon:h.IconFont.Pencil,type:ss.c.Submit})))))))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Six},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,{size:h.ComponentSize.ExtraSmall},s.a.createElement("h4",null,"Common Ids")),s.a.createElement(h.Panel.Body,null,s.a.createElement(jn.a,{copyText:this.props.me.id,label:"My User Id",onCopyText:this.generateCopyText("User Id")}),s.a.createElement(jn.a,{copyText:this.props.org.id,label:"Organization Id",onCopyText:this.generateCopyText("Organization Id")})))))}};IC=Object(m.a)([p.a],IC);var jC=Object(o.c)(e=>({org:Object(S.a)(e),me:e.me}))(Object(i.j)(IC)),RC=n(416);let NC=class extends a.PureComponent{constructor(e){super(e),this.saveButtonStatus=e=>this.state.org.name===this.props.startOrg.name||e===h.ComponentStatus.Error?h.ComponentStatus.Disabled:e,this.handleGoBack=()=>{this.props.history.push(`/orgs/${this.props.startOrg.id}/about`)},this.handleValidation=e=>e?this.isUniqueName(e)?void 0:"This org name is taken":"Name is required",this.isUniqueName=e=>!this.props.orgNames.find(t=>t===e),this.handleInputChange=e=>{const t=e.target.value,n=Object.assign(Object.assign({},this.state.org),{name:t});this.setState({org:n})},this.handleRenameOrg=async()=>{const{onRenameOrg:e,startOrg:t}=this.props,{org:n}=this.state;await e(t.name,n),this.handleGoBack()},this.state={org:this.props.startOrg}}render(){const{org:e}=this.state;return s.a.createElement(h.Form,{onSubmit:this.handleRenameOrg},s.a.createElement(h.Form.ValidationElement,{label:"Name",validationFunc:this.handleValidation,value:e.name},t=>s.a.createElement(s.a.Fragment,null,s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Column,margin:h.ComponentSize.Large},s.a.createElement(h.Input,{placeholder:"Give your organization a name",name:"name",autoFocus:!0,onChange:this.handleInputChange,value:e.name,status:t,testID:"create-org-name-input"}),s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.Button,{text:"Cancel",icon:h.IconFont.Remove,onClick:this.handleGoBack}),s.a.createElement(h.Button,{text:"Change Organization Name",icon:h.IconFont.Checkmark,status:this.saveButtonStatus(t),color:h.ComponentColor.Success,type:h.ButtonType.Submit}))))))}};NC=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],NC);const AC={onRenameOrg:(e,t)=>async n=>{try{const e=await fe.bb({orgID:t.id,data:t});if(200!==e.status)throw new Error(e.data.message);const a=e.data,s=Object(_e.a)(a,Rt.n);n(Object(RC.g)(s)),n(Object($.c)(Object(me.Xb)(a.name)))}catch(t){n(Object($.c)(Object(me.Wb)(e))),console.error(t)}}};var PC=Object(o.c)(e=>{const{resources:t}=e,{orgs:{org:n}}=t,a=Object(ve.a)(e,W.ResourceType.Orgs).filter(e=>e.id!==n.id).map(e=>e.name);return{startOrg:n,orgNames:a}},AC)(Object(i.j)(NC));let MC=class extends a.PureComponent{constructor(){super(...arguments),this.handleClose=()=>{const{history:e,match:{params:{orgID:t}}}=this.props;e.push(`/orgs/${t}/about`)}}render(){return s.a.createElement(Pg,{title:"Rename Organization",message:this.message,effectedItems:this.effectedItems,onClose:this.handleClose,confirmButtonText:"I understand, let's rename my Organization"},s.a.createElement(PC,null))}get message(){return"Updating the name of an Organization can have unintended consequences. Anything that references this Organization by name will stop working including:"}get effectedItems(){return["Queries","Dashboards","Tasks","Telegraf Configurations","Client Libraries"]}};MC=Object(m.a)([p.a],MC);var LC=Object(i.j)(MC);let FC=class extends a.Component{render(){const{org:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["About","Organization"])},s.a.createElement(DC,null),s.a.createElement(TC,{activeTab:"about",orgID:e.id},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(jC,null))))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/about/rename",component:LC})))}};FC=Object(m.a)([p.a],FC);var qC=Object(o.c)(e=>({org:Object(S.a)(e)}))(FC);const BC=e=>e.resources.checks.allIDs.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{}),zC=e=>e.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1),UC=e=>e.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1),HC=e=>e.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1);var GC=({onDelete:e,onClone:t,onView:n})=>s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:ss.g.EyeOpen,testID:"context-history-menu"},s.a.createElement(ss.f.Item,{label:"View History",action:n,testID:"context-history-task"})),s.a.createElement(ss.f.Menu,{icon:ss.g.Duplicate,color:h.ComponentColor.Secondary},s.a.createElement(ss.f.Item,{label:"Clone",action:t})),s.a.createElement(ss.f.Menu,{icon:ss.g.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:e,testID:"context-delete-task"})));var VC=({row:{level:e}})=>s.a.createElement("div",{className:`level-table-field level-table-field--${e.toLowerCase()}`},e);var $C=({row:{time:e}})=>s.a.createElement("div",{className:"time-table-field"},Hn.a.utc(e).format(x.s));const WC=e=>""===e.trim()?null:new YC(e).parse(),KC=e=>{if(null===e)return"true";switch(e.type){case"BooleanExpression":{const t=KC(e.left),n=KC(e.right);return`(${t}) ${e.operator} (${n})`}case"TagExpression":{const t=e.left.value,n=e.right.value,a="RegexLiteral"===e.right.type?"/":'"';return`r["${t}"] ${e.operator} ${a}${n}${a}`}default:{const t=JSON.stringify(e);throw new Error(`cannot convert search expression to Flux: ${t} `)}}};class QC{constructor(e){this.i=0,this.input=e}lex(){const e=[];for(;this.current();)switch(this.current()){case" ":case"\r":case"\n":this.advance();break;case"(":e.push({type:"("}),this.advance();break;case")":e.push({type:")"}),this.advance();break;case"a":this.advance(),this.expect("n"),this.advance(),this.expect("d"),e.push({type:"and"}),this.advance();break;case"o":this.advance(),this.expect("r"),e.push({type:"or"}),this.advance();break;case"=":case"!":const t=this.current();this.advance(),this.expect("=","~"),e.push({type:`${t}${this.current()}`}),this.advance();break;case'"':this.advance(),e.push({type:"StringLiteral",value:this.readToDelimiter('"')}),this.advance();break;case"/":this.advance(),e.push({type:"RegexLiteral",value:this.readToDelimiter("/")}),this.advance();break;default:throw new Error(`unexpected character "${this.current()}"`)}return e}readToDelimiter(e){let t="";for(;this.current()!==e;){if(!this.current())throw new Error("unexpected end of input");t+=this.current(),this.advance()}return t}current(){return this.input[this.i]}advance(){return this.i+=1,this.input[this.i]}expect(...e){const t=this.input[this.i];if(!e.includes(t))throw new Error(`expected one of "${JSON.stringify(e)}" but got "${t}"`);return t}}class YC{constructor(e){this.i=0,this.input=e}parse(){return this.tokens=new QC(this.input).lex(),this.parseExpr()}parseExpr(e=0){let t;switch(this.current().type){case"StringLiteral":t=this.parseStringLiteral();break;case"RegexLiteral":t=this.parseRegexLiteral();break;case"(":t=this.parseGroupedExpr();break;default:throw new Error(`unexpected token ${this.current().type}`)}for(;this.next()&&e<this.nextPrecedence();)switch(this.advance(),t.type){case"StringLiteral":t=this.parseTagExpr(t);break;case"BooleanExpression":case"TagExpression":t=this.parseBooleanExpr(t);break;default:throw new Error(`unexpected node ${t.type}`)}return t}parseBooleanExpr(e){this.expect("and","or");const t=this.current().type,n=this.currentPrecedence();return this.advance(),{type:"BooleanExpression",operator:t,left:e,right:this.parseExpr(n)}}parseTagExpr(e){this.expect("==","!=","=~","!~");const t=this.current().type;this.advance();const n=t.endsWith("~")?this.parseRegexLiteral():this.parseStringLiteral();return{type:"TagExpression",operator:t,left:e,right:n}}parseStringLiteral(){return this.expect("StringLiteral"),this.current()}parseRegexLiteral(){return this.expect("RegexLiteral"),this.current()}parseGroupedExpr(){this.advance();const e=this.parseExpr(0);return this.advance(),this.expect(")"),e}advance(){this.i+=1}current(){return this.tokens[this.i]}next(){return this.tokens[this.i+1]}currentPrecedence(){return YC.PRECEDENCES[this.tokens[this.i].type]}nextPrecedence(){return YC.PRECEDENCES[this.tokens[this.i+1].type]}expect(...e){const t=`expected one of ${JSON.stringify(e)} `;if(!this.current())throw new Error(`${t} but found nothing`);const n=this.current().type;if(!e.includes(n))throw new Error(`${t} but got ${n}`)}}YC.PRECEDENCES={")":0,and:1,or:1,"==":2,"!=":2,"=~":2,"!~":2,"(":3};const XC={rows:[],offset:0,limit:100,now:null,nextRowsStatus:W.RemoteDataState.NotStarted,nextRowsErrorMessage:null,nextRowsCanceller:null,hasReachedEnd:!1,searchInput:"",searchExpr:null,searchTimeoutID:null,scrollTop:0,nextScrollTop:null},ZC=(e,t)=>{switch(t.type){case"NEXT_ROWS_LOADING":return Object.assign(Object.assign({},e),{nextRowsStatus:W.RemoteDataState.Loading,nextRowsCanceller:t.cancel,now:t.now?t.now:e.now});case"NEXT_ROWS_FAILED_TO_LOAD":return Object.assign(Object.assign({},e),{nextRowsStatus:W.RemoteDataState.Error,nextRowsErrorMessage:t.errorMessage});case"NEXT_ROWS_LOADED":{const n=[...e.rows,...t.rows];return Object.assign(Object.assign({},e),{rows:n,nextRowsStatus:W.RemoteDataState.Done,offset:n.length,hasReachedEnd:0===t.rows.length})}case"SEARCH_TYPED":return Object.assign(Object.assign({},e),{searchInput:t.searchInput});case"SEARCH_SCHEDULED":return Object.assign(Object.assign({},e),{searchTimeoutID:t.searchTimeoutID});case"SEARCH_STARTED":return Object.assign(Object.assign({},e),{rows:[],offset:0,now:t.now,searchExpr:t.expr,nextRowsCanceller:t.cancel,nextRowsStatus:W.RemoteDataState.Loading,hasReachedEnd:!1});case"SEARCH_COMPLETED":return Object.assign(Object.assign({},e),{rows:t.rows,nextRowsStatus:W.RemoteDataState.Done,offset:t.rows.length,hasReachedEnd:t.rows.length<t.limit});case"SEARCH_FAILED":return Object.assign(Object.assign({},e),{nextRowsStatus:W.RemoteDataState.Error,nextRowsErrorMessage:t.errorMessage});case"SEARCH_CLEARED":return Object.assign(Object.assign({},e),{rows:[],offset:0,now:t.now,nextRowsStatus:W.RemoteDataState.Loading,nextScrollTop:0,hasReachedEnd:!1,nextRowsCanceller:t.cancel,searchExpr:null});case"SCROLLED":return Object.assign(Object.assign({},e),{scrollTop:t.scrollTop});case"CLICKED_BACK_TO_TOP":return Object.assign(Object.assign({},e),{nextScrollTop:0});case"CONSUMED_NEXT_SCROLL_INDEX":return Object.assign(Object.assign({},e),{nextScrollTop:null});case"REFRESHED":return Object.assign(Object.assign({},e),{rows:[],offset:0,now:t.now,nextRowsStatus:W.RemoteDataState.Loading,hasReachedEnd:!1,nextRowsCanceller:t.cancel,nextScrollTop:0});default:throw new Error(`unhandled action "${t.type}"`)}},JC=async(e,t,n,a)=>{if(e.nextRowsStatus!==W.RemoteDataState.Loading&&e.nextRowsStatus!==W.RemoteDataState.Error&&!e.hasReachedEnd)try{const{promise:s,cancel:r}=n({offset:e.offset,limit:e.limit,until:a||e.now,filter:e.searchExpr});t({type:"NEXT_ROWS_LOADING",cancel:r,now:a}),t({type:"NEXT_ROWS_LOADED",rows:await s})}catch(e){if("CancellationError"===e.name)return;t({type:"NEXT_ROWS_FAILED_TO_LOAD",errorMessage:e.message})}},eT=(e,t,n,a,s=!1)=>{clearTimeout(e.searchTimeoutID),t({type:"SEARCH_TYPED",searchInput:a});let r=null,o=!1;try{r=WC(a)}catch(e){o=!0}if(!(o||null===r&&null===e.searchExpr))if(null===r)nT(e,t,n);else if(s)tT(e,t,n,r);else{const a=setTimeout(()=>{tT(e,t,n,r)},500);t({type:"SEARCH_SCHEDULED",searchTimeoutID:a})}},tT=async(e,t,n,a)=>{try{e.nextRowsCanceller&&e.nextRowsCanceller();const s=Date.now(),r=e.limit,{promise:o,cancel:i}=n({offset:0,limit:r,until:s,filter:a});t({type:"SEARCH_STARTED",cancel:i,now:s,expr:a}),t({type:"SEARCH_COMPLETED",rows:await o,limit:r})}catch(e){if("CancellationError"===e.name)return;t({type:"SEARCH_FAILED",errorMessage:e.message})}},nT=async(e,t,n)=>{try{e.nextRowsCanceller&&e.nextRowsCanceller();const a=Date.now(),{promise:s,cancel:r}=n({offset:0,limit:e.limit,until:a});t({type:"SEARCH_CLEARED",now:a,cancel:r}),t({type:"NEXT_ROWS_LOADED",rows:await s})}catch(e){if("CancellationError"===e.name)return;t({type:"NEXT_ROWS_FAILED_TO_LOAD",errorMessage:e.message})}},aT=async(e,t,n)=>{try{e.nextRowsCanceller&&e.nextRowsCanceller();const a=Date.now(),{promise:s,cancel:r}=n({offset:0,limit:e.limit,until:a,filter:e.searchExpr});t({type:"REFRESHED",cancel:r,now:a}),t({type:"NEXT_ROWS_LOADED",rows:await s})}catch(e){if("CancellationError"===e.name)return;t({type:"NEXT_ROWS_FAILED_TO_LOAD",errorMessage:e.message})}};var sT=({loadRows:e,children:t,initialState:n})=>{const[s,r]=Object(a.useReducer)(ZC,Object.assign(Object.assign({},XC),n));return Object(a.useEffect)(()=>{JC(s,r,e,Date.now())},[]),((e,t)=>{const n=Object(a.useRef)(!0);Object(a.useLayoutEffect)(()=>{if(!n.current)return e();n.current=!1},t)})(()=>{aT(s,r,e)},[e]),t({state:s,dispatch:r,loadRows:e})};var rT=({fields:e})=>s.a.createElement("div",{className:"event-table-header"},e.map(({rowKey:e,columnWidth:t,columnName:n})=>{const a={flexBasis:`${t}px`};return s.a.createElement("div",{key:e,className:"event-table-header--field",style:a},n)}));var oT=({row:e,style:t,fields:n})=>s.a.createElement("div",{style:t},s.a.createElement("div",{className:"event-row"},n.map(({component:t,columnWidth:n,rowKey:a})=>{const r={flexBasis:`${n}px`};let o;return o=void 0===e[a]?null:t?s.a.createElement(t,{key:a,row:e}):String(e[a]),s.a.createElement("div",{key:a,className:"event-row--field",style:r},o)})));const iT=Object(y.range)(30).map(e=>Math.random());var lT=({index:e,style:t})=>{const n=iT[e%iT.length],a=Math.floor(80+60*n);return s.a.createElement("div",{style:t},s.a.createElement("div",{className:"event-loading-row"},s.a.createElement("div",{className:"event-loading-row--placeholder",style:{width:`${a}px`,height:"10px",animationDelay:`${e%5/2*100}ms`}})))};var cT=({style:e})=>s.a.createElement("div",{style:e},s.a.createElement("div",{className:"event-footer-row"},"No more data found."));var uT=({style:e,index:t})=>s.a.createElement("div",{style:e},s.a.createElement("div",{className:"event-error-row"},0===t?"Failed to load :(":"Failed to load next rows :("));var mT=({state:e,dispatch:t,loadRows:n,fields:r})=>{const i=(e=>{return 0===e.rows.length&&0===e.offset&&e.nextRowsStatus===W.RemoteDataState.Loading&&e.nextRowsStatus!==W.RemoteDataState.Error?e.rows.length+100:e.rows.length+1})(e),l=(e=>({index:t})=>!!e.rows[t])(e),c=!!e.rows[0],u=()=>JC(e,t,n),[m,d]=Object(a.useState)(!1),p=Object(o.d)();Object(a.useEffect)(()=>{const e=setTimeout(()=>{d(!0)},5e3);return()=>clearTimeout(e)},[d]),Object(a.useEffect)(()=>{m&&!c&&p(Object($.c)(me.K))},[m,c,p]);const h=({key:t,index:n,style:a})=>{const o=n===e.rows.length;return o&&e.nextRowsStatus===W.RemoteDataState.Error?s.a.createElement(uT,{key:t,index:n,style:a}):o&&e.hasReachedEnd?s.a.createElement(cT,{key:t,style:a}):e.rows[n]?s.a.createElement(oT,{key:t,style:a,row:e.rows[n],fields:r}):s.a.createElement(lT,{key:t,index:n,style:a})},_=null===e.nextScrollTop?void 0:e.nextScrollTop;return Object(a.useLayoutEffect)(()=>{t({type:"CONSUMED_NEXT_SCROLL_INDEX"})},[_,t]),s.a.createElement("div",{className:"event-table"},s.a.createElement(rT,{fields:r}),s.a.createElement("div",{className:"event-table--table"},s.a.createElement(bl.a,null,({width:e,height:n})=>e&&n?s.a.createElement(bl.d,{isRowLoaded:l,loadMoreRows:u,rowCount:i},({onRowsRendered:a,registerChild:r})=>s.a.createElement(bl.e,{width:e,height:n,ref:r,onRowsRendered:a,rowCount:i,rowHeight:38,rowRenderer:h,overscanRowCount:20,scrollTop:_,onScroll:({scrollTop:e})=>t({type:"SCROLLED",scrollTop:e})})):null)))};var dT=({state:e,dispatch:t,loadRows:n})=>0===e.scrollTop?s.a.createElement(h.Button,{className:"back-to-top-button",icon:h.IconFont.Refresh,text:"Refresh",onClick:()=>aT(e,t,n)}):s.a.createElement(h.Button,{className:"back-to-top-button",icon:h.IconFont.CaretUp,text:"Back to Top",onClick:()=>t({type:"CLICKED_BACK_TO_TOP"})});var pT=({placeholder:e,exampleSearches:t,state:n,dispatch:r,loadRows:o})=>{const[i,l]=Object(a.useState)(!1),c=(e=>{try{WC(e)}catch(e){return!1}return!0})(n.searchInput)?h.ComponentStatus.Default:h.ComponentStatus.Error,u=e=>{eT(n,r,o,e,!0),l(!1)};return s.a.createElement("div",{className:"status-search-bar"},s.a.createElement(h.ClickOutside,{onClickOutside:e=>{e.target.classList.contains("status-search-bar--suggestion")||e.target.parentNode.classList.contains("status-search-bar--suggestion")||l(!1)}},s.a.createElement(h.Input,{icon:h.IconFont.Search,placeholder:e,style:{width:"100%"},value:n.searchInput,status:c,onChange:e=>eT(n,r,o,e.target.value),onFocus:()=>l(!0),testID:"check-status-input"})),""!==n.searchInput.trim()&&s.a.createElement("div",{className:"status-search-bar--clear",onClick:()=>eT(n,r,o,"",!0)},s.a.createElement(h.Icon,{glyph:h.IconFont.Remove})),i&&s.a.createElement(h.DropdownMenu,{testID:"check-status-dropdown",className:"status-search-bar--suggestions",noScrollX:!0,noScrollY:!0},s.a.createElement(h.DropdownDivider,{text:"Examples"}),t.map(e=>s.a.createElement(h.DropdownItem,{key:e,value:e,className:"status-search-bar--suggestion",onClick:u},e))))};var hT=({eventViewerProps:e,historyType:t,onSetHistoryType:n})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(h.SelectGroup,{className:"alert-history-controls--switcher"},s.a.createElement(h.SelectGroup.Option,{name:"alert-history-mode",id:"alert-history-mode--statuses",value:"statuses",onClick:()=>n("statuses"),titleText:"View Status History",active:"statuses"===t},"Statuses"),s.a.createElement(h.SelectGroup.Option,{name:"alert-history-mode",id:"alert-history-mode--notifications",value:"notifications",onClick:()=>n("notifications"),titleText:"View Notification History",active:"notifications"===t},"Notifications"))),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(dT,Object.assign({},e)),s.a.createElement(pT,Object.assign({},e,{placeholder:`Search ${t}...`,exampleSearches:"statuses"===t?TT:OT}))));var _T=Object(i.j)(({searchInput:e,historyType:t,history:n})=>(Object(a.useEffect)(()=>{((e,t)=>{const n=window.location.search,a=Object(y.pickBy)(Object.assign(Object.assign({},gu.a.parse(n,{ignoreQueryPrefix:!0})),e),e=>!!e),s=gu.a.stringify(a);t.replace(`${window.location.pathname}?${s}`)})({[IT]:e||null,[DT]:t||null},n)},[e,t,n]),null)),gT=n(427);const fT=(e,{offset:t,limit:n,since:a,until:s,filter:r})=>{const o=a?Math.round(a/1e3):"-1d",i=r?KC(bT(r)):null,l=`\nfrom(bucket: "${Gi.n}")\n  |> range(start: ${o}, stop: ${Math.round(s/1e3)})\n  |> filter(fn: (r) => r._measurement == "statuses" and r._field == "_message")\n  |> filter(fn: (r) => exists r._check_id and exists r._value and exists r._check_name and exists r._level)\n  |> keep(columns: ["_time", "_value", "_check_id", "_check_name", "_level"])\n  |> rename(columns: {"_time": "time",\n                      "_value": "message",\n                      "_check_id": "checkID",\n                      "_check_name": "checkName",\n                      "_level": "level"})\n  |> group()${i?`\n  |> filter(fn: (r) => ${i})`:""}\n  |> sort(columns: ["time"], desc: true)\n  |> limit(n: ${n}, offset: ${t})\n`;return Object(A.a)("runQuery",{context:"alertHistory"}),yT(Object(lm.a)(e,l))},bT=e=>{const t=Object(y.cloneDeep)(e),n=Object(gT.a)(t,e=>e&&"TagExpression"===e.type).map(e=>e.left);for(const e of n){const t=e.value.trim().toLowerCase().replace(" ","").replace("_","");"notificationrule"===t||"rule"===t?e.value="notificationRule":"notificationEndpoint"!==t&&"endpoint"!==t||(e.value="notificationEndpoint")}return t},yT=({promise:e,cancel:t})=>{return{promise:e.then(e=>{if("SUCCESS"!==e.type)return Promise.reject(new Error(e.message));const{table:t}=Object(ul.fromFlux)(e.csv),n=[];for(let e=0;e<t.length;e++){const a={};for(const n of t.columnKeys)a[n]=t.getColumn(n)[e];n.push(a)}return n}),cancel:t}},vT=()=>{const e=fu()[IT];if(!e)return{};try{return{searchInput:e,searchExpr:WC(e)}}catch(t){return{searchInput:e}}},xT=Object(a.createContext)(null);var wT=Object(o.c)(e=>{return{resourceIDs:{checkIDs:BC(e),endpointIDs:(e=>e.resources.endpoints.allIDs.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{}))(e),ruleIDs:(e=>e.resources.rules.allIDs.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{}))(e)}}})(({match:{params:{orgID:e}},resourceIDs:t})=>{const[n,r]=Object(a.useState)((()=>fu()[DT]||"statuses")()),o=Object(a.useMemo)(()=>"statuses"===n?t=>fT(e,t):t=>((e,{offset:t,limit:n,since:a,until:s,filter:r})=>{const o=a?Math.round(a/1e3):"-60d",i=r?KC(bT(r)):null,l=`\nfrom(bucket: "${Gi.n}")\n  |> range(start: ${o}, stop: ${Math.round(s/1e3)})\n  |> filter(fn: (r) => r._measurement == "notifications")\n  |> filter(fn: (r) => r._field !~ /^_/)\n  |> filter(fn: (r) => exists r._check_id and exists r._check_name and exists r._notification_rule_id and exists r._notification_rule_name and exists r._notification_endpoint_id and exists r._notification_endpoint_name and exists r._level and exists r._sent)\n  |> keep(columns: ["_time",\n                    "_check_id",\n                    "_check_name",\n                    "_notification_rule_id",\n                    "_notification_rule_name",\n                    "_notification_endpoint_id",\n                    "_notification_endpoint_name",\n                    "_level",\n                    "_sent"])\n  |> rename(columns: {"_time": "time",\n                      "_check_id": "checkID",\n                      "_check_name": "checkName",\n                      "_notification_rule_id": "notificationRuleID",\n                      "_notification_rule_name": "notificationRuleName",\n                      "_notification_endpoint_id": "notificationEndpointID",\n                      "_notification_endpoint_name": "notificationEndpointName",\n                      "_level": "level",\n                      "_sent": "sent"})\n  |> group()${i?`\n  |> filter(fn: (r) => ${i})`:""}\n  |> sort(columns: ["time"], desc: true)\n  |> limit(n: ${n}, offset: ${t})\n`;return Object(A.a)("runQuery",{context:"alertHistory"}),yT(Object(lm.a)(e,l))})(e,t),[e,n]),i="statuses"===n?ST:CT;return s.a.createElement(_n,{resources:[W.ResourceType.Checks,W.ResourceType.NotificationEndpoints,W.ResourceType.NotificationRules]},s.a.createElement(xT.Provider,{value:t},s.a.createElement(sT,{loadRows:o,initialState:vT()},e=>s.a.createElement(h.Page,{titleTag:"Check Statuses | InfluxDB 2.0",className:"alert-history-page"},s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(h.Page.Title,{title:"Check Statuses",testID:"alert-history-title"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(_T,{searchInput:e.state.searchInput,historyType:n}),s.a.createElement(hT,{historyType:n,onSetHistoryType:r,eventViewerProps:e})),s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1,className:"alert-history-page--contents"},s.a.createElement("div",{className:"alert-history"},s.a.createElement(mT,Object.assign({},e,{fields:i}))))))))});const ET=e=>location.pathname.split("/").slice(0,3).join("/")+e;var kT=({row:{checkName:e,checkID:t}})=>{const{checkIDs:n}=Object(a.useContext)(xT);if(!n[t])return s.a.createElement("div",{className:"check-name-field",title:"The check that created this no longer exists"},e);const r=ET(`/alerting/checks/${t}/edit`);return s.a.createElement(b.a,{to:r},e)};const ST=[{rowKey:"time",columnName:"Time",columnWidth:160,component:$C},{rowKey:"level",columnName:"Level",columnWidth:50,component:VC},{rowKey:"checkID",columnName:"Check",columnWidth:150,component:kT},{rowKey:"message",columnName:"Message",columnWidth:300}],CT=[{rowKey:"time",columnName:"Time",columnWidth:160,component:$C},{rowKey:"level",columnName:"Level",columnWidth:50,component:VC},{rowKey:"checkID",columnName:"Check",columnWidth:150,component:kT},{rowKey:"notificationRuleID",columnName:"Notification Rule",columnWidth:200,component:({row:{notificationRuleName:e,notificationRuleID:t}})=>{const{ruleIDs:n}=Object(a.useContext)(xT);if(!n[t])return s.a.createElement("div",{className:"rule-name-field",title:"The rule that created this no longer exists"},e);const r=ET(`/alerting/rules/${t}/edit`);return s.a.createElement(b.a,{to:r},e)}},{rowKey:"notificationEndpointID",columnName:"Notification Endpoint",columnWidth:200,component:({row:{notificationEndpointName:e,notificationEndpointID:t}})=>{const{endpointIDs:n}=Object(a.useContext)(xT);if(!n[t])return s.a.createElement("div",{className:"endpoint-name-field",title:"This endpoint no longer exists"},e);const r=ET(`/alerting/endpoints/${t}/edit`);return s.a.createElement(b.a,{to:r},e)}},{rowKey:"sent",columnName:"Sent",columnWidth:50,component:({row:{sent:e}})=>{const t="true"===e?"sent":"not-sent";return s.a.createElement("div",{className:`sent-table-field sent-table-field--${t}`},"true"===e?s.a.createElement(h.Icon,{glyph:h.IconFont.Checkmark}):s.a.createElement(h.Icon,{glyph:h.IconFont.AlertTriangle}))}}],TT=['"check" == "my check"','"level" != "ok"','"level" == "warn"','"level" == "crit"','"message" =~ /exceeded capacity/','"check" == "my check" and ("level" == "crit" or "level" == "warn")'],OT=['"check" == "my check"','"level" == "crit"','"level" != "ok"','"notification rule" == "my rule"'],DT="type",IT="filter",jT={onUpdateCheckDisplayProperties:(e,t)=>async n=>{try{const a=await fe.V({checkID:e,data:t});if(200!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data,it.b);n(Object(vt.g)(e,W.RemoteDataState.Done,s))}catch(e){console.error(e)}},deleteCheck:e=>async t=>{try{const n=await fe.d({checkID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(vt.e)(e)),t(Object(xt.d)())}catch(e){console.error(e),t(Object($.c)(me.jb(e.message)))}},onAddCheckLabel:(e,t)=>async n=>{try{const a=await fe.ib({checkID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data.label,Et.b);n(Object(wt.g)(e,s))}catch(e){console.error(e)}},onRemoveCheckLabel:(e,t)=>async n=>{try{const a=await fe.e({checkID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(vt.f)(e,t))}catch(e){console.error(e)}},onCloneCheck:e=>async(t,n)=>{try{const a=n(),s=Object(ve.a)(a,W.ResourceType.Checks).map(e=>e.name),r=Object(lt.a)(s,e.name),o=(e=>{const t=e.activeStatus;return delete e.activeStatus,Object.assign(Object.assign({},e),{status:t})})(Object.assign(Object.assign({},e),{name:r})),i=await fe.hb({data:o});if(201!==i.status)throw new Error(i.data.message);const l=Object(_e.a)(i.data,it.b);t(Object(vt.g)(i.data.id,W.RemoteDataState.Done,l)),t(Object(xt.d)())}catch(e){console.error(e),t(Object($.c)(me.U(e.message)))}},onNotify:$.c};var RT=Object(o.c)(null,jT)(Object(i.j)(({onRemoveCheckLabel:e,onAddCheckLabel:t,onCloneCheck:n,onNotify:a,check:r,onUpdateCheckDisplayProperties:o,deleteCheck:i,match:{params:{orgID:l}},history:c})=>{const{id:u,activeStatus:m,name:d,description:p}=r;return s.a.createElement(h.ResourceCard,{key:`check-id--${u}`,testID:"check-card",disabled:"inactive"===m,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Large,contextMenu:s.a.createElement(GC,{onView:()=>{const e=new URLSearchParams({[IT]:`"checkID" == "${u}"`});c.push(`/orgs/${l}/checks/${u}/?${e}`)},onDelete:()=>{i(r.id)},onClone:()=>{n(r)}})},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,justifyContent:h.JustifyContent.Center,margin:h.ComponentSize.Medium,alignItems:h.AlignItems.FlexStart},s.a.createElement(h.SlideToggle,{active:"active"===m,size:h.ComponentSize.ExtraSmall,onChange:()=>{const e="active"===m?"inactive":"active";try{o(u,{status:e})}catch(e){a(Object(me.Oc)(e.message))}},testID:"check-card--slide-toggle",style:{flexBasis:"16px"}}),s.a.createElement(Os,{key:2,lastRunError:r.lastRunError,lastRunStatus:r.lastRunStatus})),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,alignItems:h.AlignItems.FlexStart},s.a.createElement(h.ResourceCard.EditableName,{onUpdate:e=>{try{o(r.id,{name:e})}catch(e){a(Object(me.Oc)(e.message))}},onClick:()=>{c.push(`/orgs/${l}/alerting/checks/${u}/edit`)},name:r.name,noNameString:Gi.d,testID:"check-card--name",buttonTestID:"check-card--name-button",inputTestID:"check-card--input"}),s.a.createElement(h.ResourceCard.EditableDescription,{onUpdate:e=>{try{o(r.id,{description:e})}catch(e){a(Object(me.Oc)(e.message))}},description:p,placeholder:`Describe ${d}`}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,"Last completed at ",r.latestCompleted),s.a.createElement(s.a.Fragment,null,sd(r.updatedAt,"Last updated "))),s.a.createElement(Ts,{selectedLabelIDs:r.labels,onAddLabel:e=>{t(u,e)},onRemoveLabel:t=>{e(u,t.id)}})))}));const NT=Ze(),AT=({showFirstTimeWidget:e,onCreateThreshold:t,onCreateDeadman:n,searchTerm:a})=>a?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-column--empty"},s.a.createElement(h.EmptyState.Text,null,"No ",s.a.createElement("b",null,"checks")," match your search")):e?s.a.createElement(h.Panel,{gradient:h.Gradients.PolarExpress,className:"alerting-first-time"},s.a.createElement(h.Panel.Body,{size:h.ComponentSize.Large},s.a.createElement("h1",null,"Get started monitoring by creating a check"),s.a.createElement("h5",null,"When a value crosses a specific threshold:"),s.a.createElement(h.Button,{size:h.ComponentSize.Medium,color:h.ComponentColor.Primary,onClick:t,text:"Threshold Check",icon:h.IconFont.Plus,shape:h.ButtonShape.StretchToFit}),s.a.createElement("h5",null,"If a service stops sending metrics:"),s.a.createElement(h.Button,{size:h.ComponentSize.Medium,color:h.ComponentColor.Primary,onClick:n,text:"Deadman Check",icon:h.IconFont.Plus,shape:h.ButtonShape.StretchToFit}))):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-column--empty"},s.a.createElement(h.EmptyState.Text,null,"Looks like you have not created a ",s.a.createElement("b",null,"Check")," yet",s.a.createElement("br",null),s.a.createElement("br",null),"You will need one to be notified about",s.a.createElement("br",null)," any changes in system status"));var PT=({checks:e,searchTerm:t,showFirstTimeWidget:n,onCreateThreshold:a,onCreateDeadman:r})=>{const o=e=>s.a.createElement(h.ResourceList.Body,{emptyState:s.a.createElement(AT,{showFirstTimeWidget:n,onCreateThreshold:a,onCreateDeadman:r,searchTerm:t})},(e=>e.map(e=>s.a.createElement(RT,{key:e.id,check:e})))(e)),i=s.a.createElement(NT,{list:e,searchKeys:["name"],searchTerm:t},e=>o(e));return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.ResourceList,null,i))};var MT=Object(o.c)(({cloud:{limits:e}})=>({limitStatus:{[W.ResourceType.Checks]:Object($t.e)(e),[W.ResourceType.NotificationRules]:Object($t.m)(e),[W.ResourceType.NotificationEndpoints]:Object($t.i)(e)}}))(({type:e,children:t,title:n,limitStatus:r,createButton:o,questionMarkTooltipContents:i,tabIndex:l})=>{const[c,u]=Object(a.useState)(""),m=`alerting-index--column alerting-index--${n.toLowerCase().replace(" ","-")}`,d=n.substr(0,n.length-1),p=x.i&&r[e]===xt.b.EXCEEDED&&e!==W.ResourceType.Checks,_=s.a.createElement(F_,{color:h.ComponentColor.Secondary,buttonText:"Create",resourceName:d});return s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Kevlar,className:m,testID:`${e}--column`},s.a.createElement(h.Panel.Header,null,s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement("h4",{style:{width:"auto",marginRight:"6px"}},n),s.a.createElement(h.QuestionMarkTooltip,{diameter:18,color:h.ComponentColor.Primary,testID:`${n}--question-mark`,tooltipContents:i})),p?_:o),s.a.createElement("div",{className:"alerting-index--search"},s.a.createElement(h.Input,{icon:h.IconFont.Search,placeholder:`Filter ${n}...`,value:c,onChange:e=>u(e.target.value),testID:`filter--input ${e}`,tabIndex:l})),s.a.createElement("div",{className:"alerting-index--column-body"},s.a.createElement(h.DapperScrollbars,{autoHide:!0,style:{width:"100%",height:"100%"}},s.a.createElement("div",{className:"alerting-index--list"},t(c),s.a.createElement(Fs,{resourceName:n,limitStatus:r[e]})))))});const LT={onShowOverlay:k.c,onDismissOverlay:k.b};var FT=Object(o.c)(null,LT)(({onCreateThreshold:e,onCreateDeadman:t,onDismissOverlay:n,onShowOverlay:a,limitStatus:r})=>{const o=s=>{x.i&&r===xt.b.EXCEEDED?a("asset-limit",{asset:"Checks"},n):("threshold"===s&&e(),"deadman"===s&&t())};return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{icon:h.IconFont.Plus,color:h.ComponentColor.Primary,active:e,onClick:t,testID:"create-check"},"Create"),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},s.a.createElement(h.Dropdown.Item,{value:"threshold",onClick:o,testID:"create-threshold-check"},"Threshold Check"),s.a.createElement(h.Dropdown.Item,{value:"deadman",onClick:o,testID:"create-deadman-check"},"Deadman Check")),style:{width:"164px"}})});var qT=Object(o.c)(e=>{const{cloud:{limits:t}}=e,n=Object(ve.a)(e,W.ResourceType.Checks),a=Object(ve.a)(e,W.ResourceType.NotificationEndpoints),s=Object(ve.a)(e,W.ResourceType.NotificationRules);return{checks:zC(n),rules:UC(s),endpoints:HC(a),limitStatus:Object($t.e)(t)}})(Object(i.j)(({checks:e,history:t,match:{params:{orgID:n}},rules:a,endpoints:r,limitStatus:o,tabIndex:i})=>{const l=()=>{t.push(`/orgs/${n}/alerting/checks/new-threshold`)},c=()=>{t.push(`/orgs/${n}/alerting/checks/new-deadman`)},u=s.a.createElement(s.a.Fragment,null,"A ",s.a.createElement("strong",null,"Check")," is a periodic query that the system",s.a.createElement("br",null),"performs against your time series data",s.a.createElement("br",null),"that will generate a status",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/monitor-alert/checks/create/",target:"_blank"},"Read Documentation")),m=!e.length&&!a.length&&!r.length,d=s.a.createElement(FT,{limitStatus:o,onCreateThreshold:l,onCreateDeadman:c});return s.a.createElement(MT,{type:W.ResourceType.Checks,title:"Checks",createButton:d,questionMarkTooltipContents:u,tabIndex:i},t=>s.a.createElement(PT,{checks:e,searchTerm:t,onCreateThreshold:l,onCreateDeadman:c,showFirstTimeWidget:m}))}));var BT=({onDelete:e,onClone:t,onView:n})=>s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:ss.g.EyeOpen,testID:"context-history-menu"},s.a.createElement(ss.f.Item,{label:"View History",action:n,testID:"context-history-task"})),s.a.createElement(ss.f.Menu,{icon:ss.g.Duplicate,color:h.ComponentColor.Secondary,testID:"context-clone-menu"},s.a.createElement(ss.f.Item,{label:"Clone",action:t,testID:"context-clone-task"})),s.a.createElement(ss.f.Menu,{icon:ss.g.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:e,testID:"context-delete-task"})));const zT={onUpdateRuleProperties:(e,t)=>async n=>{try{const a=await fe.ab({ruleID:e,data:t});if(200!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data,At.b);n(Object(Pt.i)(e,W.RemoteDataState.Done,s))}catch(e){console.error(e)}},deleteNotificationRule:e=>async t=>{try{const n=await fe.l({ruleID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(Pt.g)(e)),t(Object(xt.g)())}catch(e){console.error(e)}},onAddRuleLabel:(e,t)=>async n=>{try{const a=await fe.rb({ruleID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data.label,Et.b);n(Object(wt.g)(e,s))}catch(e){console.error(e)}},onRemoveRuleLabel:(e,t)=>async n=>{try{const a=await fe.m({ruleID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(Pt.f)(e,t))}catch(e){console.error(e)}},onCloneRule:e=>async(t,n)=>{try{const a=n(),s=Object(ve.a)(a,W.ResourceType.NotificationRules),r=Object(Mt.d)(e),o=s.map(e=>e.name),i=Object(lt.a)(o,r.name),l=await fe.qb({data:Object.assign(Object.assign({},r),{name:i})});if(201!==l.status)throw new Error(l.data.message);const c=Object(_e.a)(l.data,At.b);t(Object(Pt.i)(l.data.id,W.RemoteDataState.Done,c)),t(Object(xt.g)())}catch(e){console.error(e),t(Object($.c)(me.X(e.message)))}}};var UT=Object(o.c)(null,zT)(Object(i.j)(({rule:e,onUpdateRuleProperties:t,deleteNotificationRule:n,onCloneRule:a,onAddRuleLabel:r,onRemoveRuleLabel:o,match:{params:{orgID:i}},history:l})=>{const{id:c,activeStatus:u,name:m,lastRunError:d,lastRunStatus:p,description:_,latestCompleted:g}=e;return s.a.createElement(h.ResourceCard,{key:`rule-id--${c}`,testID:`rule-card ${m}`,disabled:"inactive"===u,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Large,contextMenu:s.a.createElement(BT,{onView:()=>{const e=new URLSearchParams({[DT]:"notifications",[IT]:`"notificationRuleID" == "${c}"`});l.push(`/orgs/${i}/alert-history?${e}`)},onClone:()=>{a(e)},onDelete:()=>{n(c)}})},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,justifyContent:h.JustifyContent.Center,margin:h.ComponentSize.Medium,alignItems:h.AlignItems.FlexStart},s.a.createElement(h.SlideToggle,{active:"active"===u,size:h.ComponentSize.ExtraSmall,onChange:()=>{t(c,{status:"active"===u?"inactive":"active"})},testID:"rule-card--slide-toggle",style:{flexBasis:"16px"}}),s.a.createElement(Os,{key:2,lastRunError:d,lastRunStatus:p})),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,alignItems:h.AlignItems.FlexStart},s.a.createElement(h.ResourceCard.EditableName,{onUpdate:e=>{t(c,{name:e})},onClick:()=>{l.push(`/orgs/${i}/alerting/rules/${c}/edit`)},name:m,noNameString:Gi.j,testID:"rule-card--name",buttonTestID:"rule-card--name-button",inputTestID:"rule-card--input"}),s.a.createElement(h.ResourceCard.EditableDescription,{onUpdate:e=>{t(c,{description:e})},description:_,placeholder:`Describe ${m}`}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,"Last completed at ",g),s.a.createElement(s.a.Fragment,null,sd(e.updatedAt,"Last updated "))),s.a.createElement(Ts,{selectedLabelIDs:e.labels,onAddLabel:e=>{r(c,e)},onRemoveLabel:e=>{o(c,e.id)}})))}));const HT=Ze(),GT=({searchTerm:e})=>e?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-column--empty"},s.a.createElement(h.EmptyState.Text,null,"No ",s.a.createElement("b",null,"rules")," match your search")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-column--empty"},s.a.createElement(h.EmptyState.Text,null,"You need at least 1 ",s.a.createElement("b",null,"Notification Endpoint")," before",s.a.createElement("br",null),"you can create a ",s.a.createElement("b",null,"Notification Rule")));var VT=({rules:e,searchTerm:t})=>{const n=s.a.createElement(HT,{list:e,searchKeys:["name"],searchTerm:t},e=>s.a.createElement(h.ResourceList.Body,{emptyState:s.a.createElement(GT,{searchTerm:t})},(e=>e.map(e=>s.a.createElement(UT,{key:e.id,rule:e})))(e)));return s.a.createElement(h.ResourceList,null,n)};var $T=Object(o.c)(e=>{return{rules:Object(ve.a)(e,W.ResourceType.NotificationRules),endpoints:Object(ve.a)(e,W.ResourceType.NotificationEndpoints)}},null)(Object(i.j)(({rules:e,history:t,match:n,endpoints:a,tabIndex:r})=>{const o=s.a.createElement(s.a.Fragment,null,"A ",s.a.createElement("strong",null,"Notification Rule")," will query statuses",s.a.createElement("br",null),"written by ",s.a.createElement("strong",null,"Checks")," to determine if a",s.a.createElement("br",null),"notification should be sent to a",s.a.createElement("br",null),s.a.createElement("strong",null,"Notification Endpoint"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/monitor-alert/notification-rules/create",target:"_blank"},"Read Documentation")),i=a.length?h.ComponentStatus.Default:h.ComponentStatus.Disabled,l=a.length?"Create a Notification Rule":"You need at least 1 Notifcation Endpoint to create a Notification Rule",c=s.a.createElement(h.Button,{color:h.ComponentColor.Secondary,text:"Create",onClick:()=>{const e=`/orgs/${n.params.orgID}/alerting/rules/new`;t.push(e)},testID:"create-rule",icon:h.IconFont.Plus,status:i,titleText:l});return s.a.createElement(MT,{type:W.ResourceType.NotificationRules,title:"Notification Rules",createButton:c,questionMarkTooltipContents:o,tabIndex:r},t=>s.a.createElement(VT,{rules:e,searchTerm:t}))}));var WT=({onDelete:e,onView:t})=>s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:ss.g.EyeOpen,testID:"context-history-menu"},s.a.createElement(ss.f.Item,{label:"View History",action:t,testID:"context-history-task"})),s.a.createElement(ss.f.Menu,{icon:ss.g.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:e,testID:"context-delete-task"})));const KT={onDeleteEndpoint:e=>async t=>{try{const n=await fe.j({endpointID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(Ct.e)(e)),t(Object(xt.f)())}catch(e){t(Object($.c)(me.kb(e.message)))}},onAddEndpointLabel:(e,t)=>async n=>{try{const a=await fe.pb({endpointID:e,data:{labelID:t.id}});if(201!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data.label,Et.b);n(Object(wt.g)(e,s))}catch(e){console.error(e)}},onRemoveEndpointLabel:(e,t)=>async n=>{try{const a=await fe.k({endpointID:e,labelID:t});if(204!==a.status)throw new Error(a.data.message);n(Object(Ct.f)(e,t))}catch(e){console.error(e)}},onUpdateEndpointProperties:(e,t)=>async n=>{n(Object(Ct.g)(e,W.RemoteDataState.Loading));try{const a=await fe.Z({endpointID:e,data:t});if(200!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data,Tt.b);n(Object(Ct.g)(e,W.RemoteDataState.Done,s))}catch(t){n(Object($.c)(me.Pc(t.message))),n(Object(Ct.g)(e,W.RemoteDataState.Error))}},onCloneEndpoint:e=>async(t,n)=>{try{const a=n(),s=Object(ve.a)(a,W.ResourceType.NotificationEndpoints).map(e=>e.name),r=Object(lt.a)(s,e.name),o=await fe.ob({data:Object.assign(Object.assign({},Ot(e)),{name:r})});if(201!==o.status)throw new Error(o.data.message);const i=Object(_e.a)(o.data,Tt.b);t(Object(Ct.g)(o.data.id,W.RemoteDataState.Done,i)),t(Object(xt.f)())}catch(e){console.error(e),t(Object($.c)(me.V(e.message)))}}};var QT=Object(o.c)(null,KT)(Object(i.j)(({history:e,match:{params:{orgID:t}},endpoint:n,onUpdateEndpointProperties:a,onCloneEndpoint:r,onDeleteEndpoint:o,onAddEndpointLabel:i,onRemoveEndpointLabel:l})=>{const{id:c,name:u,description:m,activeStatus:d}=n,p=s.a.createElement(WT,{onDelete:()=>{o(c)},onView:()=>{const n=new URLSearchParams({[DT]:"notifications",[IT]:`"notificationEndpointID" == "${c}"`});e.push(`/orgs/${t}/alert-history?${n}`)},onClone:()=>{r(n)}});return s.a.createElement(h.ResourceCard,{key:c,contextMenu:p,disabled:"inactive"===d,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Large,testID:`endpoint-card ${u}`},s.a.createElement(h.SlideToggle,{active:"active"===d,size:h.ComponentSize.ExtraSmall,onChange:()=>{a(c,{status:"active"===d?"inactive":"active"})},testID:"endpoint-card--slide-toggle"}),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,alignItems:h.AlignItems.FlexStart,margin:h.ComponentSize.Small},s.a.createElement(h.ResourceCard.EditableName,{key:c,name:u,onClick:()=>{e.push(`/orgs/${t}/alerting/endpoints/${c}/edit`)},onUpdate:e=>{a(c,{name:e})},testID:`endpoint-card--name ${u}`,inputTestID:"endpoint-card--input",buttonTestID:"endpoint-card--name-button",noNameString:"Name this notification endpoint"}),s.a.createElement(h.ResourceCard.EditableDescription,{onUpdate:e=>{a(c,{description:e})},description:m,placeholder:`Describe ${u}`}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,sd(n.updatedAt,"Last updated "))),s.a.createElement(Ts,{selectedLabelIDs:n.labels,onAddLabel:e=>{i(c,e)},onRemoveLabel:e=>{l(c,e.id)}})))}));const YT=Ze(),XT=({searchTerm:e})=>{if(e)return s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-column--empty"},s.a.createElement(h.EmptyState.Text,null,'"No ',s.a.createElement("b",null,"endpoints")," match your search"));const t=[];return Object(L.c)("notification-endpoint-telegram")&&t.push("Telegram"),s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small,className:"alert-column--empty"},s.a.createElement(h.EmptyState.Text,null,"Want to send notifications to Slack, PagerDuty,",s.a.createElement("br",null),t.join(", "),"or an HTTP server?",s.a.createElement("br",null),s.a.createElement("br",null),"Try creating a ",s.a.createElement("b",null,"Notification Endpoint")))};var ZT=({endpoints:e,searchTerm:t})=>{const n=s.a.createElement(YT,{list:e,searchKeys:["name"],searchTerm:t},e=>s.a.createElement(h.ResourceList.Body,{emptyState:s.a.createElement(XT,{searchTerm:t})},(e=>e.map(e=>s.a.createElement(QT,{key:e.id,endpoint:e})))(e)));return s.a.createElement(h.ResourceList,null,n)};var JT=Object(o.c)(e=>{return{endpoints:Object(ve.a)(e,W.ResourceType.NotificationEndpoints)}})(Object(i.j)(({history:e,match:t,endpoints:n,tabIndex:a})=>{const r=[];Object(L.c)("notification-endpoint-telegram")&&r.push("Telegram");const o=s.a.createElement(s.a.Fragment,null,"A ",s.a.createElement("strong",null,"Notification Endpoint")," stores the information to connect",s.a.createElement("br",null),"to a third party service that can receive notifications",s.a.createElement("br",null),"like Slack, PagerDuty, ",r.join(", "),"or an HTTP server",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("a",{href:"https://v2.docs.influxdata.com/v2.0/monitor-alert/notification-endpoints/create",target:"_blank"},"Read Documentation")),i=s.a.createElement(h.Button,{color:h.ComponentColor.Secondary,text:"Create",onClick:()=>{const n=`/orgs/${t.params.orgID}/alerting/endpoints/new`;e.push(n)},testID:"create-endpoint",icon:h.IconFont.Plus});return s.a.createElement(MT,{type:W.ResourceType.NotificationEndpoints,title:"Notification Endpoints",createButton:i,questionMarkTooltipContents:o,tabIndex:a},e=>s.a.createElement(ZT,{endpoints:n,searchTerm:e}))}));var eO=({setActiveTab:e,activeTab:t})=>{const n=n=>()=>{t!==n&&e(n)};return s.a.createElement(h.SelectGroup,{shape:h.ButtonShape.StretchToFit,style:{width:"300px"}},s.a.createElement(h.SelectGroup.Option,{name:"query-mode",key:"queries",id:"queries",titleText:"queries",value:"queries",active:"queries"===t,onClick:n("queries")},"1. Define Query"),s.a.createElement(h.SelectGroup.Option,{name:"query-mode",key:"alerting",id:"alerting",testID:"checkeo--header alerting-tab",titleText:"alerting",value:"alerting",active:"alerting"===t,onClick:n("alerting")},"2. Configure Check"))};var tO=({onSave:e,status:t,className:n,checkType:r,singleField:o,singleAggregateFunc:i,oneOrMoreThresholds:l})=>{const c=Object(a.useRef)(null);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Popover,{triggerRef:c,visible:t!==h.ComponentStatus.Default,position:h.PopoverPosition.Below,enableDefaultStyles:!1,showEvent:h.PopoverInteraction.None,hideEvent:h.PopoverInteraction.None,color:h.ComponentColor.Secondary,appearance:h.Appearance.Outline,forceToTop:!0,contents:()=>s.a.createElement("div",{className:"query-checklist--popover"},s.a.createElement("p",null,`To create a ${r} check, you must select:`),s.a.createElement("ul",{className:"query-checklist--list"},s.a.createElement(nO,{text:"One field",selected:o}),"threshold"===r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(nO,{text:"One aggregate function",selected:i}),s.a.createElement(nO,{text:"One or more thresholds",selected:l}))))}),s.a.createElement(h.SquareButton,{ref:c,className:n,icon:h.IconFont.Checkmark,color:h.ComponentColor.Success,size:h.ComponentSize.Small,status:t,onClick:e,testID:"save-cell--button"}))};const nO=({selected:e,text:t})=>{const n=e?"query-checklist--item valid":"query-checklist--item error",a=e?h.IconFont.Checkmark:h.IconFont.Remove;return s.a.createElement("li",{className:n},s.a.createElement(h.Icon,{glyph:a}),t)},aO={setActiveTab:bt.k};var sO=Object(o.c)(e=>{const{activeTab:t,draftQueries:n}=Object(dt.c)(e),{alertBuilder:{type:a,thresholds:s}}=e;return{activeTab:t,draftQueries:n,checkType:a,thresholds:s}},aO)(({name:e,onSetName:t,onCancel:n,onSave:r,setActiveTab:o,activeTab:i,draftQueries:l,checkType:c,thresholds:u})=>{const[m,d]=Object(a.useState)(W.RemoteDataState.NotStarted),p=()=>{m!==W.RemoteDataState.Loading&&(d(W.RemoteDataState.Loading),r(),d(W.RemoteDataState.NotStarted))},{singleField:_,singleAggregateFunc:g}=Object(So.f)(l),f="threshold"===c&&u&&!!u.length;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(Gd,{name:e,onRename:t,placeholder:Gi.d,maxLength:Gi.a,onClickOutside:e=>{e.target.classList.contains("veo-header--save-cell-button")&&p()}})),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarLeft,null,"customCheckQuery"!==i&&s.a.createElement(eO,{activeTab:i,draftQueries:l,setActiveTab:o})),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(h.SquareButton,{icon:h.IconFont.Remove,onClick:n,size:h.ComponentSize.Small}),s.a.createElement(tO,{status:(()=>Object(So.d)(l,c,u)?m==W.RemoteDataState.Loading?h.ComponentStatus.Loading:h.ComponentStatus.Default:h.ComponentStatus.Disabled)(),onSave:p,className:"veo-header--save-cell-button",checkType:c,singleField:_,singleAggregateFunc:g,oneOrMoreThresholds:f}))))});const rO={onSaveCheckFromTimeMachine:St,onResetAlertBuilder:yt.f,onUpdateAlertBuilderName:yt.o};var oO=Object(o.c)(({alertBuilder:{name:e,status:t}})=>({checkName:e,status:t}),rO)(Object(i.j)(({status:e,match:{params:{orgID:t}},checkName:n,history:r,onSaveCheckFromTimeMachine:i,onResetAlertBuilder:l,onUpdateAlertBuilderName:c})=>{const u=Object(o.d)();Object(a.useEffect)(()=>{const e=Object(ut.a)("threshold");u(Object(yt.c)("threshold")),u(Object(bt.l)("alerting",{view:e}))},[u]);return s.a.createElement(h.Overlay,{visible:!0,className:"veo-overlay"},s.a.createElement("div",{className:"veo"},s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:e||W.RemoteDataState.Loading},s.a.createElement(sO,{key:n,name:n,onSetName:c,onCancel:()=>{r.push(`/orgs/${t}/alerting`),l()},onSave:i}),s.a.createElement("div",{className:"veo-contents"},s.a.createElement(cu,null)))))}));const iO={onSaveCheckFromTimeMachine:St,onResetAlertBuilder:yt.f,onUpdateAlertBuilderName:yt.o};var lO=Object(o.c)(({alertBuilder:{name:e,status:t}})=>({checkName:e,status:t}),iO)(Object(i.j)(({match:{params:{orgID:e}},status:t,checkName:n,history:r,onSaveCheckFromTimeMachine:i,onResetAlertBuilder:l,onUpdateAlertBuilderName:c})=>{const u=Object(o.d)();Object(a.useEffect)(()=>{const e=Object(ut.a)("deadman");u(Object(yt.c)("deadman")),u(Object(bt.l)("alerting",{view:e}))},[u]);return s.a.createElement(h.Overlay,{visible:!0,className:"veo-overlay"},s.a.createElement("div",{className:"veo"},s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:t||W.RemoteDataState.Loading},s.a.createElement(sO,{key:n,name:n,onSetName:c,onCancel:()=>{r.push(`/orgs/${e}/alerting`),l()},onSave:i}),s.a.createElement("div",{className:"veo-contents"},s.a.createElement(cu,null)))))}));const cO={onSaveCheckFromTimeMachine:()=>async(e,t)=>{const n=t(),a=pt(n);try{const t=await fe.y({checkID:a.id});if(200!==t.status)throw new Error(t.data.message);const n=await fe.Eb({checkID:a.id,data:Object.assign(Object.assign({},a),{ownerID:t.data.ownerID})});if(200!==n.status)throw new Error(n.data.message);const s=Object(_e.a)(n.data,it.b);e(Object(vt.g)(n.data.id,W.RemoteDataState.Done,s)),e(Object(xt.d)()),e(Object(ot.e)(`/orgs/${a.orgID}/alerting`)),e(Object(yt.f)())}catch(n){console.error(n),e(Object($.c)(me.Oc(n.message))),Object(ct.b)(n,{context:{state:t()},name:"saveCheckFromTimeMachine function"})}},onResetAlertBuilder:yt.f,onUpdateAlertBuilderName:yt.o};var uO=Object(o.c)(e=>{const{timeMachines:{activeTimeMachineID:t},alertBuilder:{status:n,name:a,id:s}}=e,{view:r}=Object(dt.c)(e);return{loadedCheckID:s,checkName:a,status:n,activeTimeMachineID:t,view:r}},cO)(Object(i.j)(({onUpdateAlertBuilderName:e,onResetAlertBuilder:t,onSaveCheckFromTimeMachine:n,activeTimeMachineID:r,status:i,history:l,match:{params:{checkID:c,orgID:u}},checkName:m,loadedCheckID:d,view:p})=>{const _=Object(o.d)(),g=Object(y.get)(p,"properties.queries[0]",null);Object(a.useEffect)(()=>{_((e=>async(t,n)=>{const a=Object(S.a)(n());try{t(Object(yt.h)(W.RemoteDataState.Loading));const n=await fe.y({checkID:e});if(200!==n.status)throw new Error(n.data.message);const a=n.data,s=Object(_e.a)(n.data,it.b),r=s.entities.checks[s.result],o=Object(ut.a)(r.type);o.properties.queries=[r.query],t(Object(bt.l)("alerting",{view:o,activeTab:"custom"===a.type?"customCheckQuery":"alerting"})),t(Object(yt.g)(r))}catch(e){console.error(e),t(Object(ot.e)(`/orgs/${a.id}/alerting`)),t(Object(yt.h)(W.RemoteDataState.Error)),t(Object($.c)(me.ub(e.message)))}})(c))},[_,c]),Object(a.useEffect)(()=>{_(Object(co.d)())},[_,g]);let f=W.RemoteDataState.Loading;return i===W.RemoteDataState.Error&&(f=W.RemoteDataState.Error),i===W.RemoteDataState.Done&&"alerting"===r&&d===c&&(f=W.RemoteDataState.Done),s.a.createElement(h.Overlay,{visible:!0,className:"veo-overlay"},s.a.createElement("div",{className:"veo"},s.a.createElement(h.SpinnerContainer,{spinnerComponent:s.a.createElement(h.TechnoSpinner,null),loading:f},s.a.createElement(sO,{name:m,onSetName:e,onCancel:()=>{l.push(`/orgs/${u}/alerting`),t()},onSave:n}),s.a.createElement("div",{className:"veo-contents"},s.a.createElement(cu,null)))))}));var mO=({rule:e,onChange:t})=>{const{every:n,offset:a}=e;return s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Four},s.a.createElement(h.Form.Element,{label:"Schedule Every"},s.a.createElement(ri,{value:n||"",onSubmit:t("every"),suggestions:oi.e,placeholder:"1d3h30s",testID:"rule-schedule-every--input"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Four},s.a.createElement(h.Form.Element,{label:"Offset"},s.a.createElement(ri,{value:a||"",onSubmit:t("offset"),suggestions:Gi.b,placeholder:"10m",testID:"rule-schedule-offset--input"}))))};var dO=({type:e,selectedLevel:t,otherLevel:n,onClickLevel:a})=>{let r=[{display:"CRIT",hex:h.InfluxColors.Fire,value:"CRIT"},{display:"INFO",hex:h.InfluxColors.Ocean,value:"INFO"},{display:"WARN",hex:h.InfluxColors.Thunder,value:"WARN"},{display:"OK",hex:h.InfluxColors.Viridian,value:"OK"},{display:"ANY",hex:h.InfluxColors.Sidewalk,value:"ANY"}];n&&(r=r.filter(e=>e.value!==n));const o=r.find(e=>e.value===t);if(!o)throw new Error("Unknown level type provided to <LevelsDropdown/>");const i=r.map(({value:t,display:n,hex:r})=>s.a.createElement(h.Dropdown.Item,{key:t,id:t,value:t,onClick:()=>a(e,t),testID:`levels--dropdown-item ${t}`},s.a.createElement("div",{className:"color-dropdown--item"},s.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:r}}),s.a.createElement("div",{className:"color-dropdown--name"},n))));return s.a.createElement(h.Dropdown,{button:(t,n)=>s.a.createElement(h.Dropdown.Button,{color:h.ComponentColor.Default,active:t,onClick:n,testID:`levels--dropdown--button ${e}`},s.a.createElement("div",{className:"color-dropdown--item"},s.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:o.hex}}),s.a.createElement("div",{className:"color-dropdown--name"},o.value))),menu:e=>s.a.createElement(h.Dropdown.Menu,{theme:h.DropdownMenuTheme.Onyx,onCollapse:e},i),testID:`levels--dropdown ${e}`})},pO=n(117);const hO=Object(a.createContext)(null),_O=Object(a.createContext)(null),gO=()=>Object(a.useContext)(hO),fO=()=>Object(a.useContext)(_O);var bO=({initialState:e,children:t})=>{const n=Object(a.useRef)(e),[r,o]=Object(a.useReducer)((t,a)=>n.current!==e?(n.current=e,e):((e,t)=>{switch(t.type){case"UPDATE_RULE":{const{rule:n}=t;return Object.assign(Object.assign({},e),n)}case"SET_ACTIVE_SCHEDULE":{const{schedule:n}=t;let a=e;return"every"===n&&(a=Object(y.omit)(e,"cron")),"cron"===n&&(a=Object(y.omit)(e,"every")),Object.assign(Object.assign({},a),{[n]:""})}case"UPDATE_STATUS_RULES":{const{statusRule:n}=t,a=e.statusRules.map(e=>e.cid!==n.cid?e:n);return Object.assign(Object.assign({},e),{statusRules:a})}case"ADD_TAG_RULE":{const{tagRule:n}=t;return Object.assign(Object.assign({},e),{tagRules:[...e.tagRules,Object.assign(Object.assign({},n),{id:Object(pO.v4)()})]})}case"UPDATE_TAG_RULES":{const{tagRule:n}=t,a=e.tagRules.map(e=>e.cid!==n.cid?e:n);return Object.assign(Object.assign({},e),{tagRules:a})}case"DELETE_STATUS_RULE":{const{statusRuleID:n}=t,a=e.statusRules.filter(e=>e.cid!==n);return Object.assign(Object.assign({},e),{statusRules:a})}case"DELETE_TAG_RULE":{const{tagRuleID:n}=t,a=e.tagRules.filter(e=>e.cid!==n);return Object.assign(Object.assign({},e),{tagRules:a})}case"UPDATE_STATUS_LEVEL":{const{levelType:n,level:a,statusID:s}=t,r=e.statusRules.map(e=>{if(e.cid!==s)return e;const t=Object.assign(Object.assign({},e.value),{[n]:a});return Object.assign(Object.assign({},e),{value:t})});return Object.assign(Object.assign({},e),{statusRules:r})}case"SET_TAG_RULE_OPERATOR":{const{tagRuleID:n,operator:a}=t,s=e.tagRules.map(e=>e.cid!==n?e:Object.assign(Object.assign({},e),{value:Object.assign(Object.assign({},e.value),{operator:a})}));return Object.assign(Object.assign({},e),{tagRules:s})}default:throw new Error(`Unhandled action "${t.type}" in RuleOverlay.reducer.ts`)}})(t,a),e);return s.a.createElement(hO.Provider,{value:r},s.a.createElement(_O.Provider,{value:o},t))};var yO=({status:e})=>{const t=fO(),n=Mt.a.map(n=>s.a.createElement(h.Dropdown.Item,{key:n,id:n,value:n,testID:`status-change--dropdown-item ${n}`,onClick:()=>((e,n)=>t({type:"UPDATE_STATUS_RULES",statusRule:Object(Mt.c)(e,n)}))(e,n)},n)),a=Object(Mt.b)(e);return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"status-change--dropdown--button",active:e,onClick:t},a),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},n),testID:"status-change--dropdown"})};var vO=({status:e})=>{const{currentLevel:t,previousLevel:n}=e.value,a=fO(),r=(t,n)=>{a({type:"UPDATE_STATUS_LEVEL",statusID:e.cid,levelType:t,level:n})};return s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.TextBlock,{text:"When status"}),s.a.createElement(h.FlexBox.Child,{grow:0,basis:140},s.a.createElement(yO,{status:e})),!!n&&s.a.createElement(h.FlexBox.Child,{grow:0,basis:140},s.a.createElement(dO,{type:"previousLevel",selectedLevel:n,otherLevel:t,onClickLevel:r})),!!n&&s.a.createElement(h.TextBlock,{text:"to"}),s.a.createElement(h.FlexBox.Child,{grow:0,basis:140},s.a.createElement(dO,{type:"currentLevel",selectedLevel:t,otherLevel:n,onClickLevel:r})))};var xO=({status:e})=>s.a.createElement(h.Panel,{testID:"status-rule"},s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},s.a.createElement(vO,{status:e})));const wO=[{operator:"equal",display:"=="}];var EO=({selectedOperator:e,onSelect:t})=>{const n=wO.map(({operator:e,display:n})=>s.a.createElement(h.Dropdown.Item,{key:e,id:e,value:n,testID:`tag-rule--dropdown-item ${e}`,onClick:()=>t(e)},n)),a=wO.find(t=>t.operator===e);return s.a.createElement(h.Dropdown,{menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},n),button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"tag-rule--dropdown--button",active:e,onClick:t},a.display),testID:"tag-rule--dropdown"})};var kO=({tagRule:e})=>{const{key:t,value:n,operator:a}=e.value,r=fO(),o=({target:t})=>{const{name:n,value:a}=t,s=Object.assign(Object.assign({},e.value),{[n]:a});r({type:"UPDATE_TAG_RULES",tagRule:Object.assign(Object.assign({},e),{value:s})})};return s.a.createElement(h.Panel,{testID:"tag-rule"},s.a.createElement(h.DismissButton,{onClick:()=>{r({type:"DELETE_TAG_RULE",tagRuleID:e.cid})},color:h.ComponentColor.Default}),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Small},s.a.createElement(h.TextBlock,{text:"AND",textColor:h.InfluxColors.Honeydew,backgroundColor:h.InfluxColors.Pepper}),s.a.createElement(h.TextBlock,{text:"When"}),s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(h.Input,{testID:"tag-rule-key--input",placeholder:"Tag",value:t,name:"key",onChange:o})),s.a.createElement(h.FlexBox.Child,{grow:0,basis:60},s.a.createElement(EO,{selectedOperator:a,onSelect:t=>{r({type:"SET_TAG_RULE_OPERATOR",tagRuleID:e.cid,operator:t})}})),s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(h.Input,{testID:"tag-rule-key--input",placeholder:"Value",value:n,name:"value",onChange:o})))))};var SO=({rule:e})=>{const t=fO(),{statusRules:n,tagRules:a}=e,r=n.map(e=>s.a.createElement(xO,{key:e.cid,status:e})),o=a.map(e=>s.a.createElement(kO,{key:e.cid,tagRule:e}));return s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Two},"Conditions"),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Ten},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,alignItems:h.AlignItems.Stretch},r,o,s.a.createElement(Ui,{text:"+ Tag Filter",onClick:()=>{t({type:"ADD_TAG_RULE",tagRule:Object(Mt.g)()})},color:h.ComponentColor.Primary,size:h.ComponentSize.Small}))),s.a.createElement(h.Grid.Column,null,s.a.createElement("hr",null)))};var CO=({endpoints:e,selectedEndpointID:t,onSelectEndpoint:n})=>{if(!e.length){const e=()=>s.a.createElement(h.Dropdown.Button,{status:h.ComponentStatus.Disabled,onClick:()=>{}},"No Endpoints Found"),t=()=>null;return s.a.createElement(h.Dropdown,{button:e,style:{width:"160px"},menu:t})}const a=e.map(({id:e,name:t})=>s.a.createElement(h.Dropdown.Item,{key:e,id:e,value:e,testID:`endpoint--dropdown-item ${e}`,onClick:()=>n(e)},t)),r=e.find(e=>e.id===t)||e[0];return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"endpoint--dropdown--button",active:e,onClick:t},Object(y.get)(r,"name")),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},a),style:{width:"160px"},testID:"endpoint-change--dropdown"})};var TO=({messageTemplate:e,onChange:t})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Form.Element,{label:"Message Template"},s.a.createElement(h.TextArea,{name:"messageTemplate",testID:"slack-message-template--textarea",value:e,onChange:t,rows:3})));var OO=({to:e,subjectTemplate:t,bodyTemplate:n,onChange:a})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Form.Element,{label:"To"},s.a.createElement(h.Input,{value:e,name:"to",onChange:a})),s.a.createElement(h.Form.Element,{label:"Subject"},s.a.createElement(h.Input,{value:t,name:"subjectTemplate",onChange:a})),s.a.createElement(h.Form.Element,{label:"Body"},s.a.createElement(h.TextArea,{name:"bodyTemplate",value:n,onChange:a,rows:3})));var DO=({messageTemplate:e,onChange:t})=>s.a.createElement(h.Form.Element,{label:"Message Template"},s.a.createElement(h.TextArea,{name:"messageTemplate",onChange:t,value:e,rows:3}));var IO=({messageTemplate:e,onChange:t})=>s.a.createElement(h.Form.Element,{label:"Message Template"},s.a.createElement(h.TextArea,{name:"messageTemplate",testID:"slack-message-template--textarea",value:e,onChange:t,rows:3}));var jO=({rule:e})=>{const t=fO(),n=({target:n})=>{const{name:a,value:s}=n;t({type:"UPDATE_RULE",rule:Object.assign(Object.assign({},e),{[a]:s})})};switch(e.type){case"slack":{const{messageTemplate:t,channel:a}=e;return s.a.createElement(TO,{messageTemplate:t,channel:a,onChange:n})}case"smtp":{const{to:t,subjectTemplate:a,bodyTemplate:r}=e;return s.a.createElement(OO,{to:t,onChange:n,bodyTemplate:r,subjectTemplate:a})}case"pagerduty":{const{messageTemplate:t}=e;return s.a.createElement(DO,{messageTemplate:t,onChange:n})}case"telegram":{const{messageTemplate:t}=e;return s.a.createElement(IO,{messageTemplate:t,onChange:n})}case"http":return s.a.createElement(s.a.Fragment,null);default:throw new Error("Unexpected endpoint type in <RuleMessageContents/>.")}};var RO=Object(o.c)(e=>{return{endpoints:Object(ve.a)(e,W.ResourceType.NotificationEndpoints)}})(({endpoints:e,rule:t})=>{const n=fO(),r=a=>{n({type:"UPDATE_RULE",rule:Object.assign(Object.assign(Object.assign({},t),Object(Mt.e)(e,a)),{endpointID:a})})};return Object(a.useEffect)(()=>{!t.endpointID&&e.length&&r(e[0].id)},[]),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Two},"Message"),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Ten},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Body,null,s.a.createElement(h.Form.Element,{label:"Notification Endpoint"},s.a.createElement(CO,{endpoints:e,onSelectEndpoint:r,selectedEndpointID:t.endpointID})),s.a.createElement(jO,{rule:t})))))});var NO=({saveButtonText:e,onSave:t})=>{const n=gO(),[r,o]=Object(a.useState)(W.RemoteDataState.NotStarted),[i,l]=Object(a.useState)(null),c=r===W.RemoteDataState.Loading?h.ComponentStatus.Loading:h.ComponentStatus.Default;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},i&&s.a.createElement("div",{className:"rule-overlay-footer--error"},i),s.a.createElement(h.Form.Footer,{className:"rule-overlay-footer"},s.a.createElement(h.Button,{testID:"rule-overlay-save--button",text:e,onClick:async()=>{if(r!==W.RemoteDataState.Loading)try{o(W.RemoteDataState.Loading),l(null),await t(n)}catch(e){o(W.RemoteDataState.Error),l(e.message)}},color:h.ComponentColor.Primary,status:c})))))};var AO=({saveButtonText:e,onSave:t})=>{const n=gO(),a=fO();return s.a.createElement(h.Grid,null,s.a.createElement(h.Form,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Two},"About"),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Ten},s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},s.a.createElement(h.Form.Element,{label:"Name"},s.a.createElement(h.Input,{testID:"rule-name--input",placeholder:"Name this new rule",value:n.name,name:"name",onChange:e=>{const{name:t,value:s}=e.target;a({type:"UPDATE_RULE",rule:Object.assign(Object.assign({},n),{[t]:s})})}})),s.a.createElement(mO,{rule:n,onChange:e=>t=>{a({type:"UPDATE_RULE",rule:Object.assign(Object.assign({},n),{[e]:t})})}})))),s.a.createElement(h.Grid.Column,null,s.a.createElement("hr",null))),s.a.createElement(SO,{rule:n}),s.a.createElement(RO,{rule:n}),s.a.createElement(NO,{saveButtonText:e,onSave:t})))};const PO={onCreateRule:e=>async t=>{const n=Object(Mt.d)(e);try{const e=await fe.qb({data:n});if(201!==e.status)throw new Error(e.data.message);const a=Object(_e.a)(e.data,At.b);t(Object(Pt.i)(e.data.id,W.RemoteDataState.Done,a)),t(Object(xt.g)())}catch(e){console.error(e)}}};var MO=Object(o.c)(null,PO)(Object(i.j)(({match:{params:{orgID:e}},history:t,onCreateRule:n})=>{const r=()=>{t.push(`/orgs/${e}/alerting`)},o=Object(a.useMemo)(()=>Object(Mt.f)(e),[e]);return s.a.createElement(bO,{initialState:o},s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:800},s.a.createElement(h.Overlay.Header,{title:"Create a Notification Rule",onDismiss:r,testID:"dismiss-overlay"}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(AO,{saveButtonText:"Create Notification Rule",onSave:async e=>{await n(e),r()}})))))}));const LO={onNotify:$.c,onUpdateRule:e=>async t=>{if(""==e.offset)throw new Error("Notification Rule offset field can not be empty");if(""==e.every)throw new Error("Notification Rule every field can not be empty");t(Object(Pt.i)(e.id,W.RemoteDataState.Loading));try{const n=await fe.Hb({ruleID:e.id,data:Object(Mt.d)(e)});if(200!==n.status)throw new Error(n.data.message);const a=Object(_e.a)(n.data,At.b);t(Object(Pt.i)(e.id,W.RemoteDataState.Done,a))}catch(e){console.error(e)}}};var FO=Object(o.c)((e,{match:t})=>{const{ruleID:n}=t.params;return{stateRule:Object(ve.c)(e,W.ResourceType.NotificationRules,n)}},LO)(Object(i.j)(({match:e,history:t,stateRule:n,onUpdateRule:a,onNotify:r})=>{const o=()=>{t.push(`/orgs/${e.params.orgID}/alerting`)};if(!n)return r(Object(me.zb)(e.params.ruleID)),o(),null;return s.a.createElement(bO,{initialState:n},s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:800},s.a.createElement(h.Overlay.Header,{title:"Edit this Notification Rule",onDismiss:o,testID:"dismiss-overlay"}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(AO,{saveButtonText:"Save Changes",onSave:async e=>{await a(e),o()}})))))}));const qO=Object(a.createContext)(null),BO=Object(a.createContext)(null),zO=({initialState:e,children:t})=>{const n=Object(a.useRef)(e),[r,o]=Object(a.useReducer)((t,a)=>n.current!==e?(n.current=e,e):((e,t)=>{switch(t.type){case"UPDATE_ENDPOINT":{const{endpoint:n}=t;return Object.assign(Object.assign({},e),n)}case"UPDATE_ENDPOINT_TYPE":{const{endpoint:n}=t;if(e.type!=n.type){const e=Object(y.omit)(n,["url","token","username","password","method","authMethod","contentTemplate","headers","clientURL","routingKey"]);switch(n.type){case"pagerduty":return Object.assign(Object.assign({},e),{type:"pagerduty",clientURL:`${location.origin}/orgs/${e.orgID}/alert-history`,routingKey:""});case"http":return Object.assign(Object.assign({},e),{type:"http",method:"POST",authMethod:"none",url:Gi.i.http});case"slack":return Object.assign(Object.assign({},e),{type:"slack",url:Gi.i.slack,token:""});case"telegram":return Object.assign(Object.assign({},e),{type:"telegram",token:"",channel:""})}}return e}case"DELETE_ENDPOINT":return e;default:throw new Error(`Unhandled action "${t.type}" in EndpointsOverlay.reducer.ts`)}})(t,a),e);return s.a.createElement(qO.Provider,{value:r},s.a.createElement(BO.Provider,{value:o},t))},UO=()=>Object(a.useContext)(qO),HO=()=>Object(a.useContext)(BO);var GO=({url:e,onChange:t})=>s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Slack Options")),s.a.createElement(h.Panel.Body,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.FormElement,{label:"Incoming Webhook URL"},s.a.createElement(h.Input,{name:"url",value:e,testID:"slack-url",onChange:t})))))));var VO=({clientURL:e,routingKey:t,onChange:n})=>s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Pagerduty Options")),s.a.createElement(h.Panel.Body,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,null,s.a.createElement(h.FormElement,{label:"Client URL"},s.a.createElement(h.Input,{name:"clientURL",value:e,testID:"pagerduty-url",onChange:n}))),s.a.createElement(h.Grid.Column,null,s.a.createElement(h.FormElement,{label:"Routing Key"},s.a.createElement(h.Input,{name:"routingKey",value:t,testID:"pagerduty-routing-key",onChange:n,type:h.InputType.Password})))))));const $O=[{name:"POST",type:"POST",id:"POST"}];var WO=({selectedType:e,onSelectType:t})=>{const n=$O.map(({id:e,type:n,name:a})=>s.a.createElement(h.Dropdown.Item,{key:e,id:e,value:e,testID:`http-method--dropdown-item ${n}`,onClick:t},a)),a=$O.find(t=>t.type===e);if(!a)throw new Error("Incorrect method type provided to <MethodTypeDropdown/>");return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"http-method--dropdown--button",active:e,onClick:t},a.name),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},n),testID:"http-method-change--dropdown"})};const KO=[{name:"none",type:"none",id:"none"},{name:"basic",type:"basic",id:"basic"},{name:"bearer",type:"bearer",id:"bearer"}];var QO=({selectedType:e,onSelectType:t})=>{const n=KO.map(({id:e,type:n,name:a})=>s.a.createElement(h.Dropdown.Item,{key:e,id:e,value:e,testID:`http-authMethod--dropdown-item ${n}`,onClick:t},a)),a=KO.find(t=>t.type===e);if(!a)throw new Error("Incorrect authMethod type provided to <AuthMethodTypeDropdown/>");return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"http-authMethod--dropdown--button",active:e,onClick:t},a.name),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},n),testID:"http-authMethod-change--dropdown"})};var YO=({url:e,onChange:t,token:n,username:a,password:r,method:o,authMethod:i,onChangeParameter:l})=>s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"HTTP Options")),s.a.createElement(h.Panel.Body,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.FormElement,{label:"HTTP Method"},s.a.createElement(WO,{onSelectType:l("method"),selectedType:o}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.FormElement,{label:"Auth Method"},s.a.createElement(QO,{onSelectType:l("authMethod"),selectedType:i}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.FormElement,{label:"URL"},s.a.createElement(h.Input,{name:"url",value:e,onChange:t,required:!0,testID:"http-url"}))),"bearer"===i&&s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.FormElement,{label:"Token"},s.a.createElement(h.Input,{name:"token",value:n,onChange:t,type:h.InputType.Password,testID:"http-bearer-token"}))),"basic"===i&&s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.FormElement,{label:"Username"},s.a.createElement(h.Input,{name:"username",value:a,onChange:t,type:a&&a.includes("secret: ")?h.InputType.Password:h.InputType.Text,testID:"http-username"}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.FormElement,{label:"Password"},s.a.createElement(h.Input,{name:"password",value:r,type:h.InputType.Password,onChange:t,testID:"http-password"}))))))));var XO=({token:e,channel:t,onChange:n})=>s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,s.a.createElement("h4",null,"Telegram Options")),s.a.createElement(h.Panel.Body,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.FormElement,{label:"Bot Token"},s.a.createElement(h.Input,{name:"token",value:e,testID:"token",onChange:n,type:h.InputType.Password})),s.a.createElement(h.FormElement,{label:"Chat ID"},s.a.createElement(h.Input,{name:"channel",value:t,testID:"channel",onChange:n,type:h.InputType.Text})))))));var ZO=({endpoint:e,onChange:t,onChangeParameter:n})=>{switch(e.type){case"slack":{const{url:n}=e;return s.a.createElement(GO,{url:n,onChange:t})}case"pagerduty":{const{clientURL:n,routingKey:a}=e;return s.a.createElement(VO,{clientURL:n,routingKey:a,onChange:t})}case"telegram":{const{token:n,channel:a}=e;return s.a.createElement(XO,{token:n,channel:a,onChange:t})}case"http":{const{url:a,token:r,username:o,password:i,method:l,authMethod:c,contentTemplate:u}=e;return s.a.createElement(YO,{onChange:t,onChangeParameter:n,url:a,token:r,username:o,password:i,method:l,authMethod:c,contentTemplate:u})}default:throw new Error(`Unknown endpoint type for endpoint: ${JSON.stringify(e,null,2)}`)}};const JO=[{name:"HTTP",type:"http",id:"http"},{name:"Slack",type:"slack",id:"slack"},{name:"Pagerduty",type:"pagerduty",id:"pagerduty"},{name:"Telegram",type:"telegram",id:"telegram"}];var eD=Object(o.c)(({cloud:{limits:e}})=>({blockedEndpoints:Object($t.a)(e)}))(({selectedType:e,onSelectType:t,blockedEndpoints:n})=>{const a=JO.filter(({type:e})=>!n.includes(e)&&function(e){return"telegram"!==e||Object(L.c)("notification-endpoint-telegram")}(e)).map(({id:e,type:n,name:a})=>s.a.createElement(h.Dropdown.Item,{key:e,id:e,value:e,testID:`endpoint--dropdown-item ${n}`,onClick:t},a)),r=JO.find(t=>t.type===e);if(!r)throw new Error("Incorrect endpoint type provided to <EndpointTypeDropdown/>");return s.a.createElement(h.Dropdown,{button:(e,t)=>s.a.createElement(h.Dropdown.Button,{testID:"endpoint--dropdown--button",active:e,onClick:t},r.name),menu:e=>s.a.createElement(h.Dropdown.Menu,{onCollapse:e},a),testID:"endpoint-change--dropdown"})});var tD=({saveButtonText:e,onSave:t,onCancel:n,onSetErrorMessage:r})=>{const o=UO(),[i,l]=Object(a.useState)(W.RemoteDataState.NotStarted),c=i===W.RemoteDataState.Loading?h.ComponentStatus.Loading:h.ComponentStatus.Default;return s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{testID:"endpoint-cancel--button",onClick:n,text:"Cancel"}),s.a.createElement(h.Button,{testID:"endpoint-save--button",onClick:()=>{if(i!==W.RemoteDataState.Loading)try{l(W.RemoteDataState.Loading),r(null),t(o)}catch(e){l(W.RemoteDataState.Error),r(e.message)}},text:e,status:c,color:h.ComponentColor.Primary}))};var nD=({onSave:e,saveButtonText:t,onCancel:n})=>{const[r,o]=(()=>[UO(),HO()])(),[i,l]=Object(a.useState)(null),c=e=>{const{name:t,value:n}=e.target;o({type:"UPDATE_ENDPOINT",endpoint:Object.assign(Object.assign({},r),{[t]:n})})};return s.a.createElement(h.Form,null,s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Destination"},s.a.createElement(eD,{onSelectType:e=>{o({type:"UPDATE_ENDPOINT_TYPE",endpoint:Object.assign(Object.assign({},r),{type:e})})},selectedType:r.type}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(h.Form.Element,{label:"Name"},s.a.createElement(h.Input,{testID:"endpoint-name--input",placeholder:"Name this endpoint",value:r.name,name:"name",onChange:c}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Description"},s.a.createElement(h.TextArea,{rows:1,className:"endpoint-description--textarea",testID:"endpoint-description--textarea",name:"description",value:r.description,onChange:c}))),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Twelve},s.a.createElement(ZO,{endpoint:r,onChange:c,onChangeParameter:e=>t=>{o({type:"UPDATE_ENDPOINT",endpoint:Object.assign(Object.assign({},r),{[e]:t})})}})),s.a.createElement(h.Grid.Column,{style:{display:"flex",justifyContent:"center",minHeight:"43px"}},i&&s.a.createElement(h.Alert,{color:h.ComponentColor.Danger,icon:h.IconFont.AlertTriangle,style:{width:"auto",marginTop:"8px"}},i))))),s.a.createElement(tD,{onSave:e,onCancel:n,saveButtonText:t,onSetErrorMessage:l}))};const aD={onCreateEndpoint:e=>async t=>{const n=Ot(e);try{const e=await fe.ob({data:n});if(201!==e.status)throw new Error(e.data.message);const a=Object(_e.a)(e.data,Tt.b);t(Object(Ct.g)(e.data.id,W.RemoteDataState.Done,a)),t(Object(xt.f)())}catch(e){console.error(e),t(Object($.c)(me.V(e.message)))}}};var sD=Object(o.c)(null,aD)(Object(i.j)(({match:e,history:t,onCreateEndpoint:n})=>{const{orgID:r}=e.params,o=()=>{t.push(`/orgs/${r}/alerting`)},i=Object(a.useMemo)(()=>Object.assign(Object.assign({},Gi.o),{orgID:r}),[r]);return s.a.createElement(zO,{initialState:i},s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:666},s.a.createElement(h.Overlay.Header,{title:"Create a Notification Endpoint",onDismiss:o}),s.a.createElement(nD,{onSave:e=>{n(e),o()},onCancel:o,saveButtonText:"Create Notification Endpoint"}))))}));const rD={onUpdateEndpoint:e=>async t=>{t(Object(Ct.g)(e.id,W.RemoteDataState.Loading));const n=Ot(e);try{const a=await fe.Gb({endpointID:e.id,data:n});if(200!==a.status)throw new Error(a.data.message);const s=Object(_e.a)(a.data,Tt.b);t(Object(Ct.g)(e.id,W.RemoteDataState.Done,s))}catch(n){console.error(n),t(Object(Ct.g)(e.id,W.RemoteDataState.Error))}},onNotify:$.c},oD=Object(o.c)((e,{match:t})=>{return{endpoint:Object(ve.c)(e,W.ResourceType.NotificationEndpoints,t.params.endpointID)}},rD);var iD=Object(i.j)(oD(({match:e,history:t,onUpdateEndpoint:n,onNotify:a,endpoint:r})=>{const o=()=>{t.push(`/orgs/${e.params.orgID}/alerting`)};if(!r)return a(Object(me.wb)(e.params.endpointID)),o(),null;return s.a.createElement(zO,{initialState:r},s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:600},s.a.createElement(h.Overlay.Header,{title:"Edit a Notification Endpoint",onDismiss:o}),s.a.createElement(h.Overlay.Body,null),s.a.createElement(nD,{onSave:e=>{n(e),o()},onCancel:o,saveButtonText:"Edit Notification Endpoint"}))))}));const lD="/orgs/:orgID/alerting";var cD=()=>{const[e,t]=Object(a.useState)("checks"),n=`alerting-index alerting-index__${e}`,r=e=>{t(e)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Alerts"])},s.a.createElement(h.Page.Header,{fullWidth:!0,testID:"alerts-page--header"},s.a.createElement(h.Page.Title,{title:"Alerts"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1,className:n},s.a.createElement(_n,{resources:[W.ResourceType.Labels,W.ResourceType.Buckets]},s.a.createElement(Ls,null,s.a.createElement(h.SelectGroup,{className:"alerting-index--selector",shape:h.ButtonShape.StretchToFit},s.a.createElement(h.SelectGroup.Option,{value:"checks",id:"checks",onClick:r,name:"alerting-active-tab",active:"checks"===e,testID:"alerting-tab--checks",tabIndex:1},"Checks"),s.a.createElement(h.SelectGroup.Option,{value:"endpoints",id:"endpoints",onClick:r,name:"alerting-active-tab",active:"endpoints"===e,testID:"alerting-tab--endpoints",tabIndex:2},"Notification Endpoints"),s.a.createElement(h.SelectGroup.Option,{value:"rules",id:"rules",onClick:r,name:"alerting-active-tab",active:"rules"===e,testID:"alerting-tab--rules",tabIndex:3},"Notification Rules")),s.a.createElement("div",{className:"alerting-index--columns"},s.a.createElement(_n,{resources:[W.ResourceType.Checks]},s.a.createElement(qT,{tabIndex:1})),s.a.createElement(_n,{resources:[W.ResourceType.NotificationEndpoints]},s.a.createElement(JT,{tabIndex:2})),s.a.createElement(_n,{resources:[W.ResourceType.NotificationRules]},s.a.createElement($T,{tabIndex:3}))))))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${lD}/checks/new-threshold`,component:oO}),s.a.createElement(i.a,{path:`${lD}/checks/new-deadman`,component:lO}),s.a.createElement(i.a,{path:`${lD}/checks/:checkID/edit`,component:uO}),s.a.createElement(i.a,{path:`${lD}/rules/new`,component:MO}),s.a.createElement(i.a,{path:`${lD}/rules/:ruleID/edit`,component:FO}),s.a.createElement(i.a,{path:`${lD}/endpoints/new`,component:sD}),s.a.createElement(i.a,{path:`${lD}/endpoints/:endpointID/edit`,component:iD})))};var uD=({eventViewerProps:e})=>s.a.createElement(pT,Object.assign({},e,{placeholder:"Search statuses...",exampleSearches:TT})),mD=n(889);Object(a.createContext)(null);var dD=({check:e,timeZone:t})=>{const n=Object(ut.a)(Object(y.get)(e,"threshold")),[r]=Object(a.useState)(0),[o]=Object(a.useState)(0);return s.a.createElement(hp,{submitToken:r,queries:[e.query],key:o,check:e},({giraffeResult:a,loading:r,errorMessage:o,isInitialFetch:i,statuses:l})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(xl,{loading:r}),s.a.createElement(yl.b,{errorFormat:yl.a.Tooltip,errorMessage:o,hasResults:Object(Bl.a)(a),loading:r,isInitialFetch:i,queries:[e.query],fallbackNote:null},s.a.createElement(mD.a,{checkType:e.type,thresholds:"threshold"===e.type?e.thresholds:[],table:Object(y.get)(a,"table"),fluxGroupKeyUnion:Object(y.get)(a,"fluxGroupKeyUnion"),timeZone:t,viewProperties:n.properties,statuses:l},e=>s.a.createElement(ul.Plot,{config:e})))))};var pD=Object(o.c)((e,t)=>{const n=Object(Fi.c)(e),a=BC(e);return{check:Object(ve.c)(e,W.ResourceType.Checks,t.match.params.checkID),timeZone:n,resourceIDs:{checkIDs:a,endpointIDs:null,ruleIDs:null}}})(({match:{params:{orgID:e}},check:t,timeZone:n,resourceIDs:r})=>{const o=Object(a.useMemo)(()=>t=>fT(e,t),[e]),i=ST;return s.a.createElement(_n,{resources:[W.ResourceType.Checks]},s.a.createElement(xT.Provider,{value:r},s.a.createElement(sT,{loadRows:o,initialState:vT()},e=>s.a.createElement(h.Page,{titleTag:"Check Statuses | InfluxDB 2.0",className:"alert-history-page"},s.a.createElement(h.Page.Header,{fullWidth:!0},s.a.createElement(h.Page.Title,{title:"Check Statuses",testID:"alert-history-title"}),s.a.createElement(Ga,null)),s.a.createElement(h.Page.ControlBar,{fullWidth:!0},s.a.createElement(h.Page.ControlBarLeft,null,s.a.createElement(uD,{eventViewerProps:e}),s.a.createElement(_T,{searchInput:e.state.searchInput,historyType:"statuses"}))),s.a.createElement(h.Page.Contents,{fullWidth:!0,scrollable:!1,className:"alert-history-page--contents"},s.a.createElement("div",{className:"alert-history-contents"},"custom"!==t.type&&s.a.createElement(dD,{check:t,timeZone:n}),s.a.createElement("div",{className:"alert-history"},s.a.createElement(mT,Object.assign({},e,{fields:i})))))))))});class hD extends a.PureComponent{constructor(){super(...arguments),this.handleDelete=()=>{const{member:e,onDelete:t}=this.props;t(e)}}render(){const{member:e}=this.props;return s.a.createElement(w,null,s.a.createElement(ss.f,null,s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,testID:"context-delete-menu"},s.a.createElement(ss.f.Item,{label:"Delete",action:this.handleDelete,value:e,testID:"context-delete-task"}))))}}class _D extends a.PureComponent{render(){const{member:e,onDelete:t}=this.props;return s.a.createElement(h.ResourceCard,{testID:"task-card",contextMenu:s.a.createElement(hD,{member:e,onDelete:t})},s.a.createElement(h.ResourceCard.Name,{name:e.name}),s.a.createElement(h.ResourceCard.Meta,null,s.a.createElement(s.a.Fragment,null,"Role: ",e.role)))}}class gD extends a.PureComponent{constructor(){super(...arguments),this.memGetSortedResources=Object(as.a)(Ja.b)}render(){const{sortKey:e,sortDirection:t,onClickColumn:n}=this.props;return s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Header,null,s.a.createElement(h.ResourceList.Sorter,{name:"Username",sortKey:this.headerKeys[0],sort:e===this.headerKeys[0]?t:h.Sort.None,onClick:n}),s.a.createElement(h.ResourceList.Sorter,{name:"Role",sortKey:this.headerKeys[1],sort:e===this.headerKeys[1]?t:h.Sort.None,onClick:n})),s.a.createElement(h.ResourceList.Body,{emptyState:this.props.emptyState,"data-testid":"members-list"},this.rows))}get headerKeys(){return["name","role"]}get rows(){const{members:e,sortKey:t,sortDirection:n,sortType:a,onDelete:r}=this.props;return this.memGetSortedResources(e,t,n,a).map(e=>s.a.createElement(_D,{key:e.id,member:e,onDelete:r}))}}const fD=Ze();class bD extends a.PureComponent{constructor(e){super(e),this.handleClickColumn=(e,t)=>{const n=Ja.a.String;this.setState({sortKey:t,sortDirection:e,sortType:n})},this.removeMember=e=>{const{onRemoveMember:t}=this.props;t(e)},this.handleFilterChange=e=>{this.setState({searchTerm:e})},this.state={searchTerm:"",sortKey:"name",sortDirection:h.Sort.Ascending,sortType:Ja.a.String}}render(){const{searchTerm:e,sortKey:t,sortDirection:n,sortType:a}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h_,{childrenLeft:s.a.createElement(Za,{placeholderText:"Filter members...",searchTerm:e,onSearch:this.handleFilterChange})}),s.a.createElement(fD,{list:this.props.members,searchKeys:["name"],searchTerm:e},e=>s.a.createElement(gD,{members:e,emptyState:this.emptyState,onDelete:this.removeMember,sortKey:t,sortDirection:n,sortType:a,onClickColumn:this.handleClickColumn})))}get emptyState(){const{searchTerm:e}=this.state;return Object(y.isEmpty)(e)?s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"Looks like there aren't any ",s.a.createElement("b",null,"Members"),".")):s.a.createElement(h.EmptyState,{size:h.ComponentSize.Medium},s.a.createElement(h.EmptyState.Text,null,"No Members match your query"))}}const yD={onRemoveMember:e=>async(t,n)=>{try{const{id:a}=Object(S.a)(n()),s=await fe.o({orgID:a,userID:e.id});if(204!==s.status)throw new Error(s.data.message);t(Object(Nt.e)(e.id)),t(Object($.c)(Object(me.Qb)(e.name)))}catch(n){console.error(n),t(Object($.c)(Object(me.Pb)(e.name)))}}};var vD=Object(o.c)(e=>{return{members:Object(ve.a)(e,W.ResourceType.Members)}},yD)(Object(i.j)(bD));let xD=class extends a.Component{constructor(e){super(e)}render(){const{org:e,children:t}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Members","Organization"])},s.a.createElement(DC,null),s.a.createElement(TC,{activeTab:"members",orgID:e.id},s.a.createElement(_n,{resources:[W.ResourceType.Members]},s.a.createElement(vD,null)))),t)}};xD=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],xD);var wD=Object(o.c)((e,t)=>{return{org:Object(ve.c)(e,W.ResourceType.Orgs,t.match.params.orgID)}})(Object(i.j)(xD));var ED=({history:e,match:t})=>(e.push(`/orgs/${t.params.orgID}/dashboards-list`),null);var kD=({children:e,content:t})=>{const{items:n,name:a}=t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va([a,"Load Data"])},s.a.createElement(h.Page.Header,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:a})),s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement(h.SquareGrid,{cardSize:"200px",gutter:h.ComponentSize.Small},n.map(e=>s.a.createElement(gS,{key:e.id,id:e.id,name:e.name,url:e.url,image:e.image}))))),e)};var SD=({children:e})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(kD,{content:yb}),e),CD=n(1579),TD=n.n(CD);const OD=Object(a.createContext)({organization:null,origin:"",bucket:null,buckets:[],changeBucket:()=>{},token:null,tokens:[],changeToken:()=>{}});var DD=Object(o.c)(e=>{return{buckets:Object(ve.a)(e,W.ResourceType.Buckets),tokens:Object(ve.a)(e,W.ResourceType.Authorizations),organization:Object(S.a)(e)}})(({organization:e,buckets:t,tokens:n,children:r})=>{const o=t.filter(e=>"user"===e.type),i=n.length?n[0]:null,[l,c]=Object(a.useState)(o[0]),[u,m]=Object(a.useState)(i),d={organization:e,origin:window.location.origin,bucket:l,buckets:o,changeBucket:c,token:u,tokens:n,changeToken:m};return s.a.createElement(OD.Provider,{value:d},r)});var ID=({code:e,language:t})=>{const{contentID:n}=Object(i.h)(),{bucket:r,token:o,origin:l,organization:c}=Object(a.useContext)(OD),u=function(e,t){return new Function("vars","var output="+JSON.stringify(e).replace(/<%=(.+?)%>/g,'"+(vars["$1".trim()])+"')+";return output;")(t)}(e,{token:o?o.token:"<TOKEN GOES HERE>",bucket:r.name,server:l,org:c.name});return s.a.createElement(jn.a,{copyText:u,label:t,onClick:()=>{Object(A.a)("dataSources_copyCode",{dataSourceName:`${n}`})}})};n(1659);const jD=e=>s.a.createElement(ID,{code:e.value,language:e.language});var RD=({section:e,children:t})=>{const{contentID:n}=Object(i.h)(),{name:a,markdown:r,image:o}=e.items.find(e=>e.id===n);let l=s.a.createElement("img",{"data-testid":"load-data-details-thumb",src:o||_S.a}),c=s.a.createElement(s.a.Fragment,null);return o&&(l=s.a.createElement("img",{"data-testid":"load-data-details-thumb",src:o})),r&&(c=s.a.createElement(TD.a,{source:r,renderers:{code:jD}})),s.a.createElement(_n,{resources:[W.ResourceType.Authorizations,W.ResourceType.Buckets]},s.a.createElement(DD,null,s.a.createElement(h.Page,{titleTag:Va([e.name,"Sources","Load Data"])},s.a.createElement(h.Page.Header,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:a})),s.a.createElement(h.Page.Contents,{fullWidth:!1,scrollable:!0},s.a.createElement("div",{className:"write-data--details"},s.a.createElement("div",{className:"write-data--details-thumbnail"},l),s.a.createElement("div",{className:"write-data--details-content markdown-format","data-testid":"load-data-details-content"},t,c))))))};var ND=()=>{const{token:e,tokens:t,changeToken:n}=Object(a.useContext)(OD);let r=s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small},s.a.createElement("p",{"data-testid":"write-data-tokens-list-empty"},"You don't have any Tokens"));const o=t=>!!e&&t===e.id;return t.length&&(r=s.a.createElement(h.List,{backgroundColor:h.InfluxColors.Obsidian,style:{height:"200px"},maxHeight:"200px",testID:"write-data-tokens-list"},t.map(e=>s.a.createElement(h.List.Item,{size:h.ComponentSize.Small,key:e.id,testID:e.description,selected:o(e.id),value:e,onClick:n,wrapText:!0,gradient:h.Gradients.GundamPilot},e.description)))),s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Heading,{element:h.HeadingElement.H6,className:"write-data--details-widget-title"},"Token"),r)};var AD=()=>{const{bucket:e,buckets:t,changeBucket:n}=Object(a.useContext)(OD);let r=s.a.createElement(h.EmptyState,{size:h.ComponentSize.Small},s.a.createElement("p",null,"You don't have any Buckets"));const o=t=>!!e&&t===e.id;return t.length&&(r=s.a.createElement(h.List,{backgroundColor:h.InfluxColors.Obsidian,style:{height:"200px"},maxHeight:"200px"},t.map(e=>s.a.createElement(h.List.Item,{size:h.ComponentSize.Small,key:e.id,selected:o(e.id),value:e,onClick:n,wrapText:!0,gradient:h.Gradients.GundamPilot},e.name)))),s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Heading,{element:h.HeadingElement.H6,className:"write-data--details-widget-title"},"Bucket"),r)};var PD=()=>{const[e,t]=Object(a.useState)("expanded");return s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Castle},s.a.createElement(h.Panel.Header,{size:h.ComponentSize.ExtraSmall},s.a.createElement("div",{className:`write-data-helper--heading write-data-helper--heading__${e}`,onClick:()=>{t("expanded"===e?"collapsed":"expanded")}},s.a.createElement(h.Icon,{glyph:h.IconFont.CaretRight,className:"write-data-helper--caret"}),s.a.createElement(h.Heading,{element:h.HeadingElement.H5,weight:h.FontWeight.Regular,selectable:!0},"Code Sample Options"))),"expanded"===e&&s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall},s.a.createElement("p",null,"Control how code samples in the documentation are populated with system resources. Not all code samples make use of system resources."),s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(ND,null)),s.a.createElement(h.Grid.Column,{widthSM:h.Columns.Six},s.a.createElement(AD,null))))))};const MD=`/orgs/:orgID/load-data/${zm}`,LD=()=>s.a.createElement(RD,{section:yb},s.a.createElement(PD,null));let FD=class extends a.PureComponent{render(){const{children:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.c,null,s.a.createElement(i.a,{path:MD,exact:!0,component:SD}),s.a.createElement(i.a,{path:`${MD}/:contentID`,component:LD})),e)}};var qD=FD=Object(m.a)([p.a],FD);var BD=({children:e})=>s.a.createElement(s.a.Fragment,null,s.a.createElement(kD,{content:mS}),e);var zD=()=>s.a.createElement(h.Panel,{backgroundColor:h.InfluxColors.Castle,style:{marginBottom:"8px"}},s.a.createElement(h.Panel.Header,null,s.a.createElement(h.Heading,{element:h.HeadingElement.H4,weight:h.FontWeight.Regular},"Getting Started with Telegraf")),s.a.createElement(h.Panel.Body,null,s.a.createElement("p",null,"Telegraf is InfluxData’s data collection agent for collecting and reporting metrics. Its vast library of input plugins and “plug-and-play” architecture lets you quickly and easily collect metrics from many different sources."),s.a.createElement("p",null,"You will need to have Telegraf installed in order to use this plugin. See our handy"," ",s.a.createElement("a",{href:"https://docs.influxdata.com/telegraf/v1.15/introduction/installation/",target:"_blank"},"Installation Guide"))));const UD=()=>s.a.createElement(RD,{section:mS},s.a.createElement(zD,null));let HD=class extends a.PureComponent{render(){const{children:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/load-data/telegraf-plugins",exact:!0,component:BD}),s.a.createElement(i.a,{path:"/orgs/:orgID/load-data/telegraf-plugins/:contentID",component:UD})),e)}};var GD=HD=Object(m.a)([p.a],HD);var VD=()=>{const e=Object(i.f)(),{orgID:t}=Object(i.h)(),{add:n}=Object(a.useContext)(ph.a);return s.a.createElement(h.Button,{icon:h.IconFont.Plus,color:h.ComponentColor.Primary,text:"Create Flow",titleText:"Click to create a Flow",onClick:async()=>{const a=await n();e.push(`/orgs/${t}/flows/${a}`)},testID:"create-flow--button"})};var $D=()=>s.a.createElement(h.Panel,{gradient:h.Gradients.PolarExpress,border:!0},s.a.createElement(h.Panel.Header,null,s.a.createElement("h5",null,"What is Flows?")),s.a.createElement(h.Panel.Body,null,s.a.createElement("p",null,"Flows is a tool to help you explore, visualize, and process your data. Learn how to downsample data and other handy tutorials in the"," ",s.a.createElement("a",{href:"",target:"_blank"},"Flows Documentation"))));var WD=()=>s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Eight,widthMD:h.Columns.Ten},s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement("div",{className:"flow-empty"},s.a.createElement("div",{className:"flow-empty--graphic"}),s.a.createElement(h.EmptyState.Text,null,"You haven't created any Flows yet"),s.a.createElement("div",{className:"flow-empty--description-text"},s.a.createElement("p",null,"Click ",s.a.createElement("strong",null,"Create Flow")," in the top right to get started"))))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four,widthMD:h.Columns.Two},s.a.createElement($D,null))));var KD=({id:e,name:t})=>{const{remove:n}=Object(a.useContext)(ph.a);return s.a.createElement(ss.f.Menu,{icon:h.IconFont.Trash,color:h.ComponentColor.Danger,shape:h.ButtonShape.Default,text:"Delete Flow",testID:`context-delete-menu ${t}`},s.a.createElement(ss.f.Item,{label:"Confirm",action:()=>{n(e)},testID:`context-delete-flow ${t}`}))};var QD=({id:e,name:t})=>{const{orgID:n}=Object(i.h)(),a=Object(i.f)(),r=s.a.createElement(KD,{id:e,name:t});return s.a.createElement(h.ResourceCard,{key:`flow-card--${e}`,contextMenu:r,testID:`flow-card--${t}`},s.a.createElement(h.ResourceCard.Name,{name:t||"Name this flow",onClick:()=>{a.push(`/orgs/${n}/flows/${e}`)}}))};var YD=()=>{const{flows:e}=Object(a.useContext)(ph.a);return s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.ResourceList,null,s.a.createElement(h.ResourceList.Body,{emptyState:s.a.createElement(WD,null)},Object.entries(e).map(([e,{name:t}])=>s.a.createElement(QD,{key:e,id:e,name:t})))))))};var XD=()=>s.a.createElement(ph.c,null,s.a.createElement(h.Page,{titleTag:Va(["Flows"]),testID:"flows-index"},s.a.createElement(h.PageHeader,{fullWidth:!1},s.a.createElement(h.Page.Title,{title:"Flows"})),s.a.createElement(h.Page.ControlBar,{fullWidth:!1},s.a.createElement(h.Page.ControlBarLeft,null),s.a.createElement(h.Page.ControlBarRight,null,s.a.createElement(VD,null))),s.a.createElement(h.Page.Contents,{fullWidth:!1},s.a.createElement(YD,null))));var ZD=()=>s.a.createElement("div",{className:"container-fluid","data-testid":"not-found"},s.a.createElement("div",{className:"panel"},s.a.createElement("div",{className:"panel-heading text-center"},s.a.createElement("h1",{className:"deluxe"},"404"),s.a.createElement("h4",null,"Bummer! We couldn't find the page you were looking for"))));const JD=({strokeColor:e,fillColor:t="none",strokeWidth:n=2,width:a,height:r})=>{const o={strokeWidth:n,stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},i=Object.assign(Object.assign({},o),{fill:t});return s.a.createElement("svg",{width:a,height:r,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 54 54",preserveAspectRatio:"xMidYMid meet",xmlSpace:"preserve"},s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("polygon",{style:i,points:"27,44.9 27,30.6 14.5,23.4 2,30.6 2,44.9 14.5,52 \t\t"}),s.a.createElement("line",{style:o,x1:"2.5",y1:"30.8",x2:"14.5",y2:"37.7"}),s.a.createElement("line",{style:o,x1:"14.5",y1:"37.7",x2:"14.5",y2:"51.6"}),s.a.createElement("line",{style:o,x1:"14.5",y1:"37.7",x2:"26.5",y2:"30.8"})),s.a.createElement("g",null,s.a.createElement("polygon",{style:i,points:"52,44.9 52,30.6 39.5,23.4 27,30.6 27,44.9 39.5,52 \t\t"}),s.a.createElement("line",{style:o,x1:"27.5",y1:"30.8",x2:"39.5",y2:"37.7"}),s.a.createElement("line",{style:o,x1:"39.5",y1:"37.7",x2:"39.5",y2:"51.6"}),s.a.createElement("line",{style:o,x1:"39.5",y1:"37.7",x2:"51.5",y2:"30.8"})),s.a.createElement("g",null,s.a.createElement("polygon",{style:i,points:"39.5,23.4 39.5,9.1 27,2 14.5,9.1 14.5,23.4 27,30.6 \t\t"}),s.a.createElement("line",{style:o,x1:"15",y1:"9.4",x2:"27",y2:"16.3"}),s.a.createElement("line",{style:o,x1:"27",y1:"16.3",x2:"27",y2:"30.1"}),s.a.createElement("line",{style:o,x1:"27",y1:"16.3",x2:"39",y2:"9.4"}))))},eI=({templateName:e,resourceCount:t,onClickInstall:n})=>{let a,r="resources";return 1===t&&(r="resource"),n&&t>0&&(a=s.a.createElement(h.Button,{text:"Install Template",color:h.ComponentColor.Success,size:h.ComponentSize.Medium,onClick:n,testID:"template-install-button"})),s.a.createElement(h.Panel,{border:!0,gradient:h.Gradients.SpirulinaSmoothie},s.a.createElement(h.Panel.Body,{margin:h.ComponentSize.Large,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Center},s.a.createElement(JD,{strokeWidth:2,strokeColor:h.InfluxColors.Neutrino,width:54,height:54}),s.a.createElement(h.FlexBox.Child,{grow:1,shrink:0,testID:"template-install-title"},s.a.createElement(h.Heading,{className:"community-templates--template-name",element:h.HeadingElement.H4},e),s.a.createElement("p",{className:"community-templates--template-description"},"Installing this template will create"," ",s.a.createElement("strong",null,t," ",r)," ","in your system"),s.a.createElement("p",{className:"community-templates--template-description"},"There might be extra steps needed to complete your template installation, check github to find any further instruction")),a))},tI="We don't support images in markdown for security purposes";class nI extends a.Component{constructor(){super(...arguments),this.componentDidMount=()=>{this.props.readme||this.props.fetchAndSetReadme(this.props.name,this.props.directory)},this.render=()=>{const{readme:e}=this.props;return e?s.a.createElement(se.a,{text:e,cloudRenderers:{image:tI},className:"markdown-format community-templates--readme"}):null}}}const aI={fetchAndSetReadme:(e,t)=>async n=>{try{const a=await Object(Bt.e)(t),s=Object(ln.l)(a);n(Object(Ut.p)(e,s))}catch(t){Object(ct.b)(t,{name:`The community template github readme fetch failed for ${e}`}),n(Object(Ut.p)(e,"###### We can't find the readme associated with this template"))}}},sI=Object(o.c)((e,t)=>{const n=Object(ln.j)(t.url);return{directory:n.directory,name:n.name,readme:e.resources.templates.communityTemplateReadmeCollection[n.name]}},aI)(nI),rI=({title:e,children:t,description:n,handleToggle:a,shouldInstall:r=!0,shouldDisableToggle:o=!1})=>{const i=f()("community-templates--item-description",{"community-templates--item-description__blank":!n});return s.a.createElement(h.Panel,{className:"community-templates--item"},s.a.createElement(h.Panel.Body,{size:h.ComponentSize.ExtraSmall,alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Large},s.a.createElement(h.Toggle,{id:`community-templates-install--${e}`,type:h.InputToggleType.Checkbox,onChange:a,size:h.ComponentSize.Small,checked:r,icon:h.IconFont.Checkmark,color:h.ComponentColor.Success,disabled:o,testID:`templates-toggle--${e}`}),s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.FlexStart,direction:h.FlexDirection.Column},e&&s.a.createElement(h.Heading,{element:h.HeadingElement.H6},e),s.a.createElement("p",{className:i},n||"No description"),t)))},oI=({title:e,count:t,children:n})=>{const[r,o]=Object(a.useState)("collapsed"),i=f()("community-templates--list-group",{[`community-templates--list-group__${r}`]:r});return s.a.Children.count(n)?s.a.createElement("div",{className:i},s.a.createElement("div",{className:"community-templates--list-header",onClick:()=>{o("expanded"===r?"collapsed":"expanded")}},s.a.createElement("div",{className:"community-templates--list-toggle"},s.a.createElement(h.Icon,{glyph:h.IconFont.CaretRight})),s.a.createElement(h.Heading,{element:h.HeadingElement.H5,testID:`heading-${e}`},e),s.a.createElement(h.Heading,{element:h.HeadingElement.Div,appearance:h.HeadingElement.H6,className:"community-templates--list-counter"},`(${t} selected)`)),"expanded"===r&&s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,className:"community-templates--list-group-items"},n)):null};class iI extends a.PureComponent{constructor(){super(...arguments),this.state={selectedBucketID:"default"},this.createRefBucketSelectHandler=e=>t=>{let n="";t.hasOwnProperty("id")&&(n=t.id),this.setState({selectedBucketID:n}),this.props.updateTemplateEnvReferences(e.envRefKey,e.resourceField,t.name,e.valueType)},this.handleRefChange=e=>t=>{this.props.updateTemplateEnvReferences(e.envRefKey,e.resourceField,t.target.value,e.valueType)},this.renderInputForEnvRef=e=>{switch(e.valueType){case"float":case"number":case"integer":return s.a.createElement(h.Input,{type:h.InputType.Number,value:this.props.stagedTemplateEnvReferences[e.envRefKey].value,onChange:this.handleRefChange(e)});case"string":default:return s.a.createElement(h.Input,{type:h.InputType.Text,value:this.props.stagedTemplateEnvReferences[e.envRefKey].value,onChange:this.handleRefChange(e)})}}}componentDidMount(){const e=this.props.resource.envReferences.find(e=>{if("bucket"===this.getFieldType(e)&&this.props.stagedTemplateEnvReferences[e.envRefKey].value!==e.defaultValue)return!0});if(e){const t=this.props.buckets.find(t=>{if(t.name===this.props.stagedTemplateEnvReferences[e.envRefKey].value)return!0});t&&this.setState({selectedBucketID:t.id})}}render(){return s.a.createElement(h.Table,{borders:h.BorderType.None,cellPadding:h.ComponentSize.ExtraSmall},s.a.createElement(h.Table.Header,null,s.a.createElement(h.Table.Row,null,s.a.createElement(h.Table.HeaderCell,null,"Parameter"),s.a.createElement(h.Table.HeaderCell,null,"Value"))),s.a.createElement(h.Table.Body,null,this.props.resource.envReferences.map(e=>{const t=this.getFieldType(e);if("bucket"===t){const{defaultValue:n}=e,a={id:"default",name:n};return s.a.createElement(h.Table.Row,{key:e.envRefKey},s.a.createElement(h.Table.Cell,null,s.a.createElement("strong",null,t)),s.a.createElement(h.Table.Cell,null,s.a.createElement(Pn.a,{selectedBucketID:this.state.selectedBucketID,buckets:[a,...this.props.buckets],onSelectBucket:this.createRefBucketSelectHandler(e),style:{width:"225px"}})))}return s.a.createElement(h.Table.Row,{key:e.envRefKey},s.a.createElement(h.Table.Cell,null,s.a.createElement("strong",null,t)),s.a.createElement(h.Table.Cell,null,this.renderInputForEnvRef(e)))})))}getFieldType(e){return e.resourceField.split(".").pop()}}const lI={updateTemplateEnvReferences:Ut.s},cI=Object(o.c)(e=>({stagedTemplateEnvReferences:e.resources.templates.stagedTemplateEnvReferences,buckets:Object(ve.a)(e,W.ResourceType.Buckets)}),lI)(iI);class uI extends a.PureComponent{render(){return Object.keys(this.props.resource.envReferences).length<1?null:s.a.createElement(h.Panel,{className:"community-templates--item"},s.a.createElement(h.Panel.Body,{key:this.props.resource.name,size:h.ComponentSize.ExtraSmall,alignItems:h.AlignItems.Center,direction:h.FlexDirection.Row,margin:h.ComponentSize.Large},s.a.createElement(h.FlexBox,{alignItems:h.AlignItems.FlexStart,direction:h.FlexDirection.Column},s.a.createElement(cI,{resource:this.props.resource}))))}}const mI=e=>e.shouldInstall,dI=e=>e.filter(mI).length,pI=e=>{let t=0;return Object.keys(e).forEach(n=>{t+=dI(e[n])}),t};class hI extends a.PureComponent{render(){const{summary:e}=this.props;return Object.keys(e).length?s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Column,alignItems:h.AlignItems.Stretch,className:"community-templates-installer"},s.a.createElement(oI,{title:"Dashboards",count:dI(e.dashboards)},Array.isArray(e.dashboards)&&e.dashboards.map(e=>{let t=0;return e.charts&&e.charts.length&&(t=e.charts.length),s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"dashboards"}),this.props.toggleTemplateResourceInstall("dashboards",e.templateMetaName,!e.shouldInstall)},title:e.name,description:e.description},"Charts: ",t)),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e})))})),s.a.createElement(oI,{title:"Telegraf Configurations",count:dI(e.telegrafConfigs)},Array.isArray(e.telegrafConfigs)&&e.telegrafConfigs.map(e=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"telegraf"}),this.props.toggleTemplateResourceInstall("telegrafConfigs",e.templateMetaName,!e.shouldInstall)},title:e.templateMetaName,description:e.description})),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Buckets",count:dI(e.buckets)},Array.isArray(e.buckets)&&e.buckets.map(e=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldDisableToggle:!0,shouldInstall:!0,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"buckets"}),this.props.toggleTemplateResourceInstall("buckets",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.name,description:e.description})),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Tasks",count:dI(e.summaryTask)},Array.isArray(e.summaryTask)&&e.summaryTask.map(e=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"tasks"}),this.props.toggleTemplateResourceInstall("summaryTask",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.name,description:e.description})),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Checks",count:dI(e.checks)},Array.isArray(e.checks)&&e.checks.map(e=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"checks"}),this.props.toggleTemplateResourceInstall("checks",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.check.name,description:e.description})),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Variables",count:dI(e.variables)},Array.isArray(e.variables)&&e.variables.map(e=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldDisableToggle:!0,shouldInstall:!0,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"variables"}),this.props.toggleTemplateResourceInstall("variables",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName,title:e.name,description:e.description},"Type: ",e.arguments.type)),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Notification Rules",count:dI(e.notificationRules)},Array.isArray(e.notificationRules)&&e.notificationRules.map(t=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:t.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:t.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"notification rules"}),this.props.toggleTemplateResourceInstall("notificationRules",t.templateMetaName,!t.shouldInstall)},key:t.templateMetaName,title:t.name,description:t.description})),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Notification Endpoints",count:dI(e.notificationEndpoints)},Array.isArray(e.notificationEndpoints)&&e.notificationEndpoints.map(t=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:t.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:t.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"notification rules"}),this.props.toggleTemplateResourceInstall("notificationEndpoints",t.templateMetaName,!t.shouldInstall)},key:t.templateMetaName,title:t.notificationEndpoint.name,description:t.description})),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e}))))),s.a.createElement(oI,{title:"Labels",count:dI(e.labels)},Array.isArray(e.labels)&&e.labels.map(e=>s.a.createElement(h.FlexBox,{margin:h.ComponentSize.Small,direction:h.FlexDirection.Row,alignItems:h.AlignItems.Stretch,key:e.templateMetaName},s.a.createElement(h.FlexBox.Child,{grow:1},s.a.createElement(rI,{shouldInstall:e.shouldInstall,handleToggle:()=>{Object(A.a)("template_resource_uncheck",{templateResourceType:"labels"}),this.props.toggleTemplateResourceInstall("labels",e.templateMetaName,!e.shouldInstall)},key:e.templateMetaName},s.a.createElement(h.Label,{description:e.properties.description,name:e.name,id:e.name,color:e.properties.color}))),_I(e)&&s.a.createElement(h.FlexBox.Child,null,s.a.createElement(uI,{resource:e})))))):s.a.createElement(h.Panel,null,s.a.createElement(h.Panel.Header,null,"Calculating template resource needs..."))}}const _I=e=>e.envReferences&&Object.keys(e.envReferences).length>0,gI={toggleTemplateResourceInstall:Ut.r},fI=Object(o.c)(e=>({summary:e.resources.templates.stagedCommunityTemplate.summary}),gI)(hI);var bI;!function(e){e[e.IncludedResources=0]="IncludedResources",e[e.Readme=1]="Readme"}(bI||(bI={}));class yI extends a.PureComponent{constructor(){super(...arguments),this.state={activeTab:bI.IncludedResources},this.setTabToIncludedResources=()=>{this.setState({activeTab:bI.IncludedResources})},this.setTabToReadme=()=>{this.setState({activeTab:bI.Readme})},this.onDismiss=()=>{this.props.onDismissOverlay()}}render(){const{isVisible:e,onInstall:t,resourceCount:n,templateName:a,url:r}=this.props;return s.a.createElement(h.Overlay,{visible:e},s.a.createElement(h.Overlay.Container,{maxWidth:800,testID:"template-install-overlay",style:{minHeight:"600px"}},s.a.createElement(h.Overlay.Header,{title:"Template Installer",onDismiss:this.onDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(eI,{templateName:a,resourceCount:n,onClickInstall:t}),s.a.createElement(h.Tabs.Container,{orientation:h.Orientation.Horizontal},s.a.createElement(h.Tabs.Tabs,{alignment:h.Alignment.Center},s.a.createElement(h.Tabs.Tab,{active:this.state.activeTab===bI.IncludedResources,id:"included-resources",text:"Included Resources",onClick:this.setTabToIncludedResources}),s.a.createElement(h.Tabs.Tab,{active:this.state.activeTab===bI.Readme,id:"readme",text:"Readme",testID:"community-templates-readme-tab",onClick:this.setTabToReadme})),this.state.activeTab===bI.IncludedResources?s.a.createElement(fI,null):s.a.createElement(sI,{url:r})))))}}yI.defaultProps={isVisible:!0};const vI=Object(i.j)(yI);class xI extends a.PureComponent{constructor(){super(...arguments),this.state={status:h.ComponentStatus.Default},this.reviewTemplateResources=async(e,t)=>{try{const n=await Object(Bt.h)(e,t);return this.props.setStagedCommunityTemplate(n),n}catch(e){this.props.notify(Object(me.O)(e.message)),Object(ct.b)(e,{name:"The community template fetch for preview failed"})}},this.onDismiss=()=>{this.props.history.push(`/orgs/${this.props.org.id}/settings/templates`)},this.updateOverlayStatus=e=>this.setState(()=>({status:e})),this.handleInstallTemplate=async()=>{let e;try{e=await Object(Bt.g)(this.props.org.id,this.props.stagedTemplateUrl,this.props.resourcesToSkip,this.props.stagedTemplateEnvReferences),Object(A.a)("template_install",{templateUrl:this.props.stagedTemplateUrl})}catch(e){return this.props.notify(Object(me.O)(e.message)),void Object(ct.b)(e,{name:"Failed to install community template"})}try{const t=Object(ln.j)(this.props.stagedTemplateUrl);await Object(Bt.i)(e.stackID,t.name),Object(A.a)("template_rename",{templateName:t.name}),this.props.setStagedTemplateUrl(""),this.props.setTemplateUrlValidationMessage(""),this.props.getBuckets(),this.props.notify(Object(me.P)(t.name))}catch(e){this.props.notify(Object(me.Q)()),Object(ct.b)(e,{name:"The community template rename failed"})}finally{this.props.fetchAndSetStacks(this.props.org.id),this.onDismiss()}}}componentDidMount(){this.props.stagedTemplateUrl?this.reviewTemplateResources(this.props.org.id,this.props.stagedTemplateUrl):this.onDismiss()}render(){const e=Object(ln.j)(this.props.stagedTemplateUrl).name;return s.a.createElement(vI,{onDismissOverlay:this.onDismiss,onInstall:this.handleInstallTemplate,resourceCount:this.props.resourceCount,status:this.state.status,templateName:e,url:this.props.stagedTemplateUrl,updateStatus:this.updateOverlayStatus})}}const wI={getBuckets:rt.f,fetchAndSetStacks:mn,notify:$.c,setStagedCommunityTemplate:Ut.n,setStagedTemplateUrl:Ut.o},EI=Object(o.c)((e,t)=>{const n=Object(ve.c)(e,W.ResourceType.Orgs,t.match.params.orgID),a={};for(const[t,n]of Object.entries(e.resources.templates.stagedTemplateEnvReferences))switch(n.valueType){case"string":case"time":case"duration":a[t]=n.value;continue;case"number":case"float":a[t]=parseFloat(n.value);continue;case"integer":a[t]=parseInt(n.value,10);continue}return{org:n,stagedTemplateEnvReferences:a,flags:e.flags.original,resourceCount:pI(e.resources.templates.stagedCommunityTemplate.summary),resourcesToSkip:e.resources.templates.stagedCommunityTemplate.resourcesToSkip,stagedTemplateUrl:e.resources.templates.stagedTemplateUrl,communityTemplateReadmeCollection:e.resources.templates.communityTemplateReadmeCollection}},wI)(Object(i.j)(xI)),kI=()=>{Object(A.a)("template_view_resource")},SI=Object(o.c)(e=>{return{allResources:[...Object(ve.a)(e,W.ResourceType.Labels).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.Buckets).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.Telegrafs).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.Variables).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.Dashboards).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.Tasks).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.Checks).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.NotificationEndpoints).map(e=>({id:e.id,name:e.name})),...Object(ve.a)(e,W.ResourceType.NotificationRules).map(e=>{if(e.id&&e.name)return{id:e.id,name:e.name}})]}})(({link:e,metaName:t,resourceID:n,allResources:a})=>{const r=a.find(e=>e.id===n),o=r?r.name:t;return s.a.createElement(b.a,{to:e,onClick:kI},s.a.createElement("code",null,o))}),CI=({resources:e,stackID:t,orgID:n})=>{const[r,o]=Object(a.useState)("collapsed"),i=`${e.length} Resource${e.length?"s":""}`,l=f()("community-templates--resources-table-caret",{"community-templates--resources-table-caret__expanded":"expanded"===r}),c=e.map(e=>{switch(e.kind){case"Bucket":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/load-data/buckets`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Check":case"CheckDeadman":case"CheckThreshold":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/alerting/checks/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Dashboard":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/dashboards/${e.resourceID}`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Label":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/settings/labels`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"NotificationEndpoint":case"NotificationEndpointHTTP":case"NotificationEndpointPagerDuty":case"NotificationEndpointSlack":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/alerting/endpoints/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"NotificationRule":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/alerting/rules/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Task":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/tasks/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Telegraf":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/load-data/telegrafs/${e.resourceID}/instructions`,metaName:e.templateMetaName,resourceID:e.resourceID})));case"Variable":return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind),s.a.createElement("td",null,s.a.createElement(SI,{link:`/orgs/${n}/settings/variables/${e.resourceID}/edit`,metaName:e.templateMetaName,resourceID:e.resourceID})));default:return s.a.createElement("tr",{key:`${e.templateMetaName}-${t}-${e.kind}`},s.a.createElement("td",null,e.kind))}});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"community-templates--resources-table-toggle",onClick:()=>{o("expanded"===r?"collapsed":"expanded")}},s.a.createElement(h.Icon,{className:l,glyph:h.IconFont.CaretRight}),s.a.createElement("h6",null,i)),"expanded"===r&&s.a.createElement("table",{className:"community-templates--resources-table"},s.a.createElement("tbody",null,c)))};class TI extends a.PureComponent{constructor(){super(...arguments),this.state={isVisible:!1},this.showOverlay=()=>{this.setState({isVisible:!0})},this.onDismiss=()=>{this.setState({isVisible:!1})}}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Button,{text:"View Readme",icon:h.IconFont.GitHub,size:h.ComponentSize.Small,onClick:this.showOverlay,testID:"community-template-readme-overlay-button",style:{display:"inline-block"}}),s.a.createElement(h.Overlay,{visible:this.state.isVisible},s.a.createElement(h.Overlay.Container,{maxWidth:800,testID:"template-install-overlay"},s.a.createElement(h.Overlay.Header,{title:"Read Me",onDismiss:this.onDismiss}),s.a.createElement(h.Overlay.Body,null,s.a.createElement(sI,{url:this.props.url})))))}}class OI extends a.PureComponent{constructor(){super(...arguments),this.generateDeleteHandlerForStack=(e,t)=>async()=>{try{await Object(Bt.d)(e,this.props.orgID),Object(A.a)("template_delete",{templateName:t}),this.props.notify(Object(me.M)(t)),this.props.getBuckets()}catch(e){this.props.notify(Object(me.L)(e.message)),Object(ct.b)(e,{name:"The community template delete failed"})}finally{this.props.fetchAndSetStacks(this.props.orgID)}}}componentDidMount(){try{this.props.fetchAndSetStacks(this.props.orgID)}catch(e){this.props.notify(Object(me.N)(e.message)),Object(ct.b)(e,{name:"The community template fetch stack failed"})}}renderStackSources(e){return e.map(e=>e.includes("github")&&e.includes("influxdata")?s.a.createElement(TI,{key:e,url:e}):e)}render(){return this.props.stacks.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Installed Templates"),s.a.createElement(h.Table,{striped:!0,highlight:!0},s.a.createElement(h.Table.Header,null,s.a.createElement(h.Table.Row,null,s.a.createElement(h.Table.HeaderCell,{style:{width:"250px"}},"Template Name"),s.a.createElement(h.Table.HeaderCell,{style:{width:"calc(100% - 700px)"}},"Installed Resources"),s.a.createElement(h.Table.HeaderCell,{style:{width:"180px"}},"Install Date"),s.a.createElement(h.Table.HeaderCell,{style:{width:"210px"}},"Links"),s.a.createElement(h.Table.HeaderCell,{style:{width:"60px"}}," "))),s.a.createElement(h.Table.Body,null,this.props.stacks.map(e=>s.a.createElement(h.Table.Row,{testID:"installed-template-list",key:`stack-${e.id}`},s.a.createElement(h.Table.Cell,{testID:`installed-template-${e.name}`,verticalAlignment:h.VerticalAlignment.Top},s.a.createElement("span",{className:"community-templates--resources-table-item"},e.name)),s.a.createElement(h.Table.Cell,{testID:"template-resource-link",verticalAlignment:h.VerticalAlignment.Top},s.a.createElement(CI,{resources:e.resources,stackID:e.id,orgID:this.props.orgID})),s.a.createElement(h.Table.Cell,{verticalAlignment:h.VerticalAlignment.Top},s.a.createElement("span",{className:"community-templates--resources-table-item"},new Date(e.createdAt).toDateString())),s.a.createElement(h.Table.Cell,{testID:"template-source-link",verticalAlignment:h.VerticalAlignment.Top},this.renderStackSources(e.sources)),s.a.createElement(h.Table.Cell,{verticalAlignment:h.VerticalAlignment.Top,horizontalAlignment:h.Alignment.Right},s.a.createElement(h.ConfirmationButton,{confirmationButtonText:"Delete",testID:`template-delete-button-${e.name}`,confirmationButtonColor:h.ComponentColor.Danger,confirmationLabel:"Really Delete All Resources?",popoverColor:h.ComponentColor.Default,popoverAppearance:h.Appearance.Solid,onConfirm:this.generateDeleteHandlerForStack(e.id,e.name),icon:h.IconFont.Trash,color:h.ComponentColor.Danger,size:h.ComponentSize.Small,status:h.ComponentStatus.Default,shape:h.ButtonShape.Square}))))))):s.a.createElement("h4",null,"You haven't installed any templates yet")}}const DI={getBuckets:rt.f,fetchAndSetStacks:mn,notify:$.c},II=Object(o.c)(e=>({stacks:e.resources.templates.stacks.filter(e=>"delete"!==e.eventType&&"uninstall"!==e.eventType)}),DI)(OI);let jI=class extends a.Component{constructor(){super(...arguments),this.state={validationMessage:""},this.startTemplateInstall=()=>{if(!this.props.stagedTemplateUrl)return this.props.notify(Object(me.R)()),!1;try{Object(A.a)("template_click_lookup",{templateName:Object(ln.j)(this.props.stagedTemplateUrl).name}),this.props.history.push(`/orgs/${this.props.org.id}/settings/templates/import`)}catch(e){this.props.notify(Object(me.R)()),Object(ct.b)(e,{name:"The community template getTemplateDetails failed"})}},this.handleTemplateChange=e=>{const t=Object(ln.m)(e.target.value);this.setValidationMessage(t),this.props.setStagedTemplateUrl(e.target.value)},this.handleInputKeyPress=e=>{"Enter"===e.key&&this.startTemplateInstall()},this.onClickBrowseCommunityTemplates=()=>{Object(A.a)("template_click_browse"),window.open("https://github.com/influxdata/community-templates#templates")},this.setValidationMessage=e=>{this.setState({validationMessage:e})}}componentDidMount(){var e,t,n;const a=Object(i.e)(this.props.location.pathname,{path:"/orgs/:orgID/settings/templates/import/:directory/:templateName/:templateExtension"});(null===(e=null==a?void 0:a.params)||void 0===e?void 0:e.directory)&&(null===(t=null==a?void 0:a.params)||void 0===t?void 0:t.templateName)&&(null===(n=null==a?void 0:a.params)||void 0===n?void 0:n.templateExtension)&&this.props.setStagedTemplateUrl(Object(ln.h)(a.params.directory,a.params.templateName,a.params.templateExtension))}render(){const{org:e}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Page,{titleTag:Va(["Templates","Settings"])},s.a.createElement(TS,null),s.a.createElement(SS,{activeTab:"templates",orgID:e.id},s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Column,margin:h.ComponentSize.Small,stretchToFitWidth:!0,alignItems:h.AlignItems.Stretch},s.a.createElement(h.Panel,{className:"community-templates-panel"},s.a.createElement(h.Panel.SymbolHeader,{symbol:s.a.createElement(h.Bullet,{text:1,size:h.ComponentSize.Medium}),title:s.a.createElement(h.Heading,{element:h.HeadingElement.H4},"Find a template then return here to install it"),size:h.ComponentSize.Small},s.a.createElement(h.Button,{color:h.ComponentColor.Primary,size:h.ComponentSize.Large,onClick:this.onClickBrowseCommunityTemplates,text:"Browse Community Templates",testID:"browse-template-button",icon:h.IconFont.GitHub}))),s.a.createElement(h.Panel,{className:"community-templates-panel"},s.a.createElement(h.Panel.SymbolHeader,{symbol:s.a.createElement(h.Bullet,{text:2,size:h.ComponentSize.Medium}),title:s.a.createElement(h.Heading,{element:h.HeadingElement.H4},"Paste the URL of the Template's resource manifest file"),size:h.ComponentSize.Small}),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.Large,direction:h.FlexDirection.Column},s.a.createElement("p",null,"Every template has a file that controls what gets installed, which is usually a YAML or JSON file"),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,margin:h.ComponentSize.Large,stretchToFitWidth:!0},s.a.createElement(h.Input,{className:"community-templates-template-url",onChange:this.handleTemplateChange,onKeyPress:this.handleInputKeyPress,placeholder:"https://github.com/influxdata/community-templates/blob/master/example/example.yml",style:{flex:"1 0 0"},value:this.props.stagedTemplateUrl,testID:"lookup-template-input",size:h.ComponentSize.Large,status:this.inputStatus}),s.a.createElement(h.Button,{onClick:this.startTemplateInstall,size:h.ComponentSize.Large,text:"Lookup Template",testID:"lookup-template-button",className:"community-templates--browse"})),this.inputFeedback))),s.a.createElement(_n,{resources:[W.ResourceType.Buckets,W.ResourceType.Checks,W.ResourceType.Dashboards,W.ResourceType.Labels,W.ResourceType.NotificationEndpoints,W.ResourceType.NotificationRules,W.ResourceType.Tasks,W.ResourceType.Telegrafs,W.ResourceType.Variables]},s.a.createElement(II,{orgID:e.id})))),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/:orgID/settings/templates/import",render:e=>s.a.createElement(EI,Object.assign({},e,{setTemplateUrlValidationMessage:this.setValidationMessage}))})))}get inputFeedback(){const e=`community-templates-template-url--feedback community-templates-template-url--feedback__${this.inputStatus}`;if(this.state.validationMessage)return s.a.createElement("p",{className:e},this.state.validationMessage)}get inputStatus(){return""===this.state.validationMessage||this.state.validationMessage===ln.b?h.ComponentStatus.Default:this.state.validationMessage===ln.a?h.ComponentStatus.Valid:h.ComponentStatus.Error}};jI=Object(m.a)([p.a],jI);const RI={notify:$.c,setStagedTemplateUrl:Ut.o},NI=Object(o.c)(e=>({org:Object(S.a)(e),stagedTemplateUrl:e.resources.templates.stagedTemplateUrl}),RI)(Object(i.j)(jI));var AI=Object(o.c)(e=>{return{orgs:Object(ve.a)(e,W.ResourceType.Orgs)}})(({match:{params:{orgID:e}},orgs:t,history:n})=>{var r;const[l,c]=Object(a.useState)(h.RemoteDataState.Loading),u=Object(o.d)(),m=t.find(t=>t.id===e),d=null===(r=t[0])||void 0===r?void 0:r.id;Object(a.useEffect)(()=>{if(m)return u(Object(RC.i)(m)),Object(A.c)({orgID:e}),void c(h.RemoteDataState.Done);Object(A.c)({orgID:null}),t.length?n.push(`/orgs/${d}`):n.push("/no-orgs")},[e,d,m,u,n,t.length]);const p="/orgs/:orgID";return s.a.createElement(h.SpinnerContainer,{loading:l,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(i.c,null,s.a.createElement(i.a,{path:`${p}/alerting`,component:cD}),s.a.createElement(i.a,{path:`${p}/alert-history`,component:wT}),s.a.createElement(i.a,{path:`${p}/checks/:checkID`,component:pD}),s.a.createElement(i.a,{path:`${p}/tasks/:id/runs`,component:Br}),s.a.createElement(i.a,{path:`${p}/tasks/:id/edit`,component:Hr}),s.a.createElement(i.a,{path:`${p}/tasks/new`,component:Dr}),s.a.createElement(i.a,{path:`${p}/tasks`,component:br}),s.a.createElement(i.a,{path:`${p}/data-explorer`,component:nd}),s.a.createElement(i.a,{path:`${p}/dashboards-list`,component:Ad}),s.a.createElement(i.a,{path:`${p}/dashboards/:dashboardID`,component:lh}),s.a.createElement(i.a,{exact:!0,path:`${p}/dashboards`,component:ED}),Object(L.c)("notebooks")&&s.a.createElement(i.a,{path:`${p}/flows/:id`,component:c_}),Object(L.c)("notebooks")&&s.a.createElement(i.a,{path:`${p}/flows`,component:XD}),s.a.createElement(i.a,{path:`${p}/load-data/sources`,component:vS}),s.a.createElement(i.a,{path:`${p}/load-data/${zm}`,component:qD}),s.a.createElement(i.a,{path:`${p}/load-data/telegraf-plugins`,component:GD}),s.a.createElement(i.a,{exact:!0,path:`${p}/load-data`,component:vS}),s.a.createElement(i.a,{path:`${p}/load-data/scrapers`,component:Yf}),s.a.createElement(i.a,{path:`${p}/load-data/telegrafs`,component:Uf}),s.a.createElement(i.a,{path:`${p}/load-data/tokens`,component:vf}),s.a.createElement(i.a,{path:`${p}/load-data/buckets`,component:Xg}),Object(L.c)("annotations")&&s.a.createElement(i.a,{path:`${p}/settings/annotations`,component:uC}),s.a.createElement(i.a,{path:`${p}/settings/variables`,component:aC}),s.a.createElement(i.a,{path:`${p}/settings/templates`,component:NI}),s.a.createElement(i.a,{exact:!0,path:`${p}/settings/labels`,component:EC}),s.a.createElement(i.a,{exact:!0,path:`${p}/settings`,component:aC}),!x.i&&s.a.createElement(i.a,{path:`${p}/members`,component:wD}),s.a.createElement(i.a,{path:`${p}/about`,component:qC}),s.a.createElement(i.a,{exact:!0,path:"/orgs/:orgID",component:Wa}),s.a.createElement(i.a,{component:ZD})))});class PI extends a.PureComponent{constructor(e){super(e),this.handleCreateOrg=async()=>{const{org:e,bucket:t}=this.state,{createOrgWithBucket:n}=this.props;await n(e,t)},this.closeModal=()=>{this.props.history.goBack()},this.handleChangeOrgInput=e=>{const t=e.target.value,n=e.target.name,a=Object.assign(Object.assign({},this.state.org),{[n]:t});if(!t)return this.setState({org:a,orgNameInputStatus:h.ComponentStatus.Error,orgErrorMessage:this.randomErrorMessage(n,"organization")});this.setState({org:a,orgNameInputStatus:h.ComponentStatus.Valid,orgErrorMessage:""})},this.handleChangeBucketInput=e=>{const t=e.target.value,n=e.target.name,a=Object.assign(Object.assign({},this.state.bucket),{[n]:t});if(!t)return this.setState({bucket:a,bucketNameInputStatus:h.ComponentStatus.Error,bucketErrorMessage:this.randomErrorMessage(n,"bucket")});this.setState({bucket:a,bucketNameInputStatus:h.ComponentStatus.Valid,bucketErrorMessage:""})},this.randomErrorMessage=(e,t)=>{const n=[`Imagine that! ${Object(y.startCase)(t)} without a ${e}`,`${Object(y.startCase)(t)} needs a ${e}`,`You're not getting far without a ${e}`,`The ${t} formerly known as...`,`Pick a ${e}, any ${e}`,`Any ${e} will do`];return Object(y.sample)(n)},this.state={org:{name:""},bucket:{name:"",retentionRules:[],readableRetention:"forever"},orgNameInputStatus:h.ComponentStatus.Default,bucketNameInputStatus:h.ComponentStatus.Default,orgErrorMessage:"",bucketErrorMessage:""}}render(){const{org:e,orgNameInputStatus:t,orgErrorMessage:n,bucket:a,bucketNameInputStatus:r,bucketErrorMessage:o}=this.state;return s.a.createElement(h.Overlay,{visible:!0},s.a.createElement(h.Overlay.Container,{maxWidth:500},s.a.createElement(h.Overlay.Header,{title:"Create Organization",onDismiss:this.closeModal,testID:"create-org-overlay--header"}),s.a.createElement(h.Form,{onSubmit:this.handleCreateOrg},s.a.createElement(h.Overlay.Body,null,s.a.createElement(h.Form.Element,{label:"Organization Name",errorMessage:n},s.a.createElement(h.Input,{placeholder:"Give your organization a name",name:"name",autoFocus:!0,value:e.name,onChange:this.handleChangeOrgInput,status:t,testID:"create-org-name-input"})),s.a.createElement(h.Form.Element,{label:"Bucket Name",errorMessage:o},s.a.createElement(h.Input,{placeholder:"Give your bucket a name",name:"name",autoFocus:!1,value:a.name,onChange:this.handleChangeBucketInput,status:r,testID:"create-org-name-input"}))),s.a.createElement(h.Overlay.Footer,null,s.a.createElement(h.Button,{text:"Cancel",onClick:this.closeModal}),s.a.createElement(h.Button,{text:"Create",type:h.ButtonType.Submit,color:h.ComponentColor.Primary,status:this.submitButtonStatus,testID:"create-org-submit-button"})))))}get submitButtonStatus(){const{org:e,bucket:t}=this.state;return e.name&&t.name?h.ComponentStatus.Default:h.ComponentStatus.Disabled}}const MI={createOrgWithBucket:(e,t)=>async n=>{let a;try{const s=await fe.sb({data:e});if(201!==s.status)throw new Error(s.data.message);a=s.data,n(Object($.c)(Object(me.Tb)()));const r=Object(_e.a)(a,Rt.n);n(Object(RC.f)(r)),n(Object(ot.e)(`/orgs/${a.id}`));const o=await fe.fb({data:Object.assign(Object.assign({},t),{orgID:a.id})});if(201!==o.status)throw new Error(o.data.message);n(Object($.c)(Object(me.B)()))}catch(e){console.error(e),a||n(Object($.c)(Object(me.Sb)()));const t=Object(d.b)(e);n(Object($.c)(Object(me.A)(t)))}}};var LI=Object(o.c)(null,MI)(Object(i.j)(PI));var FI=Object(o.c)(e=>{const{app:{ephemeral:{inPresentationMode:t},persisted:{theme:n}},currentPage:a}=e;return{inPresentationMode:t,currentPage:a,theme:n}})(Object(i.j)(({inPresentationMode:e,currentPage:t,theme:n})=>{const a=f()("",{"dashboard-light-mode":"dashboard"===t&&"light"===n});return s.a.createElement(h.AppWrapper,{presentationMode:e,className:a},s.a.createElement(X,null),s.a.createElement(U.b,null),s.a.createElement(G,null),s.a.createElement(Ca,null),s.a.createElement(z,null),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/orgs/new",component:LI}),s.a.createElement(i.a,{path:"/orgs/:orgID",component:AI})))}));class qI extends a.PureComponent{componentDidMount(){const{orgs:e,history:t,org:n}=this.props;e&&e.length?n&&n.id?t.push(`/orgs/${n.id}`):t.push(`/orgs/${e[0].id}`):t.push("/no-orgs")}render(){return!1}}var BI=Object(o.c)(e=>{const t=Object(S.a)(e);return{orgs:Object(ve.a)(e,W.ResourceType.Orgs),org:t}})(qI);var zI=Object(o.c)(({resources:e})=>({status:e.orgs.status}))(({status:e})=>{const t=Object(o.d)();return Object(a.useEffect)(()=>{e===W.RemoteDataState.NotStarted&&t((()=>async e=>{try{e(Object(RC.j)(W.RemoteDataState.Loading));const t=await fe.I({});if(200!==t.status)throw new Error(t.data.message);const{orgs:n}=t.data,a=Object(_e.a)(n,Rt.e);return Object(A.b)("cloudAppOrgIdReady",{identity:{organizationIds:a.result}}),e(Object(RC.j)(W.RemoteDataState.Done,a)),n}catch(t){console.error(t),e(Object(RC.j)(W.RemoteDataState.Error,null))}})())},[t,e]),s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/no-orgs",component:_}),s.a.createElement(i.a,{path:"/orgs",component:FI}),s.a.createElement(i.a,{exact:!0,path:"/",component:BI}),s.a.createElement(i.a,{component:ZD})))}),UI=n(311),HI=n(780);var GI=Object(o.c)(e=>({flags:Object(HI.a)(e),status:e.flags.status||W.RemoteDataState.NotStarted}))(({status:e,flags:t})=>{const n=Object(o.d)();return Object(a.useEffect)(()=>{e===W.RemoteDataState.NotStarted&&n(Object(UI.f)())},[n,e]),Object(a.useEffect)(()=>{Object(A.c)(Object.entries(t).reduce((e,[t,n])=>(e[`flag (${t})`]=n,e),{}))},[t]),s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(i.c,null,s.a.createElement(i.a,{component:zI})))}),VI=n(417),$I=n.n(VI),WI=n(765);var KI;let QI=class extends a.PureComponent{constructor(e){super(e),this.state={loading:W.RemoteDataState.NotStarted}}render(){const{loading:e}=this.state;return s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(i.c,null,s.a.createElement(i.a,{render:e=>s.a.createElement(GI,Object.assign({},e))})))}componentDidMount(){this.props.getMe(),this.setState({loading:W.RemoteDataState.Done})}};QI=Object(m.a)([p.a,Object(m.b)("design:paramtypes",["function"==typeof(KI="undefined"!=typeof Props&&Props)?KI:Object])],QI);const YI={getMe:()=>async e=>{try{const t=await d.a.users.me();Object(A.c)({userID:t.id,userEmail:t.name}),Object(A.b)("cloudAppUserDataReady",{identity:{id:t.id,email:t.name}}),Object(A.c)({userID:t.id}),$I.a.setContext({user_id:t.id}),e(Object(WI.b)(t))}catch(e){console.error(e)}}};var XI=Object(o.c)(null,YI)(QI),ZI=n(377);let JI=class extends a.PureComponent{constructor(){super(...arguments),this.state={loading:W.RemoteDataState.NotStarted,auth:!1},this.hasMounted=!1,this.checkForLogin=async()=>{try{await d.a.users.me(),this.setState({auth:!0}),!!Object(ZI.a)("redirectTo")&&Object(ZI.c)("redirectTo")}catch(e){this.setState({auth:!1});const{location:{pathname:t}}=this.props;if(clearInterval(this.intervalID),x.i){const t=new URL(`${window.location.origin}${x.n}?redirectTo=${window.location.href}`);throw Object(ZI.e)("redirectTo",window.location.href),window.location.href=t.href,e}if(t.startsWith("/signin"))return;let n="";"/"!==t&&(n=`?returnTo=${t}`,this.props.notify(Object(me.tc)())),this.props.history.replace(`/signin${n}`)}}}async componentDidMount(){this.hasMounted=!0,this.setState({loading:W.RemoteDataState.Loading}),await this.checkForLogin(),this.hasMounted&&(this.setState({loading:W.RemoteDataState.Done}),this.intervalID=setInterval(()=>{this.checkForLogin()},6e4))}componentWillUnmount(){clearInterval(this.intervalID),this.hasMounted=!1}render(){const{loading:e,auth:t}=this.state;return s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},t&&s.a.createElement(i.c,null,s.a.createElement(i.a,{component:XI})))}};JI=Object(m.a)([p.a],JI);const ej={notify:$.c};var tj=Object(o.c)(null,ej)(JI),nj=n(259);let aj=class extends a.PureComponent{constructor(){super(...arguments),this.handleNext=()=>{const{onSetStepStatus:e,currentStepIndex:t,onIncrementCurrentStepIndex:n}=this.props;e(t,nj.b.Complete),n()}}render(){return s.a.createElement("div",{className:"wizard--bookend-step"},s.a.createElement("div",{className:"splash-logo primary"}),s.a.createElement("h3",{className:"wizard-step--title","data-testid":"init-step--head-main"},"Welcome to InfluxDB 2.0"),s.a.createElement("h5",{className:"wizard-step--sub-title","data-testid":"init-step--head-sub"},"Get started in just a few easy steps"),s.a.createElement(h.Button,{color:h.ComponentColor.Primary,text:"Get Started",size:h.ComponentSize.Large,onClick:this.handleNext,testID:"onboarding-get-started"}))}};var sj=aj=Object(m.a)([p.a],aj),rj=n(419),oj=n(287);let ij=class extends a.PureComponent{constructor(e){super(e),this.handleUsername=e=>{const t=e.target.value;this.setState({username:t})},this.handlePassword=e=>{const{confirmPassword:t}=this.state,n=e.target.value,a=t&&n!==t,s=n&&n.length<8;this.setState({password:n,isPassMismatched:a,isPassTooShort:s})},this.handleConfirmPassword=e=>{const{password:t}=this.state,n=e.target.value,a=n&&t!==n;this.setState({confirmPassword:n,isPassMismatched:a})},this.handleOrg=e=>{const t=e.target.value;this.setState({org:t})},this.handleBucket=e=>{const t=e.target.value;this.setState({bucket:t})},this.orgTip=()=>s.a.createElement(h.QuestionMarkTooltip,{diameter:16,style:{marginLeft:"8px"},color:h.ComponentColor.Primary,testID:"admin_org_tooltip",tooltipStyle:{width:"300px"},tooltipContents:"An organization is a workspace for a group of users requiring access to time series data, dashboards, and other resources.\n        You can create organizations for different functional groups, teams, or projects."}),this.bucketTip=()=>s.a.createElement(h.QuestionMarkTooltip,{diameter:16,style:{marginLeft:"8px"},color:h.ComponentColor.Primary,testID:"admin_bucket_tooltip",tooltipStyle:{width:"300px"},tooltipContents:"A bucket is where your time series data is stored with a retention policy."}),this.handleNext=async()=>{const{onIncrementCurrentStepIndex:e,onSetupAdmin:t,onSetStepStatus:n,currentStepIndex:a}=this.props,{username:s,password:r,org:o,bucket:i}=this.state;if(this.isAdminSet)return n(a,nj.b.Complete),void e();const l={username:s,password:r,org:o,bucket:i};await t(l)&&e()};const{setupParams:t}=e,n=Object(rj.a)(t,"username",""),a=Object(rj.a)(t,"password",""),r=Object(rj.a)(t,"password",""),o=Object(rj.a)(t,"org",""),i=Object(rj.a)(t,"bucket","");this.state={username:n,password:a,confirmPassword:r,org:o,bucket:i,isPassMismatched:!1,isPassTooShort:!1}}render(){const{username:e,password:t,confirmPassword:n,org:a,bucket:r}=this.state,o=this.InputIcon,i=this.InputStatus;return s.a.createElement("div",{className:"onboarding-step"},s.a.createElement(h.Form,{onSubmit:this.handleNext},s.a.createElement("div",{className:"wizard-step--scroll-area"},s.a.createElement("div",{className:"wizard-step--scroll-content"},s.a.createElement("h3",{className:"wizard-step--title","data-testid":"admin-step--head-main"},"Setup Initial User"),s.a.createElement("h5",{className:"wizard-step--sub-title","data-testid":"admin-step--head-sub"},"You will be able to create additional Users, Buckets and Organizations later"),s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthMD:h.Columns.Ten,offsetMD:h.Columns.One},s.a.createElement(h.Form.Element,{label:"Username"},s.a.createElement(h.Input,{value:e,onChange:this.handleUsername,titleText:"Username",size:h.ComponentSize.Medium,icon:o,status:i,disabledTitleText:"Username has been set",autoFocus:!0,testID:"input-field--username"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six,widthMD:h.Columns.Five,offsetMD:h.Columns.One},s.a.createElement(h.Form.Element,{label:"Password",errorMessage:this.passwordError},s.a.createElement(h.Input,{type:h.InputType.Password,value:t,onChange:this.handlePassword,titleText:"Password",size:h.ComponentSize.Medium,icon:o,status:i,disabledTitleText:"Password has been set",testID:"input-field--password"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Six,widthMD:h.Columns.Five},s.a.createElement(h.Form.Element,{label:"Confirm Password",errorMessage:this.confirmError},s.a.createElement(h.Input,{type:h.InputType.Password,value:n,onChange:this.handleConfirmPassword,titleText:"Confirm Password",size:h.ComponentSize.Medium,icon:o,status:this.passwordStatus,disabledTitleText:"password has been set",testID:"input-field--password-chk"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthMD:h.Columns.Ten,offsetMD:h.Columns.One},s.a.createElement(h.Form.Element,{label:"Initial Organization Name",labelAddOn:this.orgTip,testID:"form-elem--orgname"},s.a.createElement(h.Input,{value:a,onChange:this.handleOrg,titleText:"Initial Organization Name",size:h.ComponentSize.Medium,icon:o,status:h.ComponentStatus.Default,placeholder:"An organization is a workspace for a group of users.",disabledTitleText:"Initial organization name has been set",testID:"input-field--orgname"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthMD:h.Columns.Ten,offsetMD:h.Columns.One},s.a.createElement(h.Form.Element,{label:"Initial Bucket Name",labelAddOn:this.bucketTip,testID:"form-elem--bucketname"},s.a.createElement(h.Input,{value:r,onChange:this.handleBucket,titleText:"Initial Bucket Name",size:h.ComponentSize.Medium,icon:o,status:i,placeholder:"A bucket is where your time series data is stored with a retention policy.",disabledTitleText:"Initial bucket name has been set",testID:"input-field--bucketname"}))))))),s.a.createElement(oj.a,{nextButtonStatus:this.nextButtonStatus,autoFocusNext:!1})))}get passwordError(){return this.state.isPassTooShort&&"Password must be at least 8 characters"}get confirmError(){return this.state.isPassMismatched&&"Passwords do not match"}get isAdminSet(){const{stepStatuses:e,currentStepIndex:t}=this.props;return e[t]===nj.b.Complete}get nextButtonStatus(){return this.areInputsValid?h.ComponentStatus.Default:h.ComponentStatus.Disabled}get areInputsValid(){const{username:e,password:t,org:n,bucket:a,confirmPassword:s,isPassMismatched:r,isPassTooShort:o}=this.state;return e&&t&&s&&n&&a&&!r&&!o}get passwordStatus(){const{isPassMismatched:e}=this.state;return this.isAdminSet?h.ComponentStatus.Disabled:e?h.ComponentStatus.Error:h.ComponentStatus.Default}get InputStatus(){return this.isAdminSet?h.ComponentStatus.Disabled:h.ComponentStatus.Default}get InputIcon(){return this.isAdminSet?h.IconFont.Checkmark:null}};var lj=ij=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],ij);class cj extends a.PureComponent{constructor(e){super(e),this.state={resources:null,loading:W.RemoteDataState.NotStarted}}async componentDidMount(){const{fetcher:e}=this.props;let t;try{t=await e()}catch(e){console.error(e)}this.setState({resources:t,loading:W.RemoteDataState.Done})}render(){const{resources:e,loading:t}=this.state;return this.props.children(e,t)}}var uj=cj;let mj=class extends a.PureComponent{constructor(){super(...arguments),this.handleAdvanced=()=>{const{history:e,orgID:t,onExit:n}=this.props;t?e.push(`/orgs/${t}/load-data/buckets`):n()}}render(){return s.a.createElement(h.Button,{text:"Advanced",color:h.ComponentColor.Success,size:h.ComponentSize.Large,onClick:this.handleAdvanced,testID:"button--advanced"})}};mj=Object(m.a)([p.a],mj);var dj=Object(o.c)(e=>({orgID:e.onboarding.orgID}))(Object(i.j)(mj));let pj=class extends a.PureComponent{constructor(){super(...arguments),this.handleAdvanced=()=>{const{history:e,dashboards:t,onExit:n}=this.props,a=v.a.get(t,"[0].id",null);a?e.push(`/dashboards/${a}`):n()}}render(){return s.a.createElement(h.Button,{text:"Quick Start",color:h.ComponentColor.Success,size:h.ComponentSize.Large,onClick:this.handleAdvanced,testID:"button--quick-start"})}};pj=Object(m.a)([p.a],pj);var hj=Object(i.j)(pj),_j=n(154);const gj=async e=>{try{let t;if(200!==(t=e?await Object(fe.B)({query:{orgID:e.id}}):await Object(fe.B)({})).status)throw new Error(t.data.message);return t.data.dashboards.map(e=>Object(_j.a)(e))}catch(e){throw console.error("Could not get buckets for org",e),e}};var fj=n(249);let bj=class extends a.PureComponent{constructor(){super(...arguments),this.handleQuickStart=async()=>{try{await d.a.scrapers.create({name:"new target",type:Gg.d.TypeEnum.Prometheus,url:fj.c,bucketID:this.props.bucketID,orgID:this.props.orgID}),this.props.notify(me.d)}catch(e){this.props.notify(me.c)}try{await Object(Bt.a)(Object(kd.b)(),this.props.orgID),this.props.notify(me.b)}catch(e){this.props.notify(me.a)}this.props.onExit()},this.handleKeydown=e=>{"Enter"===e.key&&this.props.onExit()}}componentDidMount(){window.addEventListener("keydown",this.handleKeydown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeydown)}render(){const{onExit:e}=this.props;return s.a.createElement("div",{className:"onboarding-step"},s.a.createElement("div",{className:"wizard-step--scroll-area"},s.a.createElement(h.DapperScrollbars,{autoHide:!1},s.a.createElement("div",{className:"wizard-step--scroll-content"},s.a.createElement("h3",{className:"wizard-step--title"},"You are ready to go!"),s.a.createElement("h5",{className:"wizard-step--sub-title"},"Your InfluxDB 2.0 has 1 organization, 1 user, and 1 bucket."),s.a.createElement("div",{className:"splash-logo secondary"}),s.a.createElement("h3",{className:"wizard-step--title"},"Let’s start collecting data!"),s.a.createElement("dl",{className:"wizard-completion--options"},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four},s.a.createElement("div",{className:"wizard-completion--option"},s.a.createElement(uj,{fetcher:gj},e=>s.a.createElement(hj,{onExit:this.handleQuickStart,dashboards:e})),s.a.createElement("dt",null,"Timing is everything!"),s.a.createElement("dd",null,"This will set up local metric collection and allow you to explore the features of InfluxDB 2.0 quickly."))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four},s.a.createElement("div",{className:"wizard-completion--option"},s.a.createElement(dj,{onExit:e}),s.a.createElement("dt",null,"Whoa looks like you’re an expert!"),s.a.createElement("dd",null,"This allows you to set up Telegraf, scrapers, and much more."))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve,widthSM:h.Columns.Four},s.a.createElement("div",{className:"wizard-completion--option"},s.a.createElement(h.Button,{text:"Configure Later",color:h.ComponentColor.Success,size:h.ComponentSize.Large,onClick:e,testID:"button--conf-later"}),s.a.createElement("dt",null,"I've got this..."),s.a.createElement("dd",null,"Jump into InfluxDB 2.0 and set up data collection when you’re ready.")))))),s.a.createElement("h5",{className:"wizard-step--sub-title"})))))}};var yj=bj=Object(m.a)([p.a],bj);let vj=class extends a.PureComponent{render(){const{currentStepIndex:e,orgID:t,bucketID:n,onboardingStepProps:a,onSetupAdmin:r}=this.props;switch(e){case 0:return s.a.createElement(sj,Object.assign({},a));case 1:return s.a.createElement(lj,Object.assign({},a,{onSetupAdmin:r}));case 2:return s.a.createElement(yj,Object.assign({},a,{orgID:t,bucketID:n}));default:return s.a.createElement("div",null)}}};var xj=vj=Object(m.a)([p.a],vj);const wj=e=>({type:"SET_SETUP_PARAMS",payload:{setupParams:e}}),Ej=(e,t)=>({type:"SET_STEP_STATUS",payload:{index:e,status:t}});let kj=class extends a.PureComponent{constructor(e){super(e),this.stepTitles=["Welcome","Initial User Setup","Complete"],this.stepTestIds=["nav-step--welcome","nav-step--setup","nav-step--complete"],this.stepSkippable=[!0,!1,!1],this.handleExit=()=>{const{history:e,onCompleteSetup:t}=this.props;t(),e.push("/")}}render(){const{currentStepIndex:e,orgID:t,bucketID:n,setupParams:a,onSetupAdmin:r}=this.props;return s.a.createElement(ss.k,null,this.progressHeader,s.a.createElement("div",{className:"wizard-contents"},s.a.createElement("div",{className:"wizard-step--container"},s.a.createElement(xj,{currentStepIndex:e,onboardingStepProps:this.onboardingStepProps,setupParams:a,onSetupAdmin:r,orgID:t,bucketID:n}))))}get progressHeader(){const{stepStatuses:e,currentStepIndex:t,onSetCurrentStepIndex:n}=this.props;return 0===t?s.a.createElement("div",{className:"wizard--progress-header hidden"}):s.a.createElement(ss.l,null,s.a.createElement(ss.j,{currentStepIndex:t,handleSetCurrentStep:n,stepStatuses:e,stepTitles:this.stepTitles,stepTestIds:this.stepTestIds,stepSkippable:this.stepSkippable}))}get onboardingStepProps(){const{stepStatuses:e,links:t,notify:n,onCompleteSetup:a,setupParams:s,currentStepIndex:r,onSetStepStatus:o,onSetSetupParams:i,onSetCurrentStepIndex:l,onDecrementCurrentStepIndex:c,onIncrementCurrentStepIndex:u}=this.props;return{stepStatuses:e,stepTitles:this.stepTitles,stepTestIds:this.stepTestIds,currentStepIndex:r,onSetCurrentStepIndex:l,onIncrementCurrentStepIndex:u,onDecrementCurrentStepIndex:c,onSetStepStatus:o,links:t,setupParams:s,handleSetSetupParams:i,notify:n,onCompleteSetup:a,onExit:this.handleExit}}};kj=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],kj);const Sj={notify:$.c,onSetSetupParams:wj,onSetStepStatus:Ej,onSetupAdmin:e=>async t=>{try{t(wj(e));const n=await d.a.setup.create(e),{id:a}=n.org,{id:s}=n.bucket;t((e=>({type:"SET_ORG_ID",payload:{orgID:e}}))(a)),t((e=>({type:"SET_ONBOARDING_BUCKET_ID",payload:{bucketID:e}}))(s));const{username:r,password:o}=e,i=await fe.vb({auth:{username:r,password:o}});if(204!==i.status)throw new Error(i.data.message);return t(Object($.c)(me.f)),t(Ej(1,nj.b.Complete)),!0}catch(e){console.error(e);const n=v.a.get(e,"response.data.message","");t(Object($.c)(Object(me.e)(n))),t(Ej(1,nj.b.Error))}}};var Cj=Object(o.c)(({links:e,onboarding:{stepStatuses:t,setupParams:n,orgID:a,bucketID:s}})=>({links:e,stepStatuses:t,setupParams:n,orgID:a,bucketID:s}),Sj)(Object(i.j)(kj));let Tj=class extends a.PureComponent{constructor(e){super(e),this.handleCompleteSetup=()=>{this.setState({isSetupComplete:!0})},this.redirectToHome=()=>{this.props.history.push("/")},this.handleDecrementStepIndex=()=>{const{match:{params:{stepID:e}}}=this.props;this.setStepIndex(+e-1)},this.handleIncrementStepIndex=()=>{const{match:{params:{stepID:e}}}=this.props;this.setStepIndex(+e+1)},this.setStepIndex=e=>{const{history:t}=this.props;t.replace(`/onboarding/${e}`)},this.state={loading:W.RemoteDataState.NotStarted,isSetupComplete:!1}}async componentDidMount(){this.setState({loading:W.RemoteDataState.Loading});try{const{allowed:e}=await d.a.setup.status();e||this.setState({isSetupComplete:!0}),this.setState({loading:W.RemoteDataState.Done})}catch(e){console.error(e),this.setState({loading:W.RemoteDataState.Error})}}render(){const{match:e}=this.props,{isSetupComplete:t}=this.state;return t?s.a.createElement(h.SpinnerContainer,{loading:this.state.loading,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(ss.k,null,s.a.createElement("div",{className:"wizard-contents"},s.a.createElement("div",{className:"wizard-step--container"},s.a.createElement(h.EmptyState,{size:h.ComponentSize.Large},s.a.createElement(h.EmptyState.Text,null,s.a.createElement("b",null,"Initial User")," is already set up, nothing to see here folks!"),s.a.createElement(h.Button,{text:"Return to Home Page",onClick:this.redirectToHome,color:h.ComponentColor.Primary})))))):s.a.createElement(h.AppWrapper,null,s.a.createElement(h.SpinnerContainer,{loading:this.state.loading,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(X,null),s.a.createElement(Cj,{onDecrementCurrentStepIndex:this.handleDecrementStepIndex,onIncrementCurrentStepIndex:this.handleIncrementStepIndex,onSetCurrentStepIndex:this.setStepIndex,currentStepIndex:+e.params.stepID,onCompleteSetup:this.handleCompleteSetup})))}};Tj=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],Tj);var Oj=Object(o.c)(({links:e})=>({links:e}),null)(Object(i.j)(Tj));let Dj=class extends a.PureComponent{constructor(){super(...arguments),this.state={username:"",password:""},this.handleUsername=e=>{const t=e.target.value;this.setState({username:t})},this.handlePassword=e=>{const t=e.target.value;this.setState({password:t})},this.handleSignIn=async()=>{const{notify:e}=this.props,{username:t,password:n}=this.state;try{const e=await Object(fe.vb)({auth:{username:t,password:n}});if(204!==e.status)throw new Error(e.data.message);this.handleRedirect()}catch(t){const n=Object(y.get)(t,"response.data.msg","");if(401===Object(y.get)(t,"response.status",""))return void e(Object.assign(Object.assign({},me.g),{message:"Login failed: username or password is invalid"}));if(!n)return void e(me.g);e(Object.assign(Object.assign({},me.g),{message:n}))}}}render(){const{username:e,password:t}=this.state;return s.a.createElement(h.Form,{onSubmit:this.handleSignIn},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Username"},s.a.createElement(h.Input,{name:"username",value:e,onChange:this.handleUsername,size:h.ComponentSize.Medium,autoFocus:!0,testID:"username"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Password"},s.a.createElement(h.Input,{name:"password",value:t,onChange:this.handlePassword,size:h.ComponentSize.Medium,type:h.InputType.Password,testID:"password"}))),s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Footer,null,s.a.createElement(h.Button,{color:h.ComponentColor.Primary,text:"Sign In",size:h.ComponentSize.Medium,type:h.ButtonType.Submit}))))))}handleRedirect(){const{history:e,location:t}=this.props,n=new URLSearchParams(t.search).get("returnTo");n?e.replace(n):e.push("/")}};Dj=Object(m.a)([p.a],Dj);const Ij={notify:$.c};var jj=Object(o.c)(({links:e})=>({links:e}),Ij)(Object(i.j)(Dj));let Rj=class extends a.PureComponent{constructor(e){super(e),this.state={status:W.RemoteDataState.Loading}}async componentDidMount(){const{allowed:e}=await d.a.setup.status();if(e)this.props.history.push("/onboarding/0");else if(x.i)return void(window.location.pathname=x.n);this.setState({status:W.RemoteDataState.Done})}componentWillUnmount(){this.props.dismissAllNotifications()}render(){return s.a.createElement(h.SpinnerContainer,{loading:this.state.status,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},s.a.createElement(X,null),s.a.createElement(h.AppWrapper,null,s.a.createElement(h.FunnelPage,{className:"signin-page",testID:"signin-page"},s.a.createElement(h.Panel,{className:"signin-page--panel"},s.a.createElement(h.Panel.Body,{alignItems:h.AlignItems.Center},s.a.createElement("div",{className:"signin-page--cubo"}),s.a.createElement(h.InfluxDBCloudLogo,{cloud:!1,className:"signin-page--logo"}),s.a.createElement(jj,null)),s.a.createElement(h.Panel.Footer,null,s.a.createElement(Na,null))))))}};Rj=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],Rj);const Nj={dismissAllNotifications:$.a};var Aj=Object(o.c)(null,Nj)(Object(i.j)(Rj)),Pj=n(1660);var Mj=({children:e})=>s.a.createElement(h.Heading,{element:h.HeadingElement.H6,type:h.Typeface.Rubik,weight:h.FontWeight.Regular,className:"helper-link-text",selectable:!0},e);const Lj=({buttonStatus:e,emailValidation:t,email:n,passwordValidation:r,password:o,handleInputChange:i,handleForgotPasswordClick:l})=>{const[c,u]=Object(a.useState)(!1);return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Work Email Address",required:!0,errorMessage:t.errorMessage},s.a.createElement(h.Input,{name:"email",value:n,type:h.InputType.Email,size:h.ComponentSize.Large,status:t.hasError?h.ComponentStatus.Error:h.ComponentStatus.Default,onChange:i})))),s.a.createElement(h.Grid.Row,null,s.a.createElement(h.Grid.Column,{widthXS:h.Columns.Twelve},s.a.createElement(h.Form.Element,{label:"Password",required:!0,errorMessage:r.errorMessage},s.a.createElement(h.VisibilityInput,{name:"password",value:o,size:h.ComponentSize.Large,onChange:i,visible:c,status:r.hasError?h.ComponentStatus.Error:h.ComponentStatus.Default,onToggleClick:()=>u(!c)}))))),s.a.createElement(h.FlexBox,{direction:h.FlexDirection.Row,justifyContent:h.JustifyContent.SpaceBetween},s.a.createElement(Mj,null,s.a.createElement("a",{href:"",onClick:l},"Forgot Password")),s.a.createElement(Mj,null,s.a.createElement("a",{href:x.o},"Sign Up"))),s.a.createElement(h.Button,{className:"create-account--button",text:"Log In",color:h.ComponentColor.Primary,size:h.ComponentSize.Large,type:h.ButtonType.Submit,status:e,shape:h.ButtonShape.StretchToFit}))},Fj=({buttonText:e,children:t,handleClick:n})=>s.a.createElement(h.ButtonBase,{onClick:n,size:h.ComponentSize.Large,shape:h.ButtonShape.StretchToFit},t,s.a.createElement("span",{className:"signup-text"},e)),qj=({className:e})=>s.a.createElement("svg",{className:f()("google-logo",e),x:"0",y:"0",viewBox:"0 0 17.6 18"},s.a.createElement("path",{d:"M15 15.8h-3v-2.3c1-.6 1.6-1.6 1.8-2.7H9V7.4h8.5c.1.6.2 1.2.2 1.8-.1 2.7-1 5.1-2.7 6.6z",className:"google-logo--blue"}),s.a.createElement("path",{d:"M9 18c-3.5 0-6.6-2-8-5v-2.3h3c.7 2.1 2.7 3.7 5 3.7 1.2 0 2.2-.3 3-.9l2.9 2.3C13.5 17.2 11.4 18 9 18z",className:"google-logo--green"}),s.a.createElement("path",{d:"M4 7.3c-.2.5-.3 1.1-.3 1.7 0 .6.1 1.2.3 1.7L1 13c-.6-1.2-1-2.6-1-4s.3-2.8 1-4h3v2.3z",className:"google-logo--yellow"}),s.a.createElement("path",{d:"M12.4 4.9C11.5 4 10.3 3.6 9 3.6c-2.3 0-4.3 1.6-5 3.7L1 5c1.4-3 4.5-5 8-5 2.4 0 4.5.9 6 2.3l-2.6 2.6z",className:"google-logo--red"}));class Bj extends a.PureComponent{constructor(){super(...arguments),this.state={buttonStatus:h.ComponentStatus.Default,email:"",emailError:"",password:"",passwordError:""},this.formFieldTypeFactory=e=>({errorMessage:e,hasError:""!==e}),this.handleSubmit=e=>{const{isValid:t,errors:n}=this.validateFieldValues,{email:a,password:s}=this.state;e.preventDefault(),t?(this.setState({buttonStatus:h.ComponentStatus.Loading}),this.auth0.login({realm:W.Auth0Connection.Authentication,email:a,password:s},e=>{if(e)return this.setState({buttonStatus:h.ComponentStatus.Default}),this.displayErrorMessage(n,e)})):this.setState(n)},this.displayErrorMessage=(e,t)=>{if(/error in email/.test(t.code))this.setState(Object.assign(Object.assign({},e),{emailError:"Please enter a valid email address"}));else if("access_denied"===t.code){const t="The email and password combination you submitted don't match. Please try again";this.setState(Object.assign(Object.assign({},e),{emailError:t}))}else{const t="We have been notified of an issue while accessing your account. If this issue persists, please contact support@influxdata.com";this.setState(Object.assign(Object.assign({},e),{emailError:t}))}},this.handleInputChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleSocialClick=e=>{this.auth0.authorize({connection:e})},this.handleForgotPasswordClick=e=>{e.preventDefault();const{email:t}=this.state,{onNotify:n}=this.props;t?this.auth0.changePassword({email:t,connection:W.Auth0Connection.Authentication},(e,t)=>{e?this.setState({emailError:e.message}):n(Object(me.Yb)(t))}):this.setState({emailError:"Please enter a valid email address"})}}async componentDidMount(){try{const e=Object(ZI.a)("redirectTo")||"/",t=await Object(ge.b)(e);this.auth0=new Pj.a.WebAuth({domain:t.domain,clientID:t.clientID,redirectUri:t.redirectURL,responseType:"code",state:t.state})}catch(e){throw console.error(e),e}}render(){const{buttonStatus:e,email:t,emailError:n,password:a,passwordError:r}=this.state;return s.a.createElement("form",{action:"/signup",method:h.Method.Post,onSubmit:this.handleSubmit,className:"sign-up--form"},s.a.createElement(h.Panel,{className:"sign-up--form-panel"},s.a.createElement(h.Panel.Header,{size:h.ComponentSize.Large,justifyContent:h.JustifyContent.Center},s.a.createElement(h.Heading,{element:h.HeadingElement.H5,type:h.Typeface.Rubik,weight:h.FontWeight.Regular,className:"heading--margins"},"Continue with")),s.a.createElement(h.Panel.Body,{size:h.ComponentSize.Large},s.a.createElement(h.Grid,null,s.a.createElement(h.Grid.Row,{className:"sign-up--social-button-group"},s.a.createElement(h.FlexBox,{stretchToFitWidth:!0,direction:h.FlexDirection.Column,justifyContent:h.JustifyContent.Center,alignItems:h.AlignItems.Center,margin:h.ComponentSize.Large},s.a.createElement(Fj,{handleClick:()=>{this.handleSocialClick(W.Auth0Connection.Google)},buttonText:"Google"},s.a.createElement(qj,{className:"signup-icon"}))))),s.a.createElement(h.Heading,{element:h.HeadingElement.H5,type:h.Typeface.Rubik,weight:h.FontWeight.Regular,className:"heading--margins"},"OR"),s.a.createElement(Lj,{buttonStatus:e,email:t,emailValidation:this.formFieldTypeFactory(n),password:a,passwordValidation:this.formFieldTypeFactory(r),handleInputChange:this.handleInputChange,handleForgotPasswordClick:this.handleForgotPasswordClick}))))}get validateFieldValues(){const{email:e,password:t}=this.state,n={emailError:""===e?"Email is required":"",passwordError:""===t?"Password is required":""};return{isValid:Object.values(n).every(e=>""===e),errors:n}}}const zj={onNotify:$.c};var Uj=Object(o.c)(null,zj)(Bj);const Hj=()=>s.a.createElement(ql,null,s.a.createElement(h.AppWrapper,null,s.a.createElement(X,null),s.a.createElement(h.FunnelPage,{accentColorA:h.InfluxColors.Magenta,accentColorB:h.InfluxColors.Amethyst,backgroundColor:h.InfluxColors.DeepPurple,enableGraphic:!0,logo:s.a.createElement(h.InfluxDBCloudLogo,{cloud:!0,className:"login-page--logo"})},s.a.createElement(h.Heading,{element:h.HeadingElement.H1,type:h.Typeface.Rubik,weight:h.FontWeight.Regular,className:"cf-funnel-page--title"},"Log in to your InfluxDB Cloud Account"),s.a.createElement(Uj,null))));var Gj=({history:e})=>{const t=Object(o.d)();return Object(a.useEffect)(()=>{t(Object(UI.g)()),t({type:"USER_LOGGED_OUT"}),(async()=>{if(x.i)window.location.href=`${x.o}${x.m}`;else{const t=await Object(fe.wb)({});if(204!==t.status)throw new Error(t.data.message);e.push("/signin")}})()},[t,e]),null};let Vj=class extends a.PureComponent{constructor(e){super(e),this.state={loading:W.RemoteDataState.NotStarted,allowed:!1}}async componentDidMount(){const{history:e}=this.props;if((()=>!!window.location.pathname.match(/\/onboarding/))())return void this.setState({loading:W.RemoteDataState.Done});const{allowed:t}=await d.a.setup.status();this.setState({loading:W.RemoteDataState.Done,allowed:t}),t&&e.push("/onboarding/0")}async componentDidUpdate(e,t){if(t.allowed&&e.location.pathname.includes("/onboarding/2")){this.setState({loading:W.RemoteDataState.Loading});const{allowed:e}=await d.a.setup.status();this.setState({allowed:e,loading:W.RemoteDataState.Done})}}render(){const{loading:e,allowed:t}=this.state;return s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},t&&s.a.createElement(i.a,{path:"/onboarding/:stepID",component:Oj}),!t&&s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/onboarding/:stepID",component:Oj}),s.a.createElement(i.a,{path:"/login",component:Hj}),s.a.createElement(i.a,{path:"/signin",component:Aj}),s.a.createElement(i.a,{path:"/logout",component:Gj}),s.a.createElement(i.a,{component:tj})))}};var $j=Vj=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],Vj),Wj=n(893);let Kj=class extends a.PureComponent{constructor(e){super(e),this.state={loading:W.RemoteDataState.NotStarted}}componentDidMount(){this.props.getLinks(),this.setState({loading:W.RemoteDataState.Done})}render(){const{loading:e}=this.state;return s.a.createElement(h.SpinnerContainer,{loading:e,spinnerComponent:s.a.createElement(h.TechnoSpinner,null)},this.props.children&&s.a.cloneElement(this.props.children))}};Kj=Object(m.a)([p.a,Object(m.b)("design:paramtypes",[Object])],Kj);const Qj={getLinks:Wj.b};var Yj=Object(o.c)(null,Qj)(Kj),Xj=n(588);n(1661),n(1662);const Zj=Object(Xj.a)(),Jj=document.cookie.match(new RegExp("(^| )session=([^;]+)"));Object(A.c)({session:Jj?Jj[2].slice(5):""});const{dispatch:eR}=Object(c.a)();window.Cypress&&(window.store=Object(c.a)()),u.a.listen(()=>{eR(Object(F.c)())}),window.addEventListener("keyup",e=>{"Escape"!==e.key&&27!==e.keyCode||eR(Object(F.c)())});class tR extends a.PureComponent{render(){return s.a.createElement(o.a,{store:Object(c.a)()},s.a.createElement(l.a,{history:u.a},s.a.createElement(i.a,{component:Yj}),s.a.createElement(i.a,{component:$j})))}}Zj&&Object(r.render)(s.a.createElement(tR,null),Zj)},,,,function(e,t,n){"use strict";n(587);var a=n(589);n.o(a,"Auth0Connection")&&n.d(t,"Auth0Connection",(function(){return a.Auth0Connection})),n.o(a,"AutoRefreshStatus")&&n.d(t,"AutoRefreshStatus",(function(){return a.AutoRefreshStatus})),n.o(a,"BundleName")&&n.d(t,"BundleName",(function(){return a.BundleName})),n.o(a,"CancellationError")&&n.d(t,"CancellationError",(function(){return a.CancellationError})),n.o(a,"ConfigFieldType")&&n.d(t,"ConfigFieldType",(function(){return a.ConfigFieldType})),n.o(a,"ConfigurationState")&&n.d(t,"ConfigurationState",(function(){return a.ConfigurationState})),n.o(a,"NoteEditorMode")&&n.d(t,"NoteEditorMode",(function(){return a.NoteEditorMode})),n.o(a,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return a.NotificationStyle})),n.o(a,"OverlayState")&&n.d(t,"OverlayState",(function(){return a.OverlayState})),n.o(a,"RemoteDataState")&&n.d(t,"RemoteDataState",(function(){return a.RemoteDataState})),n.o(a,"ResourceType")&&n.d(t,"ResourceType",(function(){return a.ResourceType})),n.o(a,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return a.TaskSchedule})),n.o(a,"TemplateType")&&n.d(t,"TemplateType",(function(){return a.TemplateType})),n.o(a,"WritePrecision")&&n.d(t,"WritePrecision",(function(){return a.WritePrecision}));var s=n(590);n.o(s,"Auth0Connection")&&n.d(t,"Auth0Connection",(function(){return s.Auth0Connection})),n.o(s,"AutoRefreshStatus")&&n.d(t,"AutoRefreshStatus",(function(){return s.AutoRefreshStatus})),n.o(s,"BundleName")&&n.d(t,"BundleName",(function(){return s.BundleName})),n.o(s,"CancellationError")&&n.d(t,"CancellationError",(function(){return s.CancellationError})),n.o(s,"ConfigFieldType")&&n.d(t,"ConfigFieldType",(function(){return s.ConfigFieldType})),n.o(s,"ConfigurationState")&&n.d(t,"ConfigurationState",(function(){return s.ConfigurationState})),n.o(s,"NoteEditorMode")&&n.d(t,"NoteEditorMode",(function(){return s.NoteEditorMode})),n.o(s,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return s.NotificationStyle})),n.o(s,"OverlayState")&&n.d(t,"OverlayState",(function(){return s.OverlayState})),n.o(s,"RemoteDataState")&&n.d(t,"RemoteDataState",(function(){return s.RemoteDataState})),n.o(s,"ResourceType")&&n.d(t,"ResourceType",(function(){return s.ResourceType})),n.o(s,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return s.TaskSchedule})),n.o(s,"TemplateType")&&n.d(t,"TemplateType",(function(){return s.TemplateType})),n.o(s,"WritePrecision")&&n.d(t,"WritePrecision",(function(){return s.WritePrecision}));var r=n(591);n.o(r,"Auth0Connection")&&n.d(t,"Auth0Connection",(function(){return r.Auth0Connection})),n.o(r,"AutoRefreshStatus")&&n.d(t,"AutoRefreshStatus",(function(){return r.AutoRefreshStatus})),n.o(r,"BundleName")&&n.d(t,"BundleName",(function(){return r.BundleName})),n.o(r,"CancellationError")&&n.d(t,"CancellationError",(function(){return r.CancellationError})),n.o(r,"ConfigFieldType")&&n.d(t,"ConfigFieldType",(function(){return r.ConfigFieldType})),n.o(r,"ConfigurationState")&&n.d(t,"ConfigurationState",(function(){return r.ConfigurationState})),n.o(r,"NoteEditorMode")&&n.d(t,"NoteEditorMode",(function(){return r.NoteEditorMode})),n.o(r,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return r.NotificationStyle})),n.o(r,"OverlayState")&&n.d(t,"OverlayState",(function(){return r.OverlayState})),n.o(r,"RemoteDataState")&&n.d(t,"RemoteDataState",(function(){return r.RemoteDataState})),n.o(r,"ResourceType")&&n.d(t,"ResourceType",(function(){return r.ResourceType})),n.o(r,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return r.TaskSchedule})),n.o(r,"TemplateType")&&n.d(t,"TemplateType",(function(){return r.TemplateType})),n.o(r,"WritePrecision")&&n.d(t,"WritePrecision",(function(){return r.WritePrecision}));var o=n(592);n.d(t,"Auth0Connection",(function(){return o.a}));var i=n(593);n.d(t,"AutoRefreshStatus",(function(){return i.a}));var l=n(594);n.d(t,"WritePrecision",(function(){return l.a}));var c=n(595);n.o(c,"BundleName")&&n.d(t,"BundleName",(function(){return c.BundleName})),n.o(c,"CancellationError")&&n.d(t,"CancellationError",(function(){return c.CancellationError})),n.o(c,"ConfigFieldType")&&n.d(t,"ConfigFieldType",(function(){return c.ConfigFieldType})),n.o(c,"ConfigurationState")&&n.d(t,"ConfigurationState",(function(){return c.ConfigurationState})),n.o(c,"NoteEditorMode")&&n.d(t,"NoteEditorMode",(function(){return c.NoteEditorMode})),n.o(c,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return c.NotificationStyle})),n.o(c,"OverlayState")&&n.d(t,"OverlayState",(function(){return c.OverlayState})),n.o(c,"RemoteDataState")&&n.d(t,"RemoteDataState",(function(){return c.RemoteDataState})),n.o(c,"ResourceType")&&n.d(t,"ResourceType",(function(){return c.ResourceType})),n.o(c,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return c.TaskSchedule})),n.o(c,"TemplateType")&&n.d(t,"TemplateType",(function(){return c.TemplateType}));var u=n(596);n.o(u,"BundleName")&&n.d(t,"BundleName",(function(){return u.BundleName})),n.o(u,"CancellationError")&&n.d(t,"CancellationError",(function(){return u.CancellationError})),n.o(u,"ConfigFieldType")&&n.d(t,"ConfigFieldType",(function(){return u.ConfigFieldType})),n.o(u,"ConfigurationState")&&n.d(t,"ConfigurationState",(function(){return u.ConfigurationState})),n.o(u,"NoteEditorMode")&&n.d(t,"NoteEditorMode",(function(){return u.NoteEditorMode})),n.o(u,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return u.NotificationStyle})),n.o(u,"OverlayState")&&n.d(t,"OverlayState",(function(){return u.OverlayState})),n.o(u,"RemoteDataState")&&n.d(t,"RemoteDataState",(function(){return u.RemoteDataState})),n.o(u,"ResourceType")&&n.d(t,"ResourceType",(function(){return u.ResourceType})),n.o(u,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return u.TaskSchedule})),n.o(u,"TemplateType")&&n.d(t,"TemplateType",(function(){return u.TemplateType}));n(411);var m=n(412);n.d(t,"NoteEditorMode",(function(){return m.a}));n(597);var d=n(147);n.d(t,"BundleName",(function(){return d.a})),n.d(t,"ConfigFieldType",(function(){return d.c})),n.d(t,"ConfigurationState",(function(){return d.d}));var p=n(598);n.o(p,"CancellationError")&&n.d(t,"CancellationError",(function(){return p.CancellationError})),n.o(p,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return p.NotificationStyle})),n.o(p,"OverlayState")&&n.d(t,"OverlayState",(function(){return p.OverlayState})),n.o(p,"RemoteDataState")&&n.d(t,"RemoteDataState",(function(){return p.RemoteDataState})),n.o(p,"ResourceType")&&n.d(t,"ResourceType",(function(){return p.ResourceType})),n.o(p,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return p.TaskSchedule})),n.o(p,"TemplateType")&&n.d(t,"TemplateType",(function(){return p.TemplateType}));var h=n(599);n.d(t,"RemoteDataState",(function(){return h.a}));var _=n(600);n.o(_,"CancellationError")&&n.d(t,"CancellationError",(function(){return _.CancellationError})),n.o(_,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return _.NotificationStyle})),n.o(_,"OverlayState")&&n.d(t,"OverlayState",(function(){return _.OverlayState})),n.o(_,"ResourceType")&&n.d(t,"ResourceType",(function(){return _.ResourceType})),n.o(_,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return _.TaskSchedule})),n.o(_,"TemplateType")&&n.d(t,"TemplateType",(function(){return _.TemplateType}));var g=n(601);n.o(g,"CancellationError")&&n.d(t,"CancellationError",(function(){return g.CancellationError})),n.o(g,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return g.NotificationStyle})),n.o(g,"OverlayState")&&n.d(t,"OverlayState",(function(){return g.OverlayState})),n.o(g,"ResourceType")&&n.d(t,"ResourceType",(function(){return g.ResourceType})),n.o(g,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return g.TaskSchedule})),n.o(g,"TemplateType")&&n.d(t,"TemplateType",(function(){return g.TemplateType}));var f=n(602);n.o(f,"CancellationError")&&n.d(t,"CancellationError",(function(){return f.CancellationError})),n.o(f,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return f.NotificationStyle})),n.o(f,"OverlayState")&&n.d(t,"OverlayState",(function(){return f.OverlayState})),n.o(f,"ResourceType")&&n.d(t,"ResourceType",(function(){return f.ResourceType})),n.o(f,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return f.TaskSchedule})),n.o(f,"TemplateType")&&n.d(t,"TemplateType",(function(){return f.TemplateType}));var b=n(603);n.o(b,"CancellationError")&&n.d(t,"CancellationError",(function(){return b.CancellationError})),n.o(b,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return b.NotificationStyle})),n.o(b,"OverlayState")&&n.d(t,"OverlayState",(function(){return b.OverlayState})),n.o(b,"ResourceType")&&n.d(t,"ResourceType",(function(){return b.ResourceType})),n.o(b,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return b.TaskSchedule})),n.o(b,"TemplateType")&&n.d(t,"TemplateType",(function(){return b.TemplateType}));var y=n(604);n.o(y,"CancellationError")&&n.d(t,"CancellationError",(function(){return y.CancellationError})),n.o(y,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return y.NotificationStyle})),n.o(y,"OverlayState")&&n.d(t,"OverlayState",(function(){return y.OverlayState})),n.o(y,"ResourceType")&&n.d(t,"ResourceType",(function(){return y.ResourceType})),n.o(y,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return y.TaskSchedule})),n.o(y,"TemplateType")&&n.d(t,"TemplateType",(function(){return y.TemplateType}));var v=n(309);n.o(v,"CancellationError")&&n.d(t,"CancellationError",(function(){return v.CancellationError})),n.o(v,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return v.NotificationStyle})),n.o(v,"OverlayState")&&n.d(t,"OverlayState",(function(){return v.OverlayState})),n.o(v,"ResourceType")&&n.d(t,"ResourceType",(function(){return v.ResourceType})),n.o(v,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return v.TaskSchedule})),n.o(v,"TemplateType")&&n.d(t,"TemplateType",(function(){return v.TemplateType})),n.o(v,"CancellationError")&&n.d(t,"CancellationError",(function(){return v.CancellationError})),n.o(v,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return v.NotificationStyle})),n.o(v,"OverlayState")&&n.d(t,"OverlayState",(function(){return v.OverlayState})),n.o(v,"ResourceType")&&n.d(t,"ResourceType",(function(){return v.ResourceType})),n.o(v,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return v.TaskSchedule})),n.o(v,"TemplateType")&&n.d(t,"TemplateType",(function(){return v.TemplateType}));var x=n(605);n.o(x,"CancellationError")&&n.d(t,"CancellationError",(function(){return x.CancellationError})),n.o(x,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return x.NotificationStyle})),n.o(x,"OverlayState")&&n.d(t,"OverlayState",(function(){return x.OverlayState})),n.o(x,"ResourceType")&&n.d(t,"ResourceType",(function(){return x.ResourceType})),n.o(x,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return x.TaskSchedule})),n.o(x,"TemplateType")&&n.d(t,"TemplateType",(function(){return x.TemplateType}));var w=n(606);n.o(w,"CancellationError")&&n.d(t,"CancellationError",(function(){return w.CancellationError})),n.o(w,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return w.NotificationStyle})),n.o(w,"OverlayState")&&n.d(t,"OverlayState",(function(){return w.OverlayState})),n.o(w,"ResourceType")&&n.d(t,"ResourceType",(function(){return w.ResourceType})),n.o(w,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return w.TaskSchedule})),n.o(w,"TemplateType")&&n.d(t,"TemplateType",(function(){return w.TemplateType}));n(607);var E=n(608);n.o(E,"CancellationError")&&n.d(t,"CancellationError",(function(){return E.CancellationError})),n.o(E,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return E.NotificationStyle})),n.o(E,"OverlayState")&&n.d(t,"OverlayState",(function(){return E.OverlayState})),n.o(E,"ResourceType")&&n.d(t,"ResourceType",(function(){return E.ResourceType})),n.o(E,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return E.TaskSchedule})),n.o(E,"TemplateType")&&n.d(t,"TemplateType",(function(){return E.TemplateType}));var k=n(609);n.o(k,"CancellationError")&&n.d(t,"CancellationError",(function(){return k.CancellationError})),n.o(k,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return k.NotificationStyle})),n.o(k,"OverlayState")&&n.d(t,"OverlayState",(function(){return k.OverlayState})),n.o(k,"ResourceType")&&n.d(t,"ResourceType",(function(){return k.ResourceType})),n.o(k,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return k.TaskSchedule})),n.o(k,"TemplateType")&&n.d(t,"TemplateType",(function(){return k.TemplateType}));var S=n(610);n.o(S,"CancellationError")&&n.d(t,"CancellationError",(function(){return S.CancellationError})),n.o(S,"NotificationStyle")&&n.d(t,"NotificationStyle",(function(){return S.NotificationStyle})),n.o(S,"OverlayState")&&n.d(t,"OverlayState",(function(){return S.OverlayState})),n.o(S,"ResourceType")&&n.d(t,"ResourceType",(function(){return S.ResourceType})),n.o(S,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return S.TaskSchedule})),n.o(S,"TemplateType")&&n.d(t,"TemplateType",(function(){return S.TemplateType}));var C=n(611);n.d(t,"NotificationStyle",(function(){return C.a}));n(612);var T=n(413);n.d(t,"OverlayState",(function(){return T.a}));var O=n(613);n.o(O,"CancellationError")&&n.d(t,"CancellationError",(function(){return O.CancellationError})),n.o(O,"ResourceType")&&n.d(t,"ResourceType",(function(){return O.ResourceType})),n.o(O,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return O.TaskSchedule})),n.o(O,"TemplateType")&&n.d(t,"TemplateType",(function(){return O.TemplateType}));var D=n(414);n.d(t,"CancellationError",(function(){return D.a}));n(614);var I=n(615);n.o(I,"ResourceType")&&n.d(t,"ResourceType",(function(){return I.ResourceType})),n.o(I,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return I.TaskSchedule})),n.o(I,"TemplateType")&&n.d(t,"TemplateType",(function(){return I.TemplateType}));var j=n(616);n.d(t,"ResourceType",(function(){return j.a}));var R=n(617);n.o(R,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return R.TaskSchedule})),n.o(R,"TemplateType")&&n.d(t,"TemplateType",(function(){return R.TemplateType}));var N=n(618);n.o(N,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return N.TaskSchedule})),n.o(N,"TemplateType")&&n.d(t,"TemplateType",(function(){return N.TemplateType}));var A=n(619);n.o(A,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return A.TaskSchedule})),n.o(A,"TemplateType")&&n.d(t,"TemplateType",(function(){return A.TemplateType}));var P=n(620);n.o(P,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return P.TaskSchedule})),n.o(P,"TemplateType")&&n.d(t,"TemplateType",(function(){return P.TemplateType}));var M=n(621);n.o(M,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return M.TaskSchedule})),n.o(M,"TemplateType")&&n.d(t,"TemplateType",(function(){return M.TemplateType}));n(622);var L=n(623);n.o(L,"TaskSchedule")&&n.d(t,"TaskSchedule",(function(){return L.TaskSchedule})),n.o(L,"TemplateType")&&n.d(t,"TemplateType",(function(){return L.TemplateType}));var F=n(624);n.d(t,"TaskSchedule",(function(){return F.a}));var q=n(625);n.o(q,"TemplateType")&&n.d(t,"TemplateType",(function(){return q.TemplateType}));var B=n(626);n.d(t,"TemplateType",(function(){return B.a}));n(627),n(415),n(628),n(629)},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),s=n.n(a),r=n(779),o=n(152);const i=function(e){return t=>{return class extends t{constructor(){super(...arguments),this.error=null}static get displayName(){return t.name}componentDidCatch(e,t){this.error=e,this.forceUpdate(),Object(o.b)(e,{component:Object(o.a)(t)})}render(){return this.error?s.a.createElement(e,{error:this.error}):super.render()}}}}(r.a)},,function(e,t,n){"use strict";n.d(t,"vb",(function(){return l})),n.d(t,"wb",(function(){return c})),n.d(t,"Q",(function(){return u})),n.d(t,"S",(function(){return m})),n.d(t,"Bb",(function(){return d})),n.d(t,"R",(function(){return p})),n.d(t,"eb",(function(){return h})),n.d(t,"s",(function(){return _})),n.d(t,"Cb",(function(){return g})),n.d(t,"t",(function(){return f})),n.d(t,"Db",(function(){return b})),n.d(t,"mb",(function(){return y})),n.d(t,"E",(function(){return v})),n.d(t,"nb",(function(){return x})),n.d(t,"Y",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"B",(function(){return k})),n.d(t,"jb",(function(){return S})),n.d(t,"A",(function(){return C})),n.d(t,"W",(function(){return T})),n.d(t,"f",(function(){return O})),n.d(t,"kb",(function(){return D})),n.d(t,"Fb",(function(){return I})),n.d(t,"g",(function(){return j})),n.d(t,"C",(function(){return R})),n.d(t,"X",(function(){return N})),n.d(t,"lb",(function(){return A})),n.d(t,"h",(function(){return P})),n.d(t,"ub",(function(){return M})),n.d(t,"v",(function(){return L})),n.d(t,"u",(function(){return F})),n.d(t,"T",(function(){return q})),n.d(t,"a",(function(){return B})),n.d(t,"x",(function(){return z})),n.d(t,"fb",(function(){return U})),n.d(t,"w",(function(){return H})),n.d(t,"U",(function(){return G})),n.d(t,"b",(function(){return V})),n.d(t,"gb",(function(){return $})),n.d(t,"c",(function(){return W})),n.d(t,"I",(function(){return K})),n.d(t,"sb",(function(){return Q})),n.d(t,"bb",(function(){return Y})),n.d(t,"n",(function(){return X})),n.d(t,"J",(function(){return Z})),n.d(t,"tb",(function(){return J})),n.d(t,"o",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"L",(function(){return ne})),n.d(t,"cb",(function(){return ae})),n.d(t,"p",(function(){return se})),n.d(t,"Ab",(function(){return re})),n.d(t,"N",(function(){return oe})),n.d(t,"xb",(function(){return ie})),n.d(t,"M",(function(){return le})),n.d(t,"db",(function(){return ce})),n.d(t,"q",(function(){return ue})),n.d(t,"O",(function(){return me})),n.d(t,"zb",(function(){return de})),n.d(t,"P",(function(){return pe})),n.d(t,"yb",(function(){return he})),n.d(t,"r",(function(){return _e})),n.d(t,"D",(function(){return ge})),n.d(t,"z",(function(){return fe})),n.d(t,"hb",(function(){return be})),n.d(t,"y",(function(){return ye})),n.d(t,"Eb",(function(){return ve})),n.d(t,"V",(function(){return xe})),n.d(t,"d",(function(){return we})),n.d(t,"ib",(function(){return Ee})),n.d(t,"e",(function(){return ke})),n.d(t,"H",(function(){return Se})),n.d(t,"qb",(function(){return Ce})),n.d(t,"G",(function(){return Te})),n.d(t,"Hb",(function(){return Oe})),n.d(t,"ab",(function(){return De})),n.d(t,"l",(function(){return Ie})),n.d(t,"rb",(function(){return je})),n.d(t,"m",(function(){return Re})),n.d(t,"F",(function(){return Ne})),n.d(t,"ob",(function(){return Ae})),n.d(t,"Gb",(function(){return Pe})),n.d(t,"Z",(function(){return Me})),n.d(t,"j",(function(){return Le})),n.d(t,"pb",(function(){return Fe})),n.d(t,"k",(function(){return qe}));const a=function(e,t){this.requestHandler=e,this.responseHandler=t};a.prototype.request=async function(e,t,n={},a={}){const s=new Headers(n.headers),r=s.get("Content-Type")||"";if(n.auth){const e=btoa(`${n.auth.username}:${n.auth.password}`);s.append("Authorization",`Basic ${e}`)}const o=n.data&&r.includes("json")?JSON.stringify(n.data):n.data,i=n.query?`?${new URLSearchParams(n.query)}`:"",{url:l,query:c,init:u}=this.requestHandler(t,i,{method:e,body:o,credentials:"same-origin",signal:a.signal,headers:s}),m=await fetch(`${l}${c}`,u),{status:d,headers:p}=m,h=p.get("Content-Type")||"";let _;return h.includes("json")?_=await m.json():h.includes("octet-stream")?_=await m.blob():h.includes("text")&&(_=await m.text()),this.responseHandler(d,p,_)},a.prototype.setRequestHandler=function(e){this.requestHandler=e},a.prototype.setResponseHandler=function(e){this.responseHandler=e};const s=new a((e,t,n)=>({url:e,query:t,init:n}),(e,t,n)=>({status:e,headers:t,data:n})),r=s.request.bind(s),o=s.setRequestHandler.bind(s),i=s.setResponseHandler.bind(s),l=(e,t={})=>r("POST","/api/v2/signin",e,t),c=(e,t={})=>r("POST","/api/v2/signout",e,t),u=(e,t={})=>r("GET","/api/v2/telegraf/plugins",e,t),m=(e,t={})=>r("GET","/api/v2/variables",e,t),d=(e,t={})=>r("POST","/api/v2/variables",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),p=(e,t={})=>r("GET",`/api/v2/variables/${e.variableID}`,e,t),h=(e,t={})=>r("PATCH",`/api/v2/variables/${e.variableID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),_=(e,t={})=>r("DELETE",`/api/v2/variables/${e.variableID}`,e,t),g=(e,t={})=>r("POST",`/api/v2/variables/${e.variableID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),f=(e,t={})=>r("DELETE",`/api/v2/variables/${e.variableID}/labels/${e.labelID}`,e,t),b=(e,t={})=>r("POST","/api/v2/write",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"text/plain"})}),t),y=(e,t={})=>r("POST","/api/v2/delete",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),v=(e,t={})=>r("GET","/api/v2/labels",e,t),x=(e,t={})=>r("POST","/api/v2/labels",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),w=(e,t={})=>r("PATCH",`/api/v2/labels/${e.labelID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),E=(e,t={})=>r("DELETE",`/api/v2/labels/${e.labelID}`,e,t),k=(e,t={})=>r("GET","/api/v2/dashboards",e,t),S=(e,t={})=>r("POST","/api/v2/dashboards",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),C=(e,t={})=>r("GET",`/api/v2/dashboards/${e.dashboardID}`,e,t),T=(e,t={})=>r("PATCH",`/api/v2/dashboards/${e.dashboardID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),O=(e,t={})=>r("DELETE",`/api/v2/dashboards/${e.dashboardID}`,e,t),D=(e,t={})=>r("POST",`/api/v2/dashboards/${e.dashboardID}/cells`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),I=(e,t={})=>r("PUT",`/api/v2/dashboards/${e.dashboardID}/cells`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),j=(e,t={})=>r("DELETE",`/api/v2/dashboards/${e.dashboardID}/cells/${e.cellID}`,e,t),R=(e,t={})=>r("GET",`/api/v2/dashboards/${e.dashboardID}/cells/${e.cellID}/view`,e,t),N=(e,t={})=>r("PATCH",`/api/v2/dashboards/${e.dashboardID}/cells/${e.cellID}/view`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),A=(e,t={})=>r("POST",`/api/v2/dashboards/${e.dashboardID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),P=(e,t={})=>r("DELETE",`/api/v2/dashboards/${e.dashboardID}/labels/${e.labelID}`,e,t),M=(e,t={})=>r("POST","/api/v2/query/ast",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),L=(e,t={})=>r("GET","/api/v2/authorizations",e,t),F=(e,t={})=>r("GET",`/api/v2/authorizations/${e.authID}`,e,t),q=(e,t={})=>r("PATCH",`/api/v2/authorizations/${e.authID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),B=(e,t={})=>r("DELETE",`/api/v2/authorizations/${e.authID}`,e,t),z=(e,t={})=>r("GET","/api/v2/buckets",e,t),U=(e,t={})=>r("POST","/api/v2/buckets",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),H=(e,t={})=>r("GET",`/api/v2/buckets/${e.bucketID}`,e,t),G=(e,t={})=>r("PATCH",`/api/v2/buckets/${e.bucketID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),V=(e,t={})=>r("DELETE",`/api/v2/buckets/${e.bucketID}`,e,t),$=(e,t={})=>r("POST",`/api/v2/buckets/${e.bucketID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),W=(e,t={})=>r("DELETE",`/api/v2/buckets/${e.bucketID}/labels/${e.labelID}`,e,t),K=(e,t={})=>r("GET","/api/v2/orgs",e,t),Q=(e,t={})=>r("POST","/api/v2/orgs",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),Y=(e,t={})=>r("PATCH",`/api/v2/orgs/${e.orgID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),X=(e,t={})=>r("DELETE",`/api/v2/orgs/${e.orgID}`,e,t),Z=(e,t={})=>r("GET",`/api/v2/orgs/${e.orgID}/members`,e,t),J=(e,t={})=>r("POST",`/api/v2/orgs/${e.orgID}/members`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),ee=(e,t={})=>r("DELETE",`/api/v2/orgs/${e.orgID}/members/${e.userID}`,e,t),te=(e,t={})=>r("GET",`/api/v2/orgs/${e.orgID}/owners`,e,t),ne=(e,t={})=>r("GET","/api/v2/stacks",e,t),ae=(e,t={})=>r("PATCH",`/api/v2/stacks/${e.stack_id}`,Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),se=(e,t={})=>r("DELETE",`/api/v2/stacks/${e.stack_id}`,e,t),re=(e,t={})=>r("POST","/api/v2/templates/apply",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),oe=(e,t={})=>r("GET","/api/v2/tasks",e,t),ie=(e,t={})=>r("POST","/api/v2/tasks",Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),le=(e,t={})=>r("GET",`/api/v2/tasks/${e.taskID}`,e,t),ce=(e,t={})=>r("PATCH",`/api/v2/tasks/${e.taskID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),ue=(e,t={})=>r("DELETE",`/api/v2/tasks/${e.taskID}`,e,t),me=(e,t={})=>r("GET",`/api/v2/tasks/${e.taskID}/runs`,e,t),de=(e,t={})=>r("POST",`/api/v2/tasks/${e.taskID}/runs`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),pe=(e,t={})=>r("GET",`/api/v2/tasks/${e.taskID}/runs/${e.runID}/logs`,e,t),he=(e,t={})=>r("POST",`/api/v2/tasks/${e.taskID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),_e=(e,t={})=>r("DELETE",`/api/v2/tasks/${e.taskID}/labels/${e.labelID}`,e,t),ge=(e,t={})=>r("GET","/api/v2/flags",e,t),fe=(e,t={})=>r("GET","/api/v2/checks",e,t),be=(e,t={})=>r("POST","/api/v2/checks",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),ye=(e,t={})=>r("GET",`/api/v2/checks/${e.checkID}`,e,t),ve=(e,t={})=>r("PUT",`/api/v2/checks/${e.checkID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),xe=(e,t={})=>r("PATCH",`/api/v2/checks/${e.checkID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),we=(e,t={})=>r("DELETE",`/api/v2/checks/${e.checkID}`,e,t),Ee=(e,t={})=>r("POST",`/api/v2/checks/${e.checkID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),ke=(e,t={})=>r("DELETE",`/api/v2/checks/${e.checkID}/labels/${e.labelID}`,e,t),Se=(e,t={})=>r("GET","/api/v2/notificationRules",e,t),Ce=(e,t={})=>r("POST","/api/v2/notificationRules",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),Te=(e,t={})=>r("GET",`/api/v2/notificationRules/${e.ruleID}`,e,t),Oe=(e,t={})=>r("PUT",`/api/v2/notificationRules/${e.ruleID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),De=(e,t={})=>r("PATCH",`/api/v2/notificationRules/${e.ruleID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),Ie=(e,t={})=>r("DELETE",`/api/v2/notificationRules/${e.ruleID}`,e,t),je=(e,t={})=>r("POST",`/api/v2/notificationRules/${e.ruleID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),Re=(e,t={})=>r("DELETE",`/api/v2/notificationRules/${e.ruleID}/labels/${e.labelID}`,e,t),Ne=(e,t={})=>r("GET","/api/v2/notificationEndpoints",e,t),Ae=(e,t={})=>r("POST","/api/v2/notificationEndpoints",Object.assign(Object.assign({},e),{headers:{"Content-Type":"application/json"}}),t),Pe=(e,t={})=>r("PUT",`/api/v2/notificationEndpoints/${e.endpointID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),Me=(e,t={})=>r("PATCH",`/api/v2/notificationEndpoints/${e.endpointID}`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),Le=(e,t={})=>r("DELETE",`/api/v2/notificationEndpoints/${e.endpointID}`,e,t),Fe=(e,t={})=>r("POST",`/api/v2/notificationEndpoints/${e.endpointID}/labels`,Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},e.headers),{"Content-Type":"application/json"})}),t),qe=(e,t={})=>r("DELETE",`/api/v2/notificationEndpoints/${e.endpointID}/labels/${e.labelID}`,e,t);var Be=n(205);o((e,t,n)=>({url:`${Object(Be.a)()}${e}`,query:t,init:n})),i((e,t,n)=>(403===e&&"User is inactive"===n.message&&(c({}),window.location.href="/signin"),{status:e,headers:t,data:n}))},,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m}));var a=n(6),s=n(5);const r=({resources:e},t)=>e[t].status,o=({resources:e},t)=>{const n=e[t].allIDs,a=e[t].byID;return n.map(e=>a[e])},i=e=>o(e,s.ResourceType.Tasks)||[],l=e=>0===o(e,s.ResourceType.Tasks).length,c=e=>Object(a.get)(e,"dataLoading.dataLoaders.token","")||"",u=({resources:e},t,n)=>{const s=Object(a.get)(e,`${t}.byID`);if(!s)throw new Error(`"${t}" resource has yet not been set`);return Object(a.get)(s,`${n}`,null)},m=(e,t)=>t.map(t=>u(e,s.ResourceType.Labels,t)).filter(e=>!!e)},,function(e,t,n){"use strict";(function(e){n.d(t,"s",(function(){return o})),n.d(t,"G",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"A",(function(){return m})),n.d(t,"r",(function(){return d})),n.d(t,"u",(function(){return p})),n.d(t,"I",(function(){return h})),n.d(t,"t",(function(){return _})),n.d(t,"z",(function(){return g})),n.d(t,"y",(function(){return f})),n.d(t,"J",(function(){return b})),n.d(t,"x",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return x})),n.d(t,"i",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"o",(function(){return S})),n.d(t,"l",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"p",(function(){return O})),n.d(t,"m",(function(){return D})),n.d(t,"q",(function(){return I})),n.d(t,"v",(function(){return j})),n.d(t,"K",(function(){return R})),n.d(t,"L",(function(){return N})),n.d(t,"M",(function(){return A})),n.d(t,"w",(function(){return P})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return F})),n.d(t,"D",(function(){return q})),n.d(t,"C",(function(){return B})),n.d(t,"B",(function(){return z})),n.d(t,"E",(function(){return U})),n.d(t,"F",(function(){return H})),n.d(t,"H",(function(){return G}));var a=n(50),s=n(3),r=n(5);const o="YYYY-MM-DD HH:mm:ss ZZ",i=0,l=!1,c=0,u={status:r.AutoRefreshStatus.Paused,interval:c},m=4,d=83.5,p=5e3,h=1e4,_=15e3,g=1/0,f="me",b=e.env.npm_package_version,y="'84f28948cfd3cbe351c16b088a6a5f1a1ae4a7bb' ",v="/",x="/",w=!!e.env.CLOUD_URL,E="/api/v2/signin",k=w,S=e.env.CLOUD_URL,C="/checkout",T="/billing",O="/usage",D="/logout",I="/users",j=w?28311552:104857600,R=4,N={axisColor:s.InfluxColors.Kevlar,gridColor:s.InfluxColors.Kevlar,gridOpacity:1,tickFont:"500 11px Rubik",tickFontColor:s.InfluxColors.Mist,legendFont:"12px Rubik",legendFontColor:s.InfluxColors.Wolf,legendFontBrightColor:s.InfluxColors.Chromium,legendBackgroundColor:s.InfluxColors.Raven,legendBorder:`1px solid ${s.InfluxColors.Kevlar}`,legendCrosshairColor:s.InfluxColors.Smoke},A={axisColor:s.InfluxColors.Whisper,gridColor:s.InfluxColors.Whisper,gridOpacity:1,tickFont:"500 11px Rubik",tickFontColor:s.InfluxColors.Mountain,legendFont:"12px Rubik",legendFontColor:s.InfluxColors.Graphite,legendFontBrightColor:s.InfluxColors.Forge,legendBackgroundColor:s.InfluxColors.Ghost,legendBorder:`1px solid ${s.InfluxColors.Whisper}`,legendCrosshairColor:s.InfluxColors.Smoke},P=[{name:"Nineteen Eighty Four",colors:a.NINETEEN_EIGHTY_FOUR},{name:"Atlantis",colors:a.ATLANTIS},{name:"Do Androids Dream of Electric Sheep?",colors:a.DO_ANDROIDS_DREAM},{name:"Delorean",colors:a.DELOREAN},{name:"Cthulhu",colors:a.CTHULHU},{name:"Ectoplasm",colors:a.ECTOPLASM},{name:"T-MAX 400 Film",colors:a.T_MAX_400_FILM}],M=.7,L=3,F=.3,q=.2,B=1,z=B,U=.01,H=10,G="builder"}).call(this,n(79))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(6);const s=e=>Object(a.get)(e,"resources.orgs.org",null)},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return _})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"i",(function(){return x})),n.d(t,"l",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return C})),n.d(t,"f",(function(){return I})),n.d(t,"m",(function(){return j})),n.d(t,"k",(function(){return R})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"j",(function(){return M}));var a=n(108),s=n(8),r=n.n(s),o=n(6),i=n(50),l=n(51),c=n(251),u=n(118),m=(n(71),n(112));const d=e=>{if(!e.timeMachines)return null;const{activeTimeMachineID:t,timeMachines:n}=e.timeMachines;return n[t]},p=e=>"alerting"===e.timeMachines.activeTimeMachineID,h=e=>{const t=d(e);if(!t)return{text:"",hidden:!0};const{draftQueries:n,activeQueryIndex:a}=t;return n[a]},_=e=>{const t=d(e);return t?t.activeQueryIndex:0},g=e=>{const t=Object(m.a)(e);if("selectable-duration"===t.type)return Object(u.g)(t.windowPeriod);if("custom"===t.type){const e=Date.parse(t.upper),n=Date.parse(t.lower);return Object(u.g)(Object(c.a)(e-n))}throw new Error("Unknown timeRange type provided to getWindowPeriodFromTimeRange")},f=Object(a.a)(i.fromFlux),b=e=>{const t=d(e).queryResults.files||[],{table:n,fluxGroupKeyUnion:a}=f(t.join("\n\n"));return{table:n,fluxGroupKeyUnion:a}},y=Object(a.a)(l.k),v=Object(a.a)(l.l),x=e=>{const{table:t}=b(e);return y(t)},w=e=>{const{table:t}=b(e);return v(t)},E=Object(a.a)(l.i),k=e=>{const{table:t}=b(e);return E(t)},S=e=>{const{table:t}=b(e),n=Object(o.get)(d(e),"view.properties.xColumn");return Object(l.c)(t,n)},C=e=>{const{table:t}=b(e);let n;return"mosaic"===d(e).view.properties.type?(n=Object(o.get)(d(e),"view.properties.ySeriesColumns[0]"),Object(l.n)(t,n)):(n=Object(o.get)(d(e),"view.properties.yColumn"),Object(l.d)(t,n))},T=(e,t,n)=>t&&t.every(t=>e.includes(t))?t:n,O=Object(a.a)(T),D=Object(a.a)(T),I=e=>{const{table:t}=b(e),n=d(e).view.properties.type;let a;a="mosaic"===n?v(t):k(e);const s=Object(o.get)(d(e),"view.properties.fillColumns");if("mosaic"===n&&null===s){for(const e of a)if(e.startsWith("_value"))return[e];if(t.columnKeys.includes("_value"))return[]}const{fluxGroupKeyUnion:r}=b(e);return O(a,s,r)},j=e=>{const t=k(e),n=Object(o.get)(d(e),"view.properties.symbolColumns"),{fluxGroupKeyUnion:a}=b(e);return D(t,n,a)},R=e=>{if(!e)return 1/0;switch(e.type){case"custom":return r()(e.lower).valueOf();case"selectable-duration":return r()().subtract(e.seconds,"seconds").valueOf();case"duration":const t=Object(u.c)(Object(u.h)(Object(u.i)(e)));return r()().subtract(t,"milliseconds").valueOf();default:throw new Error("unknown timeRange type ${timeRange.type} provided to getStartTime")}},N=e=>e?"custom"===e.type?r()(e.upper).valueOf():r()().valueOf():null,A=(e,t)=>{if(!t)return e;return t.some(e=>e.text.includes("v.timeRangeStart")||e.text.includes("v.timeRangeStop"))?e:null},P=e=>{const{builderConfig:t}=h(e),{functions:n}=t,a=n.map(e=>e.name),s=d(e).view,{upperColumn:r,mainColumn:o,lowerColumn:i}=s.properties;return Object(l.j)(a,r,o,i)},M=e=>{const{view:t,draftQueries:n}=d(e);let a=Object.assign(Object.assign({},t),{properties:Object.assign(Object.assign({},t.properties),{queries:n})});return"mosaic"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),ySeriesColumns:[C(e)],fillColumns:I(e)})})),"histogram"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),fillColumns:I(e)})})),"heatmap"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),yColumn:C(e)})})),"scatter"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),yColumn:C(e),fillColumns:I(e),symbolColumns:j(e)})})),"xy"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),yColumn:C(e)})})),"band"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),yColumn:C(e),mainColumn:P(e)})})),"line-plus-single-stat"===a.properties.type&&(a=Object.assign(Object.assign({},a),{properties:Object.assign(Object.assign({},a.properties),{xColumn:S(e),yColumn:C(e)})})),a}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));const a=e=>({type:"PUBLISH_NOTIFICATION",payload:{notification:e}}),s=e=>({type:"DISMISS_NOTIFICATION",payload:{id:e}}),r=()=>({type:"DISMISS_ALL_NOTIFICATIONS"})},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return f}));var a=n(2),s=n(6),r=n(36);const o=e=>{if(Object(r.c)("appMetrics"))try{return fetch("/api/v2/app-metrics",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"include"})}catch(e){}};var i=n(20);let l={},c=[],u=null,m=null;const d=e=>{l=Object.assign(Object.assign({},l),e)},p=e=>Math.round(1e6*e),h=({timestamp:e,measurement:t,fields:n,tags:a})=>{if(Object(s.isEmpty)(n)&&(n={source:"ui"}),c.push((e=>Object.assign(Object.assign({},e),{tags:Object.entries(e.tags).reduce((e,[t,n])=>"boolean"==typeof n?(e[t]=n?"true":"false",e):isNaN(parseFloat(n))?n?(e[t]=n.trim(),e):(e[t]=n,e):(e[t]=""+n,e),{})}))({measurement:t,tags:Object.assign(Object.assign(Object.assign({},l),a),{version:i.x}),fields:n,timestamp:e})),u&&(clearTimeout(u),u=null),c.length>=300)return m&&(clearTimeout(m),m=null),o({points:c.slice()}),void(c=[]);m||(m=setTimeout(()=>{m=null,c.length&&(clearTimeout(u),u=null,o({points:c.slice()}),c=[])},5e3)),u=setTimeout(()=>{o({points:c.slice()}),c=[]},500)},_=(e,t={})=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign({event:e},t))},g=(e,t={},n={})=>{let a=t.time?new Date(t.time).valueOf():Date.now();isNaN(a)&&(a=Date.now()),delete t.time,Object(r.c)("streamEvents")&&(console.log(`Event:  [ ${e} ]`),Object.keys(t).length&&(console.log("tags"),console.log(Object.entries(t).map(([e,t])=>`        ${e}: ${t}`).join("\n")),console.log("fields"),console.log(Object.entries(n).map(([e,t])=>`        ${e}: ${t}`).join("\n")))),_(e,Object.assign(Object.assign({},n),t)),h({timestamp:p(a),measurement:e,fields:Object.assign({source:"ui"},n),tags:Object.assign({},t)})},f=e=>{const[t]=Object(a.useState)(Date.now());Object(a.useEffect)(()=>{g(e,{time:t})},[e,t])}},,function(e,t,n){"use strict";n.d(t,"Rb",(function(){return d})),n.d(t,"Mb",(function(){return p})),n.d(t,"bc",(function(){return h})),n.d(t,"tc",(function(){return _})),n.d(t,"lc",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"K",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"o",(function(){return O})),n.d(t,"gc",(function(){return D})),n.d(t,"hb",(function(){return I})),n.d(t,"ib",(function(){return j})),n.d(t,"gb",(function(){return R})),n.d(t,"db",(function(){return N})),n.d(t,"eb",(function(){return A})),n.d(t,"fb",(function(){return P})),n.d(t,"cb",(function(){return M})),n.d(t,"bb",(function(){return L})),n.d(t,"H",(function(){return F})),n.d(t,"J",(function(){return q})),n.d(t,"I",(function(){return B})),n.d(t,"n",(function(){return z})),n.d(t,"jc",(function(){return U})),n.d(t,"Lb",(function(){return H})),n.d(t,"Db",(function(){return G})),n.d(t,"Cb",(function(){return V})),n.d(t,"Z",(function(){return $})),n.d(t,"ab",(function(){return W})),n.d(t,"mb",(function(){return K})),n.d(t,"nb",(function(){return Q})),n.d(t,"Rc",(function(){return Y})),n.d(t,"Sc",(function(){return X})),n.d(t,"T",(function(){return Z})),n.d(t,"S",(function(){return J})),n.d(t,"j",(function(){return ee})),n.d(t,"k",(function(){return te})),n.d(t,"Ib",(function(){return ne})),n.d(t,"Hb",(function(){return ae})),n.d(t,"Gb",(function(){return se})),n.d(t,"Fb",(function(){return re})),n.d(t,"Y",(function(){return oe})),n.d(t,"yb",(function(){return ie})),n.d(t,"W",(function(){return le})),n.d(t,"Qc",(function(){return ce})),n.d(t,"lb",(function(){return ue})),n.d(t,"tb",(function(){return me})),n.d(t,"sb",(function(){return de})),n.d(t,"ob",(function(){return pe})),n.d(t,"qb",(function(){return he})),n.d(t,"rb",(function(){return _e})),n.d(t,"pb",(function(){return ge})),n.d(t,"Nc",(function(){return fe})),n.d(t,"ec",(function(){return be})),n.d(t,"dc",(function(){return ye})),n.d(t,"kc",(function(){return ve})),n.d(t,"cc",(function(){return xe})),n.d(t,"Cc",(function(){return we})),n.d(t,"yc",(function(){return Ee})),n.d(t,"Dc",(function(){return ke})),n.d(t,"Ic",(function(){return Se})),n.d(t,"zc",(function(){return Ce})),n.d(t,"Ac",(function(){return Te})),n.d(t,"xc",(function(){return Oe})),n.d(t,"wc",(function(){return De})),n.d(t,"Gc",(function(){return Ie})),n.d(t,"Hc",(function(){return je})),n.d(t,"Fc",(function(){return Re})),n.d(t,"Ec",(function(){return Ne})),n.d(t,"Bc",(function(){return Ae})),n.d(t,"Bb",(function(){return Pe})),n.d(t,"mc",(function(){return Me})),n.d(t,"C",(function(){return Le})),n.d(t,"Zb",(function(){return Fe})),n.d(t,"uc",(function(){return qe})),n.d(t,"vc",(function(){return Be})),n.d(t,"B",(function(){return ze})),n.d(t,"A",(function(){return Ue})),n.d(t,"G",(function(){return He})),n.d(t,"ac",(function(){return Ge})),n.d(t,"F",(function(){return Ve})),n.d(t,"E",(function(){return $e})),n.d(t,"D",(function(){return We})),n.d(t,"m",(function(){return Ke})),n.d(t,"fc",(function(){return Qe})),n.d(t,"Tb",(function(){return Ye})),n.d(t,"Sb",(function(){return Xe})),n.d(t,"Vb",(function(){return Ze})),n.d(t,"Ub",(function(){return Je})),n.d(t,"Xb",(function(){return et})),n.d(t,"Wb",(function(){return tt})),n.d(t,"qc",(function(){return nt})),n.d(t,"pc",(function(){return at})),n.d(t,"oc",(function(){return st})),n.d(t,"nc",(function(){return rt})),n.d(t,"sc",(function(){return ot})),n.d(t,"rc",(function(){return it})),n.d(t,"Lc",(function(){return lt})),n.d(t,"Jc",(function(){return ct})),n.d(t,"Mc",(function(){return ut})),n.d(t,"p",(function(){return mt})),n.d(t,"hc",(function(){return dt})),n.d(t,"z",(function(){return pt})),n.d(t,"u",(function(){return ht})),n.d(t,"Yb",(function(){return _t})),n.d(t,"t",(function(){return gt})),n.d(t,"y",(function(){return ft})),n.d(t,"x",(function(){return bt})),n.d(t,"w",(function(){return yt})),n.d(t,"v",(function(){return vt})),n.d(t,"s",(function(){return xt})),n.d(t,"r",(function(){return wt})),n.d(t,"Kc",(function(){return Et})),n.d(t,"Ob",(function(){return kt})),n.d(t,"Nb",(function(){return St})),n.d(t,"Qb",(function(){return Ct})),n.d(t,"Pb",(function(){return Tt})),n.d(t,"q",(function(){return Ot})),n.d(t,"ic",(function(){return Dt})),n.d(t,"Kb",(function(){return It})),n.d(t,"vb",(function(){return jt})),n.d(t,"ub",(function(){return Rt})),n.d(t,"Ab",(function(){return Nt})),n.d(t,"zb",(function(){return At})),n.d(t,"U",(function(){return Pt})),n.d(t,"Oc",(function(){return Mt})),n.d(t,"jb",(function(){return Lt})),n.d(t,"X",(function(){return Ft})),n.d(t,"Eb",(function(){return qt})),n.d(t,"wb",(function(){return Bt})),n.d(t,"xb",(function(){return zt})),n.d(t,"V",(function(){return Ut})),n.d(t,"Pc",(function(){return Ht})),n.d(t,"kb",(function(){return Gt})),n.d(t,"Jb",(function(){return Vt})),n.d(t,"P",(function(){return $t})),n.d(t,"O",(function(){return Wt})),n.d(t,"M",(function(){return Kt})),n.d(t,"L",(function(){return Qt})),n.d(t,"N",(function(){return Yt})),n.d(t,"R",(function(){return Xt})),n.d(t,"Q",(function(){return Zt}));var a=n(50),s=n(5),r=n(20),o=n(249);var i=n(3);const l=Object(a.binaryPrefixFormatter)({suffix:"B",significantDigits:2,trimZeros:!0}),c={style:s.NotificationStyle.Error,icon:i.IconFont.AlertTriangle,duration:r.I},u={style:s.NotificationStyle.Success,icon:i.IconFont.Checkmark,duration:r.u},m={style:s.NotificationStyle.Primary,icon:i.IconFont.Trash,duration:r.u},d=e=>({style:s.NotificationStyle.Info,icon:i.IconFont.Cubouniform,message:`Welcome to the latest Chronograf${e}. Local settings cleared.`}),p=e=>Object.assign(Object.assign({},c),{message:`Loading local settings failed: ${e}`}),h=()=>({style:s.NotificationStyle.Primary,icon:i.IconFont.ExpandB,duration:7500,message:"Press ESC to exit Presentation Mode."}),_=()=>({style:s.NotificationStyle.Primary,icon:i.IconFont.Triangle,message:"Your session has timed out. Log in again to continue."}),g=e=>({style:s.NotificationStyle.Error,icon:i.IconFont.Triangle,duration:r.u,message:`Large response truncated to first ${l(e)}`}),f=Object.assign(Object.assign({},u),{message:"Initial user details have been successfully set"}),b=e=>Object.assign(Object.assign({},c),{message:`Could not set up admin user: ${e}`}),y=Object.assign(Object.assign({},c),{message:"Could not sign in"}),v=Object.assign(Object.assign({},u),{message:"Currently loading checks"}),x=Object.assign(Object.assign({},u),{message:`The InfluxDB Scraper has been configured for ${o.c}`}),w=Object.assign(Object.assign({},c),{message:"Failed to configure InfluxDB Scraper"}),E=Object.assign(Object.assign({},u),{message:"The InfluxDB 2.0 OSS Metrics Dashboard has been created"}),k=Object.assign(Object.assign({},c),{message:"Failed to create InfluxDB 2.0 OSS Metrics Dashboard"}),S=Object.assign(Object.assign({},u),{message:"Your configurations have been saved"}),C=Object.assign(Object.assign({},c),{message:"Failed to save configurations"}),T=Object.assign(Object.assign({},c),{message:"Failed to create a new Telegraf Token"}),O=()=>Object.assign(Object.assign({},c),{message:"Failed to add label to task"}),D=()=>Object.assign(Object.assign({},c),{message:"Failed to remove label from task"}),I=(e,t)=>Object.assign(Object.assign({},c),{icon:i.IconFont.DashH,message:`Failed to load dashboard with id "${e}": ${t}`}),j=()=>Object.assign(Object.assign({},c),{icon:i.IconFont.DashH,message:"Could not update dashboard"}),R=e=>Object.assign(Object.assign({},u),{icon:i.IconFont.DashH,message:`Dashboard ${e} deleted successfully.`}),N=()=>Object.assign(Object.assign({},c),{message:"Failed to create dashboard."}),A=()=>Object.assign(Object.assign({},u),{message:"Created dashboard successfully"}),P=(e,t)=>Object.assign(Object.assign({},c),{message:`Failed to delete Dashboard ${e}: ${t}.`}),M=()=>Object.assign(Object.assign({},u),{message:"Copied dashboard to the clipboard!"}),L=()=>Object.assign(Object.assign({},c),{message:"Failed to copy dashboard."}),F=(e="unknown error")=>Object.assign(Object.assign({},c),{message:`Failed to add cell: ${e}`}),q=()=>Object.assign(Object.assign({},c),{message:"Failed to update cell"}),B=()=>Object.assign(Object.assign({},m),{icon:i.IconFont.DashH,duration:1900,message:"Cell deleted from dashboard."}),z=()=>Object.assign(Object.assign({},c),{message:"Failed to add label to dashboard"}),U=()=>Object.assign(Object.assign({},c),{message:"Failed to remove label from dashboard"}),H=()=>Object.assign(Object.assign({},c),{icon:i.IconFont.Cube,message:"Invalid URL query value supplied for lower or upper time range."}),G=()=>Object.assign(Object.assign({},c),{message:"Failed to fetch variables"}),V=()=>Object.assign(Object.assign({},c),{message:"Failed to fetch variable"}),$=e=>Object.assign(Object.assign({},c),{icon:i.IconFont.Cube,message:`Failed to create variable: ${e}`}),W=e=>Object.assign(Object.assign({},u),{icon:i.IconFont.Cube,message:`Successfully created new variable: ${e}.`}),K=e=>Object.assign(Object.assign({},c),{icon:i.IconFont.Cube,message:`Failed to delete variable: ${e}`}),Q=()=>Object.assign(Object.assign({},u),{icon:i.IconFont.Cube,message:"Successfully deleted the variable"}),Y=e=>Object.assign(Object.assign({},c),{icon:i.IconFont.Cube,message:`Failed to update variable: ${e}`}),X=e=>Object.assign(Object.assign({},u),{icon:i.IconFont.Cube,message:`Successfully updated variable: ${e}.`}),Z=(e,t="")=>Object.assign(Object.assign({},u),{icon:i.IconFont.Cube,type:"copyToClipboardSuccess",message:`${t} '${e}' has been copied to clipboard.`}),J=(e,t="")=>Object.assign(Object.assign({},c),{message:`${t}'${e}' was not copied to clipboard.`}),ee=e=>Object.assign(Object.assign({},u),{message:`Successfully created dashboards for telegraf plugin${e.length>1?"s":""}: ${e.join(", ")}.`}),te=()=>Object.assign(Object.assign({},c),{message:"Could not create dashboards for one or more plugins"}),ne=()=>Object.assign(Object.assign({},u),{message:"Successfully imported task."}),ae=e=>Object.assign(Object.assign({},c),{message:`Failed to import task: ${e}`}),se=()=>Object.assign(Object.assign({},u),{message:"Successfully imported dashboard."}),re=e=>Object.assign(Object.assign({},c),{message:`Failed to import dashboard: ${e}`}),oe=e=>Object.assign(Object.assign({},c),{message:`Failed to  resource as template: ${e}`}),ie=()=>Object.assign(Object.assign({},c),{message:"Failed to fetch labels"}),le=()=>Object.assign(Object.assign({},c),{message:"Failed to create label"}),ce=()=>Object.assign(Object.assign({},c),{message:"Failed to update label"}),ue=()=>Object.assign(Object.assign({},c),{message:"Failed to delete label"}),me=()=>Object.assign(Object.assign({},c),{message:"Failed to fetch buckets"}),de=(e,t)=>Object.assign(Object.assign({},c),{message:`Failed to fetch bucket with id ${e}: ${t}`}),pe=(e,t)=>Object.assign(Object.assign({},c),{message:`Could not create dashboard for demodata bucket ${e}: ${t}`}),he=(e,t)=>Object.assign(Object.assign({},c),{message:`Failed to delete demo data bucket: ${e}: ${t}`}),_e=(e,t)=>Object.assign(Object.assign({},u),{message:`Successfully added demodata bucket ${e}, and demodata dashboard.`,duration:r.t,linkText:"Go to dashboard",link:t}),ge=e=>Object.assign(Object.assign(Object.assign({},c),e),{duration:r.I,type:"demoDataAvailabilityError"}),fe=e=>Object.assign(Object.assign(Object.assign({},c),e),{duration:r.I,type:"aggregateTypeError"}),be=()=>Object.assign(Object.assign({},c),{message:"Exceeded query limits.",duration:r.u,type:"readLimitReached"}),ye=e=>{const t=` Please try again in ${e} seconds`;return Object.assign(Object.assign({},c),{message:`Exceeded rate limits.${e?t:""} `,duration:r.u,type:"rateLimitReached"})},ve=e=>Object.assign(Object.assign({},c),{message:`Oops. It looks like you have reached the maximum number of ${e} allowed as part of your plan. If you would like to upgrade and remove this restriction, reach out to support@influxdata.com.`,duration:r.u,type:"resourceLimitReached"}),xe=()=>Object.assign(Object.assign({},u),{message:"Cancelling query..."}),we=e=>Object.assign(Object.assign({},c),{message:`Failed to create new task: ${e}`}),Ee=()=>Object.assign(Object.assign({},u),{message:"New task created successfully"}),ke=e=>Object.assign(Object.assign({},c),{message:`Failed to find task: ${e}`}),Se=e=>Object.assign(Object.assign({},c),{message:`Failed to get tasks from server: ${e}`}),Ce=e=>Object.assign(Object.assign({},c),{message:`Failed to delete task: ${e}`}),Te=()=>Object.assign(Object.assign({},u),{message:"Task was deleted successfully"}),Oe=e=>Object.assign(Object.assign({},u),{message:`Successfully cloned task ${e}`}),De=(e,t)=>Object.assign(Object.assign({},c),{message:`Failed to clone task ${e}: ${t} `}),Ie=e=>Object.assign(Object.assign({},c),{message:`Failed to update task: ${e}`}),je=()=>Object.assign(Object.assign({},u),{message:"Task was updated successfully"}),Re=()=>Object.assign(Object.assign({},u),{duration:r.u,message:"Task scheduled successfully"}),Ne=e=>Object.assign(Object.assign({},c),{duration:r.u,message:`Failed to run task: ${e}`}),Ae=e=>Object.assign(Object.assign({},c),{duration:r.u,message:`Failed to get runs: ${e}`}),Pe=()=>Object.assign(Object.assign({},c),{message:"Failed to get telegraf config"}),Me=e=>Object.assign(Object.assign({},c),{duration:r.u,message:`Failed to save note: ${e}`}),Le=e=>Object.assign(Object.assign({},c),{message:`Failed to delete bucket: "${e}"`}),Fe=()=>Object.assign(Object.assign({},c),{message:"Failed to delete data with predicate"}),qe=()=>Object.assign(Object.assign({},c),{message:"Failed to set the filter key tag"}),Be=()=>Object.assign(Object.assign({},c),{message:"Failed to set the filter value tag"}),ze=()=>Object.assign(Object.assign({},u),{message:"Bucket was successfully created"}),Ue=e=>Object.assign(Object.assign({},c),{message:`Failed to create bucket: ${e}`}),He=e=>Object.assign(Object.assign({},u),{message:`Bucket "${e}" was successfully updated`}),Ge=()=>Object.assign(Object.assign({},u),{message:"Successfully deleted data with predicate!"}),Ve=e=>Object.assign(Object.assign({},c),{message:`Failed to update bucket: "${e}"`}),$e=e=>Object.assign(Object.assign({},u),{message:`Bucket was successfully renamed "${e}"`}),We=e=>Object.assign(Object.assign({},c),{message:`Failed to rename bucket "${e}"`}),Ke=()=>Object.assign(Object.assign({},c),{message:"Failed to add label to bucket"}),Qe=()=>Object.assign(Object.assign({},c),{message:"Failed to remove label from bucket"}),Ye=()=>Object.assign(Object.assign({},u),{message:"Organization was successfully created"}),Xe=()=>Object.assign(Object.assign({},c),{message:"Failed to create organization"}),Ze=()=>Object.assign(Object.assign({},u),{message:"Organization was successfully updated"}),Je=()=>Object.assign(Object.assign({},c),{message:"Failed to update organization"}),et=e=>Object.assign(Object.assign({},u),{message:`Organization was successfully renamed "${e}"`}),tt=e=>Object.assign(Object.assign({},c),{message:`Failed to update organization "${e}"`}),nt=e=>Object.assign(Object.assign({},u),{message:`Scraper "${e}" was successfully deleted`}),at=e=>Object.assign(Object.assign({},c),{message:`Failed to delete scraper: "${e}"`}),st=()=>Object.assign(Object.assign({},u),{message:"Scraper was created successfully"}),rt=()=>Object.assign(Object.assign({},c),{message:"Failed to create scraper"}),ot=e=>Object.assign(Object.assign({},u),{message:`Scraper "${e}" was updated successfully`}),it=e=>Object.assign(Object.assign({},c),{message:`Failed to update scraper: "${e}"`}),lt=()=>Object.assign(Object.assign({},c),{message:"Failed to get telegraf configs"}),ct=()=>Object.assign(Object.assign({},c),{message:"Failed to create telegraf"}),ut=e=>Object.assign(Object.assign({},c),{message:`Failed to update telegraf: "${e}"`}),mt=()=>Object.assign(Object.assign({},c),{message:"Failed to add label to telegraf config"}),dt=()=>Object.assign(Object.assign({},c),{message:"Failed to remove label from telegraf config"}),pt=()=>Object.assign(Object.assign({},c),{message:"Failed to get tokens"}),ht=()=>Object.assign(Object.assign({},u),{message:"Token was created successfully"}),_t=e=>Object.assign(Object.assign({},u),{message:`${e}\n  If you haven't received an email, please ensure that the email you provided is correct.`}),gt=()=>Object.assign(Object.assign({},c),{message:"Failed to create tokens"}),ft=()=>Object.assign(Object.assign({},u),{message:"Token was updated successfully"}),bt=e=>Object.assign(Object.assign({},c),{message:`Failed to update token: "${e}"`}),yt=()=>Object.assign(Object.assign({},u),{message:"Token was deleted successfully"}),vt=e=>Object.assign(Object.assign({},c),{message:`Failed to delete token: "${e}"`}),xt=()=>Object.assign(Object.assign({},u),{message:"Token has been copied to clipboard"}),wt=()=>Object.assign(Object.assign({},c),{message:"Failed to copy token to clipboard"}),Et=e=>Object.assign(Object.assign({},c),{message:`Failed to delete telegraf: "${e}"`}),kt=e=>Object.assign(Object.assign({},u),{message:`Member "${e}" was added successfully`}),St=e=>Object.assign(Object.assign({},c),{message:`Failed to add members: "${e}"`}),Ct=e=>Object.assign(Object.assign({},u),{message:`Member "${e}" was removed successfully`}),Tt=e=>Object.assign(Object.assign({},c),{message:`Failed to remove members: "${e}"`}),Ot=()=>Object.assign(Object.assign({},c),{message:"Failed to add label to variables"}),Dt=()=>Object.assign(Object.assign({},c),{message:"Failed to remove label from variables"}),It=()=>Object.assign(Object.assign({},c),{message:"Variables of type map accept two comma separated values per line"}),jt=e=>Object.assign(Object.assign({},c),{message:`Failed to get checks: ${e}`}),Rt=e=>Object.assign(Object.assign({},c),{message:`Failed to get check: ${e}`}),Nt=e=>Object.assign(Object.assign({},c),{message:`Failed to get notification rules: ${e}`}),At=e=>Object.assign(Object.assign({},c),{message:`Failed to get notification rule: ${e}`}),Pt=e=>Object.assign(Object.assign({},c),{message:`Failed to create check: ${e}`}),Mt=e=>Object.assign(Object.assign({},c),{message:`Failed to update check: ${e}`}),Lt=e=>Object.assign(Object.assign({},c),{message:`Failed to delete check: ${e}`}),Ft=e=>Object.assign(Object.assign({},c),{message:`Failed to create notification rule: ${e}`}),qt=e=>Object.assign(Object.assign({},c),{message:`Failed to load resources for cell: ${e}`}),Bt=e=>Object.assign(Object.assign({},c),{message:`Failed to get endpoint: ${e}`}),zt=e=>Object.assign(Object.assign({},c),{message:`Failed to get endpoints: ${e}`}),Ut=e=>Object.assign(Object.assign({},c),{message:`Failed to create endpoint: ${e}`}),Ht=e=>Object.assign(Object.assign({},c),{message:`Failed to update endpoint: ${e}`}),Gt=e=>Object.assign(Object.assign({},c),{message:`Failed to delete endpoint: ${e}`}),Vt=e=>Object.assign(Object.assign({},c),{message:e?`We couldn’t parse the JSON you entered because it failed with message:\n'${e}'`:"We couldn’t parse the JSON you entered because it isn’t valid. Please check the formatting and try again."}),$t=e=>Object.assign(Object.assign({},u),{message:`We've successfully installed: ${e}`}),Wt=e=>Object.assign(Object.assign({},c),{duration:r.z,message:`There was a problem installing the template: ${e}`}),Kt=e=>Object.assign(Object.assign({},m),{message:`We've successfully deleted: ${e}`}),Qt=e=>Object.assign(Object.assign({},c),{message:`Delete failed, please check error message: ${e}`}),Yt=e=>Object.assign(Object.assign({},c),{message:`We could not fetch your installed resources, please reload the page: ${e}`}),Xt=()=>Object.assign(Object.assign({},c),{message:"Please provide a link to a template file"}),Zt=()=>Object.assign(Object.assign({},c),{message:"We've successfully installed your template but weren't able to name it properly. It may appear as a blank template."})},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));var a=n(780),s=n(311),r=n(374);const o=(e,t)=>{let n=t;const s=Object(a.a)(Object(r.a)().getState());return void 0===n&&(n=!0),!!s.hasOwnProperty(e)&&s[e]===n},i=({name:e,equals:t,children:n})=>o(e,t)?n:null,l=()=>Object(a.a)(Object(r.a)().getState()),c=(e,t)=>{Object(r.a)().dispatch(Object(s.h)(e,t))};window.influx={toggle:e=>{const t=l();return c(e,!t[e]),!t[e]},list:()=>{console.log("Currently Available Feature Flags"),console.table(l())},reset:()=>{Object(r.a)().dispatch(Object(s.e)())},set:c}},,,,,,,function(e,t,n){"use strict";n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return d})),n.d(t,"db",(function(){return p})),n.d(t,"G",(function(){return h})),n.d(t,"Q",(function(){return _})),n.d(t,"m",(function(){return g})),n.d(t,"R",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"A",(function(){return y})),n.d(t,"x",(function(){return v})),n.d(t,"Y",(function(){return x})),n.d(t,"X",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"W",(function(){return S})),n.d(t,"H",(function(){return C})),n.d(t,"N",(function(){return T})),n.d(t,"J",(function(){return O})),n.d(t,"O",(function(){return D})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return j})),n.d(t,"p",(function(){return R})),n.d(t,"M",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return M})),n.d(t,"b",(function(){return L})),n.d(t,"i",(function(){return F})),n.d(t,"a",(function(){return q})),n.d(t,"g",(function(){return B})),n.d(t,"cb",(function(){return z})),n.d(t,"eb",(function(){return U})),n.d(t,"v",(function(){return H})),n.d(t,"fb",(function(){return G})),n.d(t,"L",(function(){return V})),n.d(t,"P",(function(){return $})),n.d(t,"U",(function(){return W})),n.d(t,"Z",(function(){return K})),n.d(t,"bb",(function(){return Q})),n.d(t,"I",(function(){return Y})),n.d(t,"z",(function(){return X})),n.d(t,"r",(function(){return Z})),n.d(t,"s",(function(){return J})),n.d(t,"w",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"q",(function(){return ne})),n.d(t,"y",(function(){return ae})),n.d(t,"D",(function(){return se})),n.d(t,"V",(function(){return re})),n.d(t,"ab",(function(){return oe})),n.d(t,"T",(function(){return ie})),n.d(t,"S",(function(){return le})),n.d(t,"F",(function(){return ce})),n.d(t,"E",(function(){return ue})),n.d(t,"B",(function(){return me})),n.d(t,"C",(function(){return de})),n.d(t,"f",(function(){return pe})),n.d(t,"e",(function(){return he}));var a=n(153),s=n(102),r=n(122),o=n(206),i=n(26),l=n(150),c=n(6);var u=n(317);const m=(e,t={})=>({type:"SET_ACTIVE_TIME_MACHINE",payload:{activeTimeMachineID:e,initialState:t}}),d=e=>({type:"SET_ACTIVE_TAB",payload:{activeTab:e}}),p=()=>({type:"TOGGLE_VIS_OPTIONS"}),h=e=>({type:"SET_VIEW_NAME",payload:{name:e}}),_=e=>(t,n)=>{const r=n(),l=Object(u.a)(r),c=Object(i.a)(r);t(Object(o.d)(l,e)),t(Object(s.h)()),"builder"===c.editMode&&t(Object(a.d)())},g=e=>({type:"SET_AUTO_REFRESH",payload:{autoRefresh:e}}),f=e=>({type:"SET_VIEW_TYPE",payload:{type:e}}),b=e=>({type:"SET_ACTIVE_QUERY_TEXT",payload:{text:e}}),y=e=>({type:"SET_IS_VIEWING_RAW_DATA",payload:{isViewingRawData:e}}),v=e=>({type:"SET_GEOM",payload:{geom:e}}),x=e=>({type:"SET_Y_AXIS_LABEL",payload:{yAxisLabel:e}}),w=e=>({type:"SET_Y_AXIS_BOUNDS",payload:{bounds:e}}),E=(e,t)=>({type:"SET_AXIS_PREFIX",payload:{prefix:e,axis:t}}),k=(e,t)=>({type:"SET_AXIS_SUFFIX",payload:{suffix:e,axis:t}}),S=e=>({type:"SET_Y_AXIS_BASE",payload:{base:e}}),C=e=>({type:"SET_PREFIX",payload:{prefix:e}}),T=e=>({type:"SET_TICK_PREFIX",payload:{tickPrefix:e}}),O=e=>({type:"SET_SUFFIX",payload:{suffix:e}}),D=e=>({type:"SET_TICK_SUFFIX",payload:{tickSuffix:e}}),I=e=>({type:"SET_COLORS",payload:{colors:e}}),j=e=>({type:"SET_DECIMAL_PLACES",payload:{decimalPlaces:e}}),R=()=>({type:"SET_BACKGROUND_THRESHOLD_COLORING"}),N=()=>({type:"SET_TEXT_THRESHOLD_COLORING"}),A=()=>({type:"EDIT_ACTIVE_QUERY_WITH_BUILDER"}),P=()=>e=>{e(A()),e(Object(s.h)())},M=()=>e=>{e({type:"RESET_QUERY_AND_EDIT_WITH_BUILDER"}),e(Object(s.h)())},L=()=>({type:"EDIT_ACTIVE_QUERY_AS_FLUX"}),F=e=>t=>{t((e=>({type:"SET_ACTIVE_QUERY_INDEX",payload:{activeQueryIndex:e}}))(e)),t(Object(a.b)())},q=()=>e=>{e({type:"ADD_QUERY"}),e(Object(a.b)())},B=e=>t=>{t((e=>({type:"REMOVE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(a.b)()),t(Object(s.h)())},z=e=>t=>{t((e=>({type:"TOGGLE_QUERY",payload:{queryIndex:e}}))(e)),t(Object(s.h)())},U=e=>({type:"UPDATE_ACTIVE_QUERY_NAME",payload:{queryName:e}}),H=e=>({type:"SET_FIELD_OPTIONS",payload:{fieldOptions:e}}),G=e=>({type:"UPDATE_FIELD_OPTION",payload:{option:e}}),V=e=>({type:"SET_TABLE_OPTIONS",payload:{tableOptions:e}}),$=e=>({type:"SET_TIME_FORMAT",payload:{timeFormat:e}}),W=e=>({type:"SET_X_COLUMN",payload:{xColumn:e}}),K=e=>({type:"SET_Y_COLUMN",payload:{yColumn:e}}),Q=e=>({type:"SET_Y_SERIES_COLUMNS",payload:{ySeriesColumns:e}}),Y=e=>({type:"SET_SHADE_BELOW",payload:{shadeBelow:e}}),X=e=>({type:"SET_HOVER_DIMENSION",payload:{hoverDimension:e}}),Z=e=>({type:"SET_BIN_SIZE",payload:{binSize:e}}),J=e=>({type:"SET_COLOR_HEXES",payload:{colors:e}}),ee=e=>({type:"SET_FILL_COLUMNS",payload:{fillColumns:e}}),te=e=>({type:"SET_SYMBOL_COLUMNS",payload:{symbolColumns:e}}),ne=e=>({type:"SET_BIN_COUNT",payload:{binCount:e}}),ae=e=>({type:"SET_HISTOGRAM_POSITION",payload:{position:e}}),se=e=>({type:"SET_LINE_POSITION",payload:{position:e}}),re=e=>({type:"SET_VIEW_X_DOMAIN",payload:{xDomain:e}}),oe=e=>({type:"SET_VIEW_Y_DOMAIN",payload:{yDomain:e}}),ie=e=>({type:"SET_X_AXIS_LABEL",payload:{xAxisLabel:e}}),le=e=>({type:"SET_UPPER_COLUMN",payload:{upperColumn:e}}),ce=e=>({type:"SET_MAIN_COLUMN",payload:{mainColumn:e}}),ue=e=>({type:"SET_LOWER_COLUMN",payload:{lowerColumn:e}}),me=e=>({type:"SET_LEGEND_OPACITY",payload:{legendOpacity:e}}),de=e=>({type:"SET_LEGEND_ORIENTATION_THRESHOLD",payload:{legendOrientationThreshold:e}}),pe=()=>e=>{e(m("veo",{view:Object(l.a)("xy")}))},he=()=>(e,t)=>{const n=t(),{alertBuilder:a}=n,{builderConfig:s}=Object(i.a)(n);e(b(function(e,{statusMessageTemplate:t,tags:n,id:a,name:s,every:r,offset:o,type:i,staleTime:l,level:u,timeSince:m,thresholds:d}){const p=`data = from(bucket: "${e.buckets[0]}")`,h=e.tags.filter(e=>!!e.values[0]).map(e=>`  |> filter(fn: (r) => r.${e.key} == "${e.values[0]}")`),_=`messageFn = (r) =>("${t}")`,g=["check = {",`  _check_id: "${a||""}",`,`  _check_name: "${s}",`,'  _type: "custom",',`  tags: {${n?n.filter(e=>e.key&&e.value).map(e=>`${e.key}: "${e.value}"`).join(","):""}},`,`  every: ${r}`,"}"],f=["option task = {",`  name: "${s}",`,`  every: ${r}, // expected to match check.every`,`  offset: ${o}`,"}"];if("deadman"===i){const e=["package main",'import "influxdata/influxdb/monitor"','import "experimental"','import "influxdata/influxdb/v1"'],t=[p,`  |> range(start: -${l})`,...h],n=`${u.toLowerCase()} = (r) => (r.dead)`,a=["data","  |> v1.fieldsAsCols()",`  |> monitor.deadman(t: experimental.subDuration(from: now(), d: ${m}))`,`  |> monitor.check(data: check, messageFn: messageFn,${`${u.toLowerCase()}:${u.toLowerCase()}`})`];return[e.join("\n"),g.join("\n"),f.join("\n"),n,_,t.join("\n"),a.join("\n")].join("\n\n")}if("threshold"===i){const t=["package main",'import "influxdata/influxdb/monitor"','import "influxdata/influxdb/v1"'],n="  |> range(start: -check.every)",a=`  |> aggregateWindow(every: check.every, fn: ${e.functions[0].name}, createEmpty: false)`,s=[p,n,...h,a],r=d.map(t=>{const n=e.tags.find(e=>"_field"===e.key),a=Object(c.get)(n,"values[0]"),s=`${t.level.toLowerCase()} = (r) =>(r.${a}`;return"range"===t.type?t.within?`${s} > ${t.min}) and r.${a} < ${t.max})`:`${s} < ${t.min} and r.${a} > ${t.max})`:`${s} ${"greater"===t.type?">":"<"} ${t.value})`}),o=["data","  |> v1.fieldsAsCols()",`  |> monitor.check(data: check, messageFn: messageFn,${d.map(e=>` ${e.level.toLowerCase()}:${e.level.toLowerCase()}`)})`];return[t.join("\n"),g.join("\n"),f.join("\n"),r.join("\n"),_,s.join("\n"),o.join("\n")].join("\n\n")}}(s,a))),e(f("table")),e(Object(r.a)()),e(d("customCheckQuery"))}},,,,,,function(e,t,n){"use strict";n.d(t,"o",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return _})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return E}));var a=n(257),s=n(5),r=n(20),o=n(54),i=n(3);const l="Untitled Graph",c={internalName:"_time",displayName:"time",visible:!0},u=(a.e,a.c,[{text:r.s},{text:"DD/MM/YYYY HH:mm:ss.sss"},{text:"MM/DD/YYYY HH:mm:ss.sss"},{text:"YYYY/MM/DD HH:mm:ss"},{text:"hh:mm a"},{text:"HH:mm"},{text:"HH:mm:ss"},{text:"HH:mm:ss ZZ"},{text:"HH:mm:ss.sss"},{text:"MMMM D, YYYY HH:mm:ss"},{text:"dddd, MMMM D, YYYY HH:mm:ss"}]),m=(s.RemoteDataState.Done,{sortDirection:i.Sort.Ascending,sortType:o.a.String,sortKey:"name"}),d=(s.RemoteDataState.Done,{id:"0",name:"Create a New Dashboard",cells:[],status:s.RemoteDataState.Done,sortOptions:m}),p="Name this Cell",h="Name this Dashboard",_="Name this Collector",g="Name this Task",f="Name this Scraper",b="Describe this Token",y=50,v=68;var x;!function(e){e.Queries="Queries",e.Vis="Visualization"}(x||(x={}));const w=0,E=10},,function(e,t,n){"use strict";n.d(t,"q",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return m})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return _})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"m",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"j",(function(){return C}));var a=n(6),s=n(50),r=n(20),o=n(167);const i=e=>"step"===e||"monotoneX"===e?e:"line",l=e=>{switch(i(e)){case"step":return"step";case"monotoneX":return"monotoneX";default:return"linear"}},c=(e,{prefix:t,suffix:n,base:a,timeZone:i,trimZeros:l=!0,timeFormat:c=r.s}={})=>"number"===e&&"2"===a?Object(s.binaryPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.K}):"number"===e?Object(s.siPrefixFormatter)({prefix:t,suffix:n,significantDigits:r.K,trimZeros:l}):"time"===e?Object(s.timeFormatter)({timeZone:"Local"===i?void 0:i,format:Object(o.b)(c)}):null,u=new Set(["_start","_stop","result"]),m=(e,t)=>e.filter(e=>{if(!u.has(e))return!0;const n=t.getColumn(e);for(const e of n)if(e!==n[0])return!0;return!1}),d=e=>e&&e[0]&&e[1]&&!isNaN(+e[0])&&!isNaN(+e[1])?[+e[0],+e[1]]:null,p=e=>{if(!e||!e[0]&&!e[1])return null;return[isNaN(parseFloat(e[0]))?null:parseFloat(e[0]),isNaN(parseFloat(e[1]))?null:parseFloat(e[1])]},h=e=>{if(!e||!e.length)return null;let t=1/0,n=-1/0;for(const a of e)a<t&&(t=a),a>n&&(n=a);return t===1/0||n===-1/0?null:[t,n]},_=e=>Object(a.get)(e,"table.length",0)>0,g=e=>{return e.columnKeys.filter(t=>{if("result"===t||"table"===t)return!1;const n=e.getColumnType(t);return"time"===n||"number"===n})},f=e=>{return e.columnKeys.filter(t=>{if("result"===t||"table"===t)return!1;return"time"===e.getColumnType(t)})},b=e=>{return e.columnKeys.filter(t=>{if("result"===t||"table"===t)return!1;return"number"===e.getColumnType(t)})},y=e=>{return e.columnKeys.filter(t=>{if("result"===t||"table"===t)return!1;return"string"===e.getColumnType(t)})},v=e=>{const t=new Set(["_value","_time","table"]);return e.columnKeys.filter(e=>!t.has(e))},x=(e,t)=>{const n=[...f(e),...b(e)];if(n.includes(t))return t;for(const e of["_time","_stop","_start"])if(n.includes(e))return e;return n.length?n[0]:null},w=(e,t)=>{const n=[...f(e),...b(e)];if(n.includes(t))return t;for(const e of n)if(e.startsWith("_value"))return e;return n.length?n[0]:null},E=(e,t)=>{const n=y(e);if(n.includes(t))return t;const a=new Set(["_value","status","_field","_measurement"]),s=n.filter(e=>!a.has(e));return s.length?s[0]:n.length?n[0]:null},k=(e,t)=>e>=t[0]&&e<=t[1],S=(e,t)=>e<t[0]?t[0]:e>t[1]?t[1]:e,C=(e,t,n,a)=>{if(e.some(e=>e===n))return n;for(let n=0;n<e.length;n+=1){const s=e[n];if(s!==t&&s!==a)return s}return""}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a,s=n(6);function r(e,t,n,r){return t&&n?Object(s.orderBy)(e,e=>(function(e,t){switch(t){case a.String:return Object(s.toLower)(e);case a.Date:return Date.parse(e);case a.Float:return parseFloat(e);default:return e}})(Object(s.get)(e,t),r),[n]):e}!function(e){e.String="string",e.Date="date",e.Float="float"}(a||(a={}))},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return F})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return C}));var a=n(11),s=n(2),r=n.n(s),o=n(6),i=n.n(o),l=n(3),c=n(117),u=n.n(c),m=n(12),d=n(22),p=n.n(d),h=n(351);let _=class extends s.Component{constructor(e){super(e),this.handleStartEditing=()=>{this.setState({isEditing:!0})},this.handleStopEditing=()=>{const{workingDescription:e}=this.state,{onUpdate:t}=this.props;t(e),this.setState({isEditing:!1})},this.handleInputChange=e=>{this.setState({workingDescription:e.target.value})},this.handleKeyDown=e=>{const{onUpdate:t,description:n}=this.props,{workingDescription:a}=this.state;"Enter"===e.key&&(t(a),this.setState({isEditing:!1})),"Escape"===e.key&&this.setState({isEditing:!1,workingDescription:n})},this.handleInputFocus=e=>{e.currentTarget.select()},this.state={isEditing:!1,workingDescription:e.description}}render(){const{description:e}=this.props,{isEditing:t}=this.state;return t?r.a.createElement("div",{className:"editable-description"},r.a.createElement(h.a,{onClickOutside:this.handleStopEditing},this.input)):r.a.createElement("div",{className:"editable-description"},r.a.createElement("div",{className:this.previewClassName,onClick:this.handleStartEditing},e||"No description",r.a.createElement(l.Icon,{glyph:l.IconFont.Pencil})))}get input(){const{placeholder:e}=this.props,{workingDescription:t}=this.state;return r.a.createElement(l.Input,{size:l.ComponentSize.ExtraSmall,maxLength:90,autoFocus:!0,spellCheck:!1,placeholder:e,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,className:"editable-description--input",value:t})}get previewClassName(){const{description:e}=this.props;return p()("editable-description--preview",{untitled:!e})}};var g=_=Object(a.a)([m.a,Object(a.b)("design:paramtypes",[Object])],_);let f=class extends s.PureComponent{constructor(){super(...arguments),this.handleClickDelete=e=>{this.props.onDelete(e)},this.handleKeyDown=e=>{const{onChange:t,index:n}=this.props;t(n,e)}}render(){const{item:e,fieldName:t}=this.props;return r.a.createElement(l.IndexList,null,r.a.createElement(l.IndexList.Body,{emptyState:r.a.createElement("div",null),columnCount:2},r.a.createElement(l.IndexList.Row,{key:u.a.v4(),disabled:!1},r.a.createElement(l.IndexList.Cell,null,r.a.createElement(g,{description:e.text,placeholder:`Edit ${t}`,onUpdate:this.handleKeyDown})),r.a.createElement(l.IndexList.Cell,{alignment:l.Alignment.Right},r.a.createElement(l.ConfirmationButton,{onConfirm:this.handleClickDelete,returnValue:e,text:"Delete",popoverColor:l.ComponentColor.Danger,popoverAppearance:l.Appearance.Outline,color:l.ComponentColor.Danger,confirmationLabel:"",confirmationButtonColor:l.ComponentColor.Danger,confirmationButtonText:"Confirm",size:l.ComponentSize.ExtraSmall})))))}};f.defaultProps={confirmText:"Delete"};var b=f=Object(a.a)([m.a],f);var y=({tags:e,onDeleteTag:t,onChange:n})=>r.a.createElement("div",{className:"input-tag-list"},e.map(a=>r.a.createElement(b,{index:e.indexOf(a),key:u.a.v4(),item:a,onDelete:t,onChange:n}))),v=n(420);var x;!function(e){e.String="string",e.URI="uri"}(x||(x={}));let w=class extends s.PureComponent{constructor(e){super(e),this.handleInputChange=e=>{const{inputType:t}=this.props,{value:n}=e.target;this.setState({editingText:n}),t===x.URI&&this.debouncedValidate(n)},this.handleSubmit=e=>{e.preventDefault();const t=this.inputRef.current.value.trim(),{tags:n,onAddRow:a}=this.props;this.shouldAddToList(t,n)&&(this.setState({editingText:""}),a(this.inputRef.current.value))},this.handleKeyDown=e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.value.trim(),{tags:n,onAddRow:a}=this.props;if(!this.shouldAddToList(t,n))return;this.setState({editingText:""}),a(e.target.value)}},this.handleDeleteRow=e=>{this.props.onDeleteRow(e.name||e.text)},this.handleValidateURI=e=>{Object(v.a)(e)?this.setState({status:l.ComponentStatus.Valid}):this.setState({status:l.ComponentStatus.Error})},this.state={editingText:"",status:l.ComponentStatus.Default},this.inputRef=r.a.createRef(),this.debouncedValidate=i.a.debounce(this.handleValidateURI,350)}render(){const{title:e,helpText:t,tags:n,autoFocus:a,onEditRow:s}=this.props,{editingText:o}=this.state;return r.a.createElement(l.Grid,null,r.a.createElement(l.Grid.Row,null,r.a.createElement(l.Grid.Column,{widthXS:l.Columns.Eight,offsetXS:l.Columns.One},r.a.createElement(l.Form.Element,{label:e,key:e,helpText:t},r.a.createElement(l.Input,{placeholder:`Type and hit 'Enter' to add to list of ${e}`,autocomplete:l.AutoComplete.Off,type:l.InputType.Text,onKeyDown:this.handleKeyDown,autoFocus:a||!1,value:o,status:this.state.status,onChange:this.handleInputChange,size:l.ComponentSize.Medium,titleText:e,ref:this.inputRef}))),r.a.createElement(l.Grid.Column,{widthXS:l.Columns.Two},r.a.createElement(l.Form.Element,{key:"submit",label:" ",style:{minHeight:"15px"}},r.a.createElement(l.Button,{color:l.ComponentColor.Secondary,onClick:this.handleSubmit,size:l.ComponentSize.Medium,text:"Add",titleText:`Add to list of ${e}`})))),r.a.createElement(l.Grid.Row,null,r.a.createElement(l.Grid.Column,{widthXS:l.Columns.Ten,offsetXS:l.Columns.One},r.a.createElement(y,{tags:n,onDeleteTag:this.handleDeleteRow,onChange:s}))))}shouldAddToList(e,t){return!i.a.isEmpty(e)&&!t.find(t=>t===e)}};var E=w=Object(a.a)([m.a,Object(a.b)("design:paramtypes",[Object])],w);var k=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wizard--full-screen"},e.children,r.a.createElement("div",{className:"wizard--credits","data-testid":"credits"},"Powered by ",r.a.createElement("span",{className:"icon cubo-uniform"})," ",r.a.createElement("a",{href:"https://www.influxdata.com/",target:"_blank"},"InfluxData"))),r.a.createElement("div",{className:"auth-image"}));let S=class extends s.PureComponent{render(){const{title:e,maxWidth:t,children:n,footer:a,onDismiss:s}=this.props;return r.a.createElement(l.Overlay,{visible:!0},r.a.createElement(l.Overlay.Container,{maxWidth:t},r.a.createElement(l.Overlay.Header,{title:e,onDismiss:s}),r.a.createElement(l.Overlay.Body,null,r.a.createElement("div",{className:"data-loading--overlay"},n)),a&&r.a.createElement(l.Overlay.Footer,null,a)))}};S.defaultProps={maxWidth:1200};S=Object(a.a)([m.a],S);var C=e=>{const{children:t}=e;return r.a.createElement("div",{className:"wizard--progress-header"},t)},T=n(259);let O=class extends s.PureComponent{constructor(){super(...arguments),this.handleSetCurrentStep=e=>()=>{const{handleSetCurrentStep:t,currentStepIndex:n}=this.props,a=!this.isStepSkippable&&e>n,s=-1!==this.nextNonSkippableStep&&e>this.nextNonSkippableStep;a||s||t(e)}}render(){return r.a.createElement("div",{className:"wizard--progress-bar"},this.WizardProgress)}get nextNonSkippableStep(){const{currentStepIndex:e,stepSkippable:t,stepStatuses:n}=this.props;return i.a.findIndex(t,(t,a)=>!t&&a>e&&n[a]!==T.b.Complete)}get isStepSkippable(){const{stepSkippable:e,stepStatuses:t,currentStepIndex:n}=this.props;return e[n]||t[n]===T.b.Complete}getStepClass(e){return!this.isStepSkippable&&e>this.props.currentStepIndex?"wizard--progress-button unclickable":"wizard--progress-button"}get WizardProgress(){const{hideFirstStep:e,stepStatuses:t,stepTitles:n,stepTestIds:a,currentStepIndex:s}=this.props,o=t.length-1;return t.reduce((t,i,l)=>{if(e&&0===l)return[...t];let c="";l===s&&i!==T.b.Error&&(c="current");const u=r.a.createElement("div",{key:`stepEle${l}`,className:this.getStepClass(l),onClick:this.handleSetCurrentStep(l)},r.a.createElement("span",{className:`wizard--progress-icon ${c||i}`},r.a.createElement("span",{className:`icon ${i}`})),r.a.createElement("div",{className:`wizard--progress-title ${c||i}`,"data-testid":a[l]},n[l]));if(l===o)return[...t,u];let m=T.a.None;l===s&&i!==T.b.Error&&(m=T.a.Some),l!==o&&i!==T.b.Complete||(m=T.a.Full);const d=r.a.createElement("span",{key:l,className:`wizard--progress-connector wizard--progress-connector--${m||T.a.None}`});return[...t,u,d]},[])}};var D=O=Object(a.a)([m.a],O);class I extends s.Component{constructor(){super(...arguments),this.handleClick=()=>{const{action:e,onCollapseMenu:t,value:n}=this.props;e(n),t&&t()}}render(){const{label:e,disabled:t,testID:n}=this.props;return r.a.createElement("button",{className:this.className,onClick:this.handleClick,disabled:t,"data-testid":n},e,this.description)}get className(){const{disabled:e}=this.props;return p()("context-menu--item",{"context-menu--item__disabled":e})}get description(){const{description:e}=this.props;if(e)return r.a.createElement("div",{className:"contex-menu--item-description"},e)}}I.defaultProps={description:"",testID:"context-menu-item"};var j=I;let R=class extends s.Component{constructor(e){super(e),this.handleExpandMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!0),this.setState({isExpanded:!0})},this.handleCollapseMenu=()=>{const{onBoostZIndex:e}=this.props;e&&e(!1),this.setState({isExpanded:!1})},this.state={isExpanded:!1}}render(){const{icon:e,text:t,shape:n,color:a,testID:s}=this.props;return r.a.createElement(h.a,{onClickOutside:this.handleCollapseMenu},r.a.createElement("div",{className:"context-menu--container"},r.a.createElement(l.Button,{className:this.toggleClassName,onClick:this.handleExpandMenu,text:t,shape:n,icon:e,size:l.ComponentSize.ExtraSmall,color:a,testID:s}),this.menu))}get menu(){const{children:e}=this.props;return r.a.createElement("div",{className:this.menuClassName},r.a.createElement("div",{className:this.listClassName},r.a.Children.map(e,e=>e.type===j?r.a.createElement(j,Object.assign({},e.props,{onCollapseMenu:this.handleCollapseMenu})):e)))}get listClassName(){const{color:e}=this.props;return p()("context-menu--list",{[`context-menu--${e}`]:e})}get menuClassName(){const{isExpanded:e}=this.state;return p()("context-menu--list-container",{open:e})}get toggleClassName(){const{color:e}=this.props,{isExpanded:t}=this.state;return p()("context-menu--toggle",{[`context-menu--${e}`]:e,active:t})}};R.defaultProps={color:l.ComponentColor.Primary,shape:l.ButtonShape.Square,text:"",testID:"context-menu"};var N,A,P,M,L,F,q,B,z,U,H,G,V,$,W=R=Object(a.a)([m.a,Object(a.b)("design:paramtypes",[Object])],R);!function(e){e.Default="default",e.Primary="primary",e.Secondary="secondary",e.Success="success",e.Warning="warning",e.Danger="danger",e.Alert="alert"}(N||(N={})),function(e){e.ExtraSmall="xs",e.Small="sm",e.Medium="md",e.Large="lg"}(A||(A={})),function(e){e.Default="default",e.Loading="loading",e.Error="error",e.Valid="valid",e.Disabled="disabled"}(P||(P={})),function(e){e.Amethyst="amethyst",e.Malachite="malachite",e.Sapphire="sapphire",e.Onyx="onyx"}(M||(M={})),function(e){e.Above="above",e.Below="below"}(L||(L={})),function(e){e.Default="none",e.Square="square",e.StretchToFit="stretch"}(F||(F={})),function(e){e.Button="button",e.Submit="submit"}(q||(q={})),function(e){e.Obsidian="#0f0e15",e.Raven="#181820",e.Kevlar="#202028",e.Castle="#292933",e.Onyx="#31313d",e.Pepper="#383846",e.Smoke="#434453",e.Graphite="#545667",e.Storm="#676978",e.Mountain="#757888",e.Wolf="#8e91a1",e.Sidewalk="#999dab",e.Forge="#a4a8b6",e.Mist="#bec2cc",e.Chromium="#c6cad3",e.Platinum="#d4d7dd",e.Pearl="#e7e8eb",e.Whisper="#eeeff2",e.Cloud="#f6f6f8",e.Ghost="#fafafc",e.White="#ffffff"}(B||(B={})),function(e){e.AddCell="add-cell",e.AlertTriangle="alert-triangle",e.Alerts="alerts",e.Annotate="annotate",e.AnnotatePlus="annotate-plus",e.AuthZero="authzero",e.BarChart="bar-chart",e.Bell="bell",e.BellRinging="bell-ringing",e.BellSolid="bell-solid",e.Calendar="calendar",e.Capacitor="capacitor2",e.CaretDown="caret-down",e.CaretLeft="caret-left",e.CaretRight="caret-right",e.CaretUp="caret-up",e.Chat="chat",e.Checkmark="checkmark",e.Circle="circle",e.CircleThick="circle-thick",e.Clock="clock",e.CogOutline="cog-outline",e.CogThick="cog-thick",e.Collapse="collapse",e.CrownOutline="crown-outline",e.CrownSolid="crown2",e.Cube="cube",e.Cubouniform="cubo-uniform",e.CuboNav="cubo-nav",e.Dashboards="dashboards",e.DashF="dash-f",e.DashH="dash-h",e.DashJ="dash-j",e.Disks="disks",e.Download="download",e.Duplicate="duplicate",e.ExpandA="expand-a",e.ExpandB="expand-b",e.Export="export",e.Eye="eye",e.EyeClosed="eye-closed",e.EyeOpen="eye-open",e.GitHub="github",e.Google="google",e.GraphLine="graphline-2",e.Group="group",e.Heroku="heroku",e.HerokuSimple="",e.Import="import",e.Link="link",e.OAuth="oauth",e.Octagon="octagon",e.Okta="okta",e.Pause="pause",e.Pencil="pencil",e.Play="play",e.Plus="plus",e.PlusSkinny="plus-skinny",e.Pulse="pulse-c",e.Refresh="refresh",e.Remove="remove",e.Search="search",e.Server="server2",e.Shuffle="shuffle",e.Square="square",e.TextBlock="text-block",e.Trash="trash",e.Triangle="triangle",e.User="user",e.UserAdd="user-add",e.UserOutline="user-outline",e.UserRemove="user-remove",e.UsersDuo="users-duo",e.UsersTrio="users-trio",e.Wood="wood",e.Wrench="wrench",e.Star="star",e.Stop="stop",e.Zap="zap"}(z||(z={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten",e[e.Eleven=11]="Eleven",e[e.Twelve=12]="Twelve"}(U||(U={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(H||(H={})),function(e){e.Descending="desc",e.Ascending="asc",e.None="none"}(G||(G={})),function(e){e.Rows="rows",e.Columns="columns"}(V||(V={})),function(e){e.RouterLink="router",e.HTTPLink="http",e.ShowDropdown="showDropdown"}($||($={}));let K=class extends s.PureComponent{constructor(e){super(e),this.handleBoostZIndex=e=>{this.setState({boostZIndex:e})},this.state={boostZIndex:!1}}render(){const{children:e}=this.props;return r.a.createElement("div",{className:this.className},r.a.Children.map(e,e=>e.type===W?r.a.createElement(W,Object.assign({},e.props,{onBoostZIndex:this.handleBoostZIndex})):e))}get className(){const{align:e,className:t}=this.props,{boostZIndex:n}=this.state;return p()("context-menu",{[`${t}`]:t,"context-menu--boost-z":n,"context-menu--align-left":e===H.Left,"context-menu--align-right":e===H.Right})}};K.defaultProps={align:H.Right},K.Menu=W,K.Item=j;var Q=K=Object(a.a)([m.a,Object(a.b)("design:paramtypes",[Object])],K)},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"h",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return D}));var a=n(310);var s,r,o=n(28),i=n(31),l=n(5),c=n(87),u=n(21),m=n(18);!function(e){e.OK="ok",e.EXCEEDED="exceeded"}(s||(s={})),function(e){e.SetLimits="SET_LIMITS",e.SetLimitsStatus="SET_LIMITS_STATUS",e.SetDashboardLimitStatus="SET_DASHBOARD_LIMIT_STATUS",e.SetBucketLimitStatus="SET_BUCKET_LIMIT_STATUS",e.SetTaskLimitStatus="SET_TASK_LIMIT_STATUS",e.SetChecksLimitStatus="SET_CHECKS_LIMIT_STATUS",e.SetRulesLimitStatus="SET_RULES_LIMIT_STATUS",e.SetEndpointsLimitStatus="SET_ENDPOINTS_LIMIT_STATUS",e.SetReadRateLimitStatus="SET_READ_RATE_LIMIT_STATUS",e.SetWriteRateLimitStatus="SET_WRITE_RATE_LIMIT_STATUS",e.SetCardinalityLimitStatus="SET_CARDINALITY_LIMIT_STATUS"}(r||(r={}));const d=e=>({type:r.SetDashboardLimitStatus,payload:{limitStatus:e}}),p=e=>({type:r.SetBucketLimitStatus,payload:{limitStatus:e}}),h=e=>({type:r.SetTaskLimitStatus,payload:{limitStatus:e}}),_=e=>({type:r.SetChecksLimitStatus,payload:{limitStatus:e}}),g=e=>({type:r.SetRulesLimitStatus,payload:{limitStatus:e}}),f=e=>({type:r.SetEndpointsLimitStatus,payload:{limitStatus:e}}),b=e=>({type:r.SetReadRateLimitStatus,payload:{limitStatus:e}}),y=e=>({type:r.SetWriteRateLimitStatus,payload:{limitStatus:e}}),v=e=>({type:r.SetCardinalityLimitStatus,payload:{limitStatus:e}}),x=e=>({type:r.SetLimitsStatus,payload:{status:e}}),w=()=>async(e,t)=>{try{const n=Object(u.a)(t()),r=await(async e=>{try{const{data:t}=await Object(a.a)({method:"GET",url:`/api/v2private/orgs/${e}/limits/status`});return t}catch(e){throw console.error(e),e}})(n.id);r.read.status===s.EXCEEDED?(e(Object(o.c)(Object(i.ec)())),e(b(s.EXCEEDED))):e(b(s.OK)),r.write.status===s.EXCEEDED?e(y(s.EXCEEDED)):e(y(s.OK)),r.cardinality.status===s.EXCEEDED?e(v(s.EXCEEDED)):e(v(s.OK))}catch(e){console.error(e)}},E=()=>async(e,t)=>{e(x(l.RemoteDataState.Loading));try{const n=Object(u.a)(t());e((e=>({type:r.SetLimits,payload:{limits:e}}))(await(async e=>{try{const{data:t}=await Object(a.a)({method:"GET",url:`/api/v2private/orgs/${e}/limits`});return t}catch(e){throw console.error(e),e}})(n.id))),e(x(l.RemoteDataState.Done))}catch(t){console.error(t),e(x(l.RemoteDataState.Error))}},k=()=>(e,t)=>{try{const n=t(),{cloud:{limits:a},resources:r}=n,o=Object(c.h)(a),i=r.dashboards.allIDs.length;e(d(i>=o?s.EXCEEDED:s.OK))}catch(e){console.error(e)}},S=()=>(e,t)=>{try{const n=t(),{cloud:{limits:a}}=n,r=Object(m.a)(n,l.ResourceType.Buckets),o=Object(c.c)(a),i=r.filter(e=>"user"==e.type).length;e(p(i>=o?s.EXCEEDED:s.OK))}catch(e){console.error(e)}},C=()=>(e,t)=>{try{const{cloud:{limits:n},resources:a}=t(),r=Object(c.p)(n),o=a.tasks.allIDs.length;e(h(o>=r?s.EXCEEDED:s.OK))}catch(e){console.error(e)}},T=()=>(e,t)=>{try{const{resources:n,cloud:{limits:a}}=t(),r=Object(c.f)(a),o=n.checks.allIDs.length;e(_(o>=r?s.EXCEEDED:s.OK))}catch(e){console.error(e)}},O=()=>(e,t)=>{try{const{resources:n,cloud:{limits:a}}=t(),r=Object(c.n)(a),o=n.rules.allIDs.length;e(g(o>=r?s.EXCEEDED:s.OK))}catch(e){console.error(e)}},D=()=>(e,t)=>{try{const n=t(),a=n.resources.endpoints.allIDs.length,r=Object(c.j)(n.cloud.limits);e(f(a>=r?s.EXCEEDED:s.OK))}catch(e){console.error(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c}));const a="auto",s=!1,r="mean",o=["5s","15s","1m","5m","15m","1h","6h","12h","24h","2d","7d","30d"],i=(e,t,n=!1)=>{if("none"===t)return`|> ${e}()`;switch(e){case"derivative":return"|> derivative(unit: 1s, nonNegative: false)";case"nonnegative derivative":return"|> derivative(unit: 1s, nonNegative: true)";case"median":case"mean":case"max":case"min":case"sum":case"stddev":case"first":case"last":return`|> aggregateWindow(every: ${t}, fn: ${e}, createEmpty: ${n})`;default:return`|> ${e}()`}},l=[{name:"mean",flux:(e,t)=>i("mean",e,t)},{name:"median",flux:(e,t)=>i("median",e,t)},{name:"last",flux:(e,t)=>i("last",e,t)}],c=[l[0],l[1],{name:"max",flux:(e,t)=>i("max",e,t)},{name:"min",flux:(e,t)=>i("min",e,t)},{name:"sum",flux:(e,t)=>i("sum",e,t)},{name:"derivative",flux:(e,t)=>i("derivative",e,t)},{name:"nonnegative derivative",flux:(e,t)=>i("nonnegative derivative",e,t)},{name:"distinct",flux:(e,t)=>i("distinct",e,t)},{name:"count",flux:(e,t)=>i("count",e,t)},{name:"increase",flux:(e,t)=>i("increase",e,t)},{name:"skew",flux:(e,t)=>i("skew",e,t)},{name:"spread",flux:(e,t)=>i("spread",e,t)},{name:"stddev",flux:(e,t)=>i("stddev",e,t)},{name:"first",flux:(e,t)=>i("first",e,t)},l[2],{name:"unique",flux:(e,t)=>i("unique",e,t)},{name:"sort",flux:(e,t)=>i("sort",e,t)}]},,function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"a",(function(){return x})),n.d(t,"h",(function(){return w}));var a=n(6),s=n(26),r=n(316),o=n(112),i=n(251),l=n(120),c=n(317);const u=e=>e.variableEditor.name,m=e=>e.variableEditor.selected,d=e=>e.variableEditor.argsQuery||{type:"query",values:{query:"",language:"flux"}},p=e=>e.variableEditor.argsMap||{type:"map",values:{}},h=e=>e.variableEditor.argsConstant||{type:"constant",values:[]},_=(e,t)=>{const n=Object(a.get)(e,["resources","variables","allIDs"],[]),s=Object(a.get)(e,["resources","variables","values",t,"order"],[]);return s.filter(e=>n.includes(e)).concat(n.filter(e=>!s.includes(e)))},g=(e,t)=>{return _(e,t||Object(c.a)(e)).reduce((t,n)=>(t.push(y(e,n)),t),[]).filter(e=>!!e)},f=(e,t)=>{return _(e,t||Object(c.a)(e)).concat([l.c,l.d,l.e]).reduce((t,n)=>(t.push(y(e,n)),t),[]).filter(e=>!!e)},b=e=>e.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1),y=(e,t)=>{const n=Object(c.a)(e),u=Object(a.get)(e,["resources","variables","values",n]);let m=Object(a.get)(e,["resources","variables","byID",t]);if(u&&u.values&&u.values.hasOwnProperty(t)&&(m=Object.assign(Object.assign({},m),u.values[t])),t===l.c||t===l.d){const n=Object(o.b)(e);m=Object(r.a)(t,n)}if(t===l.e){const{text:t}=Object(s.a)(e),n=g(e),a=Object(o.a)(e),c=[Object(r.a)(l.c,a),Object(r.a)(l.d,a)].map(e=>x(e)),u=n.reduce((e,t)=>t.name&&t.selected?[...e,x(t)]:e,c);m=(Object(i.c)(t,u)||[])[0]}if(!m)return m;"query"===m.arguments.type&&(!u||!u.values||u.values.hasOwnProperty(t));const d=v(m);return(!(m=Object.assign({},m)).selected||m.selected&&m.selected.length&&!d.includes(m.selected[0]))&&(m.selected=[]),!m.selected.length&&d.length&&m.selected.push(d[0]),m},v=e=>{switch(e.arguments.type){case"query":return e.arguments.values.results||[];case"map":return Object.keys(e.arguments.values)||[];case"constant":return e.arguments.values||[];default:return[]}},x=e=>{const t={type:"VariableAssignment",id:{type:"Identifier",name:e.name}};if(e.id===l.e)return t.init={type:"DurationLiteral",values:[{magnitude:e.arguments.values[0]||1e4,unit:"ms"}]},t;if(e.id===l.c||e.id===l.d){const n=e.arguments.values[0];return isNaN(Date.parse(n))?"now()"===n?t.init={type:"CallExpression",callee:{type:"Identifier",name:"now"}}:n&&(t.init={type:"UnaryExpression",operator:"-",argument:{type:"DurationLiteral",values:n}}):t.init={type:"DateTimeLiteral",value:new Date(n).toISOString()},t}return"map"===e.arguments.type&&(e.selected||(e.selected=[Object.keys(e.arguments.values)[0]]),t.init={type:"StringLiteral",value:e.arguments.values[e.selected[0]]}),"constant"===e.arguments.type&&(e.selected||(e.selected=[e.arguments.values[0]]),t.init={type:"StringLiteral",value:e.selected[0]}),"query"===e.arguments.type&&(e.selected&&e.selected[0]?t.init={type:"StringLiteral",value:e.selected[0]}:t.init={type:"StringLiteral",value:""}),t},w=e=>Object(a.get)(e,"resources.variables.status")},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(2),s=n.n(a),r=n(82),o=n(366),i=n(5),l=n(367);const c={id:"",data:{},queryText:"",update:()=>{},loading:i.RemoteDataState.NotStarted,results:{source:"",raw:"",parsed:{}},readOnly:!1},u=s.a.createContext(c),m=({id:e,children:t})=>{var n;const{flow:i}=Object(a.useContext)(r.a),m=Object(a.useContext)(o.a),{generateMap:d}=Object(a.useContext)(l.a),p=(null===(n=Object(a.useMemo)(()=>d(!0),[d,i.data.get(e)]).filter(t=>t.instances.includes(e))[0])||void 0===n?void 0:n.text)||"";let h;try{h=m.get(e)}catch(e){h=Object.assign({},c.results)}return s.a.createElement(u.Provider,{value:{id:e,data:i.data.get(e),queryText:p,update:t=>{i.data.update(e,t)},results:h,loading:i.meta.get(e).loading,readOnly:i.readOnly}},t)}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),s=n.n(a),r=n(246),o=n(117),i=n(5);const l=s.a.createContext({id:null,name:"Name this Flow",flow:null,add:()=>"",update:()=>{}});let c=0;const u=e=>{switch(++c,e){case"data":return`Bucket ${c}`;case"queryBuilder":return`Metric Selector ${c}`;case"visualization":return`Visualization ${c}`;case"markdown":return`Markdown ${c}`;case"query":return`Flux Script ${c}`;case"bucket":return`Output to Bucket ${c}`;default:return`Cell ${c}`}},m=({children:e})=>{const{flows:t,update:n,currentID:c}=Object(a.useContext)(r.a),m=Object(a.useCallback)(e=>{n(c,Object.assign(Object.assign({},t[c]),e))},[c]),d=(e,n)=>{const a=Object(o.v4)();return t[c].data.add(a,e),t[c].meta.add(a,{title:u(e.type),visible:!0,loading:i.RemoteDataState.NotStarted}),void 0!==n&&t[c].data.move(a,n+1),a};return Object(a.useMemo)(()=>t&&t.hasOwnProperty(c)?s.a.createElement(l.Provider,{value:{id:c,name:name,flow:t[c],add:d,update:m}},e):null,[c,(t||{})[c]])};t.b=({children:e})=>s.a.createElement(r.b,null,s.a.createElement(m,null,e))},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"j",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"o",(function(){return b}));var a=n(3);const s="Name this Check",r="Name this Notification Rule",o=68,i="1m",l="0s",c=[],u=!1,m="CRIT",d="Check: ${ r._check_name } is: ${ r._level }",p=["0s","5s","15s","1m","5m","15m","1h","6h","12h","24h","2d","7d","30d"],h="_monitoring",_={OK:a.InfluxColors.Viridian,INFO:a.InfluxColors.Ocean,WARN:a.InfluxColors.Thunder,CRIT:a.InfluxColors.Fire,UNKNOWN:a.InfluxColors.Amethyst},g={OK:a.ComponentColor.Success,INFO:a.ComponentColor.Primary,WARN:a.ComponentColor.Warning,CRIT:a.ComponentColor.Danger},f={slack:"https://hooks.slack.com/services/X/X/X",pagerduty:"https://events.pagerduty.com/v2/enqueue",http:"https://www.example.com/endpoint"},b={name:"Name this Endpoint",description:"",activeStatus:"active",type:"slack",token:"",url:f.slack,status:a.RemoteDataState.Done,labels:[]};a.RemoteDataState.Done,a.RemoteDataState.Done},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(148),s=n(6),r=n(205);const o=`${Object(r.a)()}/api/v2`,i=e=>{let t=Object(s.get)(e,"response.data.error.message");return t||(t=Object(s.get)(e,"response.data.error")),t||(t=Object(s.get)(e,"response.headers.x-influx-error")),t||(t=Object(s.get)(e,"response.data.message")),t||(t=Object(s.get)(e,"message")),t||(t="unknown error"),t},l=new a.a(o)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(42),s=n(5),r=n(229);const o=new a.b.Entity(s.ResourceType.Labels,{},{processStrategy:e=>Object(r.a)(e)}),i=[o]},,function(e,t,n){"use strict";n.d(t,"q",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return _})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"l",(function(){return x})),n.d(t,"k",(function(){return w}));var a=n(6),s=n(151),r=n(68);const o=e=>Object(a.get)(e,"response.status","")===s.a,i=e=>Object(a.get)(e,"buckets.limitStatus"),l=e=>Object(a.get)(e,"buckets.maxAllowed")||1/0,c=e=>Object(a.get)(e,"buckets.maxRetentionSeconds",null),u=e=>Object(a.get)(e,"dashboards.limitStatus"),m=e=>Object(a.get)(e,"dashboards.maxAllowed")||1/0,d=e=>Object(a.get)(e,"tasks.limitStatus"),p=e=>Object(a.get)(e,"tasks.maxAllowed")||1/0,h=e=>Object(a.get)(e,"checks.limitStatus"),_=e=>Object(a.get)(e,"checks.maxAllowed")||1/0,g=e=>Object(a.get)(e,"rules.limitStatus"),f=e=>Object(a.get)(e,"rules.maxAllowed")||1/0,b=e=>Object(a.get)(e,"endpoints.limitStatus"),y=e=>Object(a.get)(e,"endpoints.maxAllowed")||1/0,v=e=>Object(a.get)(e,"endpoints.blocked")||[],x=e=>{return[Object(a.get)(e,"rate.writeKBs.limitStatus"),Object(a.get)(e,"rate.readKBs.limitStatus"),Object(a.get)(e,"rate.cardinality.limitStatus")].includes(r.b.EXCEEDED)?r.b.EXCEEDED:r.b.OK},w=e=>{const t=[];return Object(a.get)(e,"rate.readKBs.limitStatus")===r.b.EXCEEDED&&t.push("read"),Object(a.get)(e,"rate.writeKBs.limitStatus")===r.b.EXCEEDED&&t.push("write"),Object(a.get)(e,"rate.cardinality.limitStatus")===r.b.EXCEEDED&&t.push("cardinality"),t}},,,,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"k",(function(){return O})),n.d(t,"e",(function(){return D})),n.d(t,"h",(function(){return I})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return R})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return A}));var a=n(42),s=n(6),r=n(28),o=n(166),i=n(313),l=n(206),c=n(230),u=n(14),m=n(379),d=n(168),p=n(71),h=n(321),_=n(790),g=n(21),f=n(18),b=n(317),y=n(36),v=n(31),x=n(5),w=n(261),E=n(26);const k=e=>async(t,n)=>{try{const s=n();Object(f.e)(s,x.ResourceType.Variables)===x.RemoteDataState.NotStarted&&t(Object(i.q)(x.RemoteDataState.Loading));const r=Object(g.a)(s),o=await u.S({query:{orgID:r.id}},{signal:null==e?void 0:e.signal});if(!o)return;if(200!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data.variables,c.a),m=Object(p.j)(s).reduce((e,t)=>(e[t.id]=t,e),{});l.result.map(e=>l.entities.variables[e]).filter(e=>m.hasOwnProperty(e.id)).forEach(e=>{l.entities.variables[e.id].selected=m[e.id].selected}),l.result.map(e=>l.entities.variables[e]).filter(e=>"query"===e.arguments.type).forEach(e=>{l.entities.variables[e.id].status=x.RemoteDataState.NotStarted}),await t(Object(i.q)(x.RemoteDataState.Done,l))}catch(e){console.error(e),t(Object(i.q)(x.RemoteDataState.Error)),t(Object(r.c)(v.Db()))}},S=(e,t)=>async(n,r)=>{const o=r(),l=Object(g.a)(o),u=Object(p.j)(o),d=(e=>{if("dashboard"===e.currentPage){const t=e.currentDashboard.id;return Object.values(e.resources.views.byID).filter(e=>e.dashboardID===t)}if("de"===Object(s.get)(e,["timeMachines","activeTimeMachineID"])){return[Object(E.c)(e).view]}return[]})(o),h=d.length?Object(w.a)(u,d):u,_=Object(m.c)(h,Object(p.g)(o),{orgID:l.id,url:o.links.query.self,skipCache:e,controller:t});_.on("status",(e,t)=>{if(t!==x.RemoteDataState.Loading){if(t===x.RemoteDataState.Done){const t=Object(a.a)(e,c.b);n(Object(i.p)(e.id,x.RemoteDataState.Done,t))}}else n(Object(i.p)(e.id,t))}),await _.promise},C=e=>async(t,n)=>{try{const s=Object(g.a)(n()),o=await u.Bb({data:Object.assign(Object.assign({},e),{orgID:s.id})});if(201!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data,c.b);t(Object(i.p)(o.data.id,x.RemoteDataState.Done,l)),t(Object(r.c)(v.ab(e.name)))}catch(e){console.error(e),t(Object(r.c)(v.Z(e.message)))}},T=e=>async(t,n)=>{try{const s=n(),o=Object(g.a)(s),l=await Object(d.c)(e,o.id),u=Object(a.a)(l,c.b);t(Object(i.p)(l.id,x.RemoteDataState.Done,u)),t(Object(r.c)(v.ab(l.name)))}catch(e){console.error(e),t(Object(r.c)(v.Z(e.message)))}},O=(e,t)=>async(n,s)=>{try{n(Object(i.p)(e,x.RemoteDataState.Loading));const o=s(),l=Object(f.d)(o,t.labels),m=await u.eb({variableID:e,data:Object.assign(Object.assign({},t),{labels:l})});if(200!==m.status)throw new Error(m.data.message);const d=Object(a.a)(m.data,c.b);n(Object(i.p)(e,x.RemoteDataState.Done,d)),n(Object(r.c)(v.Sc(m.data.name)))}catch(t){console.error(t),n(Object(i.p)(e,x.RemoteDataState.Error)),n(Object(r.c)(v.Rc(t.message)))}},D=e=>async t=>{try{t(Object(i.p)(e,x.RemoteDataState.Loading));const n=await u.s({variableID:e});if(204!==n.status)throw new Error(n.data.message);t(Object(i.n)(e)),t(Object(r.c)(v.nb()))}catch(n){console.error(n),t(Object(i.p)(e,x.RemoteDataState.Done)),t(Object(r.c)(v.mb(n.message)))}},I=(e,t)=>async(n,a)=>{const s=Object(b.a)(a());await n(Object(i.m)(e,t,s))},j=e=>async(t,n)=>{try{t(Object(o.l)(x.RemoteDataState.Loading));const s=n(),r=Object(g.a)(s),i=await u.R({variableID:e});if(200!==i.status)throw new Error(i.data.message);const l=await u.S({query:{orgID:r.id}});if(200!==l.status)throw new Error(l.data.message);const m=Object(a.a)(i.data,c.b),d=Object(a.a)(l.data.variables,c.a),p=m.entities.variables[m.result],f=Object.values(d.entities.variables),b=Object(_.b)(p,f),y=Object(h.d)(s,p,b);t(Object(o.l)(x.RemoteDataState.Done,y))}catch(e){t(Object(o.l)(x.RemoteDataState.Error)),t(Object(r.c)(v.Y(e)))}},R=(e,t)=>async n=>{try{const s=await u.Cb({variableID:e,data:{labelID:t.id}});if(201!==s.status)throw new Error(s.data.message);const r=await u.R({variableID:e});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,c.b);n(Object(i.p)(e,x.RemoteDataState.Done,o))}catch(e){console.error(e),n(Object(r.c)(v.q()))}},N=(e,t)=>async n=>{try{const s=await u.t({variableID:e,labelID:t.id});if(204!==s.status)throw new Error(s.data.message);const r=await u.R({variableID:e});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data,c.b);n(Object(i.p)(e,x.RemoteDataState.Done,o))}catch(e){console.error(e),n(Object(r.c)(v.ic()))}},A=(e,t)=>async(n,s)=>{const r=s(),o=Object(b.a)(r),u=Object(p.i)(r,e);Object(p.k)(u).includes(t)&&(await n(Object(i.o)(o,e,t)),Object(y.c)("hydratevars")?n((e=>async(t,n)=>{const s=n(),r=Object(g.a)(s),o=Object(p.i)(s,e),l=Object(m.c)([o],Object(p.g)(s),{orgID:r.id,url:s.links.query.self,skipCache:!0});l.on("status",(e,n)=>{if(n!==x.RemoteDataState.Loading){if(n===x.RemoteDataState.Done){const n=Object(a.a)(e,c.b);t(Object(i.p)(e.id,x.RemoteDataState.Done,n))}}else t(Object(i.p)(e.id,n))}),await l.promise})(e)):n(S(!0)),n(Object(l.f)({[u.name]:t})))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return L})),n.d(t,"b",(function(){return F})),n.d(t,"i",(function(){return q})),n.d(t,"e",(function(){return B})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return U})),n.d(t,"m",(function(){return H})),n.d(t,"a",(function(){return G})),n.d(t,"k",(function(){return V})),n.d(t,"c",(function(){return $})),n.d(t,"l",(function(){return W})),n.d(t,"j",(function(){return K})),n.d(t,"n",(function(){return Q})),n.d(t,"f",(function(){return Y}));var a=n(42),s=n(107),r=n(6),o=n(431),i=n(14),l=n(168),c=n(290),u=n(163),m=n(154),d=n(28),p=n(206),h=n(94),_=n(166),g=n(68),f=n(312),b=n(228),y=n(530),v=n(149),x=n(227),w=n(430),E=n(150),k=n(261),S=n(321),C=n(790),T=n(26),O=n(325),D=n(87),I=n(21),j=n(18),R=n(31),N=n(49),A=n(207),P=n(5),M=n(230);const L=()=>async(e,t)=>{try{const n=Object(I.a)(t()),r={name:N.e,cells:[],orgID:n.id},o=await i.jb({data:r});if(201!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data,u.k);await e(x.setDashboard(o.data.id,P.RemoteDataState.Done,l)),e(Object(s.e)(`/orgs/${n.id}/dashboards/${o.data.id}`)),e(Object(g.e)())}catch(t){console.error(t),Object(D.q)(t)?e(Object(d.c)(R.kc("dashboards"))):e(Object(d.c)(R.db()))}},F=(e,t)=>async(n,r)=>{try{const l=r(),c=Object(I.a)(l),m=Object(j.a)(l,P.ResourceType.Dashboards).map(e=>e.name),d=Object(O.a)(m,t),p=await i.A({dashboardID:e,query:{include:"properties"}});if(200!==p.status)throw new Error(p.data.message);const{entities:h,result:_}=Object(a.a)(p.data,u.k),f=h.dashboards[_],b=Object.values(h.cells||{}),y=await i.jb({data:{orgID:c.id,name:d,description:f.description||""}});if(201!==y.status)throw new Error(y.data.message);const v=Object(a.a)(y.data,u.k);await n(x.setDashboard(y.data.id,P.RemoteDataState.Done,v));const w=p.data.labels.map(e=>i.lb({dashboardID:y.data.id,data:{labelID:e.id}})),E=await Promise.all(w);if(E.length>0&&E.some(e=>201!==e.status))throw new Error("An error occurred cloning the labels for this dashboard");const k=y.data.id,S=await o.a(b,e,k),C=await Promise.all(S);if(C.length>0&&C.some(e=>200!==e.status))throw new Error("An error occurred cloning the dashboard");n(Object(g.e)()),n(Object(s.e)(`/orgs/${c.id}/dashboards/${y.data.id}`))}catch(e){console.error(e),Object(D.q)(e)?n(Object(d.c)(R.kc("dashboards"))):n(Object(d.c)(R.db()))}},q=()=>async(e,t)=>{try{const{setDashboards:n}=x,s=t();Object(j.e)(s,P.ResourceType.Dashboards)===P.RemoteDataState.NotStarted&&e(n(P.RemoteDataState.Loading));const r=Object(I.a)(s),o=await i.B({query:{orgID:r.id,limit:A.b}});if(200!==o.status)throw new Error(o.data.message);const l=Object(a.a)(o.data.dashboards,u.c);if(e(n(P.RemoteDataState.Done,l)),!l.result.length)return;const c=[],d=[];setTimeout(()=>{Object.values(l.entities.dashboards).map(e=>({id:e.id,cells:e.cells.map(e=>l.entities.cells[e])})).forEach(e=>{const t=Object(m.h)(e.cells,e.id),n=Object(a.a)(t,u.g);d.push(n);const s=Object(a.a)(e.cells,u.b);c.push(s)}),e(Object(b.h)(P.RemoteDataState.Done,c,d))},0)}catch(t){throw e(x.setDashboards(P.RemoteDataState.Error)),console.error(t),t}},B=e=>async(t,n)=>{try{const s=Object(I.a)(n());await l.a(e,s.id);const r=await i.B({query:{orgID:s.id}});if(200!==r.status)throw new Error(r.data.message);const o=Object(a.a)(r.data.dashboards,u.c);t(x.setDashboards(P.RemoteDataState.Done,o)),t(Object(d.c)(R.Gb())),t(Object(g.e)())}catch(e){Object(D.q)(e)?t(Object(d.c)(R.kc("dashboards"))):t(Object(d.c)(R.Fb(e)))}},z=(e,t)=>async n=>{n(x.removeDashboard(e)),n(Object(p.b)(e));try{const a=await i.f({dashboardID:e});if(204!==a.status)throw new Error(a.data.message);n(Object(d.c)(R.gb(t))),n(Object(g.e)())}catch(e){n(Object(d.c)(R.fb(t,e.message)))}},U=(e,t)=>async(n,r)=>{try{n(x.setDashboard(e,P.RemoteDataState.Loading));const[s]=await Promise.all([i.A({dashboardID:e,query:{include:"properties"}},{signal:null==t?void 0:t.signal}),n(Object(h.f)(t))]);if(!s)return;if(200!==s.status)throw new Error(s.data.message);const r=Object(a.a)(s.data,u.k),o=s.data.cells||[],l=Object(m.h)(o,e);setTimeout(()=>{const s=Object(a.a)(o,u.b);n(Object(f.f)(e,P.RemoteDataState.Done,s));const i=Object(a.a)(l,u.g);if(n(Object(b.g)(P.RemoteDataState.Done,i)),n(x.setDashboard(e,P.RemoteDataState.Done,r)),n(Object(p.g)(e)),o.length>0){const e=!0;n(Object(h.g)(e,t))}},0)}catch(t){if("AbortError"===t.name)return;const a=Object(I.a)(r());return n(Object(s.e)(`/orgs/${a.id}/dashboards-list`)),void n(Object(d.c)(R.hb(e,t.message)))}},H=(e,t)=>async(n,s)=>{const r=s(),o=Object(j.c)(r,P.ResourceType.Dashboards,e),l=Object.assign(Object.assign({},o),t);try{const e=await i.W({dashboardID:l.id,data:{name:l.name,description:l.description}});if(200!==e.status)throw new Error(e.data.message);const t=Object(a.a)(e.data,u.k);n(x.editDashboard(t))}catch(e){console.error(e),n(Object(d.c)(R.ib()))}},G=(e,t)=>async n=>{try{const s=await i.lb({dashboardID:e,data:{labelID:t.id}});if(201!==s.status)throw new Error(s.data.message);const r=Object(a.a)(s.data.label,u.l);n(Object(v.g)(e,r))}catch(e){console.error(e),n(Object(d.c)(R.n()))}},V=(e,t)=>async n=>{try{const a=await i.h({dashboardID:e,labelID:t.id});if(204!==a.status)throw new Error(a.data.message);n(x.removeDashboardLabel(e,t.id))}catch(e){console.error(e),n(Object(d.c)(R.jc()))}},$=e=>async(t,n)=>{try{t(Object(_.l)(P.RemoteDataState.Loading));const s=n(),r=Object(I.a)(s),l=await i.A({dashboardID:e});if(200!==l.status)throw new Error(l.data.message);const{entities:c,result:m}=Object(a.a)(l.data,u.k),d=c.dashboards[m],p=d.cells.map(e=>c.cells[e]),h=d.cells.map(t=>o.b(e,t)),g=await Promise.all(h),f=await i.S({query:{orgID:r.id}});if(200!==f.status)throw new Error(f.data.message);let b=[];if(f.data.variables.length){const e=Object(a.a)(f.data.variables,M.a);b=Object.values(e.entities.variables)}const y=Object(k.a)(b,g),v=Object(C.a)(y,b),x=Object(S.a)(s,d,p,g,v);t(Object(_.l)(P.RemoteDataState.Done,x))}catch(e){console.error(e),t(Object(_.l)(P.RemoteDataState.Error)),t(Object(d.c)(R.Y(e)))}},W=e=>async(t,n)=>{const a=Object(T.j)(n());try{a.id?await t(Object(y.c)(e,a)):await t(Object(c.a)(e,a))}catch(e){throw console.error(e),t(Object(d.c)(R.H(e.message))),e}},K=e=>(t,n)=>{const a=n(),s=Object(j.c)(a,P.ResourceType.Views,e);if(!s)return;const o=s,i=Object(r.get)(o,"properties.note",""),l=Object(r.get)(o,"properties.showNoteWhenEmpty",!1),c={viewID:o.id,note:i,showNoteWhenEmpty:l,mode:P.NoteEditorMode.Editing};t(Object(w.d)(c))},Q=e=>(t,n)=>{const a=n(),{note:s,showNoteWhenEmpty:r}=a.noteEditor,o=Object(j.c)(a,P.ResourceType.Views,e);if("check"===o.properties.type)throw new Error(`view type "${o.properties.type}" does not support notes`);const i=Object.assign(Object.assign({},o),{properties:Object.assign(Object.assign({},o.properties),{note:s,showNoteWhenEmpty:r})});return t(Object(y.b)(o.dashboardID,i))},Y=e=>(t,n)=>{const a=Object(j.c)(n(),P.ResourceType.Dashboards,e);if(!a)throw new Error(`could not find dashboard with id "${e}"`);const{note:s}=n().noteEditor,r=Object(E.a)("markdown");return r.properties.note=s,t(Object(c.a)(a.id,r))}},,,,,,,function(e,t,n){"use strict";n.d(t,"j",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return M})),n.d(t,"d",(function(){return L})),n.d(t,"h",(function(){return F})),n.d(t,"c",(function(){return q}));var a=n(426),s=n(6),r=n(121),o=n(208),i=n(789),l=n(28),c=n(94),u=n(31),m=n(26),d=n(429),p=n(36),h=n(71),_=n(183),g=n(427),f=n(791);const b=(e,t)=>"invalid"===e&&t.includes("unsupported aggregate column type");var y=n(29),v=n(261),x=n(5),w=n(21),E=n(18),k=n(112);const S=(e,t,n,a,s)=>({type:"SET_QUERY_RESULTS",payload:{status:e,files:t,fetchDuration:n,errorMessage:a,statuses:s}});let C=null;const T=(e,t)=>{const n=Object(a.a)(e),r=Object(g.a)(n,D).map(e=>Object(s.get)(e,"arguments.0.properties.0.value.value","")),o=t.find(e=>r.includes(e.name));return Object(s.get)(o,"orgID",null)},O=e=>{const t=Object(a.a)(e),n=Object(g.a)(t,I).map(e=>Object(s.get)(e,"arguments.0.properties.0.value.values.0.magnitude","")),r=Object(g.a)(t,D).map(e=>Object(s.get)(e,"arguments.0.properties.0.value.value","")),o=Object(g.a)(t,I).map(e=>Object(s.get)(e,"arguments.0.properties.1.value.name","")),i=Object(g.a)(t,j).map(e=>Object(s.get)(e,"arguments.0.properties.0.value.body.left.property.value","")),l=Object(g.a)(t,j).map(e=>Object(s.get)(e,"arguments.0.properties.0.value.body.right.value","")),c=o.join(),u=n.join();return{builderConfig:{buckets:r,functions:[{name:c}],tags:[{aggregateFunctionType:"filter",key:i.pop(),values:[l.pop()]}],aggregateWindow:{period:u}},editMode:"builder",name:"",text:e}},D=e=>"CallExpression"===Object(s.get)(e,"type")&&"Identifier"===Object(s.get)(e,"callee.type")&&"from"===Object(s.get)(e,"callee.name")&&"bucket"===Object(s.get)(e,"arguments.0.properties.0.key.name"),I=e=>"Identifier"===Object(s.get)(e,"callee.type")&&"aggregateWindow"===Object(s.get)(e,"callee.name")&&"fn"===Object(s.get)(e,"arguments.0.properties.1.key.name"),j=e=>"Identifier"===Object(s.get)(e,"callee.type")&&"filter"===Object(s.get)(e,"callee.name")&&"FunctionExpression"===Object(s.get)(e,"arguments.0.properties.0.value.type"),R=(e,t,n)=>{const a=`${Object(o.d)(e)}`,r=Object(v.b)(t,[e]),i=Object(s.sortBy)(r,["name"]).map(e=>Object(o.a)(e)),l=JSON.stringify(i);return`${a}_${`${Object(o.d)(l)}`}_${Object(o.d)(n)}`},N={},A=e=>{e in N&&(N[e].cancel(),delete N[e])},P=()=>{(e=>{e.length>0&&e.forEach(e=>A(e)),Object.keys(N).forEach(e=>{A(e)})})(Object.keys(N))},M=(e,t)=>{N[e]={cancel:t.cancel,issuedAt:Date.now(),promise:t.promise,status:x.RemoteDataState.Loading},t.promise.then(()=>{N[e].status=x.RemoteDataState.Done}).catch(t=>{"CancellationError"!==t.name&&"AbortError"!==t.name?N[e].status=x.RemoteDataState.Error:N[e].status=x.RemoteDataState.Done})},L=e=>async(t,n)=>{const a=Date.now(),s=n(),g=Object(E.a)(s,x.ResourceType.Buckets),v=Object(m.c)(s).view.properties.queries.filter(({text:e})=>!!e.trim());v.length||t(S(x.RemoteDataState.Done,[],null));try{P(),t(S(x.RemoteDataState.Loading,[],null)),await t(Object(c.g)());const n=Object(h.g)(s),m=n.map(e=>Object(h.a)(e)).filter(e=>!!e),E=window.performance.now(),O=Date.now(),D=v.map(({text:t})=>{Object(y.a)("executeQueries query",{},{query:t});const a=T(t,g)||Object(w.a)(s).id;Object(w.a)(s).id===a?Object(y.a)("orgData_queried"):Object(y.a)("demoData_queried");const i=Object(_.a)(m);Object(y.a)("runQuery",{context:"timeMachine"});const l=R(t,n,a);if(Object(k.d)(s)){Object(o.f)(t);const e=Object(o.b)(a,t,s);return M(l,e),e}const c=Object(r.a)(a,t,i,e);return M(l,c),c}),I=await Promise.all(D.map(e=>e.promise)),j=window.performance.now()-E;Object(y.a)("executeQueries querying",{time:O},{duration:j});let N=[[]];const{alertBuilder:{id:A}}=s;if(A){const e=Object(_.a)(m);C=Object(i.a)(Object(w.a)(s).id,A,e),N=await C.promise}for(const e of I){if("UNKNOWN_ERROR"===e.type)throw Object(f.b)(e.code,e.message)&&t(Object(l.c)(Object(u.pb)(Object(f.a)(Object(w.a)(s).id)))),b(e.code,e.message)&&s.currentExplorer.isAutoFunction&&t(Object(l.c)(Object(u.Nc)({aggregateType:!0,message:'It looks like you\'re trying to apply a number-based aggregate function to a string, which cannot be processed. You can fix this by selecting the Aggregate Function "Last"'}))),new Error(e.message);if("RATE_LIMIT_ERROR"===e.type)throw t(Object(l.c)(Object(u.dc)(e.retryAfter))),new Error(e.message);e.didTruncate&&t(Object(l.c)(Object(u.lc)(e.bytesRead))),Object(p.c)("fluxParser")&&Object(d.a)(e.csv)}const L=I.map(e=>e.csv);return t(S(x.RemoteDataState.Done,L,j,null,N)),Object(y.a)("executeQueries function",{time:a},{duration:Date.now()-a}),I}catch(e){if("CancellationError"===e.name||"AbortError"===e.name)return void t(S(x.RemoteDataState.Done,null,null));console.error(e),t(S(x.RemoteDataState.Error,null,null,e.message))}},F=e=>t=>{t({type:"SAVE_DRAFT_QUERIES"}),t(S(x.RemoteDataState.Loading,[],null)),t(L(e))},q=()=>async(e,t)=>{const n=t(),{text:s}=Object(m.a)(n),{id:o}=Object(w.a)(n);""==s&&e(S(x.RemoteDataState.Done,[],null));try{e(S(x.RemoteDataState.Loading,null,null,null));const t=Date.now(),n=Object(a.a)('import "influxdata/influxdb/monitor"\noption monitor.write = yield'),i=await Object(r.a)(o,s,n).promise,c=Date.now()-t;if("UNKNOWN_ERROR"===i.type)throw new Error(i.message);if("RATE_LIMIT_ERROR"===i.type)throw e(Object(l.c)(Object(u.dc)(i.retryAfter))),new Error(i.message);i.didTruncate&&e(Object(l.c)(Object(u.lc)(i.bytesRead))),Object(p.c)("fluxParser")&&Object(d.a)(i.csv);const m=i.csv;e(S(x.RemoteDataState.Done,[m],c,null))}catch(t){if("CancellationError"===t.name)return;console.error(t),e(S(x.RemoteDataState.Error,null,null,t.message))}}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));n(6);var a=n(8),s=n.n(a),r=n(317);var o=n(139);const i=e=>{const t=Object(r.a)(e);return e.ranges&&e.ranges.hasOwnProperty(t)&&e.ranges[t]||o.b},l=e=>{const t=i(e),n=d(e),a=Object.assign({},t);return"custom"===t.type&&"UTC"===n&&(a.lower=m(a.lower),a.upper=m(a.upper)),a},c=e=>e.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1),u=e=>"dashboard"===e.currentPage,m=e=>s.a.utc(e).subtract((()=>(new Date).getTimezoneOffset())(),"minutes").format(),d=e=>e.app.persisted.timeZone||"Local"},,,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return g}));var a=n(8),s=n.n(a),r=n(139);const o=e=>e.replace(/\s/g,"").replace(/now\(\)-/,""),i=e=>{return!(!e||!e.includes("now()"))&&!!o(e).match(/([0-9]+)(y|mo|w|d|h|ms|s|m|us|µs|ns)/g)},l=e=>{if("string"!=typeof e)return!1;return!!e.match(/^(([0-9]+)(y|mo|w|d|h|ms|s|m|us|µs|ns))+$/g)},c=e=>{const t=[],n=/([0-9]+)(y|mo|w|d|h|ms|s|m|us|µs|ns)/g;let a=n.exec(e);if(!a)throw new Error(`could not parse "${e}" as duration`);for(;a;)t.push({magnitude:+a[1],unit:a[2]}),a=n.exec(e);return t},u={ns:1e-6,"µs":.001,us:.001,ms:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,mo:2592e6,y:31536e6},m=e=>e.reduce((e,{magnitude:t,unit:n})=>e+t*u[n],0),d=e=>{const t=Object.entries(u).sort((e,t)=>t[1]-e[1]),n=[];let a=0,s=e;for(;a<t.length;){const[e,r]=t[a],o=s/r;n.push({unit:e,magnitude:Math.floor(o)}),s-=Math.floor(o)*r,a+=1}return n.filter(({magnitude:e})=>e>0).reduce((e,{unit:t,magnitude:n})=>`${e}${n}${t}`,"")},p=(e,t)=>{try{return m(c(e))===m(c(t))}catch(e){return!1}},h=e=>{if(e.upper||!e.lower||!e.lower.includes("now"))throw new Error("cannot convert time range to duration");return o(e.lower)},_=e=>{if("custom"===e.type)return e;const t=(new Date).toISOString();let n="";if("selectable-duration"===e.type)n=s()().subtract(e.seconds,"s").toISOString();else if("duration"===e.type){const t=m(c(h(e)));n=s()().subtract(t,"milliseconds").toISOString()}return{lower:n,upper:t,type:"custom"}},g=e=>"selectable-duration"===e.type?e.label:"duration"===e.type?e.lower:"custom"===e.type?`${s()(e.lower).format(r.d)} - ${s()(e.upper).format(r.d)}`:void 0},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var a=n(117),s=n.n(a);const r=[{type:"scale",hex:"#31C0F6",id:s.a.v4(),name:"Nineteen Eighty Four",value:0},{type:"scale",hex:"#A500A5",id:s.a.v4(),name:"Nineteen Eighty Four",value:0},{type:"scale",hex:"#FF7E27",id:s.a.v4(),name:"Nineteen Eighty Four",value:0}],o=[{type:"scale",hex:"#74D495",id:s.a.v4(),name:"Atlantis",value:0},{type:"scale",hex:"#3F3FBA",id:s.a.v4(),name:"Atlantis",value:0},{type:"scale",hex:"#FF4D9E",id:s.a.v4(),name:"Atlantis",value:0}],i=[{type:"scale",hex:"#8F8AF4",id:s.a.v4(),name:"Do Androids Dream of Electric Sheep?",value:0},{type:"scale",hex:"#A51414",id:s.a.v4(),name:"Do Androids Dream of Electric Sheep?",value:0},{type:"scale",hex:"#F4CF31",id:s.a.v4(),name:"Do Androids Dream of Electric Sheep?",value:0}],l=[{type:"scale",hex:"#FD7A5D",id:s.a.v4(),name:"Delorean",value:0},{type:"scale",hex:"#5F1CF2",id:s.a.v4(),name:"Delorean",value:0},{type:"scale",hex:"#4CE09A",id:s.a.v4(),name:"Delorean",value:0}],c=[{type:"scale",hex:"#FDC44F",id:s.a.v4(),name:"Cthulhu",value:0},{type:"scale",hex:"#007C76",id:s.a.v4(),name:"Cthulhu",value:0},{type:"scale",hex:"#8983FF",id:s.a.v4(),name:"Cthulhu",value:0}],u=[{type:"scale",hex:"#DA6FF1",id:s.a.v4(),name:"Ectoplasm",value:0},{type:"scale",hex:"#00717A",id:s.a.v4(),name:"Ectoplasm",value:0},{type:"scale",hex:"#ACFF76",id:s.a.v4(),name:"Ectoplasm",value:0}],m=[{type:"scale",hex:"#F6F6F8",id:s.a.v4(),name:"T-Max 400 Film",value:0},{type:"scale",hex:"#A4A8B6",id:s.a.v4(),name:"T-Max 400 Film",value:0},{type:"scale",hex:"#545667",id:s.a.v4(),name:"T-Max 400 Film",value:0}],d=[{type:"scale",hex:"#DC4E58",id:s.a.v4(),name:"Solid Red",value:0},{type:"scale",hex:"#DC4E58",id:s.a.v4(),name:"Solid Red",value:0},{type:"scale",hex:"#DC4E58",id:s.a.v4(),name:"Solid Red",value:0}],p=[{type:"scale",hex:"#00A3FF",id:s.a.v4(),name:"Solid Blue",value:0},{type:"scale",hex:"#00A3FF",id:s.a.v4(),name:"Solid Blue",value:0},{type:"scale",hex:"#00A3FF",id:s.a.v4(),name:"Solid Blue",value:0}],h=[{type:"scale",hex:"#34BB55",id:s.a.v4(),name:"Solid Green",value:0},{type:"scale",hex:"#34BB55",id:s.a.v4(),name:"Solid Green",value:0},{type:"scale",hex:"#34BB55",id:s.a.v4(),name:"Solid Green",value:0}],_=[{type:"scale",hex:"#FFD255",id:s.a.v4(),name:"Solid Yellow",value:0},{type:"scale",hex:"#FFD255",id:s.a.v4(),name:"Solid Yellow",value:0},{type:"scale",hex:"#FFD255",id:s.a.v4(),name:"Solid Yellow",value:0}],g=[{type:"scale",hex:"#BE2EE4",id:s.a.v4(),name:"Solid Purple",value:0},{type:"scale",hex:"#BE2EE4",id:s.a.v4(),name:"Solid Purple",value:0},{type:"scale",hex:"#BE2EE4",id:s.a.v4(),name:"Solid Purple",value:0}],f=r,b=[r,o,i,l,c,u,m,d,p,_,h,g].map(e=>{return{name:e[0].name,colors:e,id:e[0].id}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return l}));const a="v",s="timeRangeStart",r="timeRangeStop",o="windowPeriod",i=`(${["^",'"',"\\s","\\n","\\/\\/","\\+","\\-","\\*","\\/","\\%","\\=\\=","\\<","\\>","\\<=","\\>\\=","\\!\\=","\\=\\~","\\!\\~","\\=","\\=\\>","\\(","\\)","\\[","\\]","\\{","\\}","\\:","\\,","$"].join("|")})`,l=[{type:"map",label:"Map"},{type:"query",label:"Query"},{type:"constant",label:"CSV"}]},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(20),s=n(151),r=n(5);const o=(e,t,n,s)=>{const o=`${a.b}api/v2/query?${new URLSearchParams({orgID:e})}`,l={query:t,extern:n,dialect:{annotations:["group","datatype","default"]}},c=s||new AbortController;return{promise:fetch(o,{method:"POST",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip"},body:JSON.stringify(l),signal:null==c?void 0:c.signal}).then(i).catch(e=>"AbortError"===e.name?Promise.reject(new r.CancellationError):Promise.reject(e)),cancel:()=>c.abort()}},i=async e=>{switch(e.status){case 200:return l(e);case s.g:return c(e);default:return u(e)}},l=async e=>{const t=e.body.getReader(),n=new TextDecoder;let s="",r=0,o=!1,i=await t.read();for(;!i.done;){const e=n.decode(i.value);if((r+=i.value.byteLength)>a.v){s+=m(e),o=!0;break}s+=e,i=await t.read()}return t.cancel(),{type:"SUCCESS",csv:s,bytesRead:r,didTruncate:o}},c=e=>{const t=e.headers.get("Retry-After");return{type:"RATE_LIMIT_ERROR",retryAfter:t?parseInt(t):null,message:s.h}},u=async e=>{try{const t=await e.text(),n=JSON.parse(t);return{type:"UNKNOWN_ERROR",message:n.message||n.error,code:n.code}}catch(e){return{type:"UNKNOWN_ERROR",message:"Failed to execute Flux query"}}},m=e=>{let t=e.length-1;for(;"\n"!==e[t];){if(t<=0)return e;t-=1}return e.slice(0,t+1)}},function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return m})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return _})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"o",(function(){return y}));const a=()=>({type:"RESET_ALERT_BUILDER"}),s=e=>({type:"INIT_ALERT_BUILDER",payload:{type:e}}),r=()=>({type:"CONVERT_CHECK_TO_CUSTOM"}),o=e=>({type:"SET_ALERT_BUILDER_CHECK",payload:{check:e}}),i=e=>({type:"SET_ALERT_BUILDER_STATUS",payload:{status:e}}),l=e=>({type:"SET_ALERT_BUILDER_EVERY",payload:{every:e}}),c=e=>({type:"SET_ALERT_BUILDER_OFFSET",payload:{offset:e}}),u=e=>({type:"SET_ALERT_BUILDER_STALETIME",payload:{staleTime:e}}),m=e=>({type:"SET_ALERT_BUILDER_TIMESINCE",payload:{timeSince:e}}),d=e=>({type:"SET_ALERT_BUILDER_LEVEL",payload:{level:e}}),p=e=>({type:"SET_ALERT_BUILDER_MESSAGE_TEMPLATE",payload:{statusMessageTemplate:e}}),h=(e,t)=>({type:"EDIT_ALERT_BUILDER_TAGSET",payload:{index:e,tagSet:t}}),_=e=>({type:"REMOVE_ALERT_BUILDER_TAGSET",payload:{index:e}}),g=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLD",payload:{threshold:e}}),f=e=>({type:"UPDATE_ALERT_BUILDER_THRESHOLDS",payload:{thresholds:e}}),b=e=>({type:"REMOVE_ALERT_BUILDER_THRESHOLD",payload:{level:e}}),y=e=>({type:"UPDATE_ALERT_BUILDER_NAME",payload:{name:e}})},function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return E}));var a=n(42),s=n(14),r=n(163),o=n(5),i=n(84),l=n(21),c=n(18),u=n(314),m=n(28),d=n(68),p=n(428),h=n(31),_=n(207);const g=async e=>{const t=await s.x({query:{orgID:e,limit:_.a}});if(200!==t.status)throw new Error(t.data.message);const n=await Object(p.b)();return Object(a.a)([...t.data.buckets,...n],r.a)},f=()=>async(e,t)=>{try{const n=t();Object(c.e)(n,o.ResourceType.Buckets)===o.RemoteDataState.NotStarted&&e(Object(u.h)(o.RemoteDataState.Loading));const a=Object(l.a)(n),s=await g(a.id);e(Object(u.h)(o.RemoteDataState.Done,s))}catch(t){console.error(t),e(Object(u.h)(o.RemoteDataState.Error)),e(Object(m.c)(Object(h.tb)()))}},b=e=>async(t,n)=>{try{const o=Object(l.a)(n()),i=await s.fb({data:Object.assign(Object.assign({},e),{orgID:o.id})});if(201!==i.status)throw new Error(i.data.message);const c=Object(a.a)(i.data,r.i);t(Object(u.e)(c)),t(Object(d.c)())}catch(e){console.error(e);const n=Object(i.b)(e);t(Object(m.c)(Object(h.A)(n)))}},y=e=>async(t,n)=>{try{const o=n(),i=k(o,e),l=await s.U({bucketID:e.id,data:i});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,r.i);t(Object(u.f)(c)),t(Object(m.c)(Object(h.G)(e.name)))}catch(e){console.error(e);const n=Object(i.b)(e);t(Object(m.c)(Object(h.F)(n)))}},v=(e,t)=>async(n,o)=>{try{const e=o(),i=k(e,t),l=await s.U({bucketID:t.id,data:i});if(200!==l.status)throw new Error(l.data.message);const c=Object(a.a)(l.data,r.i);n(Object(u.f)(c)),n(Object(m.c)(Object(h.E)(t.name)))}catch(t){console.error(t),n(Object(m.c)(Object(h.D)(e)))}},x=(e,t)=>async n=>{try{const t=await s.b({bucketID:e});if(204!==t.status)throw new Error(t.data.message);n(Object(u.g)(e)),n(Object(d.c)())}catch(e){console.error(e),n(Object(m.c)(Object(h.C)(t)))}},w=(e,t)=>async n=>{try{const o=await s.gb({bucketID:e,data:{labelID:t.id}});if(201!==o.status)throw new Error(o.data.message);const i=await s.w({bucketID:e});if(200!==i.status)throw new Error(i.data.message);const l=Object(a.a)(i.data,r.i);n(Object(u.f)(l))}catch(e){console.error(e),n(Object(m.c)(Object(h.m)()))}},E=(e,t)=>async n=>{try{const o=await s.c({bucketID:e,labelID:t.id});if(204!==o.status)throw new Error(o.data.message);const i=await s.w({bucketID:e});if(200!==i.status)throw new Error(i.data.message);const l=Object(a.a)(i.data,r.i);n(Object(u.f)(l))}catch(e){console.error(e),n(Object(m.c)(Object(h.fc)()))}},k=(e,t)=>{const n=Object(c.d)(e,t.labels);return Object.assign(Object.assign({},t),{labels:n})}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>""===e.target.value?NaN:Number(e.target.value)},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return _}));var a,s=n(20),r=n(28),o=n(31);!function(e){e.EnablePresentationMode="ENABLE_PRESENTATION_MODE",e.DisablePresentationMode="DISABLE_PRESENTATION_MODE",e.EnableUpdatedTimeRangeInVEO="ENABLE_UPDATED_TIMERANGE_IN_VEO",e.DisableUpdatedTimeRangeInVEO="DISABLE_UPDATED_TIMERANGE_IN_VEO",e.SetNavBarState="SET_NAV_BAR_STATE",e.SetFlowMiniMapState="SET_NOTEBOOK_MINI_MAP_STATE",e.SetAutoRefresh="SET_AUTOREFRESH",e.SetTimeZone="SET_APP_TIME_ZONE",e.TemplateControlBarVisibilityToggled="TemplateControlBarVisibilityToggledAction",e.Noop="NOOP"}(a||(a={}));const i=()=>({type:a.EnablePresentationMode}),l=()=>({type:a.DisablePresentationMode}),c=()=>({type:a.EnableUpdatedTimeRangeInVEO}),u=()=>({type:a.DisableUpdatedTimeRangeInVEO}),m=()=>e=>setTimeout(()=>{e(i()),e(Object(r.c)(Object(o.bc)()))},s.G),d=e=>({type:"SET_THEME",theme:e}),p=e=>({type:a.SetNavBarState,navBarState:e}),h=e=>({type:a.SetFlowMiniMapState,flowMiniMapState:e}),_=e=>({type:a.SetTimeZone,payload:{timeZone:e}})},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l}));const a="YYYY-MM-DD HH:mm",s="Custom Time Range",r={seconds:3600,lower:"now() - 1h",upper:null,label:"Past 1h",duration:"1h",type:"selectable-duration",windowPeriod:1e4},o={seconds:2592e3,lower:"now() - 30d",upper:null,label:"Past 30d",duration:"30d",type:"selectable-duration",windowPeriod:36e5},i=[{seconds:300,lower:"now() - 5m",upper:null,label:"Past 5m",duration:"5m",type:"selectable-duration",windowPeriod:1e4},{seconds:900,lower:"now() - 15m",upper:null,label:"Past 15m",duration:"15m",type:"selectable-duration",windowPeriod:1e4},r,{seconds:21600,lower:"now() - 6h",upper:null,label:"Past 6h",duration:"6h",type:"selectable-duration",windowPeriod:6e4},{seconds:43200,lower:"now() - 12h",upper:null,label:"Past 12h",duration:"12h",type:"selectable-duration",windowPeriod:12e4},{seconds:86400,lower:"now() - 24h",upper:null,label:"Past 24h",duration:"24h",type:"selectable-duration",windowPeriod:24e4},{seconds:172800,lower:"now() - 2d",upper:null,label:"Past 2d",duration:"2d",type:"selectable-duration",windowPeriod:6e5},{seconds:604800,lower:"now() - 7d",upper:null,label:"Past 7d",duration:"7d",type:"selectable-duration",windowPeriod:18e5},o],l=r},function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"k",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return _}));const a=2,s="min",r=0,o="max",i=100,l="threshold",c="text",u="background",m="base",d=[{hex:"#BF3D5E",name:"ruby"},{hex:"#DC4E58",name:"fire"},{hex:"#F95F53",name:"curacao"},{hex:"#F48D38",name:"tiger"},{hex:"#FFB94A",name:"pineapple"},{hex:"#FFD255",name:"thunder"},{hex:"#7CE490",name:"honeydew"},{hex:"#4ED8A0",name:"rainforest"},{hex:"#32B08C",name:"viridian"},{hex:"#4591ED",name:"ocean"},{hex:"#22ADF6",name:"pool"},{hex:"#00C9FF",name:"laser"},{hex:"#513CC6",name:"planet"},{hex:"#7A65F2",name:"star"},{hex:"#9394FF",name:"comet"},{hex:"#383846",name:"pepper"},{hex:"#545667",name:"graphite"},{hex:"#ffffff",name:"white"},{hex:"#292933",name:"castle"}],p=[{type:s,hex:d[11].hex,id:"0",name:d[11].name,value:r},{type:o,hex:d[14].hex,id:"1",name:d[14].name,value:i}],h=[{type:c,hex:d[11].hex,id:m,name:d[11].name,value:0}],_=[{type:c,hex:d[17].hex,id:m,name:d[17].name,value:0}]},function(e,t,n){"use strict";var a=n(2),s=n.n(a);t.a=({message:e,testID:t})=>s.a.createElement("div",{className:"cell--view-empty","data-testid":t},s.a.createElement("h4",null,e))},,,,,,function(e,t,n){"use strict";var a,s,r,o,i,l,c,u,m;n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return m})),function(e){e[e.Configure=0]="Configure"}(a||(a={})),function(e){e[e.Select=0]="Select",e[e.Configure=1]="Configure",e[e.Verify=2]="Verify"}(s||(s={})),function(e){e[e.Configure=0]="Configure",e[e.Verify=1]="Verify"}(r||(r={})),function(e){e.Unconfigured="unconfigured",e.InvalidConfiguration="invalid",e.Configured="configured"}(o||(o={})),function(e){e.CSV="CSV",e.Streaming="Streaming",e.ClientLibrary="Client Library",e.Scraping="Scraping",e.Empty=""}(i||(i={})),function(e){e.System="System",e.Docker="Docker",e.Kubernetes="Kubernetes",e.Nginx="NGINX",e.Redis="Redis"}(l||(l={})),function(e){e.ImportData="importData",e.Loading="loading",e.Success="success",e.Error="error"}(c||(c={})),function(e){e.Milliseconds="Milliseconds",e.Seconds="Seconds",e.Microseconds="Microseconds",e.Nanoseconds="Nanoseconds"}(u||(u={})),function(e){e.String="string",e.StringArray="string array",e.Uri="uri",e.UriArray="uri array"}(m||(m={}))},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u}));const a="SET_LABELS",s="SET_LABEL",r="REMOVE_LABEL",o="SET_LABEL_ON_RESOURCE",i=(e,t)=>({type:a,status:e,schema:t}),l=(e,t,n)=>({type:s,id:e,status:t,schema:n}),c=e=>({type:r,id:e}),u=(e,t)=>({type:o,resourceID:e,schema:t})},function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var a=n(50),s=n(119),r=n(49),o=n(20),i=n(140),l=n(83),c=n(69),u=n(5);const m=(e=r.c)=>({name:e,status:u.RemoteDataState.Done});function d(){return{name:"",text:"",editMode:"builder",builderConfig:p()}}function p(){return{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:c.c}],aggregateWindow:{period:c.a,fillValues:c.d}}}function h(){return{queries:[d()],colors:s.a,legend:{},note:"",showNoteWhenEmpty:!1,legendOpacity:o.B,legendOrientationThreshold:o.F,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},hoverDimension:"auto"}}function _(){return{queries:[d()],colors:i.f,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}}}const g={xy:()=>Object.assign(Object.assign({},m()),{properties:Object.assign(Object.assign({},h()),{type:"xy",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,position:"overlaid"})}),band:()=>Object.assign(Object.assign({},m()),{properties:Object.assign(Object.assign({},{queries:[d()],colors:s.a,legend:{},note:"",showNoteWhenEmpty:!1,legendOpacity:o.B,legendOrientationThreshold:o.F,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",scale:"linear"}},hoverDimension:"auto",upperColumn:"",mainColumn:c.c,lowerColumn:""}),{type:"band",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null})}),histogram:()=>Object.assign(Object.assign({},m()),{properties:{queries:[],type:"histogram",shape:"chronograf-v2",xColumn:"_value",xDomain:null,xAxisLabel:"",fillColumns:null,position:"stacked",binCount:30,colors:s.a,note:"",showNoteWhenEmpty:!1,legendOpacity:o.B,legendOrientationThreshold:o.F}}),heatmap:()=>Object.assign(Object.assign({},m()),{properties:{queries:[],type:"heatmap",shape:"chronograf-v2",xColumn:null,yColumn:null,xDomain:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",colors:a.INFERNO,binSize:10,note:"",showNoteWhenEmpty:!1,legendOpacity:o.B,legendOrientationThreshold:o.F}}),"single-stat":()=>Object.assign(Object.assign({},m()),{properties:Object.assign(Object.assign({},_()),{type:"single-stat",shape:"chronograf-v2",legend:{}})}),gauge:()=>Object.assign(Object.assign({},m()),{properties:Object.assign(Object.assign({},{queries:[d()],colors:i.e,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}}),{type:"gauge",shape:"chronograf-v2",legend:{}})}),"line-plus-single-stat":()=>Object.assign(Object.assign({},m()),{properties:Object.assign(Object.assign(Object.assign({},h()),_()),{type:"line-plus-single-stat",shape:"chronograf-v2",xColumn:null,yColumn:null,position:"overlaid"})}),table:()=>Object.assign(Object.assign({},m()),{properties:{type:"table",shape:"chronograf-v2",queries:[d()],colors:i.g,tableOptions:{verticalTimeAxis:!0,sortBy:null,fixFirstColumn:!1},fieldOptions:[],decimalPlaces:{isEnforced:!1,digits:2},timeFormat:"YYYY-MM-DD HH:mm:ss",note:"",showNoteWhenEmpty:!1}}),markdown:()=>Object.assign(Object.assign({},m()),{properties:{type:"markdown",shape:"chronograf-v2",note:""}}),scatter:()=>Object.assign(Object.assign({},m()),{properties:{type:"scatter",shape:"chronograf-v2",queries:[d()],colors:a.NINETEEN_EIGHTY_FOUR,note:"",showNoteWhenEmpty:!1,fillColumns:null,symbolColumns:null,xColumn:null,xDomain:null,yColumn:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",legendOpacity:o.B,legendOrientationThreshold:o.F}}),mosaic:()=>Object.assign(Object.assign({},m()),{properties:{type:"mosaic",shape:"chronograf-v2",queries:[d()],colors:a.NINETEEN_EIGHTY_FOUR,note:"",showNoteWhenEmpty:!1,fillColumns:null,xColumn:null,xDomain:null,ySeriesColumns:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",legendOpacity:o.B,legendOrientationThreshold:o.F}}),threshold:()=>Object.assign(Object.assign({},m("check")),{properties:{type:"check",shape:"chronograf-v2",checkID:"",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:l.c,fillValues:c.d}}}],colors:s.a}}),deadman:()=>Object.assign(Object.assign({},m("check")),{properties:{type:"check",shape:"chronograf-v2",checkID:"",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[]}}],colors:s.a}}),custom:()=>Object.assign(Object.assign({},m()),{properties:{type:"table",shape:"chronograf-v2",queries:[],colors:i.f,tableOptions:{verticalTimeAxis:!0,sortBy:null,fixFirstColumn:!1},fieldOptions:[],decimalPlaces:{isEnforced:!1,digits:2},timeFormat:"YYYY-MM-DD HH:mm:ss",note:"",showNoteWhenEmpty:!1}})};function f(e="xy"){const t=g[e];if(!t)throw new Error(`no view creator implemented for view of type ${e}`);return t()}},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return m}));const a=429,s="Oops. It looks like you have exceeded the query limits allowed as part of your plan. If you would like to increase your query limits, reach out to support@influxdata.com.",r=403,o="Website Monitoring Bucket",i={"Website Monitoring Demo Data Dashboard":o},l={[o]:(async e=>{const t=await n.e(68).then(n.bind(null,1663));return t.default.content.data.attributes.name=e,t.default})({[o]:"Website Monitoring Demo Data Dashboard"}[o])},c="hide_upgrade_cta",u={key:c,value:"false"},m={key:c,value:"true"}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(417),s=n.n(a),r=n(20),o=n(36),i=n(29);r.i&&s.a.configure({apiKey:e.env.HONEYBADGER_KEY,revision:r.x,environment:e.env.HONEYBADGER_ENV});const l=(e,t)=>{let n={};t&&t.context&&(n=Object.assign({},t.context));const a=Object.assign(Object.assign({},n),Object(o.b)());let l={};if(t&&delete(l=Object.assign({},t)).context,r.i){s.a.notify(e,Object.assign({context:a},l));let t="generic (untagged) error";l.name?t=l.name:l.component&&(t=l.component),Object(i.a)("ui error",{error:t},{errorCount:1})}else console.error(e)},c=e=>{return e.componentStack.trim().split("\n").map(e=>e.split(" ")[1])[0]}}).call(this,n(79))},function(e,t,n){"use strict";n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return C})),n.d(t,"l",(function(){return O})),n.d(t,"q",(function(){return D})),n.d(t,"p",(function(){return I})),n.d(t,"r",(function(){return j})),n.d(t,"h",(function(){return R})),n.d(t,"b",(function(){return N})),n.d(t,"i",(function(){return A})),n.d(t,"k",(function(){return L})),n.d(t,"c",(function(){return F})),n.d(t,"s",(function(){return q})),n.d(t,"j",(function(){return B})),n.d(t,"g",(function(){return z})),n.d(t,"f",(function(){return U})),n.d(t,"a",(function(){return H})),n.d(t,"e",(function(){return G})),n.d(t,"d",(function(){return V})),n.d(t,"n",(function(){return $}));var a=n(42),s=n(782),r=n(14),o=n(6),i=n(428),l=n(29),c=n(5),u=n(122),m=n(21),d=n(18),p=n(112),h=n(26),_=n(43),g=n(314),f=n(207),b=n(69),y=n(163);const v=(e,t)=>({type:"SET_BUILDER_AGGREGATE_FUNCTION_TYPE",payload:{builderAggregateFunctionType:e,index:t}}),x=e=>({type:"SET_BUILDER_BUCKETS_STATUS",payload:{bucketsStatus:e}}),w=(e,t)=>({type:"SET_BUILDER_BUCKET_SELECTION",payload:{bucket:e,resetSelections:t}}),E=(e,t)=>({type:"SET_BUILDER_TAG_KEYS_STATUS",payload:{index:e,status:t}}),k=(e,t)=>({type:"SET_BUILDER_TAG_VALUES_STATUS",payload:{index:e,status:t}}),S=(e,t)=>({type:"SET_BUILDER_TAG_KEY_SELECTION",payload:{index:e,key:t}}),C=e=>({type:"SELECT_BUILDER_FUNCTION",payload:{functions:e}}),T=e=>({type:"SET_AGGREGATE_WINDOW",payload:{period:e}}),O=e=>({type:"SET_AGGREGATE_FILL_VALUES",payload:{fillValues:e}}),D=(e,t)=>({type:"SET_BUILDER_VALUES_SEARCH_TERM",payload:{index:e,searchTerm:t}}),I=(e,t)=>({type:"SET_BUILDER_KEYS_SEARCH_TERM",payload:{index:e,searchTerm:t}}),j=e=>(t,n)=>{if("custom"===e){const e=Object(h.o)(n());t(T(e))}"auto"===e&&t(T(b.a))},R=e=>t=>{t(T(e)),t(Object(u.i)(e))},N=()=>async(e,t)=>{Object(d.e)(t(),c.ResourceType.Buckets)===c.RemoteDataState.NotStarted&&e(Object(g.h)(c.RemoteDataState.Loading));const n=Date.now(),s=Object(m.a)(t()).id;e(x(c.RemoteDataState.Loading));try{const o=await r.x({query:{orgID:s,limit:f.c}});if(200!==o.status)throw new Error(o.data.message);const u=await Object(i.b)(),m=Object(a.a)([...o.data.buckets,...u],y.a);e(Object(g.h)(c.RemoteDataState.Done,m));const d=[...o.data.buckets,...u].map(e=>e.name),p=d.filter(e=>e.startsWith("_")),_=[...d.filter(e=>!e.startsWith("_")),...p],b=Object(h.a)(t()).builderConfig.buckets[0];e((e=>({type:"SET_BUILDER_BUCKETS",payload:{buckets:e}}))(_)),b&&_.includes(b)?e(A(b)):e(A(_[0],!0)),Object(l.a)("loadBuckets function",{time:n},{duration:Date.now()-n})}catch(t){if("CancellationError"===t.name)return;console.error(t),e(x(c.RemoteDataState.Error))}},A=(e,t=!1)=>n=>{n(w(e,t)),n(P(0))},P=e=>async(t,n)=>{const a=Date.now(),{buckets:r,tags:i}=Object(h.a)(n()).builderConfig;if(!i[e]||!r[0])return;t(E(e,c.RemoteDataState.Loading));const u=n(),_=i.slice(0,e),g=n().links.query.self,f=r[0],b=Object(d.a)(n(),c.ResourceType.Buckets).find(e=>e.name===f),y=Object(o.get)(b,"orgID",Object(m.a)(n()).id);try{const n=Object(p.b)(u),r=Object(h.c)(u).queryBuilder.tags[e].keysSearchTerm,o=await s.a.findKeys(e,{url:g,orgID:y,bucket:f,tagsSelections:_,searchTerm:r,timeRange:n}),{key:c}=i[e];if(c)o.includes(c)||o.unshift(c);else{let n;n=0===e&&o.includes("_measurement")?"_measurement":o[0],t(S(e,n))}t(((e,t)=>({type:"SET_BUILDER_TAG_KEYS",payload:{index:e,keys:t}}))(e,o)),t(M(e)),Object(l.a)("loadTagSelector function",{time:a},{duration:Date.now()-a})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(E(e,c.RemoteDataState.Error))}},M=e=>async(t,n)=>{const a=Date.now(),r=n(),{buckets:i,tags:u}=Object(h.a)(r).builderConfig,_=u.slice(0,e),g=r.links.query.self;if(!i[0])return;const f=i[0],b=Object(d.a)(r,c.ResourceType.Buckets).find(e=>e.name===f),y=Object(o.get)(b,"orgID",Object(m.a)(n()).id);t(k(e,c.RemoteDataState.Loading));try{const o=Object(p.b)(r),i=Object(h.a)(n()).builderConfig.tags[e].key,c=Object(h.c)(n()).queryBuilder.tags[e].valuesSearchTerm,m=await s.a.findValues(e,{url:g,orgID:y,bucket:f,tagsSelections:_,key:i,searchTerm:c,timeRange:o}),{values:d}=u[e];for(const e of d)m.includes(e)||m.unshift(e);t(((e,t)=>({type:"SET_BUILDER_TAG_VALUES",payload:{index:e,values:t}}))(e,m)),t(P(e+1)),Object(l.a)("loadTagSelectorValues function",{time:a},{duration:Date.now()-a})}catch(n){if("CancellationError"===n.name)return;console.error(n),t(k(e,c.RemoteDataState.Error))}},L=(e,t)=>(n,a)=>{const s=a(),{timeMachines:{activeTimeMachineID:r}}=s,o=Object(h.a)(s).builderConfig.tags,i=o[e],l=i.values;let c;c=l.includes(t)?l.filter(e=>e!==t):"alerting"===r&&"_field"===i.key?[t]:[...l,t],n(((e,t)=>({type:"SET_BUILDER_TAG_VALUES_SELECTION",payload:{index:e,values:t}}))(e,c)),"group"!==i.aggregateFunctionType&&(e===o.length-1&&c.length?n(H()):n(P(e+1)))},F=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:s}=Object(h.c)(n()),r=a[s].builderConfig.functions,o=r.map(e=>e.name);o.includes(e)?r.length>1&&t(C(o.filter(t=>t!=e))):t(C([...o,e]))},q=e=>(t,n)=>{const{draftQueries:a,activeQueryIndex:s}=Object(h.c)(n()),r=a[s].builderConfig.functions,o=r.map(e=>e.name);o.includes(e)?r.length>1&&t(C(o.filter(t=>t!=e))):t(C([e]))},B=(e,t)=>n=>{n(S(e,t)),n(M(e))},z=e=>t=>{t(M(e))},U=e=>t=>{t(P(e))},H=()=>(e,t)=>{e({type:"ADD_TAG_SELECTOR"});const n=Object(h.a)(t()).builderConfig.tags.length-1;e(P(n))},G=e=>t=>{s.a.cancelFindValues(e),s.a.cancelFindKeys(e),t((e=>({type:"REMOVE_TAG_SELECTOR",payload:{index:e}}))(e)),t(P(e))},V=()=>e=>{e((e=>({type:"SET_BUILDER_TAGS_STATUS",payload:{status:e}}))(c.RemoteDataState.Loading)),e(P(0))},$=e=>(t,n)=>{Object(d.a)(n(),c.ResourceType.Buckets).find(t=>t.name===e)&&(t(Object(_.d)()),t(w(e,!0)))}},function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return _}));var a=n(42),s=n(6),r=n(5),o=n(150),i=n(85);const l=(e,t)=>e.map(e=>{const{properties:n,id:a,name:s}=e;return Object.assign(Object.assign({id:a},Object(o.c)(s)),{cellID:a,properties:n,dashboardID:t})}),c=new a.b.Entity(r.ResourceType.Views),u=[c],m=new a.b.Entity(r.ResourceType.Cells,{},{processStrategy:(e,t)=>Object.assign(Object.assign({},Object(s.omit)(e,"properties")),{dashboardID:e.dashboardID?e.dashboardID:t.id,status:r.RemoteDataState.Done})}),d=[m],p=new a.b.Entity(r.ResourceType.Dashboards,{labels:i.a,cells:d,views:u},{processStrategy:e=>_(e)}),h=[p],_=e=>Object.assign(Object.assign({},e),{id:e.id||"",name:e.name||"",orgID:e.orgID||"",meta:g(e.meta),status:r.RemoteDataState.Done}),g=e=>e?e.updatedAt?e:Object.assign(Object.assign({},e),{updatedAt:(new Date).toDateString()}):{}},,,,,,,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3),o=n(490);const i=({initialMin:e,initialMax:t,onSetMinMax:n})=>{const[a,i]=Object(o.a)(e),[l,c]=Object(o.a)(t),u=()=>{let s=parseFloat(a),r=parseFloat(l);isNaN(s)&&(s=null),isNaN(r)&&(r=null),e===a&&t===l||n([s,r])},m=e=>{"Enter"===e.key&&u()};return s.a.createElement(s.a.Fragment,null,s.a.createElement(r.Grid.Column,{widthXS:r.Columns.Six},s.a.createElement(r.Form.Element,{label:"Min"},s.a.createElement(r.Input,{value:a,onChange:e=>i(e.target.value),onBlur:u,onKeyPress:m,testID:"auto-domain--min"}))),s.a.createElement(r.Grid.Column,{widthXS:r.Columns.Six},s.a.createElement(r.Form.Element,{label:"Max"},s.a.createElement(r.Input,{value:l,onChange:e=>c(e.target.value),onBlur:u,onKeyPress:m,testID:"auto-domain--max"}))))},l=e=>null===e?"":String(e);t.a=({domain:e,onSetDomain:t,label:n="Set Domain"})=>{const[o,c]=Object(a.useState)(!!e),u=Array.isArray(e)?l(e[0]):"",m=Array.isArray(e)?l(e[1]):"";return s.a.createElement(r.Form.Element,{label:n,className:"auto-domain-input"},s.a.createElement(r.Grid,null,s.a.createElement(r.Grid.Row,null,s.a.createElement(r.Grid.Column,{widthXS:r.Columns.Twelve},s.a.createElement(r.SelectGroup,{shape:r.ButtonShape.StretchToFit},s.a.createElement(r.SelectGroup.Option,{name:"auto-domain",id:"radio_auto",titleText:"Auto",active:!o,onClick:()=>{c(!1),t(null)},value:"Auto"},"Auto"),s.a.createElement(r.SelectGroup.Option,{name:"auto-domain",id:"radio_custom",titleText:"Custom",active:o,onClick:()=>{c(!0)},value:"Custom"},"Custom")))),o&&s.a.createElement(r.Grid.Row,{className:"auto-domain-input--custom"},s.a.createElement(i,{initialMin:u,initialMax:m,onSetMinMax:t}))))}},,function(e,t,n){"use strict";n.d(t,"h",(function(){return a.b})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return m.f})),n.d(t,"c",(function(){return m.c})),n.d(t,"j",(function(){return m.e})),n.d(t,"b",(function(){return m.b})),n.d(t,"p",(function(){return m.g})),n.d(t,"g",(function(){return m.d})),n.d(t,"l",(function(){return o.b})),n.d(t,"m",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"e",(function(){return _})),n.d(t,"o",(function(){return g})),n.d(t,"f",(function(){return f}));var a=n(318),s=n(42),r=n(5),o=n(85),i=n(785);const l=e=>{const t=e.retentionRules.find(e=>"expire"===e.type);return t?Object(i.a)(t.everySeconds):"forever"},c=new s.b.Entity(r.ResourceType.Buckets,{labels:[o.b]},{processStrategy:e=>Object.assign(Object.assign({},e),{readableRetention:l(e)})}),u=[c];n(320);var m=n(154);n(322);const d=new s.b.Entity(r.ResourceType.Members),p=[d],h=new s.b.Entity(r.ResourceType.Orgs),_=[h];n(323);const g=new s.b.Entity(r.ResourceType.Scrapers),f=[g];n(262),n(264),n(324),n(230)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return _})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return b})),n.d(t,"s",(function(){return y})),n.d(t,"r",(function(){return v})),n.d(t,"m",(function(){return x})),n.d(t,"p",(function(){return w}));var a=n(5);const s="ADD_TEMPLATE_SUMMARY",r="POPULATE_TEMPLATE_SUMMARIES",o="SET_STAGED_TEMPLATE",i="SET_STAGED_TEMPLATE_URL",l="SET_EXPORT_TEMPLATE",c="SET_TEMPLATES_STATUS",u="TOGGLE_TEMPLATE_RESOURCE_INSTALL",m="UPDATE_TEMPLATE_ENV_REF",d="SET_STACKS",p="SET_TEMPLATE_README",h=e=>({type:r,status:a.RemoteDataState.Done,schema:e}),_=(e,t)=>({type:l,status:e,item:t}),g=e=>({type:c,status:e}),f=e=>({type:o,template:e}),b=e=>({type:i,templateUrl:e}),y=(e,t,n,a)=>({type:m,envRefKey:e,resourceField:t,newValue:n,valueType:a}),v=(e,t,n)=>({type:u,resourceType:e,templateMetaName:t,shouldInstall:n}),x=e=>({type:d,stacks:e}),w=(e,t)=>({type:p,templateName:e,readmeText:t})},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return _}));var a=n(6),s=n.n(a),r=n(783),o=n(257),i=n(49),l=n(20);const c=e=>7*e.length;var u;!function(e){e.MetaQueryCombo="MetaQueryCombo",e.GeneralError="Error"}(u||(u={}));const m=(e,t,n,a,u)=>{const m=(e=>{return e=s.a.replace(e,"MMMM","September"),e=s.a.replace(e,"dddd","Wednesday"),e=s.a.replace(e,"A","AM"),e=s.a.replace(e,"h","00"),e=s.a.replace(e,"X","1522286058"),e=s.a.replace(e,"x","1536106867461"),c(e)+o.b})(""===n?l.s:n);return Object(r.c)(e,(n,l,d)=>((e,t,n,a,l,u,m,d)=>{return Object(r.c)(e,(e,r,p)=>{const h=l.find(e=>e.internalName===r);let _=`${r}`;h&&h.displayName?_=h.displayName:!isNaN(+r)&&d.isEnforced&&(_=(+r).toFixed(d.digits));const g=n[p],f=g===i.i.internalName,b=n[0]===i.i.internalName,y=f&&m&&!a||!m&&a&&b&&0!==p?u:c(_.toString().trim())+o.b,{widths:v}=t,x=s.a.get(v,`${g}`,0);return(a||y>x)&&(e.widths[g]=y,e.totalWidths+=y-x),e},Object.assign({},t))})(l,n,e[0],0===d,t,m,a,u),{widths:{},totalWidths:0})},d=(e,t,n,a,o,i)=>{const{verticalTimeAxis:l}=a,c=(e=>{const t=e[0],n=["","result","table"].map(e=>t.indexOf(e));return e.map(e=>e.filter((e,t)=>!n.includes(t)))})(e),u=((e,t)=>{let n=[];return t.forEach(e=>{const t={internalName:e,displayName:"",visible:!0};n=[...n,t]}),[...e.filter(e=>n.find(t=>t.internalName===e.internalName)),...n.filter(t=>!e.find(e=>e.internalName===t.internalName))]})(n,c[0]),{sortedData:d,sortedTimeVals:p}=((e,t)=>{const n=new Set(e[0]);let a=0;if(n.has(t.field))a=s.a.indexOf(e[0],t.field);else if(!t.field)return{sortedData:[...e],sortedTimeVals:e.map(e=>e[0])};const o=s.a.drop(e,1),i=[e[0],...s.a.orderBy(o,e=>{const t=e[a];return isNaN(Number(t))?t:Number(t)},[t.direction])];return{sortedData:i,sortedTimeVals:Object(r.b)(i,e=>e[a])}})(c,t),h=((e,t)=>{const n=t.map(t=>s.a.findIndex(e[0],e=>e===t.internalName)).filter(e=>-1!==e),a=Object(r.b)(e,e=>e.map((e,t,a)=>a[n[t]]));return a[0].length?a:[[]]})(((e,t)=>{const n={},a=Object(r.b)(e,(e,a)=>Object(r.a)(e,(e,s)=>{if(0===a){const a=t.find(t=>t.internalName===e);n[s]=!a||a.visible}return n[s]}));return a[0].length?a:[[]]})(d,u),u),_=l?h:s.a.unzip(h);return{transformedData:_,sortedTimeVals:p,columnWidths:m(_,u,o,l,i),resolvedFieldOptions:u,sortOptions:t}},p=(e,t)=>{if(e.length<2)return-1;const n=h(t,e[1]);return Object(r.c)(e,(e,n,a)=>{const s=h(t,n);return s<e.diff?{index:a,diff:s}:e},{index:1,diff:n}).index},h=(e,t)=>Math.abs(e-new Date(t).valueOf()),_=e=>i.l.find(t=>t.text===e)?e:l.s},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"e",(function(){return T}));var a=n(6),s=n(42),r=n(230),o=n(262),i=n(231),l=n(229),c=n(14),u=n(154),m=n(5);const d=async(e,t)=>{try{const{content:n}=e;if(n.data.type!==m.TemplateType.Dashboard||"1"!==e.meta.version)throw new Error("Cannot create dashboard from this template");const a=await Object(c.jb)({data:Object.assign({orgID:t},n.data.attributes)});if(201!==a.status)throw new Error(a.data.message);const s=Object(u.a)(a.data),r=await h(e,t);await Promise.all([await p(e,r,s),await _(e,s)]),await f(e,r,t);const o=await Object(c.A)({dashboardID:a.data.id});if(200!==o.status)throw new Error(o.data.message);return o.data}catch(e){throw console.error(e),new Error(e.message)}},p=async(e,t,n)=>{try{const a=Object(i.i)(e.content.data).map(e=>t[e.id]||"").map(e=>Object(c.lb)({dashboardID:n.id,data:{labelID:e}})),s=await Promise.all(a);if(s.length>0&&s.some(e=>201!==e.status))throw new Error("An error occurred adding dashboard labels from the template")}catch(e){console.error(e)}},h=async(e,t)=>{const{content:{data:n,included:s}}=e,r=[n,...s].filter(e=>Object(i.k)(e));if(Object(a.isEmpty)(r))return{};const o=Object(a.flatMap)(r,e=>Object(i.i)(e)),u=Object(i.e)(s,o),m=await Object(c.E)({query:{orgID:t}});if(200!==m.status)throw new Error(m.data.message);const d=m.data.labels.map(e=>Object(l.a)(e)),p=Object(i.f)(d,u).map(e=>({orgID:t,name:Object(a.get)(e,"attributes.name",""),properties:Object(a.get)(e,"attributes.properties",{})})).map(e=>Object(c.nb)({data:e}).then(e=>{return Object(a.get)(e,"data.label","")}).then(e=>Object(l.a)(e))),h=[...await Promise.all(p),...d],_={};return u.forEach(e=>{const t=h.find(t=>t.name===e.attributes.name);_[e.id]=t.id}),_},_=async(e,t)=>{const{content:{data:n,included:a}}=e;if(!n.relationships||!n.relationships[m.TemplateType.Cell])return;const s=n.relationships[m.TemplateType.Cell].data,r=Object(i.e)(a,s),o=r.map(e=>{const{attributes:{x:n,y:a,w:s,h:r}}=e;return Object(c.kb)({dashboardID:t.id,data:{x:n,y:a,w:s,h:r}})}),l=await Promise.all(o);if(l.length>0&&l.some(e=>201!==e.status))throw new Error("An error occurred creating cells from the templates");const u=l.map(e=>e.data);g(e,u,r,t.id)},g=async(e,t,n,a)=>{const s=n.map(t=>{const{content:{included:n}}=e,a=t.relationships[m.TemplateType.View].data;return Object(i.c)(n,a)}).map((e,n)=>Object(c.X)({dashboardID:a,cellID:t[n].id,data:e.attributes}));await Promise.all(s)},f=async(e,t,n)=>{const{content:{data:o,included:l}}=e;if(!o.relationships||!o.relationships[m.TemplateType.Variable])return;const u=Object(i.d)(l),d=await Object(c.S)({query:{orgID:n}});if(200!==d.status)throw new Error(d.data.message);const p=Object(s.a)(d.data.variables,r.a),h=Object.values(Object(a.get)(p,"entities.variables",{})),_=Object(i.g)(h,u).map(e=>Object.assign(Object.assign({},e.attributes),{orgID:n})).map(e=>Object(c.Bb)({data:e})),g=await Promise.all(_);if(g.length>0&&g.every(e=>201!==e.status))throw new Error("An error occurred creating the variables from templates");const f=(await Promise.all(_)).map(e=>{const t=Object(s.a)(e.data,r.b);return t.entities.variables[t.result]}),b=[...h,...f],y=u.map(async e=>{const n=b.find(t=>t.name===e.attributes.name),a=Object(i.i)(e).map(e=>t[e.id]||"").map(async e=>{await Object(c.Cb)({variableID:n.id,data:{labelID:e}})});await Promise.all(a)});await Promise.all(y)},b=async(e,t)=>{const{content:n}=e;try{if(n.data.type!==m.TemplateType.Task||"1"!==e.meta.version)throw new Error("Cannot create task from this template");const a=n.data.attributes.flux,r=await Object(c.xb)({data:{orgID:t,flux:a}});if(201!==r.status)throw new Error(r.data.message);const{entities:i,result:l}=Object(s.a)(r.data,o.b),u=i.tasks[l],d=await h(e,t);await y(e,d,u);const p=await Object(c.M)({taskID:u.id});if(200!==p.status)throw new Error(p.data.message);return u}catch(e){console.error(e)}},y=async(e,t,n)=>{try{const a=Object(i.i)(e.content.data).map(e=>t[e.id]||"").map(e=>Object(c.yb)({taskID:n.id,data:{labelID:e}})),s=await Promise.all(a);if(s.length>0&&s.some(e=>201!==e.status))throw new Error("An error occurred adding task labels from the templates")}catch(e){console.error(e)}},v=async(e,t)=>{const{content:n}=e;try{if(n.data.type!==m.TemplateType.Variable||"1"!==e.meta.version)throw new Error("Cannot create variable from this template");const a=await Object(c.Bb)({data:Object.assign(Object.assign({},n.data.attributes),{orgID:t})});if(201!==a.status)throw new Error(a.data.message);const s=await h(e,t);await f(e,s,t);const r=await Object(c.R)({variableID:a.data.id});if(200!==r.status)throw new Error(r.data.message);return r.data}catch(e){console.error(e)}},x=async e=>{const t=await Object(c.Ab)(e);if(t.status>=300)throw new Error(t.data.message);return t.data},w=async(e,t)=>{return x({data:{dryRun:!0,orgID:e,remotes:[{url:t}]}})},E=async(e,t,n,a={})=>{const s={dryRun:!1,orgID:e,remotes:[{url:t}]};if(Object.keys(n).length){const e=[];for(const t in n)e.push({action:"skipResource",properties:{kind:n[t],resourceTemplateName:t}});s.actions=e}return Object.keys(a).length&&(s.envRefs=a),x({data:s})},k=async e=>{const t=await Object(c.L)({query:{orgID:e}});if(t.status>=300)throw new Error(t.data.message);return t.data.stacks},S=async(e,t)=>{const n=await Object(c.p)({stack_id:e,query:{orgID:t}});if(n.status>=300)throw new Error(n.data.message);return n},C=async(e,t)=>{const n=await Object(c.cb)({stack_id:e,data:{name:t,description:null,templateURLs:null,additionalResources:null}});if(n.status>=300)throw new Error(n.data.message);return n},T=async e=>{const t=await fetch(`https://raw.githubusercontent.com/influxdata/community-templates/master/${e}/readme.md`);if(t.status>=300)throw new Error(`Network response was not ok:' ${t.statusText}`);return t.text()}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"j",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"n",(function(){return k})),n.d(t,"l",(function(){return S})),n.d(t,"o",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"f",(function(){return O})),n.d(t,"i",(function(){return D})),n.d(t,"m",(function(){return I})),n.d(t,"b",(function(){return R})),n.d(t,"g",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return P})),n.d(t,"h",(function(){return L})),n.d(t,"k",(function(){return F}));var a=n(6),s=n(42),r=n(84),o=n(148),i=n(432),l=n(163),c=n(264),u=n(418),m=n(878),d=n(364),p=n(18),h=n(21),_=n(249),g=n(147),f=n(5),b=n(421),y=n(422),v=n(28),x=n(31);const w=e=>({type:"SET_DATA_LOADERS_TYPE",payload:{type:e}}),E=()=>({type:"CLEAR_DATA_LOADERS"}),k=e=>({type:"SET_TELEGRAF_CONFIG_NAME",payload:{name:e}}),S=e=>({type:"SET_TELEGRAF_CONFIG_DESCRIPTION",payload:{description:e}}),C=(e,t,n)=>({type:"UPDATE_TELEGRAF_PLUGIN_CONFIG",payload:{name:e,field:t,value:n}}),T=(e,t,n)=>({type:"ADD_TELEGRAF_PLUGIN_CONFIG_VALUE",payload:{pluginName:e,fieldName:t,value:n}}),O=(e,t,n)=>({type:"REMOVE_TELEGRAF_PLUGIN_CONFIG_VALUE",payload:{pluginName:e,fieldName:t,value:n}}),D=(e,t,n,a)=>({type:"SET_TELEGRAF_PLUGIN_CONFIG_VALUE",payload:{pluginName:e,field:t,valueIndex:n,value:a}}),I=e=>({type:"SET_TELEGRAF_CONFIG_ID",payload:{id:e}}),j=e=>({type:"SET_TOKEN",payload:{token:e}}),R=e=>t=>{t((e=>({type:"ADD_PLUGIN_BUNDLE",payload:{bundle:e}}))(e)),t((e=>({type:"ADD_TELEGRAF_PLUGINS",payload:{telegrafPlugins:e}}))(_.d[e].map(e=>{return{name:e,active:!1,configured:_.e[e].fields?g.d.Unconfigured:g.d.Configured,templateID:_.e[e].templateID}})))},N=e=>t=>{t((e=>({type:"REMOVE_PLUGIN_BUNDLE",payload:{bundle:e}}))(e)),t((e=>({type:"REMOVE_BUNDLE_PLUGINS",payload:{bundle:e}}))(e))},A=()=>async(e,t)=>{const{telegrafPlugins:n,telegrafConfigID:a,telegrafConfigName:i,telegrafConfigDescription:l}=Object(m.a)(t()),{name:d}=Object(h.a)(t()),{bucket:p}=Object(m.b)(t()),_={name:o.y.NameEnum.InfluxdbV2,type:o.y.TypeEnum.Output,config:{urls:[`${window.location.origin}`],token:"$INFLUX_TOKEN",organization:d,bucket:p}},f=n.reduce((e,t)=>t.configured===g.d.Configured?[...e,t.plugin||Object(u.a)(t.name)]:e,[_]);if(a){const t=await r.a.telegrafConfigs.update(a,{name:i,description:l,plugins:f}),n=Object(s.a)(t,c.b);return e(Object(b.g)(n)),void e(I(a))}M(e,t,f)},P=e=>async(t,n)=>{try{const s=n(),r=Object(h.a)(s).id,l=Object(p.c)(s,f.ResourceType.Telegrafs,e),c=Object(a.get)(l,"metadata.buckets[0]","");if(""===c)throw new Error("A token cannot be generated without a corresponding bucket");const u=Object(d.a)(s,c),m=[{action:o.b.ActionEnum.Write,resource:{type:o.c.TypeEnum.Buckets,id:u.id,orgID:r}},{action:o.b.ActionEnum.Read,resource:{type:o.c.TypeEnum.Telegrafs,id:e,orgID:r}}],_={name:`${l.name} token`,orgID:r,description:`WRITE ${c} bucket / READ ${l.name} telegraf config`,permissions:m},g=await Object(i.a)(_);t(j(g.token))}catch(e){console.error(e),t(Object(v.c)(x.l))}},M=async(e,t,n)=>{try{const a=t(),{telegrafConfigName:u,telegrafConfigDescription:d}=Object(m.a)(a),{bucket:p,bucketID:_}=Object(m.b)(a),g=Object(h.a)(t()),f={name:u,description:d,agent:{collectionInterval:1e4},orgID:g.id,plugins:n},w=await r.a.telegrafConfigs.create(f),E=[{action:o.b.ActionEnum.Write,resource:{type:o.c.TypeEnum.Buckets,id:_,orgID:g.id}},{action:o.b.ActionEnum.Read,resource:{type:o.c.TypeEnum.Telegrafs,id:w.id,orgID:g.id}}],k={name:`${u} token`,orgID:g.id,description:`WRITE ${p} bucket / READ ${u} telegraf config`,permissions:E},S=await Object(i.a)(k);e(j(S.token));const C=Object(s.a)(S,l.h);e(Object(y.e)(C));const T=Object(s.a)(w,c.b);e(I(w.id)),e(Object(b.f)(T)),e(Object(v.c)(x.i))}catch(t){console.error(t.message),e(Object(v.c)(x.h))}},L=e=>({type:"SET_ACTIVE_TELEGRAF_PLUGIN",payload:{telegrafPlugin:e}}),F=e=>({type:"SET_PLUGIN_CONFIGURATION_STATE",payload:{telegrafPlugin:e}})},,,,,function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),function(e){e.ShowOverlay="SHOW_OVERLAY",e.DismissOverlay="DISMISS_OVERLAY"}(a||(a={}));const s=(e,t,n)=>({type:a.ShowOverlay,payload:{overlayID:e,overlayParams:t,onClose:n}}),r=()=>({type:a.DismissOverlay})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(120);const s=e=>({type:"File",package:null,imports:null,body:[{type:"OptionStatement",assignment:{type:"VariableAssignment",id:{type:"Identifier",name:a.b},init:{type:"ObjectExpression",properties:e.filter(e=>!!e).map(r)}}}]}),r=e=>({type:"Property",key:e.id,value:e.init})},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));var a=n(6);const s=n.n(a).a.sample(["Looks like you don’t have any queries. Be a lot cooler if you did!","Create a query. Go on!","Create a query. Have fun!"]),r="The data returned from the query can't be visualized with this graph type."},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n(588),s=n(20);const r=()=>{const e=Object(a.a)();return e&&e.getAttribute("data-basepath")||""},o=()=>s.b&&"/"!==s.b?s.b.slice(0,-1):"",i=(e,t=(()=>s.h&&"/"!==s.h?s.h.slice(0,-1):"")())=>{if(""===t)return e;const n=new RegExp(`^${t}`);return e.match(n)?e.replace(n,""):void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return b}));var a,s=n(308),r=n.n(s),o=n(107),i=n(6),l=n(28),c=n(205),u=n(641),m=n(31),d=n(139);!function(e){e.DeleteTimeRange="DELETE_TIME_RANGE",e.SetDashboardTimeRange="SET_DASHBOARD_TIME_RANGE",e.RetainRangesDashboardTimeV1="RETAIN_RANGES_DASHBOARD_TIME_V1"}(a||(a={}));const p=e=>({type:a.DeleteTimeRange,payload:{dashboardID:e}}),h=(e,t)=>({type:a.SetDashboardTimeRange,payload:{dashboardID:e,timeRange:t}}),_=e=>({type:a.RetainRangesDashboardTimeV1,payload:{dashboardIDs:e}}),g=e=>{const{search:t,pathname:n}=window.location,a=Object(c.c)(n),s=Object(i.pickBy)(Object.assign(Object.assign({},r.a.parse(t,{ignoreQueryPrefix:!0})),e),e=>!!e),l={pathname:a,search:`?${r.a.stringify(s)}`};return Object(o.f)(l)},f=e=>{const t=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),n=Object.assign(Object.assign({},t.vars||{}),e);return g({vars:n})},b=e=>(t,n)=>{const{ranges:a}=n(),s=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),o=Object(u.a)({lower:Object(i.get)(s,"lower",null),upper:Object(i.get)(s,"upper",null)}),c=o||a[e]||d.b;!s.lower&&!s.upper||o||t(Object(l.c)(m.Lb())),t(h(e,c)),t(g({lower:c.lower,upper:c.upper}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i}));const a=100,s=100,r=100,o=100,i=500},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var a=n(6),s=n(71),r=n(183),o=n(261),i=n(29),l=n(251),c=n(788),u=n(120);const m=6e5,d=e=>{var t;return"system"===(null===(t=e.arguments)||void 0===t?void 0:t.type)?{[e.name]:e.arguments.values||[]}:{[e.name]:e.selected||[]}},p=e=>{let t=0;if(!e)return`${t}`;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return`${t}`};const h=new class{constructor(){this.cache={},this.cleanExpiredQueries=()=>{const e=Date.now();for(const t in this.cache)this.cache[t].isCustomTime||e-this.cache[t].dateSet>m&&this.resetCacheByID(t)},this.getFromCache=(e,t)=>this.cache[e]?this.cache[e].hashedVariables!==t?(this.resetCacheByID(e),null):void 0===this.cache[e].values?null:Date.now()-this.cache[e].dateSet>m?(this.resetCacheByID(e),null):(Object(i.a)("Query Cache successful Get",{context:"queryCache",queryID:e}),this.cache[e].values):null,this.initializeCacheByID=(e,t,n=!1)=>this.cache[e]?this.cache[e]:(this.cache[e]={dateSet:Date.now(),hashedVariables:t,isCustomTime:n,mutex:Object(c.a)()},this.cache[e]),this.resetCacheByID=e=>{this.cache[e]&&delete this.cache[e]},this.resetCache=()=>{this.cache={}},this.setCacheByID=(e,t,n)=>{Object(i.a)("Query Cache was Set",{context:"queryCache",queryID:e}),this.cache[e]=Object.assign(Object.assign({},this.initializeCacheByID(e,t)),{dateSet:Date.now(),values:n})},this.startWatchDog=()=>{setInterval(()=>{this.cleanExpiredQueries()},m/2),this.cleanExpiredQueries()}}};h.startWatchDog();const _=()=>{h.resetCache()},g=e=>{const t=`${p(e)}`;h.resetCacheByID(t)},f=(e,t,n)=>{const c=`${p(t)}`;Object(i.a)("Starting Query Cache Process ",{context:"queryCache",queryID:c});const m=Object(o.b)(Object(s.g)(n),[t]),_=Object(a.sortBy)(m,["name"]),g=_.map(e=>d(e)),f=JSON.stringify(g),b=`${p(f)}`,y=h.getFromCache(c,b);if(y)return{promise:new Promise(e=>e(y)),cancel:()=>{}};const v=_.map(e=>Object(s.a)(e)).filter(e=>!!e);let x=[];!1===(e=>e.some(e=>e.id.name===u.e))(v)&&(x=Object(l.d)(t,v));const w=Object(r.a)([...v,...x]),{mutex:E}=h.initializeCacheByID(c,b),k=E.run(e,t,w);return k.promise=k.promise.then(e=>(h.setCacheByID(c,b,e),e)),k},b=(e,t)=>(n,a)=>f(e,t,a())},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return _}));var a=n(6),s=n(117),r=n.n(s),o=n(3);const i="Notification Rule: ${ r._notification_rule_name } triggered by check: ${ r._check_name }: ${ r._message }",l=(e,t)=>{switch(e.find(e=>e.id===t).type){case"slack":return{messageTemplate:i,channel:"",type:"slack"};case"pagerduty":return{messageTemplate:i,type:"pagerduty"};case"http":return{type:"http",url:""};case"telegram":return{messageTemplate:i.replace(/\$\{[^\}]+\}/g,e=>`\`${e}\``),parseMode:"MarkdownV2",disableWebPagePreview:!1,type:"telegram"};default:throw new Error(`Could not find NotificationEndpoint with id "${t}"`)}},c=["changes from","is equal to"],u=e=>{const{previousLevel:t}=e.value;return t?"changes from":"is equal to"},m=(e,t)=>{if("is equal to"===t)return Object(a.omit)(e,"value.previousLevel");const{value:n}=e,s=Object.assign(Object.assign({},n),{previousLevel:"OK"});return Object.assign(Object.assign({},e),{value:s})},d=e=>({type:"http",every:"10m",offset:"0s",url:"",orgID:e,name:"",activeStatus:"active",status:o.RemoteDataState.NotStarted,endpointID:"",tagRules:[],labels:[],statusRules:[{cid:r.a.v4(),value:{currentLevel:"CRIT",period:"1h",count:1}}],description:""}),p=e=>Object.assign(Object.assign({},e),{status:e.activeStatus,statusRules:e.statusRules.map(e=>e.value),tagRules:e.tagRules.map(e=>e.value).filter(e=>e.key&&e.value)}),h=()=>({cid:r.a.v4(),value:{key:"",value:"",operator:"equal"}}),_=e=>{const t=e.statusRules||[],n=e.tagRules||[];return Object.assign(Object.assign({},e),{labels:e.labels.map(e=>e.id),status:o.RemoteDataState.Done,activeStatus:e.status,offset:e.offset||"",statusRules:t.map(e=>({cid:r.a.v4(),value:e})),tagRules:n.map(e=>({cid:r.a.v4(),value:e}))})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a=n(6);const s=3600,r=e=>Object(a.startsWith)(e,"_")},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"n",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return _})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"D",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"s",(function(){return v})),n.d(t,"t",(function(){return x})),n.d(t,"w",(function(){return w})),n.d(t,"q",(function(){return E})),n.d(t,"C",(function(){return k})),n.d(t,"u",(function(){return S})),n.d(t,"r",(function(){return C})),n.d(t,"y",(function(){return T})),n.d(t,"v",(function(){return O})),n.d(t,"A",(function(){return D})),n.d(t,"B",(function(){return I})),n.d(t,"z",(function(){return j})),n.d(t,"x",(function(){return R}));const a="SET_TASKS",s="EDIT_TASK",r="SET_TASK_OPTION",o="SET_ALL_TASK_OPTIONS",i="CLEAR_TASK",l="CLEAR_CURRENT_TASK",c="SET_NEW_SCRIPT",u="SET_CURRENT_SCRIPT",m="SET_CURRENT_TASK",d="SET_SEARCH_TERM",p="SET_SHOW_INACTIVE",h="SET_RUNS",_="SET_LOGS",g="REMOVE_TASK",f="ADD_TASK",b=(e,t)=>({type:a,status:e,schema:t}),y=e=>({type:f,schema:e}),v=e=>({type:s,schema:e}),x=e=>({type:g,id:e}),w=e=>({type:m,schema:e}),E=()=>({type:l}),k=e=>Object.assign({type:r},e),S=e=>({type:o,schema:e}),C=()=>({type:i}),T=e=>({type:c,script:e}),O=e=>({type:u,script:e}),D=e=>({type:d,searchTerm:e}),I=()=>({type:p}),j=(e,t)=>({type:h,runs:e,runStatus:t}),R=e=>({type:_,logs:e})},function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_DASHBOARD_LABEL",(function(){return a})),n.d(t,"DELETE_DASHBOARD_FAILED",(function(){return s})),n.d(t,"EDIT_DASHBOARD",(function(){return r})),n.d(t,"REMOVE_DASHBOARD",(function(){return o})),n.d(t,"REMOVE_DASHBOARD_LABEL",(function(){return i})),n.d(t,"SET_DASHBOARD",(function(){return l})),n.d(t,"SET_DASHBOARDS",(function(){return c})),n.d(t,"SET_DASHBOARD_SORT",(function(){return u})),n.d(t,"editDashboard",(function(){return m})),n.d(t,"setDashboards",(function(){return d})),n.d(t,"setDashboardSort",(function(){return p})),n.d(t,"setDashboard",(function(){return h})),n.d(t,"removeDashboard",(function(){return _})),n.d(t,"removeDashboardLabel",(function(){return g}));const a="ADD_DASHBOARD_LABEL",s="DELETE_DASHBOARD_FAILED",r="EDIT_DASHBOARD",o="REMOVE_DASHBOARD",i="REMOVE_DASHBOARD_LABEL",l="SET_DASHBOARD",c="SET_DASHBOARDS",u="SET_DASHBOARD_SORT",m=e=>({type:r,schema:e}),d=(e,t)=>({type:c,status:e,schema:t}),p=e=>({type:u,sortOptions:e}),h=(e,t,n)=>({type:l,id:e,status:t,schema:n}),_=e=>({type:o,id:e}),g=(e,t)=>({type:i,dashboardID:e,labelID:t})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u}));const a="RESET_VIEWS",s="SET_VIEW",r="SET_VIEWS",o="SET_VIEWS_AND_CELLS",i=()=>({type:a}),l=(e,t)=>({type:r,status:e,schema:t}),c=(e,t,n)=>({type:s,id:e,status:t,schema:n}),u=(e,t,n)=>({type:o,cellsArray:t,viewsArray:n,status:e})},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n(6);var a=n(5),s=n(319);const r=(e,t)=>{if("string"!=typeof t)return null;if(""===t.trim())return"Label name is required";return!e.find(e=>e.toLowerCase()===t.toLowerCase())?null:"There is already a label with that name"},o=e=>{const t=e.length===s.b,n=[];return"#"===e.substring(0,1)||n.push("Hexcodes must begin with #"),t||(n.length?n.push(`and must be ${s.b} characters`):n.push(`Hexcodes must be ${s.b} characters`)),n.length?n.join(", "):null},i=e=>{return Object.assign(Object.assign({},e),{status:a.RemoteDataState.Done,properties:Object.assign(Object.assign({},e.properties),{color:(e.properties||{}).color||"#326BBA",description:(e.properties||{}).description||""})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(42),s=n(5),r=n(85);const o=new a.b.Entity(s.ResourceType.Variables,{labels:[r.b]},{processStrategy:e=>Object.assign(Object.assign({},e),{status:s.RemoteDataState.Done})}),i=[o]},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"m",(function(){return _})),n.d(t,"l",(function(){return g}));var a=n(5);function s(e,t){let n=[];return t.forEach(t=>{const a=r(e,t);a&&(n=[...n,a])}),n}function r(e,t){return e.find(e=>e.id===t.id&&e.type===t.type)}const o=(e,t)=>t.filter(t=>!e.find(e=>e.name===t.attributes.name)),i=e=>e.filter(e=>e.type===a.TemplateType.Variable),l=(e,t)=>t.filter(t=>!e.find(e=>e.name===t.attributes.name)),c=e=>!!e.relationships&&!!e.relationships[a.TemplateType.Label],u=e=>c(e)?[].concat(e.relationships[a.TemplateType.Label].data):[],m=e=>{const t=e.split("/"),n=t.pop(),a=t.pop(),[s,r]=n.split(".");return{name:s,extension:r,directory:a}},d=(e,t,n)=>`https://github.com/influxdata/community-templates/blob/master/${e}/${t}.${n}`,p="You're good to go!",h="This URL does not point to our Community Templates repository. It may work but we cannot guarantee quality results.",_=e=>{if(""===e)return"";const t=e.startsWith("https://github.com/influxdata/community-templates")||e.startsWith("https://raw.githubusercontent.com/influxdata/community-templates"),n=e.endsWith(".yml")||e.endsWith(".json")||e.endsWith(".jsonnet");return t&&!n?"This URL correctly points to the Community Templates repository but isn't pointing to a YAML or JSON file":!t&&n?h:t||n?p:"We can't use that URL"},g=e=>{return("## Setup Instructions"+e.split("## Setup Instructions")[1]).replace("../docs/use_a_template.md","https://github.com/influxdata/community-templates/blob/master/docs/use_a_template.md")}},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));var a=n(2),s=n.n(a),r=n(1367),o=n(117),i=n(5),l=n(875),c=n(247),u=n(139),m=n(20);const d=Object(r.a)("flows"),p=Object(r.a)("current-flow"),h={name:"Name this Flow",range:u.b,refresh:m.c,data:{byID:{},allIDs:[]},meta:{byID:{},allIDs:[]},readOnly:!1},_={flows:{},add:e=>{},update:(e,t)=>{},remove:e=>{},change:e=>{},currentID:null},g=s.a.createContext(_);const f=({children:e})=>{const[t,n]=d(_.flows),[r,f]=p(null),b=Object(a.useCallback)(e=>{if(!t||!t.hasOwnProperty(e))throw new Error("Flow does note exist");f(e)},[r,f,t]),y=Object.keys(t).reduce((e,a)=>{const s=(e,s)=>{const r=Object.assign({},t[a]);r[e]=s,n(Object.assign(Object.assign({},t),{[a]:r}))};return e[a]={name:t[a].name,range:t[a].range,refresh:t[a].refresh,data:Object(l.a)(t[a].data,e=>{s("data",e)}),meta:Object(l.a)(t[a].meta,e=>{s("meta",e)}),readOnly:t[a].readOnly},e},{});return s.a.createElement(g.Provider,{value:{flows:y,add:e=>{let a;return a=e?{name:e.name,range:e.range,refresh:e.refresh,data:e.data,meta:e.meta,readOnly:e.readOnly}:Object.assign({},function(e){const t=Object.assign(Object.assign({},JSON.parse(JSON.stringify(h))),{name:e.name,range:e.range,refresh:e.refresh,readOnly:e.readOnly});return e.pipes.forEach(e=>{const n=e.id||Object(o.v4)();t.data.allIDs.push(n),t.meta.allIDs.push(n);const a={title:e.title,visible:e.visible,loading:i.RemoteDataState.NotStarted};delete e.title,delete e.visible,t.data.byID[n]=e,t.meta.byID[n]=a}),t}({name:"Name this Flow",readOnly:!1,range:u.b,refresh:m.c,pipes:[Object.assign({title:"Select a Metric",visible:!0,type:"queryBuilder"},JSON.parse(JSON.stringify(c.a.queryBuilder.initial))),Object.assign({title:"Visualize the Result",visible:!0,type:"visualization"},JSON.parse(JSON.stringify(c.a.visualization.initial)))]})),new Promise(e=>{setTimeout(()=>{const s=Object(o.v4)();n(Object.assign(Object.assign({},t),{[s]:a})),f(s),e(s)},200)})},update:(e,a)=>{if(!t.hasOwnProperty(e))throw new Error("Flow not found");const s={name:a.name,range:a.range,refresh:a.refresh,data:a.data.serialize(),meta:a.meta.serialize(),readOnly:a.readOnly};n(Object.assign(Object.assign({},t),{[e]:s}))},remove:e=>{const a=Object.assign({},t);delete a[e],r===e&&f(null),n(a)},currentID:r,change:b}},e)};t.c=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={},s=n(1369);s.keys().forEach(e=>{s(e).default(e=>{if(a.hasOwnProperty(e.type))throw new Error(`Pipe of type [${e.type}] has already been registered`);a[e.type]=Object.assign({},e)})})},,function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g}));var a=n(5),s=n(148),r=n(2),o=n.n(r);var i=()=>o.a.createElement("svg",{width:"100%",height:"100%",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},o.a.createElement("g",{id:"cpu_icon"},o.a.createElement("style",null,"\n          .cpu_a{fill:#7A65F1;}\n          .cpu_b{fill:none;stroke:#2C323D;stroke-width:7;stroke-linejoin:round;stroke-miterlimit:10;}\n          .cpu_c{fill:#2C323D;}\n          "),o.a.createElement("path",{className:"cpu_a",d:"M96,100H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h92c2.2,0,4,1.8,4,4v92C100,98.2,98.2,100,96,100z"}),o.a.createElement("line",{className:"cpu_b",x1:"22.2",y1:"100",x2:"22.2"}),o.a.createElement("line",{className:"cpu_b",x1:"40.7",y1:"100",x2:"40.7"}),o.a.createElement("line",{className:"cpu_b",x1:"59.3",y1:"100",x2:"59.3"}),o.a.createElement("line",{className:"cpu_b",x1:"77.8",y1:"100",x2:"77.8"}),o.a.createElement("line",{className:"cpu_b",y1:"22.2",x2:"100",y2:"22.2"}),o.a.createElement("line",{className:"cpu_b",y1:"40.7",x2:"100",y2:"40.7"}),o.a.createElement("line",{className:"cpu_b",y1:"59.3",x2:"100",y2:"59.3"}),o.a.createElement("line",{className:"cpu_b",y1:"77.8",x2:"100",y2:"77.8"}),o.a.createElement("g",null,o.a.createElement("rect",{x:"17",y:"17",className:"cpu_a",width:"66",height:"66"}),o.a.createElement("path",{className:"cpu_c",d:"M76,24v52H24V24H76 M88,10H12c-1.1,0-2,0.9-2,2v76c0,1.1,0.9,2,2,2h76c1.1,0,2-0.9,2-2V12 C90,10.9,89.1,10,88,10L88,10z"}))));var l=()=>o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 69.46"},o.a.createElement("style",null,"   \n            .docker_a, .docker_b {\n                fill: #066da5;\n            }\n            .docker_a {\n                fill-rule: evenodd;\n            }"),o.a.createElement("defs",null),o.a.createElement("path",{className:"docker_a",d:"M97.92,26.44c-2.26-1.51-7.44-2.06-11.43-1.31-.51-3.75-2.61-7-6.41-9.95l-2.19-1.46-1.46,2.19a17,17,0,0,0-2.5,10.47,13.29,13.29,0,0,0,1.93,5.75,15.74,15.74,0,0,1-7.57,1.66H.39l-.14.78c-.64,3.77-.62,15.52,7,24.55C13.05,66,21.75,69.46,33.09,69.46c24.6,0,42.8-11.32,51.32-31.9,3.35.07,10.56,0,14.27-7.06.1-.17.32-.59,1-1.93l.35-.74Z"}),o.a.createElement("rect",{className:"docker_b",x:"44.36",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"44.36",y:"11.26",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"32.15",y:"11.26",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"19.95",y:"11.26",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"7.75",y:"22.53",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"19.95",y:"22.53",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"32.15",y:"22.53",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"44.36",y:"22.53",width:"10.33",height:"9.39"}),o.a.createElement("rect",{className:"docker_b",x:"56.56",y:"22.53",width:"10.33",height:"9.39"}));var c=()=>o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 97.03"},o.a.createElement("style",null,"      \n        .kubernetes_a {\n          fill: #326ce5;\n        }\n        .kubernetes_b {\n          fill: #fff;\n          stroke: #fff;\n          stroke-width: 0.25px;\n        }"),o.a.createElement("defs",null),o.a.createElement("path",{className:"kubernetes_a",d:"M49.65,0a6.57,6.57,0,0,0-2.54.64L12.34,17.26a6.62,6.62,0,0,0-3.6,4.48L.17,59.05a6.55,6.55,0,0,0,.9,5.06,6.28,6.28,0,0,0,.38.52L25.51,94.55A6.67,6.67,0,0,0,30.71,97H69.3a6.65,6.65,0,0,0,5.19-2.48L98.55,64.62A6.56,6.56,0,0,0,99.83,59L91.24,21.73a6.59,6.59,0,0,0-3.59-4.47L52.88.65A6.66,6.66,0,0,0,49.65,0Z"}),o.a.createElement("path",{className:"kubernetes_b",d:"M50,12.71A2.2,2.2,0,0,0,47.92,15v.06c0,.17,0,.38,0,.53a15.23,15.23,0,0,0,.28,2,19,19,0,0,1,.23,3.77,2.31,2.31,0,0,1-.67,1.08l0,.88A25.73,25.73,0,0,0,44,23.9a26.68,26.68,0,0,0-13.6,7.77l-.75-.54A1.63,1.63,0,0,1,28.36,31a19.42,19.42,0,0,1-2.8-2.53A16.86,16.86,0,0,0,24.19,27l-.46-.37a2.5,2.5,0,0,0-1.45-.54,2,2,0,0,0-1.66.73,2.2,2.2,0,0,0,.51,3.07l0,0,.43.35a17.22,17.22,0,0,0,1.73,1,19.64,19.64,0,0,1,3.09,2.17,2.29,2.29,0,0,1,.42,1.2l.67.6A26.91,26.91,0,0,0,23.25,54l-.87.25a2.9,2.9,0,0,1-.9.91,19.74,19.74,0,0,1-3.73.61,17.37,17.37,0,0,0-2,.16l-.56.13h0a2.09,2.09,0,1,0,.93,4.06h.07l.54-.12a16.34,16.34,0,0,0,1.86-.72,19.72,19.72,0,0,1,3.63-1.06,2.22,2.22,0,0,1,1.2.42l.91-.16a27.09,27.09,0,0,0,12,15l-.38.9a2.14,2.14,0,0,1,.18,1.18A20.07,20.07,0,0,1,34.21,79a17.78,17.78,0,0,0-1.12,1.66c-.08.15-.18.39-.26.56A2.09,2.09,0,1,0,36.58,83h0c.08-.16.19-.37.26-.53a18.84,18.84,0,0,0,.6-1.9c.55-1.39.85-2.84,1.61-3.74a1.6,1.6,0,0,1,.89-.44l.48-.85a26.86,26.86,0,0,0,15.63,1.12,27.81,27.81,0,0,0,3.57-1.07c.13.23.38.68.44.8a1.62,1.62,0,0,1,1.07.64,20,20,0,0,1,1.42,3.5,17.5,17.5,0,0,0,.61,1.91c.06.15.18.37.26.53a2.09,2.09,0,1,0,3.76-1.78l-.27-.56a19.21,19.21,0,0,0-1.12-1.66A19.55,19.55,0,0,1,64,75.62a1.69,1.69,0,0,1,.16-1.23c-.07-.09-.24-.6-.34-.84a27.07,27.07,0,0,0,12-15.09l.89.16a1.62,1.62,0,0,1,1.17-.43,19.72,19.72,0,0,1,3.63,1.06,16.34,16.34,0,0,0,1.86.72l.54.12h.07a2.09,2.09,0,1,0,.93-4.06c-.18,0-.43-.11-.61-.14a17.37,17.37,0,0,0-2-.16,19.74,19.74,0,0,1-3.73-.61,2.29,2.29,0,0,1-.9-.91L76.78,54a27.05,27.05,0,0,0-4.34-18.73l.74-.66a1.66,1.66,0,0,1,.39-1.18,19.31,19.31,0,0,1,3.1-2.17,18.41,18.41,0,0,0,1.73-1l.45-.37a2.09,2.09,0,1,0-2.59-3.26L75.8,27a16.86,16.86,0,0,0-1.37,1.46A20.12,20.12,0,0,1,71.62,31a2.3,2.3,0,0,1-1.26.13l-.79.57a27.32,27.32,0,0,0-17.28-8.35c0-.27,0-.78,0-.93a1.68,1.68,0,0,1-.68-1,19.1,19.1,0,0,1,.24-3.77,15.23,15.23,0,0,0,.28-2c0-.17,0-.41,0-.59A2.2,2.2,0,0,0,50,12.71ZM47.39,28.85l-.62,10.91,0,0a1.84,1.84,0,0,1-1.83,1.76,1.81,1.81,0,0,1-1.08-.35h0l-8.95-6.35a21.5,21.5,0,0,1,12.54-6Zm5.22,0a21.55,21.55,0,0,1,12.46,6l-8.89,6.3h0a1.84,1.84,0,0,1-2.92-1.4h0Zm-21,10.08,8.18,7.31v0A1.85,1.85,0,0,1,40,48.81a1.82,1.82,0,0,1-1,.63v0l-10.48,3A21.49,21.49,0,0,1,31.6,38.93Zm36.73,0a21.73,21.73,0,0,1,3.14,13.53l-10.53-3v0a1.83,1.83,0,0,1-1.3-2.18,1.86,1.86,0,0,1,.58-1v0l8.12-7.28Zm-20,7.87h3.35l2.08,2.61L53,52.65,50,54.1l-3-1.45-.74-3.25Zm10.73,8.91a1.53,1.53,0,0,1,.43,0v0l10.84,1.84a21.49,21.49,0,0,1-8.67,10.89L57.45,58.28h0a1.84,1.84,0,0,1,.89-2.38,1.81,1.81,0,0,1,.7-.18Zm-18.19,0a1.85,1.85,0,0,1,1.76,1.43,1.82,1.82,0,0,1-.11,1.13l0,0L38.38,68.4a21.45,21.45,0,0,1-8.64-10.82l10.74-1.82,0,0a2.19,2.19,0,0,1,.36,0Zm9.07,4.41a1.76,1.76,0,0,1,.86.18,1.82,1.82,0,0,1,.82.78h0L57,70.69a21.87,21.87,0,0,1-13.86,0l5.28-9.55h0A1.82,1.82,0,0,1,49.93,60.16Z"}));var u=()=>o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 87.14 100"},o.a.createElement("style",null,"\n          .nginx_a {\n            fill: #009438;\n            }\n          .nginx_b {\n            fill: #fefefe;\n            }"),o.a.createElement("defs",null),o.a.createElement("path",{className:"nginx_a",d:"M0,50.07V26.21a2.14,2.14,0,0,1,1.2-2C15,16.21,28.68,8.35,42.37.4A2.09,2.09,0,0,1,44.68.3L86,24.17a2.22,2.22,0,0,1,1.11,2V73.84a2.22,2.22,0,0,1-1.11,2L50.51,96.42c-1.85,1.11-3.8,2.22-5.65,3.23a2.37,2.37,0,0,1-2.49,0C32,93.73,21.74,87.72,11.38,81.8c-3.42-1.94-6.85-4-10.27-5.92A2.08,2.08,0,0,1,0,73.94Z"}),o.a.createElement("path",{className:"nginx_b",d:"M29.14,41.19V69a5.75,5.75,0,0,1-5.83,5.83,5.51,5.51,0,0,1-4.72-2.68,4.86,4.86,0,0,1-.74-2.78V30.74a5.59,5.59,0,0,1,3.61-5.27,8.63,8.63,0,0,1,6.11,0,9.8,9.8,0,0,1,4.71,3.23c4,4.81,8,9.62,12,14.43,4.16,5,8.42,10,12.58,15.08a5.25,5.25,0,0,0,.37.46V30.55A5.39,5.39,0,0,1,62.16,25a5.61,5.61,0,0,1,6.39,4.81V69.22A5.16,5.16,0,0,1,65.68,74a8.17,8.17,0,0,1-4.44.83,10.08,10.08,0,0,1-6.11-2.59,35.29,35.29,0,0,1-2.4-2.77C48.19,64,43.66,58.67,39.13,53.22L29.32,41.47C29.32,41.38,29.23,41.28,29.14,41.19Z"}));var m=()=>o.a.createElement("svg",{width:"100%",height:"100%",id:"redis_Layer_1",viewBox:"0 0 100 100",xmlSpace:"preserve"},o.a.createElement("style",null,".redis_st0{fill:#912626}.redis_st1{fill:#c6302b}"),o.a.createElement("path",{className:"redis_st0",d:"M96.1 73.1c-5.3 2.8-33 14.1-38.9 17.2-5.9 3.1-9.2 3-13.8.8C38.8 88.9 9.3 77 4 74.5c-2.6-1.3-4-2.3-4-3.3V61s38.3-8.3 44.5-10.6c6.2-2.2 8.3-2.3 13.6-.4 5.3 1.9 36.7 7.6 41.9 9.5v10c0 1.1-1.2 2.2-3.9 3.6"}),o.a.createElement("path",{className:"redis_st1",d:"M96.1 63c-5.3 2.8-33 14.1-38.9 17.2-5.9 3.1-9.2 3-13.8.8C38.8 78.8 9.3 66.9 4 64.4c-5.3-2.5-5.4-4.3-.2-6.3s34.5-13.5 40.6-15.7c6.2-2.2 8.3-2.3 13.6-.4 5.3 1.9 32.7 12.9 37.9 14.8 5.3 1.9 5.5 3.4.2 6.2"}),o.a.createElement("path",{className:"redis_st0",d:"M96.1 56.7c-5.3 2.8-33 14.1-38.9 17.2-5.9 3.1-9.2 3-13.8.8C38.8 72.5 9.3 60.6 4 58.1c-2.6-1.3-4-2.3-4-3.3V44.7s38.3-8.3 44.5-10.6c6.2-2.2 8.3-2.3 13.6-.4 5.3 1.9 36.7 7.6 41.9 9.5v10c0 1-1.2 2.1-3.9 3.5"}),o.a.createElement("path",{className:"redis_st1",d:"M96.1 46.7c-5.3 2.8-33 14.1-38.9 17.2-5.9 3.1-9.2 3-13.8.8C38.8 62.5 9.3 50.6 4 48.1c-5.3-2.5-5.4-4.3-.2-6.3C9 39.7 38.3 28.2 44.5 26c6.2-2.2 8.3-2.3 13.6-.4 5.3 1.9 32.7 12.9 37.9 14.8 5.2 1.9 5.4 3.5.1 6.3"}),o.a.createElement("path",{className:"redis_st0",d:"M96.1 39.8c-5.3 2.8-33 14.1-38.9 17.2-5.9 3.1-9.2 3-13.8.8C38.8 55.6 9.3 43.7 4 41.2c-2.6-1.3-4-2.3-4-3.3V27.7s38.3-8.3 44.5-10.6c6.2-2.2 8.3-2.3 13.6-.4 5.3 1.9 36.7 7.6 41.9 9.5v10c0 1-1.2 2.1-3.9 3.6"}),o.a.createElement("path",{className:"redis_st1",d:"M96.1 29.7c-5.3 2.8-33 14.1-38.9 17.2-5.9 3.1-9.2 3-13.8.8C38.8 45.5 9.3 33.6 4 31.1c-5.3-2.5-5.4-4.3-.2-6.3S38.3 11.3 44.4 9.1c6.2-2.2 8.3-2.3 13.6-.4 5.3 1.9 32.7 12.9 37.9 14.8 5.3 1.9 5.5 3.4.2 6.2"}),o.a.createElement("path",{d:"M62.2 19.9l-8.6.9-1.9 4.6-3.1-5.2-9.9-.9 7.4-2.7-2.2-4.1 6.9 2.7 6.5-2.1-1.8 4.2 6.7 2.6m-11 22.4l-16-6.7 23-3.5-7 10.2M28.9 22.4c6.8 0 12.3 2.1 12.3 4.8 0 2.6-5.5 4.8-12.3 4.8s-12.3-2.1-12.3-4.8c0-2.6 5.6-4.8 12.3-4.8",fill:"#fff"}),o.a.createElement("path",{d:"M72.4 21.1L86 26.5l-13.6 5.4V21.1",fill:"#621b1c"}),o.a.createElement("path",{d:"M57.3 27.1l15.1-6v10.7l-1.5.6-13.6-5.3",fill:"#9a2928"}));const d=`${window.location.origin}/metrics`,p={[a.BundleName.System]:[s.e.NameEnum.Cpu,s.f.NameEnum.Disk,s.g.NameEnum.Diskio,s.w.NameEnum.System,s.m.NameEnum.Mem,s.n.NameEnum.Net,s.q.NameEnum.Processes,s.u.NameEnum.Swap],[a.BundleName.Docker]:[s.h.NameEnum.Docker],[a.BundleName.Kubernetes]:[s.k.NameEnum.Kubernetes],[a.BundleName.Nginx]:[s.p.NameEnum.Nginx],[a.BundleName.Redis]:[s.t.NameEnum.Redis]},h={[s.e.NameEnum.Cpu]:{fields:null,defaults:{name:s.e.NameEnum.Cpu,type:s.e.TypeEnum.Input},templateID:"0000000000000009"},[s.f.NameEnum.Disk]:{fields:null,defaults:{name:s.f.NameEnum.Disk,type:s.f.TypeEnum.Input},templateID:"0000000000000009"},[s.g.NameEnum.Diskio]:{fields:null,defaults:{name:s.g.NameEnum.Diskio,type:s.g.TypeEnum.Input},templateID:"0000000000000009"},[s.h.NameEnum.Docker]:{fields:{endpoint:{type:a.ConfigFieldType.String,isRequired:!0}},defaults:{name:s.h.NameEnum.Docker,type:s.h.TypeEnum.Input,config:{endpoint:""}},templateID:"0000000000000002"},[s.i.NameEnum.File]:{fields:{files:{type:a.ConfigFieldType.StringArray,isRequired:!0}},defaults:{name:s.i.NameEnum.File,type:s.i.TypeEnum.Input,config:{files:[]}}},[s.j.NameEnum.Kernel]:{fields:null,defaults:{name:s.j.NameEnum.Kernel,type:s.g.TypeEnum.Input}},[s.k.NameEnum.Kubernetes]:{fields:{url:{type:a.ConfigFieldType.Uri,isRequired:!0}},defaults:{name:s.k.NameEnum.Kubernetes,type:s.k.TypeEnum.Input,config:{url:""}},templateID:"0000000000000005"},[s.l.NameEnum.Logparser]:{fields:{files:{type:a.ConfigFieldType.StringArray,isRequired:!0}},defaults:{name:s.l.NameEnum.Logparser,type:s.l.TypeEnum.Input,config:{files:[]}}},[s.m.NameEnum.Mem]:{fields:null,defaults:{name:s.m.NameEnum.Mem,type:s.m.TypeEnum.Input},templateID:"0000000000000009"},[s.n.NameEnum.Net]:{fields:null,defaults:{name:s.n.NameEnum.Net,type:s.n.TypeEnum.Input},templateID:"0000000000000009"},[s.o.NameEnum.NetResponse]:{fields:null,defaults:{name:s.o.NameEnum.NetResponse,type:s.o.TypeEnum.Input}},[s.p.NameEnum.Nginx]:{fields:{urls:{type:a.ConfigFieldType.UriArray,isRequired:!0}},defaults:{name:s.p.NameEnum.Nginx,type:s.p.TypeEnum.Input},templateID:"0000000000000006"},[s.q.NameEnum.Processes]:{fields:null,defaults:{name:s.q.NameEnum.Processes,type:s.q.TypeEnum.Input},templateID:"0000000000000009"},[s.r.NameEnum.Procstat]:{fields:{exe:{type:a.ConfigFieldType.String,isRequired:!0}},defaults:{name:s.r.NameEnum.Procstat,type:s.r.TypeEnum.Input,config:{exe:""}}},[s.s.NameEnum.Prometheus]:{fields:{urls:{type:a.ConfigFieldType.UriArray,isRequired:!0}},defaults:{name:s.s.NameEnum.Prometheus,type:s.s.TypeEnum.Input,config:{urls:[]}}},[s.t.NameEnum.Redis]:{fields:{servers:{type:a.ConfigFieldType.StringArray,isRequired:!0},password:{type:a.ConfigFieldType.String,isRequired:!1}},defaults:{name:s.t.NameEnum.Redis,type:s.t.TypeEnum.Input,config:{servers:[],password:""}},templateID:"0000000000000008"},[s.v.NameEnum.Syslog]:{fields:{server:{type:a.ConfigFieldType.String,isRequired:!0}},defaults:{name:s.v.NameEnum.Syslog,type:s.v.TypeEnum.Input,config:{server:""}}},[s.u.NameEnum.Swap]:{fields:null,defaults:{name:s.u.NameEnum.Swap,type:s.u.TypeEnum.Input},templateID:"0000000000000009"},[s.w.NameEnum.System]:{fields:null,defaults:{name:s.w.NameEnum.System,type:s.w.TypeEnum.Input},templateID:"0000000000000009"},[s.x.NameEnum.Tail]:{fields:null,defaults:{name:s.x.NameEnum.Tail,type:s.x.TypeEnum.Input}}},_=(s.e.NameEnum.Cpu,s.f.NameEnum.Disk,s.g.NameEnum.Diskio,s.h.NameEnum.Docker,s.i.NameEnum.File,s.j.NameEnum.Kernel,s.k.NameEnum.Kubernetes,s.l.NameEnum.Logparser,s.m.NameEnum.Mem,s.n.NameEnum.Net,s.o.NameEnum.NetResponse,s.p.NameEnum.Nginx,s.q.NameEnum.Processes,s.r.NameEnum.Procstat,s.s.NameEnum.Prometheus,s.t.NameEnum.Redis,s.v.NameEnum.Syslog,s.u.NameEnum.Swap,s.w.NameEnum.System,s.x.NameEnum.Tail,{[a.BundleName.System]:i,[a.BundleName.Docker]:l,[a.BundleName.Kubernetes]:c,[a.BundleName.Nginx]:u,[a.BundleName.Redis]:m}),g=[a.BundleName.System,a.BundleName.Docker,a.BundleName.Kubernetes,a.BundleName.Nginx,a.BundleName.Redis]},function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(830),o=n(433),i=n.n(o),l=n(477);const c="flux";!async function(){await Object(l.a)(c,async()=>({format:"json",content:await n.e(70).then(n.t.bind(null,1698,3)).then(e=>JSON.stringify(e))})),window.monaco.languages.setLanguageConfiguration(c,{autoClosingPairs:[{open:'"',close:'"'},{open:"[",close:"]"},{open:"'",close:"'"},{open:"{",close:"}"},{open:"(",close:")"}]})}();var u=c,m=n(834),d=n(787),p=n(50);const h=(e,t,n={})=>({jsonrpc:"2.0",id:e,method:t,params:n}),_=e=>h(e,"initialize"),g=(e,t,n,a)=>h(e,"textDocument/didOpen",{textDocument:{uri:t,languageId:"flux",version:a,text:n}}),f=(e,t,n,a)=>h(e,"textDocument/didChange",{textDocument:{uri:t,version:a},contentChanges:[{text:n}]}),b=(e,t,n,a)=>h(e,"textDocument/rename",{textDocument:{uri:t},position:n,newName:a}),y=(e,t,n,a)=>h(e,"textDocument/references",{textDocument:{uri:t},position:n,context:a}),v=(e,t)=>h(e,"textDocument/formatting",{textDocument:{uri:t}}),x=(e,t,n)=>h(e,"textDocument/definition",{textDocument:{uri:t},position:n}),w=(e,t)=>h(e,"textDocument/documentSymbol",{textDocument:{uri:t}}),E=(e,t,n,a)=>h(e,"textDocument/completion",{textDocument:{uri:t},position:n,context:a}),k=(e,t)=>h(e,"textDocument/foldingRange",{textDocument:{uri:t}}),S=(e,t,n,a)=>h(e,"textDocument/signatureHelp",{textDocument:{uri:t},position:n,context:Object.assign({isRetrigger:!1},a)}),C=e=>{const t=e.get_message(),n=e.get_error();if(n)throw new Error(n);const a=(t||"").split("\r\n");try{return JSON.parse(a.slice(2).join("\n"))}catch(e){throw new Error("failed to parse LSP response")}};var T=n(833);const O=new r.MonacoToProtocolConverter,D=new r.ProtocolToMonacoConverter;var I=n(71),j=n(183),R=n(121),N=n(21),A=n(123),P=n(29),M=n(374),L=n(260);const F=e=>{const{table:t}=Object(p.fromFlux)(e.csv);return t.getColumn("_value","string")||[]},q=async(e,t)=>{if(!e||""===e)throw new Error("no org is provided");const n=`import "influxdata/influxdb/v1"\n      v1.measurements(bucket:"${t}")`;Object(P.a)("runQuery",{context:"monaco"});const a=await Object(R.a)(e,n).promise;if("SUCCESS"!==a.type)throw new Error("failed to get measurements");return a},B=async(e,t)=>{if(!e||""===e)throw new Error("no org is provided");const n=`import "influxdata/influxdb/v1"\n      v1.tagKeys(bucket:"${t}")`;Object(P.a)("runQuery",{context:"monaco"});const a=await Object(R.a)(e,n).promise;if("SUCCESS"!==a.type)throw new Error("failed to get tagKeys");return a},z=async(e,t,n)=>{if(!e||""===e)throw new Error("no org is provided");const a=`import "influxdata/influxdb/v1"\n      v1.tagValues(bucket:"${t}", tag: "${n}")`;Object(P.a)("runQuery",{context:"monaco"});const s=await Object(R.a)(e,a).promise;if("SUCCESS"!==s.type)throw new Error("failed to get tagKeys");return s};class U{constructor(e,t=Object(M.a)()){this.messageID=0,this.documentVersions={},this.getTagKeys=async e=>{try{const t=Object(N.a)(this.store.getState()),n=await B(t.id,e);return F(n)}catch(e){return console.error(e),[]}},this.getTagValues=async(e,t)=>{try{const n=Object(N.a)(this.store.getState()),a=await z(n.id,e,t);return F(a)}catch(e){return console.error(e),[]}},this.getBuckets=async()=>{try{const e=Object(N.a)(this.store.getState()),t=await Object(A.e)(e.id);return Object.values(t.entities.buckets).map(e=>e.name)}catch(e){return console.error(e),[]}},this.getMeasurements=async e=>{try{const t=Object(N.a)(this.store.getState()),n=await q(t.id,e);return F(n)}catch(e){return console.error(e),[]}},this.server=e,this.server.register_buckets_callback(this.getBuckets),this.server.register_measurements_callback(this.getMeasurements),this.server.register_tag_keys_callback(this.getTagKeys),this.server.register_tag_values_callback(this.getTagValues),this.store=t}initialize(){return this.send(_(this.currentMessageID))}async rename(e,t,n){return(await this.send(b(this.currentMessageID,e,t,n))).result}async definition(e,t){return(await this.send(x(this.currentMessageID,e,t))).result}async symbols(e){return(await this.send(w(this.currentMessageID,e))).result}async references(e,t,n){return(await this.send(y(this.currentMessageID,e,t,n))).result}async foldingRanges(e){return(await this.send(k(this.currentMessageID,e))).result}async signatureHelp(e,t,n){return await this.sendPrelude(e),(await this.send(S(this.currentMessageID,e,t,n))).result}async formatting(e){return await this.sendPrelude(e),(await this.send(v(this.currentMessageID,e))).result}async completionItems(e,t,n){await this.sendPrelude(e);try{return((await this.send(E(this.currentMessageID,e,Object.assign(Object.assign({},t),{line:t.line}),n))).result||{}).items||[]}catch(e){return[]}}async didOpen(e,t){await this.sendPrelude(e);const n=await this.send(g(this.currentMessageID,e,t,1));return this.documentVersions[e]=1,this.parseDiagnostics(n)}async didChange(e,t){await this.sendPrelude(e);const n=this.documentVersions[e]||1,a=await this.send(f(this.currentMessageID,e,t,n+1));return this.documentVersions[e]=n+1,this.parseDiagnostics(a)}parseDiagnostics(e){if("textDocument/publishDiagnostics"===e.method&&e.params){const{diagnostics:t}=e.params;return t||[]}return[]}get currentMessageID(){const e=this.messageID;return this.messageID++,e}async send(e){const t=JSON.stringify(e),n=`Content-Length: ${t.length}\r\n\r\n${t}`,a=await this.server.process(n);return C(a)}async sendPrelude(e){const t=this.store.getState(),n=Object(I.g)(t).map(e=>Object(I.a)(e)).filter(e=>!!e),a=Object(j.a)(n),s=e.split("/");s.pop();const r=`${s.join("/")}/prelude.flux`,o=Object(L.format_from_js_file)(a);await this.send(g(this.currentMessageID,r,o,0))}}const H=new class{constructor(){this.queue=[],this.loading=!1}async load(){if(this.server)return this.server;const e=new d.a;if(this.loading)return this.queue.push(e),await e.promise;this.loading=!0;const{Server:t}=await n.e(4).then(n.bind(null,1699));var a,s;return this.server=new U(new t(!1,!0)),a=window.monaco,s=this.server,a.languages.registerDocumentSymbolProvider(u,{provideDocumentSymbols:async(e,t)=>{try{const t=e.uri.toString(),n=await s.symbols(t);return D.asSymbolInformations(n)}catch(e){return[]}}}),a.languages.registerDocumentFormattingEditProvider(u,{provideDocumentFormattingEdits:async(e,t,n)=>{try{const t=e.uri.toString(),n=await s.formatting(t);return D.asTextEdits(n)}catch(e){return[]}}}),a.languages.registerFoldingRangeProvider(u,{provideFoldingRanges:async(e,t,n)=>{try{const t=await s.foldingRanges(e.uri.toString());return D.asFoldingRanges(t)}catch(e){return[]}}}),a.languages.registerDefinitionProvider(u,{provideDefinition:async(e,t,n)=>{const a=e.uri.toString(),r=O.asPosition(t.lineNumber,t.column);try{const e=await s.definition(a,r);return D.asLocation(e)}catch(e){return[]}}}),a.languages.registerReferenceProvider(u,{provideReferences:async(e,t,n,a)=>{const r=e.uri.toString(),o=O.asPosition(t.lineNumber,t.column);try{return(await s.references(r,o,n)||[]).map(e=>D.asLocation(e))}catch(e){return[]}}}),a.languages.registerRenameProvider(u,{provideRenameEdits:async(e,t,n,a)=>{const r=e.uri.toString(),o=O.asPosition(t.lineNumber,t.column);try{const e=await s.rename(r,o,n);return D.asWorkspaceEdit(e)}catch(e){return null}}}),a.languages.registerSignatureHelpProvider(u,{provideSignatureHelp:async(e,t,n,a)=>{const r=O.asPosition(t.lineNumber,t.column);try{const t=await s.signatureHelp(e.uri.toString(),r,a);return D.asSignatureHelpResult(t)}catch(e){return null}},signatureHelpTriggerCharacters:["("]}),a.languages.registerCompletionItemProvider(u,{provideCompletionItems:async(e,t,n)=>{const r=e.getWordUntilPosition(t),o=new a.Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn),i=O.asPosition(t.lineNumber,t.column),l=await s.completionItems(e.uri.toString(),i,Object.assign(Object.assign({},n),{triggerKind:T.CompletionTriggerKind.TriggerCharacter}));return D.asCompletionResult(l,o)},triggerCharacters:[".",":","(",",",'"']}),await this.server.initialize(),this.queue.forEach(e=>e.resolve(this.server)),this.server}};const G=(e,t)=>t?`// ${e}`:e.replace(/\/\/\s?/,""),V=e=>!!e.match(/^\s*(\/\/(.*)$)/g);var $=n(835),W=n(36),K=(n(478),n(1273));const Q=new r.ProtocolToMonacoConverter;t.a=({script:e,onChangeScript:t,onSubmitScript:n,setEditorInstance:r,autogrow:o,readOnly:l})=>{const c=Object(a.useRef)(null),[d,p]=Object(a.useState)(null),[h,_]=Object(a.useState)(2),[g,f]=Object(a.useState)(""),b=e=>{if(d){const t=Q.asDiagnostics(e);K.editor.setModelMarkers(d.getModel(),"default",t)}};return s.a.createElement("div",{className:"flux-editor--monaco","data-testid":"flux-editor"},s.a.createElement(i.a,{language:u,theme:m.a,value:e,onChange:async e=>{t(e);try{const t=await c.current.didChange(g,e);b(t),_(h+1)}catch(e){}},options:{fontSize:13,fontFamily:'"IBMPlexMono", monospace',cursorWidth:2,lineNumbersMinChars:4,lineDecorationsWidth:0,minimap:{renderCharacters:!1},overviewRulerBorder:!1,automaticLayout:!0,readOnly:l||!1},editorDidMount:async t=>{r&&r(t),p(t);const a=t.getModel().uri.toString();f(a),function(e){e.addAction({id:"toggle-comment",label:"toggling comments",keybindings:[window.monaco.KeyMod.CtrlCmd|window.monaco.KeyCode.US_SLASH],run:function(e){const t=e.getValue().split("\n"),n=e.getSelection(),{startLineNumber:a,endLineNumber:s,positionColumn:r,selectionStartColumn:o}=n,i=t.slice(a-1,s).some(e=>!(""===e||V(e))),l=t.map((e,t)=>t<a-1||t>s-1?e:G(e,i));return e.setValue(l.join("\n")),e.setSelection(Object.assign(Object.assign({},n),{selectionStartColumn:i?o+3:o-3,positionColumn:i?r+3:r-3})),null}})}(t),function(e,t){e.addCommand(window.monaco.KeyMod.CtrlCmd|window.monaco.KeyCode.Enter,()=>{t()})}(t,()=>{n&&n()}),o&&Object($.a)(t);try{c.current=await async function(){return await H.load()}();const n=await c.current.didOpen(a,e);if(b(n),Object(W.c)("cursorAtEOF")){const n=(e||"").split("\n");t.setPosition({lineNumber:n.length,column:n[n.length-1].length+1}),t.focus()}else l||t.focus()}catch(e){}}}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var a=n(426),s=n(6),r=n(427),o=n(118);function i(e){const t=function(e){return Object(r.a)(e,u).map(t=>(function(e,t){const n=Date.now(),a=t.arguments[0].properties,s=a.find(e=>"start"===e.key.name),r=l(e,s.value,n),o=a.find(e=>"stop"===e.key.name),i=o?l(e,o.value,n):n;if(isNaN(r)||isNaN(i))throw new Error("failed to analyze query");return[r,i]})(e,t))}(e);if(!t.length)throw new Error("no time ranges found in query");const n=t.map(e=>e[0]),a=t.map(e=>e[1]),s=n.map(e=>a.map(t=>[e,t])),o=[].concat(...s).map(([e,t])=>t-e).filter(e=>e>0);return Math.min(...o)}function l(e,t,n){switch(t.type){case"UnaryExpression":return n-Object(o.c)(t.argument.values);case"DurationLiteral":return n+Object(o.c)(t.values);case"StringLiteral":case"DateTimeLiteral":return Date.parse(t.value);case"Identifier":return l(e,c(e,t.name),n);case"BinaryExpression":const r=Date.parse(t.left.value),i=Object(o.c)(t.right.values);switch(t.operator){case"+":return r+i;case"-":return r-i;default:throw new Error(`unexpected operator ${t.operator}`)}case"MemberExpression":const u=Object(s.get)(t,"object.name"),m=Object(s.get)(t,"property.name");return l(e,c(e,u).properties.find(e=>Object(s.get)(e,"key.name")===m).value,n);case"CallExpression":if(a=t,"now"===Object(s.get)(a,"callee.name"))return n;if(function(e){return"time"===Object(s.get)(e,"callee.name")}(t)){return l(e,Object(s.get)(t,"arguments[0].properties[0]value",{}),n)}throw new Error("unexpected CallExpression");default:throw new Error(`unexpected expression type ${t.type}`)}var a}function c(e,t){const n=Object(r.a)(e,e=>"VariableAssignment"===Object(s.get)(e,"type")&&Object(s.get)(e,"id.name")===t);if(!n.length)throw new Error(`unable to lookup variable "${t}"`);if(n.length>1)throw new Error("cannot lookup variable with duplicate declarations");return n[0].init}function u(e){return"Identifier"===Object(s.get)(e,"callee.type")&&"range"===Object(s.get)(e,"callee.name")}var m=n(183),d=n(120),p=n(5),h=n(139);const _=(e,t)=>{if(!e.includes(d.e))return[];const n=f(e,t)||15e3;return[{type:"VariableAssignment",id:{type:"Identifier",name:d.e},init:{type:"DurationLiteral",values:[{magnitude:n,unit:"ms"}]}}]},g=e=>Math.round(e/360),f=(e,t)=>{if(0===e.length)return null;try{const n=i({package:"",type:"Package",files:[Object(a.a)(e),Object(m.a)(t)]}),s=h.c.find(e=>1e3*e.seconds===n);return s?s.windowPeriod:g(n)}catch(e){return null}},b=(e,t)=>{const n=f(e,t);return null===n?null:[{orgID:"",id:d.e,name:d.e,arguments:{type:"system",values:[n]},status:p.RemoteDataState.Done,labels:[]}]}},,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c}));const a=-1,s="asc",r="desc",o=s,i=!0,l=!0,c=30},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return _}));var a=n(6),s=n(69),r=n(120);function o(e){const{buckets:t,tags:n}=e;return t.length>=1&&n.length>=1&&n.some(({key:e,values:t})=>e&&t.length>0)}const i=e=>{const t=Object(a.get)(e,"[0].builderConfig.tags",[]).find(e=>"_field"===Object(a.get)(e,"key")),n=Object(a.get)(t,"values",[]),s=e[0].builderConfig.functions;return{oneQuery:1===e.length,builderMode:"builder"==e[0].editMode,singleAggregateFunc:1===s.length,singleField:1===n.length}},l=(e,t,n)=>{const{oneQuery:a,builderMode:s,singleAggregateFunc:r,singleField:o}=i(e);return"custom"===t||("deadman"===t?a&&s&&o:a&&s&&r&&o&&!!n.length)};function c(e){const{functions:t}=e;let n;return n=t.length?t.map(t=>u(e,t)).join("\n\n"):u(e,null)}function u(e,t){const[n]=e.buckets,a=Array.from(e.tags);let o="";a.forEach(e=>{o+=m(e)});const{aggregateWindow:i}=e,l=t?function(e,t,n){const a=s.f.find(t=>t.name===e.name);if(!a)return;const r=p(t);return`\n  ${a.flux(r,n)}\n  |> yield(name: "${e.name}")`}(t,i.period,i.fillValues):"";return`from(bucket: "${n}")\n  |> range(start: ${r.b}.${r.c}, stop: ${r.b}.${r.d})${o}${l}`}const m=function(e){if(!e.key)return"";if("filter"===e.aggregateFunctionType)return e.values.length?`\n  |> filter(fn: (r) => ${d(e)})`:"";if("group"===e.aggregateFunctionType){const t=e.values.map(e=>`"${e}"`);return t.length?`\n  |> group(columns: [${t.join(", ")}])`:"\n  |> group()"}return""},d=function(e){return e.values.map(t=>`r["${e.key}"] == "${t.replace(/\\/g,"\\\\")}"`).join(" or ")},p=e=>e!==s.a&&e?e:`${r.b}.${r.e}`;var h;!function(e){e.NotRequired="no confirmation required",e.Required="confirmation required",e.Unknown="unknown confirmation state"}(h||(h={}));const _=(e,t)=>(o(t)&&g(e,t)||h.NotRequired,g(e,t)||Object(a.isEmpty)(e)?h.Required:h.NotRequired);function g(e,t){return e!==c(t)}},function(e,t,n){"use strict";var a,s;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),function(e){e.None="none",e.Some="some",e.Full="full"}(a||(a={})),function(e){e.Incomplete="circle-thick",e.Complete="checkmark",e.Error="remove"}(s||(s={}))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(6),s=n(379);function r(e){return void 0!==e.queries}const o=(e,t,n)=>{const r=t.slice();let i=[];return t.forEach(t=>{if("query"===t.arguments.type){const n=Object(a.get)(t,"arguments.values.query",""),r=e.filter(e=>Object(s.d)(n,e));i=i.concat(r)}}),i.forEach(e=>{n[e.name]||(r.push(e),n[e.name]=!0)}),r.length!==t.length?o(e,r,n):r},i=(e,t)=>{const n=e.filter(e=>t.some(t=>Object(s.d)(t,e))),a=(e=>e.reduce((e,t)=>(e[t.name]=!0,e),{}))(n);return o(e,n,a)},l=(e,t)=>{const n=t.map(e=>e.properties).filter(e=>!!e).filter(r).reduce((e,t)=>[...e,...t.queries.map(e=>e.text)],[]);return i(e,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(42),s=n(5),r=n(85);const o=new a.b.Entity(s.ResourceType.Tasks,{labels:[r.b]}),i=[o]},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(42),s=n(5),r=n(85);const o=new a.b.Entity(s.ResourceType.Telegrafs,{labels:[r.b]},{processStrategy:e=>e.metadata?e.metadata.buckets?e:Object.assign(Object.assign({},e),{metadata:Object.assign(Object.assign({},e.metadata),{buckets:[]})}):Object.assign(Object.assign({},e),{metadata:{buckets:[]}})}),i=[o]},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),s=n.n(a),r=n(20);const o=n(1152),i=({className:e="",cloudRenderers:t={},text:n})=>{if(r.i){const a={html(e){if(e.includes("<img")){if(null==t?void 0:t.image)return t.image;return`![](${e.match(/"([^"]+)"/)[0]})`}return e},image:e=>(null==t?void 0:t.image)?t.image:`![](${e})`};return o.use({renderer:a}),s.a.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:o(n)}})}return s.a.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:o(n)}})}},,,,,,,,,,function(e,t,n){"use strict";var a=n(11),s=n(2),r=n.n(s),o=n(12),i=n(3),l=n(479);let c=class extends s.PureComponent{render(){const{copyText:e,label:t,onCopyText:n,onClick:a}=this.props,s=this.props.testID||"code-snippet";return r.a.createElement("div",{className:"code-snippet","data-testid":s},r.a.createElement(i.DapperScrollbars,{autoHide:!1,autoSizeHeight:!0,className:"code-snippet--scroll"},r.a.createElement("div",{className:"code-snippet--text"},r.a.createElement("pre",null,r.a.createElement("code",null,e)))),r.a.createElement("div",{className:"code-snippet--footer"},r.a.createElement(l.a,{textToCopy:e,onCopyText:n,contentName:"Script",onClick:a}),r.a.createElement("label",{className:"code-snippet--label"},t)))}};c.defaultProps={label:"Code Snippet"},c=Object(a.a)([o.a],c),t.a=c},,,,,,,,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3),o=n(862),i=n(119);t.a=({value:e,onChange:t})=>{const n=(e=>{const t=e=>e.map(e=>e.hex).join(", "),n=t(e),a=i.b.find(e=>t(e.colors)===n);return a||i.b[0]})(e);return s.a.createElement(r.Dropdown,{button:(e,t)=>s.a.createElement(r.Dropdown.Button,{active:e,onClick:t},s.a.createElement(o.a,{name:n.name,colors:n.colors.map(e=>e.hex)})),menu:e=>s.a.createElement(r.Dropdown.Menu,{onCollapse:e,theme:r.DropdownMenuTheme.Onyx},i.b.map(({id:e,name:a,colors:i})=>s.a.createElement(r.Dropdown.Item,{key:e,id:e,value:i,selected:n.id===e,onClick:t},s.a.createElement(o.a,{name:a,colors:i.map(e=>e.hex)}))))})}},,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3),o=n(862);t.a=({colorSchemes:e,selectedColorScheme:t,onSelectColorScheme:n})=>{const a=e.find(e=>e.colors.length===t.length&&e.colors.every((e,n)=>e===t[n]));let i,l;return a?(i=a.name,l=e):(i="Custom",l=[...e,{name:"Custom",colors:t}]),s.a.createElement(r.Dropdown,{className:"color-scheme-dropdown",button:(e,n)=>s.a.createElement(r.Dropdown.Button,{active:e,onClick:n},s.a.createElement(o.a,{name:i,colors:t})),menu:e=>s.a.createElement(r.Dropdown.Menu,{onCollapse:e,theme:r.DropdownMenuTheme.Onyx},l.map(({name:e,colors:t})=>s.a.createElement(r.Dropdown.Item,{key:e,id:e,value:t,onClick:n,selected:i===e},s.a.createElement(o.a,{name:e,colors:t}))))})}},,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3);class o extends a.PureComponent{constructor(){super(...arguments),this.submitRef=s.a.createRef()}componentDidMount(){if(this.props.autoFocusNext){const e=this.submitRef.current;e&&e.focus()}}componentDidUpdate(){if(this.props.autoFocusNext){const e=this.submitRef.current;e&&e.focus()}}render(){const{nextButtonText:e,nextButtonStatus:t,className:n}=this.props;return s.a.createElement(r.Overlay.Footer,{className:n},this.backButton,s.a.createElement(r.Button,{color:r.ComponentColor.Primary,text:e,type:r.ButtonType.Submit,testID:"next",ref:this.submitRef,status:t,tabIndex:0}),this.skipButton)}get backButton(){const{backButtonText:e,onClickBack:t}=this.props;if(t&&e)return s.a.createElement(r.Button,{color:r.ComponentColor.Default,text:e,onClick:t,testID:"back",tabIndex:1})}get skipButton(){const{skipButtonText:e,onClickSkip:t,showSkip:n}=this.props;if(n)return s.a.createElement("div",{className:"wizard--skip-container"},s.a.createElement(r.Button,{className:"wizard--skip-button",size:r.ComponentSize.Medium,color:r.ComponentColor.Default,text:e,onClick:t,testID:"skip"}))}}o.defaultProps={nextButtonStatus:r.ComponentStatus.Default,showSkip:!1,autoFocusNext:!0,skipButtonText:"Skip",backButtonText:"Previous",nextButtonText:"Continue"},t.a=o},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return _}));var a=n(2),s=n.n(a),r=n(141),o=n(276),i=n.n(o),l=n(3);var c=({message:e,testID:t})=>{const[n,r]=Object(a.useState)(!1),o=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default,u=()=>{r(!0),setTimeout(()=>r(!1),2e3)},m=Object(a.useRef)(null);return s.a.createElement("div",{className:"cell--view-empty error","data-testid":t},s.a.createElement("div",{ref:m},s.a.createElement("span",{className:`icon ${l.IconFont.AlertTriangle} empty-graph-error--icon`}),s.a.createElement(l.Popover,{appearance:l.Appearance.Outline,position:l.PopoverPosition.ToTheRight,triggerRef:m,showEvent:l.PopoverInteraction.Hover,hideEvent:l.PopoverInteraction.Hover,distanceFromTrigger:8,testID:"emptygraph-popover",contents:()=>s.a.createElement("pre",null,s.a.createElement(i.a,{text:e},s.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:o,text:o,onClick:u,className:"empty-graph-error--copy"})),s.a.createElement("code",null,e))})))};var u,m=({message:e,testID:t})=>{const[n,r]=Object(a.useState)(!1),o=n?"Copied!":"Copy",c=n?l.ComponentColor.Success:l.ComponentColor.Default;return s.a.createElement("div",{className:"cell--view-empty","data-testid":t},s.a.createElement("div",{className:"empty-graph-error","data-testid":"empty-graph-error"},s.a.createElement(i.a,{text:e},s.a.createElement(l.Button,{size:l.ComponentSize.ExtraSmall,color:c,titleText:o,text:o,onClick:()=>{r(!0),setTimeout(()=>r(!1),2e3)},className:"empty-graph-error--copy"})),s.a.createElement(l.DapperScrollbars,{className:"empty-graph-error--scroll",autoHide:!0},s.a.createElement("pre",null,s.a.createElement(l.Icon,{glyph:l.IconFont.AlertTriangle}),s.a.createElement("code",{className:"cell--error-message"}," ",e)))))},d=n(859),p=n(192),h=n(5);!function(e){e.Tooltip="tooltip",e.Scroll="scroll"}(u||(u={}));class _ extends a.PureComponent{render(){const{errorMessage:e,isInitialFetch:t,loading:n,queries:a,fallbackNote:o,hasResults:i,errorFormat:l}=this.props;if(n===h.RemoteDataState.NotStarted||a&&!a.length)return s.a.createElement(r.a,{message:p.b,testID:"empty-graph--no-queries"});if(e){if(l===u.Tooltip)return s.a.createElement(c,{message:e,testID:"empty-graph--error"});if(l===u.Scroll)return s.a.createElement(m,{message:e,testID:"empty-graph--error"})}return!t&&i||n!==h.RemoteDataState.Loading?!i&&o?s.a.createElement(d.a,{text:o}):i?this.props.children:s.a.createElement(r.a,{message:"No Results",testID:"empty-graph--no-results"}):s.a.createElement(r.a,{message:""})}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return v}));var a=n(42),s=n(14),r=n(431),o=n(163),i=n(228),l=n(28),c=n(227),u=n(312),m=n(31),d=n(5),p=n(117),h=n.n(p);n(49);const _=e=>{return e.reduce((e,t)=>{const{distribution:n,mostCommonCount:a}=e;return n[t]=(n[t]||0)+1,n[t]>a?{distribution:n,mostCommonCount:n[t],mostCommonValue:t}:e},{distribution:{},mostCommonCount:0,mostCommonValue:null}).mostCommonValue};var g=n(18);const f=(e,t)=>async n=>{try{await Promise.all([Object(s.g)({dashboardID:e,cellID:t})]),n(Object(u.d)({dashboardID:e,id:t})),n(Object(l.c)(m.I()))}catch(e){console.error(e)}},b=(e,t,n)=>async(p,f)=>{const b=f();let y=t,v=Object(g.c)(b,d.ResourceType.Dashboards,e);try{if(!v){const t=await Object(s.A)({dashboardID:e});if(200!==t.status)throw new Error(t.data.message);const n=Object(a.a)(t.data,o.k),{entities:r,result:i}=n;v=r.dashboards[i],p(Object(c.setDashboard)(t.data.id,d.RemoteDataState.Done,n))}const l=((e,t,n)=>{const a={id:h.a.v4(),x:0,y:0,h:4,w:4,links:{self:"",view:"",copy:""},status:d.RemoteDataState.Done},s=t.cells.map(t=>e.resources.cells.byID[t]).filter(e=>!!e);if(!s.length)return a;const r=s.map(e=>e.w),o=s.map(e=>e.h),i=_(r),l=_(o);let c=Object.assign(Object.assign({},a),{w:i,h:l});return n&&(c=Object.assign(Object.assign({},a),{w:n.w,h:n.h,x:n.x,y:n.y})),c})(b,v,n),m=await Object(s.kb)({dashboardID:e,data:l});if(201!==m.status)throw new Error(m.data.message);const g=m.data.id;n&&(y=Object.assign(Object.assign({},y),{name:`${t.name} (Clone)`}));const f=await Object(r.c)(e,g,y),x=Object(a.a)(Object.assign(Object.assign({},m.data),{dashboardID:e}),o.j),w=Object(a.a)(f,o.p);p(Object(u.e)(g,d.RemoteDataState.Done,x)),p(Object(i.f)(g,d.RemoteDataState.Done,w))}catch(e){throw p(Object(l.c)(m.H(e.message))),e}},y=(e,t,n)=>async r=>{try{const i={orgID:e,name:t,cells:[]},u=await Object(s.jb)({data:i});if(201!==u.status)throw new Error(u.data.message);const p=Object(a.a)(u.data,o.k);await r(Object(c.setDashboard)(u.data.id,d.RemoteDataState.Done,p)),await r(b(u.data.id,n)),r(Object(l.c)(m.eb()))}catch(e){throw console.error(e),r(Object(l.c)(m.H(e.message))),e}},v=(e,t)=>async n=>{try{const r=await Object(s.Fb)({dashboardID:e,data:t});if(201!==r.status)throw new Error(r.data.message);const i=t.map(t=>Object.assign(Object.assign({},t),{dashboardID:e})),l=Object(a.a)(i,o.b);n(Object(u.f)(e,d.RemoteDataState.Done,l))}catch(e){n(Object(l.c)(m.J())),console.error(e)}}},,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(1120),s=n.n(a),r=n(205);const o=(e,t)=>t?e:`${Object(r.a)()}${e}`;async function i(e){try{return await s.a.request({method:"GET",url:o(e,!1)})}catch(e){throw console.error(e),e}}t.a=async function({url:e,method:t="GET",data:n={},params:a={},headers:r={},auth:i=null},l=!1){try{return e=o(e,l),await s.a.request({url:e,method:t,data:n,params:a,headers:r,auth:i})}catch(e){const{response:t}=e;throw t}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p}));var a=n(14),s=n(5);const r="SET_FEATURE_FLAGS",o="RESET_FEATURE_FLAGS",i="CLEAR_FEATURE_FLAG_OVERRIDES",l="SET_FEATURE_FLAG_OVERRIDE",c=(e,t)=>({type:r,payload:{status:e,flags:t}}),u=()=>({type:o}),m=()=>({type:i}),d=(e,t)=>({type:l,payload:{[e]:t}}),p=()=>async e=>{try{e(c(s.RemoteDataState.Loading));const t=await Object(a.D)({});if(200!==t.status)throw new Error(t.data.message);return e(c(s.RemoteDataState.Done,t.data)),t.data}catch(t){console.error(t),e(c(s.RemoteDataState.Error,null))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return l}));const a="SET_CELL",s="SET_CELLS",r="REMOVE_CELL",o=(e,t,n)=>({type:a,id:e,status:t,schema:n}),i=({dashboardID:e,id:t})=>({type:r,dashboardID:e,id:t}),l=(e,t,n)=>({type:s,dashboardID:e,status:t,schema:n})},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"q",(function(){return l})),n.d(t,"p",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"r",(function(){return k}));const a="SET_VARIABLES",s="SET_VARIABLE",r="REMOVE_VARIABLE",o="MOVE_VARIABLE",i="SELECT_VARIABLE_VALUE",l=(e,t)=>({type:a,status:e,schema:t}),c=(e,t,n)=>({type:s,id:e,status:t,schema:n}),u=e=>({type:r,id:e}),m=(e,t,n)=>({type:o,originalIndex:e,newIndex:t,contextID:n}),d=(e,t,n)=>({type:i,contextID:e,variableID:t,selectedValue:n}),p="CLEAR_VARIABLE_EDITOR",h="CHANCE_VARIABLE_EDITOR_TYPE",_="UPDATE_VARIABLE_EDITOR_NAME",g="UPDATE_VARIABLE_EDITOR_QUERY",f="UPDATE_VARIABLE_EDITOR_MAP",b="UPDATE_VARIABLE_EDITOR_CONSTANT",y=()=>({type:p}),v=e=>({type:h,editorType:e}),x=e=>({type:_,name:e}),w=e=>({type:g,payload:e}),E=e=>({type:f,payload:e}),k=e=>({type:b,payload:e})},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u}));const a="SET_BUCKETS",s="ADD_BUCKET",r="EDIT_BUCKET",o="REMOVE_BUCKET",i=(e,t)=>({type:a,status:e,schema:t}),l=e=>({type:s,schema:e}),c=e=>({type:r,schema:e}),u=e=>({type:o,id:e})},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l}));const a="SET_SCROLL",s="SET_CELL_MOUNT",r="SET_DASHBOARD_VISIT",o=(e,t)=>({type:a,component:e,scroll:t}),i=(e,t)=>({type:s,cellID:e,mountStartMs:t}),l=(e,t)=>({type:r,dashboardID:e,startVisitMs:t})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(118),s=n(71),r=n(120),o=n(5);const i=e=>[l(r.c,e),l(r.d,e)].map(e=>Object(s.a)(e)),l=(e,t)=>{const n=e===r.c?t.lower:t.upper;if(e===r.d&&!t.upper)return{orgID:"",id:r.d,name:r.d,arguments:{type:"system",values:["now()"]},status:o.RemoteDataState.Done,labels:[]};if(e===r.c&&"custom"!==t.type){return{orgID:"",id:e,name:e,arguments:{type:"system",values:[Object(a.h)(Object(a.i)(t))]},status:o.RemoteDataState.Done,labels:[]}}return isNaN(Date.parse(n))?{orgID:"",id:e,name:e,arguments:{type:"system",values:[null]},status:o.RemoteDataState.Done,labels:[]}:{orgID:"",id:e,name:e,arguments:{type:"system",values:[n]},status:o.RemoteDataState.Done,labels:[]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.currentDashboard.id?e.currentDashboard.id:""},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(42),s=n(5);const r=new a.b.Entity(s.ResourceType.Authorizations),o=[r]},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(5),s=n(411);const r="@influxdata",o=7,i={name:"",status:a.RemoteDataState.Done,properties:{description:"",color:"#326BBA"}},l=[{id:"custom",colorHex:"#RRRRRR",name:"Custom Hexcode",type:s.a.Custom},{id:"label-preset-sapphire",colorHex:"#326BBA",name:"Sapphire",type:s.a.Preset},{id:"label-preset-ocean",colorHex:"#4591ED",name:"Ocean",type:s.a.Preset},{id:"label-preset-pool",colorHex:"#22ADF6",name:"Pool",type:s.a.Preset},{id:"label-preset-laser",colorHex:"#00C9FF",name:"Laser",type:s.a.Preset},{id:"label-preset-hydrogen",colorHex:"#6BDFFF",name:"Hydrogen",type:s.a.Preset},{id:"label-preset-neutrino",colorHex:"#BEF0FF",name:"Neutrino",type:s.a.Preset},{id:"label-preset-void",colorHex:"#311F94",name:"Void",type:s.a.Preset},{id:"label-preset-amethyst",colorHex:"#513CC6",name:"Amethyst",type:s.a.Preset},{id:"label-preset-star",colorHex:"#7A65F2",name:"Star",type:s.a.Preset},{id:"label-preset-comet",colorHex:"#9394FF",name:"Comet",type:s.a.Preset},{id:"label-preset-potassium",colorHex:"#B1B6FF",name:"Potassium",type:s.a.Preset},{id:"label-preset-moonstone",colorHex:"#C9D0FF",name:"Moonstone",type:s.a.Preset},{id:"label-preset-emerald",colorHex:"#108174",name:"Emerald",type:s.a.Preset},{id:"label-preset-viridian",colorHex:"#32B08C",name:"Viridian",type:s.a.Preset},{id:"label-preset-rainforest",colorHex:"#4ED8A0",name:"Rainforest",type:s.a.Preset},{id:"label-preset-honeydew",colorHex:"#7CE490",name:"Honeydew",type:s.a.Preset},{id:"label-preset-krypton",colorHex:"#A5F3B4",name:"Krypton",type:s.a.Preset},{id:"label-preset-wasabi",colorHex:"#C6FFD0",name:"Wasabi",type:s.a.Preset},{id:"label-preset-ruby",colorHex:"#BF3D5E",name:"Ruby",type:s.a.Preset},{id:"label-preset-fire",colorHex:"#DC4E58",name:"Fire",type:s.a.Preset},{id:"label-preset-curacao",colorHex:"#F95F53",name:"Curacao",type:s.a.Preset},{id:"label-preset-dreamsicle",colorHex:"#FF8564",name:"Dreamsicle",type:s.a.Preset},{id:"label-preset-tungsten",colorHex:"#FFB6A0",name:"Tungsten",type:s.a.Preset},{id:"label-preset-marmelade",colorHex:"#FFDCCF",name:"Marmelade",type:s.a.Preset},{id:"label-preset-topaz",colorHex:"#E85B1C",name:"Topaz",type:s.a.Preset},{id:"label-preset-tiger",colorHex:"#F48D38",name:"Tiger",type:s.a.Preset},{id:"label-preset-pineapple",colorHex:"#FFB94A",name:"Pineapple",type:s.a.Preset},{id:"label-preset-thunder",colorHex:"#FFD255",name:"Thunder",type:s.a.Preset},{id:"label-preset-sulfur",colorHex:"#FFE480",name:"Sulfur",type:s.a.Preset},{id:"label-preset-daisy",colorHex:"#FFF6B8",name:"Daisy",type:s.a.Preset}],c="#0F0E15"},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(42),s=n(5),r=n(85),o=n(102);const i=new a.b.Entity(s.ResourceType.Checks,{labels:r.a},{processStrategy:e=>e.query.editMode?Object.assign(Object.assign({},e),{status:s.RemoteDataState.Done,activeStatus:e.status}):Object.assign(Object.assign({},e),{query:Object(o.g)(e.query.text),status:s.RemoteDataState.Done,activeStatus:e.status})}),l=[i]},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return _}));var a=n(6),s=n(150),r=n(18),o=n(148);const i=e=>({type:o.z.Label,id:e.id}),l=e=>({type:o.z.Label,id:e.id,attributes:{name:e.name,properties:e.properties}}),c=(e,t,n=(()=>{const e={meta:{version:"1"},content:{data:{},included:[]},labels:[]};return Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{type:o.z.Task}),content:Object.assign(Object.assign({},e.content),{data:Object.assign(Object.assign({},e.content.data),{type:o.z.Task})})})})())=>{const s=Object(a.get)(t,"name",""),c=`${s}-Template`,u=Object(a.pick)(t,["status","name","flux","every","cron","offset"]),m=Object(r.d)(e,t.labels),d=m.map(e=>l(e)),p=m.map(e=>i(e));return Object.assign(Object.assign({},n),{meta:Object.assign(Object.assign({},n.meta),{name:c,description:`template created from task: ${s}`}),content:Object.assign(Object.assign({},n.content),{data:Object.assign(Object.assign({},n.content.data),{type:o.z.Task,attributes:u,relationships:{[o.z.Label]:{data:p}}}),included:[...n.content.included,...d]})})},u=(e,t)=>{const n=(e=>({type:o.z.View,id:e.id}))(t.find(t=>t.id===e.id)),s=Object(a.pick)(e,["x","y","w","h"]);return{id:e.id,type:o.z.Cell,attributes:s,relationships:{[o.z.View]:{data:n}}}},m=(e,t,n,s=(()=>{const e={meta:{version:"1"},content:{data:{},included:[]},labels:[]};return Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{type:o.z.Variable}),content:Object.assign(Object.assign({},e.content),{data:Object.assign(Object.assign({},e.content.data),{type:o.z.Variable})})})})())=>{const c=e.resources.labels.byID,u=Object(a.get)(t,"name",""),m=`${u}-Template`,h=d(t,c),_=n.map(e=>p(e)),g=n.map(e=>d(e,c)),f=Object(r.d)(e,t.labels),b=f.map(e=>l(e)),y=f.map(e=>i(e)),v=Object(a.flatMap)(n,t=>{return Object(r.d)(e,t.labels).map(e=>l(e))});return Object.assign(Object.assign({},s),{meta:Object.assign(Object.assign({},s.meta),{name:m,description:`template created from variable: ${u}`}),content:Object.assign(Object.assign({},s.content),{data:Object.assign(Object.assign(Object.assign({},s.content.data),h),{relationships:{[o.z.Variable]:{data:[..._]},[o.z.Label]:{data:[...y]}}}),included:[...g,...b,...v]})})},d=(e,t)=>{const n=Object(a.pick)(e,["name","arguments","selected"]),s=e.labels.map(e=>{const n=t[e];return n?i(n):null}).filter(e=>!!e);return{id:e.id,type:o.z.Variable,attributes:n,relationships:{[o.z.Label]:{data:[...s]}}}},p=e=>({type:o.z.Variable,id:e.id}),h=(e,t,n,c,m,h=(()=>{const e={meta:{version:"1"},content:{data:{},included:[]},labels:[]};return Object.assign(Object.assign({},e),{meta:Object.assign(Object.assign({},e.meta),{type:o.z.Dashboard}),content:Object.assign(Object.assign({},e.content),{data:Object.assign(Object.assign({},e.content.data),{type:o.z.Dashboard})})})})())=>{const _=e.resources.labels.byID,g=Object(a.get)(t,"name",""),f=`${g}-Template`,b=Object(a.pick)(t,["name","description"]),y=Object(r.d)(e,t.labels),v=y.map(e=>l(e)),x=y.map(e=>i(e)),w=n.map(e=>u(e,c)),E=n.map(e=>(e=>({type:o.z.Cell,id:e.id}))(e)),k=m.map(e=>d(e,_)),S=Object(a.flatMap)(m,t=>Object(r.d)(e,t.labels).map(e=>l(e))),C=m.map(e=>p(e)),T=c.map(e=>(e=>{let t=e.properties;if("queries"in t){const e=t.queries.map(e=>Object.assign(Object.assign({},e),{editMode:"advanced",builderConfig:Object(s.b)()}));t=Object.assign(Object.assign({},t),{queries:e})}return{type:o.z.View,id:e.id,attributes:{name:e.name,properties:t}}})(e)),O=Object(a.uniqBy)([...v,...S],"id");return Object.assign(Object.assign({},h),{meta:Object.assign(Object.assign({},h.meta),{name:f,description:`template created from dashboard: ${g}`}),content:Object.assign(Object.assign({},h.content),{data:Object.assign(Object.assign({},h.content.data),{type:o.z.Dashboard,attributes:b,relationships:{[o.z.Label]:{data:x},[o.z.Cell]:{data:E},[o.z.Variable]:{data:C}}}),included:[...h.content.included,...O,...w,...T,...k]})})},_=e=>{const t=Object(a.pick)(e,["meta","content"]),n=e.labels.map(e=>e.name);return Object.assign(Object.assign({},t),{labels:n})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(42),s=n(5),r=n(85);const o=new a.b.Entity(s.ResourceType.NotificationEndpoints,{labels:r.a},{processStrategy:e=>l(e)}),i=[o],l=e=>Object.assign(Object.assign({},e),{status:s.RemoteDataState.Done,activeStatus:e.status})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(42),s=n(85),r=n(209),o=n(5);const i=new a.b.Entity(o.ResourceType.NotificationRules,{labels:[s.b]},{processStrategy:e=>Object.assign({},Object(r.h)(e))}),l=[i]},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(42),s=n(5),r=n(85);const o=[new a.b.Entity(s.ResourceType.Templates,{labels:[r.b]})]},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t.replace(/\s\(clone\s(\d)+\)/g,"").replace(/\)/,""),a=e.filter(e=>e.includes(n)).reduce((e,t)=>{if(t.match(/\(clone(\s|\d)+\)/)){const a=t.replace(n,"").replace(/\(clone/,"").replace(/\)/,""),s=Number(a);return s>=e?s:e}return e},0);if(a){const e=a+1;return`${t.replace(/\(clone\s(\d)+\)/,"")} (clone ${e})`}return`${t} (clone 1)`}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3),o=n(210);class i extends a.PureComponent{render(){return s.a.createElement(r.Dropdown,{testID:"bucket-dropdown",button:(e,t)=>s.a.createElement(r.Dropdown.Button,{testID:"bucket-dropdown--button",active:e,onClick:t,status:this.status},this.selectedBucketName),menu:e=>s.a.createElement(r.Dropdown.Menu,{onCollapse:e},this.dropdownBuckets),style:this.props.style})}get selectedBucketName(){const{selectedBucketID:e,buckets:t}=this.props;return this.isBucketsEmpty?"No buckets found":t.find(t=>t.id===e).name}get status(){return this.isBucketsEmpty?r.ComponentStatus.Disabled:r.ComponentStatus.Default}get isBucketsEmpty(){const{buckets:e}=this.props;return!e||!e.length}get dropdownBuckets(){const{buckets:e,onSelectBucket:t,selectedBucketID:n}=this.props;return this.isBucketsEmpty?[]:e.filter(e=>!Object(o.b)(e.name)).map(e=>s.a.createElement(r.Dropdown.Item,{key:e.name,value:e,id:e.id,onClick:t,selected:e.id===n},e.name))}}t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(11),s=n(2),r=n.n(s),o=n(93),i=n.n(o),l=n(12);let c=class extends s.PureComponent{constructor(){super(...arguments),this.handleClickOutside=e=>{const t=i.a.findDOMNode(this);t&&t.contains(e.target)||this.props.onClickOutside(e)}}componentDidMount(){document.addEventListener("mousedown",this.handleClickOutside,!0)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside,!0)}render(){return r.a.Children.only(this.props.children)}};c=Object(a.a)([l.a],c)},,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2),s=n.n(a);t.a=({label:e,checked:t,onSetChecked:n,testID:a})=>s.a.createElement("label",{className:`fancy-checkbox ${t?"checked":""}`},s.a.createElement("input",{"data-testid":a||"checkbox",type:"checkbox",checked:!!t,onChange:()=>n(!t)}),e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(5),s=n(18);const r=(e,t)=>{return Object(s.a)(e,a.ResourceType.Buckets).find(e=>e.name===t)},o=(e,t)=>{const n=`${e.name}`.toLowerCase(),a=`${t.name}`.toLowerCase();return n===a?0:n<a?-1:n>a?1:0},i=e=>{const t=[],n=[];return Object(s.a)(e,a.ResourceType.Buckets).forEach(e=>{(e=>"system"===e)(e.type)?t.push(e):n.push(e)}),t.sort(o),n.sort(o),n.concat(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a={},s=n(1355);s.keys().forEach(e=>{s(e).default(e=>{a[e.type]=e})});const r=(e,t)=>{if(!t)return e;if("table"===e.type){const n=(e.fieldOptions||[]).reduce((e,t)=>(e[t.internalName]=t,e),{});return t.table.columnKeys.filter(e=>!n.hasOwnProperty(e)).filter(e=>!["result","","table","time"].includes(e)).forEach(e=>{n[e]={internalName:e,displayName:e,visible:!0}}),Object.assign(Object.assign({},e),{fieldOptions:Object.keys(n).map(e=>n[e])})}return"histogram"===e.type?Object.assign(Object.assign({},e),{fillColumns:t.fluxGroupKeyUnion}):"heatmap"===e.type?Object.assign(Object.assign({},e),{xColumn:["_time","_start","_stop"].filter(e=>t.table.columnKeys.includes(e))[0]||t.table.columnKeys[0],yColumn:["_value"].filter(e=>t.table.columnKeys.includes(e))[0]||t.table.columnKeys[0]}):"scatter"===e.type?Object.assign(Object.assign({},e),{fillColumns:t.fluxGroupKeyUnion,symbolColumns:t.fluxGroupKeyUnion,xColumn:["_time","_start","_stop"].filter(e=>t.table.columnKeys.includes(e))[0]||t.table.columnKeys[0],yColumn:["_value"].filter(e=>t.table.columnKeys.includes(e))[0]||t.table.columnKeys[0]}):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(2),s=n.n(a),r=n(875),o=n(82),i=n(247);const l={byID:{},allIDs:[]},c={get:e=>null,add:(e,t)=>{},update:(e,t)=>{},remove:e=>{},indexOf:e=>-1,move:e=>{},serialize:()=>Object.assign({},l),allIDs:[],all:[]},u=s.a.createContext(c),m=({children:e})=>{const{id:t,flow:n}=Object(a.useContext)(o.a),[c,m]=Object(a.useState)(Object.assign({},l));Object(a.useEffect)(()=>{m(Object.assign({},l))},[t]);const d=Object(r.a)(c,m),p=Object.assign(Object.assign({},d),{add:(e,t)=>{try{if(t)return void d.add(e,t);if("inputs"===i.a[n.data.get(e).type].family)return;const a=n.data.allIDs,s=n.data.indexOf(e),r=a[s-1];d.add(e,d.get(a[s-1])),n.meta.update(e,{loading:n.meta.get(r).loading})}catch(e){}}});return s.a.createElement(u.Provider,{value:p},e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(2),s=n.n(a),r=n(4),o=n(5),i=n(426),l=n(121),c=n(251),u=n(183),m=n(316),d=n(71),p=n(123),h=n(364),_=n(18),g=n(82),f=n(50),b=n(29),y=n(247),v=n(102);const x={query:()=>Promise.resolve({}),generateMap:()=>[]},w=s.a.createContext(x),E=/__PREVIOUS_RESULT__/g;t.b=({children:e})=>{const{flow:t}=Object(a.useContext)(g.a),n=Object(r.e)(e=>Object(d.j)(e)),x=Object(r.e)(e=>Object(h.b)(e)),k=Object(r.e)(e=>Object(_.e)(e,o.ResourceType.Buckets)),S=Object(r.d)();Object(a.useEffect)(()=>{k===o.RemoteDataState.NotStarted&&S(Object(p.f)())},[k,S]);const C=Object(a.useMemo)(()=>{if(t&&(null==t?void 0:t.range))return n.map(e=>Object(d.a)(e)).concat(Object(m.b)(t.range));n.map(e=>Object(d.a)(e))},[n,t]);return(null==t?void 0:t.range)&&k===o.RemoteDataState.Done?s.a.createElement(w.Provider,{value:{query:e=>{const t=((e,t)=>{const n=Object(i.a)(e),a=(e,t=[])=>{var n,s,r,o,i;return e?("CallExpression"===(null==e?void 0:e.type)&&"Identifier"===(null===(n=null==e?void 0:e.callee)||void 0===n?void 0:n.type)&&"from"===(null===(s=null==e?void 0:e.callee)||void 0===s?void 0:s.name)&&"bucket"===(null===(i=null===(o=null===(r=null==e?void 0:e.arguments[0])||void 0===r?void 0:r.properties[0])||void 0===o?void 0:o.key)||void 0===i?void 0:i.name)&&t.push(e),Object.values(e).forEach(e=>{Array.isArray(e)?e.forEach(e=>{a(e,t)}):"object"==typeof e&&a(e,t)}),t):t},s=a(n).map(e=>{var t,n;return null===(n=null===(t=null==e?void 0:e.arguments[0])||void 0===t?void 0:t.properties[0])||void 0===n?void 0:n.value.value}),r=t.find(e=>s.includes(e.name));return null==r?void 0:r.orgID})(e,x),a=Object(c.d)(e,C),s=Object(u.a)([...C,...a]),r=Object(v.e)(e,n,t);Object(b.a)("runQuery",{context:"flows"});const o=Object(l.a)(t,e,s);return Object(v.i)(r,o),o.promise.then(e=>{if("SUCCESS"!==e.type)throw new Error(e.message);return e}).then(t=>({source:e,raw:t.csv,parsed:Object(f.fromFlux)(t.csv),error:null}))},generateMap:e=>t.data.allIDs.reduce((n,a)=>{const s=t.data.get(a),r={text:"",instances:[a],requirements:{}},o=e=>{e&&E.test(e)&&n.length?r.text=e.replace(E,n[n.length-1].text):r.text=e,n.push(r)},i=()=>{n.length&&n[n.length-1].instances.push(a)};return y.a[s.type].generateFlux?y.a[s.type].generateFlux(s,o,i,e):i(),n},[]).map(e=>{return{text:Object.entries(e.requirements).map(([e,t])=>`${e} = (\n${t}\n)\n\n`).join("")+e.text,instances:e.instances}})}},e):null}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),s=n.n(a),r=n(4),o=n(21),i=n(138),l=n(511);const c=s.a.createContext({org:null,timeZone:"Local",onSetTimeZone:()=>{}}),u=s.a.memo(({org:e,timeZone:t,onSetTimeZone:n,children:a})=>s.a.createElement(c.Provider,{value:{org:e,timeZone:t,onSetTimeZone:n}},a)),m={onSetTimeZone:i.j},d=Object(r.c)(e=>{const t=Object(o.a)(e);return{timeZone:Object(l.c)(e),org:t}},m);t.b=d(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i}));const a=()=>({type:"CLEAR_STEPS"}),s=()=>({type:"INCREMENT_CURRENT_STEP_INDEX"}),r=()=>({type:"DECREMENT_CURRENT_STEP_INDEX"}),o=e=>({type:"SET_CURRENT_STEP_INDEX",payload:{index:e}}),i=(e,t,n)=>({type:"SET_BUCKET_INFO",payload:{orgID:e,bucket:t,bucketID:n}})},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return an}));var a=n(255),s=n(221),r=n(778),o=n(1115);const i=()=>e=>t=>{if(e(t),"ENABLE_PRESENTATION_MODE"===t.type||"DISABLE_PRESENTATION_MODE"===t.type){const e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!0),window.dispatchEvent(e)}};var l=n(308),c=n.n(l),u=n(138);const m=()=>e=>t=>{e(t),"true"===c.a.parse(window.location.search,{ignoreQueryPrefix:!0}).present&&e(Object(u.e)())};var d=n(20);const p={ephemeral:{inPresentationMode:!1,hasUpdatedTimeRangeInVEO:!1},persisted:{theme:"dark",autoRefresh:d.d,showTemplateControlBar:!1,timeZone:"Local",navBarState:"collapsed",flowMiniMapState:"collapsed"}},{ephemeral:h,persisted:_}=p;var g=Object(a.c)({ephemeral:(e=h,t)=>{switch(t.type){case u.a.EnablePresentationMode:return Object.assign(Object.assign({},e),{inPresentationMode:!0});case u.a.DisablePresentationMode:return Object.assign(Object.assign({},e),{inPresentationMode:!1});case u.a.EnableUpdatedTimeRangeInVEO:return Object.assign(Object.assign({},e),{hasUpdatedTimeRangeInVEO:!0});case u.a.DisableUpdatedTimeRangeInVEO:return Object.assign(Object.assign({},e),{hasUpdatedTimeRangeInVEO:!1});default:return e}},persisted:(e=_,t)=>{switch(t.type){case"SET_THEME":return Object.assign(Object.assign({},e),{theme:t.theme});case u.a.SetAutoRefresh:return Object.assign(Object.assign({},e),{autoRefresh:t.payload.milliseconds});case u.a.SetTimeZone:{const{timeZone:n}=t.payload;return Object.assign(Object.assign({},e),{timeZone:n})}case u.a.SetFlowMiniMapState:{const n=t.flowMiniMapState;return Object.assign(Object.assign({},e),{flowMiniMapState:n})}case"SET_NAV_BAR_STATE":{const n=t.navBarState;return Object.assign(Object.assign({},e),{navBarState:n})}default:return e}}}),f=n(893);const b={authorizations:"",buckets:"",dashboards:"",external:{statusFeed:""},query:{self:"",ast:"",suggestions:""},orgs:"",setup:"",signin:"",signout:"",sources:"",system:{debug:"",health:"",metrics:""},tasks:"",users:"",write:"",variables:"",views:"",defaultDashboard:"",me:""};var y=(e=b,t)=>{switch(t.type){case f.a.LinksGetCompleted:{const{links:e}=t.payload;return Object.assign(Object.assign({},e),{defaultDashboard:"/v2/dashboards/029d13fda9c5b000"})}}return e},v=n(638);const x={id:""};var w=(e=x,t)=>{switch(t.type){case v.a:return e.id=t.id,Object.assign({},e);default:return e}},E=n(55),k=n(117),S=n.n(k);const C=[];var T={app:g,links:y,currentDashboard:w,notifications:(e=C,t)=>Object(E.b)(e,n=>{switch(t.type){case"PUBLISH_NOTIFICATION":{const{notification:a}=t.payload,s=Object.assign(Object.assign({},a),{id:S.a.v4()});return void(-1===e.findIndex(e=>e.type&&a.type&&e.type===a.type)&&n.unshift(s))}case"DISMISS_NOTIFICATION":{const{id:e}=t.payload;return n.filter(t=>t.id!==e)}case"DISMISS_ALL_NOTIFICATIONS":return[]}})},O=n(6),D=n.n(O),I=n(377);var j=n(765);const R={id:"",name:"",links:{self:"",log:""}};var N=(e=R,t)=>{switch(t.type){case j.a:return Object.assign(Object.assign({},e),t.payload.me);default:return e}},A=n(311),P=n(5);const M={status:P.RemoteDataState.NotStarted,original:{},override:{}};var L=(e=M,t)=>{switch(t.type){case A.c:if(!t.payload.flags){const n=Object.assign(Object.assign({},e),{status:t.payload.status});return e.hasOwnProperty("original")||(n.original=M.original),n}return Object.assign(Object.assign({},e),{status:t.payload.status,original:t.payload.flags});case A.b:return Object.assign({},M);case A.a:return Object.assign(Object.assign({},e),{override:{}});case A.d:const n=Object.assign(Object.assign({},e.override||{}),t.payload);return Object.assign(Object.assign({},e),{override:n});default:return e}},F=n(766);const q={isAutoFunction:!0};var B=(e=q,t)=>{switch(t.type){case F.a:return e.isAutoFunction=t.isAutoFunction,Object.assign({},e);default:return e}},z=n(767),U=n(226);const H={name:"",interval:"",offset:"",cron:"",taskScheduleType:P.TaskSchedule.unselected,orgID:"",toBucketName:"",toOrgName:""},G=(e,t,n)=>{const{schema:a,status:s,id:r}=t,o=Object(O.get)(e,["byID",r],{}),i=Object(O.get)(a,["entities",n,r],{});e.allIDs.includes(r)||e.allIDs.push(r),e.byID[r]=Object.assign(Object.assign(Object.assign({},o),i),{status:s})},V=(e,t,n)=>{const{status:a,schema:s}=t;e.status=a,Object(O.get)(s,["entities",n])&&(e.byID=s.entities[n],e.allIDs=s.result)},$=(e,t,n)=>{const{result:a,entities:s}=t.schema;e.byID[a]=s[n][a],e.allIDs.push(a)},W=(e,t,n)=>{const{entities:a,result:s}=t.schema;e.byID[s]=a[n][s]},K=(e,t)=>{const{id:n}=t;delete e.byID[n],e.allIDs=e.allIDs.filter(e=>e!==n)},Q=(e,t,n,a)=>{e.byID[a]&&e.byID[a][t]&&e.byID[a][t].push(n)};var Y=(e=(()=>({allIDs:[],byID:{},status:P.RemoteDataState.NotStarted,newScript:"",currentTask:null,currentScript:"",searchTerm:"",showInactive:!0,taskOptions:H,runStatus:P.RemoteDataState.NotStarted,runs:[],logs:[]}))(),t)=>Object(E.b)(e,n=>{switch(t.type){case U.n:return void V(n,t,P.ResourceType.Tasks);case U.d:return void W(n,t,P.ResourceType.Tasks);case U.e:return void K(n,t);case U.a:return void $(n,t,P.ResourceType.Tasks);case U.c:return n.taskOptions=H,n.currentScript="",void(n.newScript="");case U.b:return n.currentScript="",void(n.currentTask=null);case U.f:{const{schema:a}=t,{entities:s,result:r}=a,{name:o,every:i,cron:l,orgID:c,offset:u}=s.tasks[r];let m=P.TaskSchedule.interval;return l&&(m=P.TaskSchedule.cron),void(n.taskOptions=Object.assign(Object.assign({},e.taskOptions),{name:o,cron:l,interval:i,orgID:c,taskScheduleType:m,offset:u}))}case U.o:{const{key:e,value:a}=t;return void(n.taskOptions[`${e}`]=a)}case U.j:return void(n.newScript=t.script);case U.g:return void(n.currentScript=t.script);case U.h:{const{schema:e}=t,{entities:a,result:s}=e,r=a.tasks[s],o=r.flux||"";return n.currentScript=o,void(n.currentTask=r)}case U.l:{const{searchTerm:e}=t;return void(n.searchTerm=e)}case U.m:return void(n.showInactive=!e.showInactive);case U.k:{const{runs:e,runStatus:a}=t;return n.runs=e,void(n.runStatus=a)}case U.i:return void(n.logs=t.logs)}}),X=n(11),Z=n(206);const J={};var ee=(e=J,t)=>{switch(t.type){case Z.a.DeleteTimeRange:{const{dashboardID:n}=t.payload,a=e,s=n;a[s];return Object(X.c)(a,["symbol"==typeof s?s:s+""])}case Z.a.RetainRangesDashboardTimeV1:{const{dashboardIDs:n}=t.payload,a={};for(const t in e)n.includes(t)&&(a[t]=e[t]);return a}case Z.a.SetDashboardTimeRange:{const{dashboardID:n,timeRange:a}=t.payload;return Object.assign(Object.assign({},e),{[n]:a})}}return e},te=n(227),ne=n(312),ae=n(149),se=n(49);const re=(e=(()=>({byID:{},allIDs:[],status:P.RemoteDataState.NotStarted,sortOptions:se.f}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case te.SET_DASHBOARDS:return void V(e,t,P.ResourceType.Dashboards);case te.REMOVE_DASHBOARD:return void K(e,t);case te.SET_DASHBOARD:return void G(e,t,P.ResourceType.Dashboards);case te.SET_DASHBOARD_SORT:{const{sortOptions:n}=t;return void(e.sortOptions=n)}case te.EDIT_DASHBOARD:return void W(e,t,P.ResourceType.Dashboards);case ne.a:{const{dashboardID:n,id:a}=t,{cells:s}=e.byID[n];return void(e.byID[n].cells=s.filter(e=>e!==a))}case ne.b:{const{schema:n}=t,a=n.result,s=n.entities.cells[a],{cells:r}=e.byID[s.dashboardID];if(r.includes(a))return;return void e.byID[s.dashboardID].cells.push(a)}case ne.c:{const{dashboardID:n,schema:a}=t,s=a&&a.result;if(!s)return;return void(e.byID[n].cells=s)}case ae.d:{const{resourceID:n,schema:a}=t,s=a.result;return void Q(e,P.ResourceType.Labels,s,n)}case te.REMOVE_DASHBOARD_LABEL:{const{dashboardID:n,labelID:a}=t,{labels:s}=e.byID[n];return void(e.byID[n].labels=s.filter(e=>e!==a))}}});var oe=n(228);const ie=(e=(()=>({byID:{},status:P.RemoteDataState.NotStarted}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case te.SET_DASHBOARD:{const{schema:n,status:a}=t;return e.status=a,void(Object(O.get)(n,["entities","cells"])&&(e.byID=n.entities.cells))}case ne.c:{const{status:n,schema:a}=t;return e.status=n,void(Object(O.get)(a,["entities","cells"])&&(e.byID=a.entities.cells))}case oe.d:{const{status:n,cellsArray:a}=t;return void a.forEach(t=>{e.status=n,Object(O.get)(t,["entities","cells"])&&(e.byID=t.entities.cells)})}case ne.b:{const{id:n,schema:a,status:s}=t,r=Object(O.get)(a,["entities","cells",n]),o=!!e.byID[n];return void(r||!o?e.byID[n]=Object.assign(Object.assign({},r),{status:s}):e.byID[n].status=s)}case ne.a:return void delete e.byID[t.id]}}),le=()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]});var ce=(e=le(),t)=>Object(E.b)(e,e=>{switch(t.type){case te.SET_DASHBOARD:V(e,t,P.ResourceType.Views);case oe.c:return void V(e,t,P.ResourceType.Views);case oe.d:{const{viewsArray:n}=t;return void n.forEach(t=>{V(e,t,P.ResourceType.Views)})}case oe.b:return void G(e,t,P.ResourceType.Views);case oe.a:return le()}}),ue=n(150),me=n(258),de=n(140),pe=n(139),he=n(69);const _e=()=>({timeRange:pe.e,autoRefresh:d.c,view:Object(ue.a)(),draftQueries:[Object.assign(Object.assign({},Object(ue.d)()),{hidden:!1})],isViewingRawData:!1,isViewingVisOptions:!1,activeTab:"queries",activeQueryIndex:0,queryResults:ke(),queryBuilder:{buckets:[],bucketsStatus:P.RemoteDataState.NotStarted,aggregateWindow:{period:he.a,fillValues:he.d},functions:[[{name:"mean"}]],tags:[{aggregateFunctionType:"filter",keys:[],keysSearchTerm:"",keysStatus:P.RemoteDataState.NotStarted,values:[],valuesSearchTerm:"",valuesStatus:P.RemoteDataState.NotStarted}]}}),ge=(e,t)=>{if(!t||!t[0])return Object.assign(Object.assign({},e.properties),{fieldOptions:[]});const n=t[0];let a,s=0;for(a=0;a<3;a++)s=n.indexOf("\r\n",s)+2;const r=(e.properties.fieldOptions||[]).reduce((e,t)=>(e[t.internalName]=t,e),{});n.slice(s,n.indexOf("\r\n",s)).split(",").filter(e=>!r.hasOwnProperty(e)).filter(e=>!["result","","table","time"].includes(e)).forEach(e=>{r[e]={internalName:e,displayName:e,visible:!0}});const o=Object.keys(r).map(e=>r[e]);return Object.assign(Object.assign({},e.properties),{fieldOptions:o})},fe=(e=(()=>({activeTimeMachineID:"de",timeMachines:{veo:_e(),de:_e(),alerting:_e()}}))(),t)=>{if("SET_ACTIVE_TIME_MACHINE"===t.type){const{activeTimeMachineID:n,initialState:a}=t.payload,s=e.timeMachines[n],r=a.view||s.view,o=Object(O.map)(Object(O.cloneDeep)(r.properties.queries),e=>Object.assign(Object.assign({},e),{hidden:!1})),i=Ee(o[0].builderConfig),l=ke(),c="alerting"===n?pe.b:s.timeRange;return Object.assign(Object.assign({},e),{activeTimeMachineID:n,timeMachines:Object.assign(Object.assign({},e.timeMachines),{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},s),{activeTab:"queries",timeRange:c}),a),{isViewingRawData:!1,activeQueryIndex:0,draftQueries:o,queryBuilder:i,queryResults:l})})})}const{activeTimeMachineID:n,timeMachines:a}=e,s=a[n];if(!s)return e;const r=be(s,t);return Object.assign(Object.assign({},e),{timeMachines:Object.assign(Object.assign({},a),{[n]:r})})},be=(e,t)=>{switch(t.type){case"SET_VIEW_NAME":{const{name:n}=t.payload,a=Object.assign(Object.assign({},e.view),{name:n});return Object.assign(Object.assign({},e),{view:a})}case"SET_AUTO_REFRESH":return Object(E.b)(e,e=>{e.autoRefresh=t.payload.autoRefresh,Ce(e)});case"SET_VIEW_TYPE":{const{type:n}=t.payload,a=we(e.view,e.queryResults.files,n);return Object.assign(Object.assign({},e),{view:a})}case"SET_ACTIVE_QUERY_TEXT":{const{text:n}=t.payload,a=[...e.draftQueries];return a[e.activeQueryIndex]=Object.assign(Object.assign({},a[e.activeQueryIndex]),{text:n}),Object.assign(Object.assign({},e),{draftQueries:a})}case"SET_QUERY_RESULTS":return Object(E.b)(e,n=>{const{status:a,files:s,fetchDuration:r,errorMessage:o,statuses:i}=t.payload;if(n.queryResults.status=a,n.queryResults.errorMessage=o,s&&s.length){if(e.view&&e.view.properties&&"table"===e.view.properties.type){const t=ge(e.view,s);n.view=Object.assign(Object.assign({},e.view),{properties:t})}n.queryResults.files=s,n.queryResults.isInitialFetch=!1}i&&(n.queryResults.statuses=i),Object(O.isNumber)(r)&&(n.queryResults.fetchDuration=r)});case"SET_IS_VIEWING_RAW_DATA":{const{isViewingRawData:n}=t.payload;return Object.assign(Object.assign({},e),{isViewingRawData:n})}case"SET_ACTIVE_TAB":{const{activeTab:n}=t.payload;return Object.assign(Object.assign({},e),{activeTab:n})}case"TOGGLE_VIS_OPTIONS":return Object.assign(Object.assign({},e),{isViewingVisOptions:!e.isViewingVisOptions});case"SET_GEOM":{const{geom:n}=t.payload;return ye(e,{geom:n})}case"SET_Y_AXIS_BOUNDS":{const{bounds:n}=t.payload;return ve(e,{bounds:n})}case"SET_AXIS_PREFIX":{const{prefix:n,axis:a}=t.payload,s=e.view.properties.type;return"heatmap"===s||"scatter"==s?ye(e,"x"===a?{xPrefix:n}:{yPrefix:n}):ve(e,{prefix:n})}case"SET_AXIS_SUFFIX":{const{suffix:n,axis:a}=t.payload,s=e.view.properties.type;return"heatmap"===s||"scatter"===s?ye(e,"x"===a?{xSuffix:n}:{ySuffix:n}):ve(e,{suffix:n})}case"SET_Y_AXIS_BASE":{const{base:n}=t.payload;return ve(e,{base:n})}case"SET_X_COLUMN":{const{xColumn:n}=t.payload;return ye(e,{xColumn:n})}case"SET_Y_COLUMN":{const{yColumn:n}=t.payload;return ye(e,{yColumn:n})}case"SET_Y_SERIES_COLUMNS":{const{ySeriesColumns:n}=t.payload;return ye(e,{ySeriesColumns:n})}case"SET_X_AXIS_LABEL":{const{xAxisLabel:n}=t.payload;switch(e.view.properties.type){case"histogram":case"heatmap":case"scatter":case"mosaic":return ye(e,{xAxisLabel:n});default:return ve(e,{label:n})}}case"SET_Y_AXIS_LABEL":{const{yAxisLabel:n}=t.payload;switch(e.view.properties.type){case"histogram":case"heatmap":case"scatter":case"mosaic":return ye(e,{yAxisLabel:n});default:return ve(e,{label:n})}}case"SET_FILL_COLUMNS":{const{fillColumns:n}=t.payload;return ye(e,{fillColumns:n})}case"SET_SYMBOL_COLUMNS":{const{symbolColumns:n}=t.payload;return ye(e,{symbolColumns:n})}case"SET_HISTOGRAM_POSITION":case"SET_LINE_POSITION":{const{position:n}=t.payload;return ye(e,{position:n})}case"SET_UPPER_COLUMN":{const{upperColumn:n}=t.payload;return ye(e,{upperColumn:n})}case"SET_MAIN_COLUMN":{const{mainColumn:n}=t.payload;return ye(e,{mainColumn:n})}case"SET_LOWER_COLUMN":{const{lowerColumn:n}=t.payload;return ye(e,{lowerColumn:n})}case"SET_LEGEND_OPACITY":{const{legendOpacity:n}=t.payload;return ye(e,{legendOpacity:n})}case"SET_LEGEND_ORIENTATION_THRESHOLD":{const{legendOrientationThreshold:n}=t.payload;return ye(e,{legendOrientationThreshold:n})}case"SET_BIN_COUNT":{const{binCount:n}=t.payload;return ye(e,{binCount:n})}case"SET_BIN_SIZE":{const{binSize:n}=t.payload;return ye(e,{binSize:n})}case"SET_COLOR_HEXES":{const{colors:n}=t.payload;return ye(e,{colors:n})}case"SET_VIEW_X_DOMAIN":{const{xDomain:n}=t.payload;return ye(e,{xDomain:n})}case"SET_VIEW_Y_DOMAIN":{const{yDomain:n}=t.payload;return ye(e,{yDomain:n})}case"SET_PREFIX":{const{prefix:n}=t.payload;switch(e.view.properties.type){case"gauge":case"single-stat":case"line-plus-single-stat":return ye(e,{prefix:n});case"check":case"xy":case"band":return ve(e,{prefix:n});default:return e}}case"SET_TICK_PREFIX":{const{tickPrefix:n}=t.payload;switch(e.view.properties.type){case"gauge":case"single-stat":case"line-plus-single-stat":return ye(e,{tickPrefix:n});case"check":case"xy":case"band":return ve(e,{tickPrefix:n});default:return e}}case"SET_SUFFIX":{const{suffix:n}=t.payload;switch(e.view.properties.type){case"gauge":case"single-stat":case"line-plus-single-stat":return ye(e,{suffix:n});case"check":case"xy":case"band":return ve(e,{suffix:n});default:return e}}case"SET_TICK_SUFFIX":{const{tickSuffix:n}=t.payload;switch(e.view.properties.type){case"gauge":case"single-stat":case"line-plus-single-stat":return ye(e,{tickSuffix:n});case"check":case"xy":case"band":return ve(e,{tickSuffix:n});default:return e}}case"SET_COLORS":{const{colors:n}=t.payload;switch(e.view.properties.type){case"gauge":case"table":case"single-stat":case"scatter":case"check":case"xy":case"band":case"histogram":return ye(e,{colors:n});case"line-plus-single-stat":return ye(e,{colors:xe(e,n)});default:return e}}case"SET_DECIMAL_PLACES":{const{decimalPlaces:n}=t.payload;return ye(e,{decimalPlaces:n})}case"SET_SHADE_BELOW":{const{shadeBelow:n}=t.payload;return ye(e,{shadeBelow:n})}case"SET_HOVER_DIMENSION":{const{hoverDimension:n}=t.payload;return ye(e,{hoverDimension:n})}case"SET_BACKGROUND_THRESHOLD_COLORING":{const t=e.view.properties.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:de.l}):e);return ye(e,{colors:t})}case"SET_TEXT_THRESHOLD_COLORING":{const t=e.view.properties.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:de.m}):e);return ye(e,{colors:t})}case"EDIT_ACTIVE_QUERY_WITH_BUILDER":return Object(E.b)(e,e=>{const t=e.draftQueries[e.activeQueryIndex];t.editMode="builder",t.hidden=!1,Ce(e)});case"RESET_QUERY_AND_EDIT_WITH_BUILDER":return Object(E.b)(e,e=>{e.draftQueries[e.activeQueryIndex]=Object.assign(Object.assign({},Object(ue.d)()),{editMode:"builder",hidden:!1})});case"EDIT_ACTIVE_QUERY_AS_FLUX":{const{activeQueryIndex:t}=e,n=[...e.draftQueries];return n[t]=Object.assign(Object.assign({},n[t]),{editMode:"advanced"}),Object.assign(Object.assign({},e),{draftQueries:n})}case"SET_ACTIVE_QUERY_INDEX":return Object(E.b)(e,e=>{const{activeQueryIndex:n}=t.payload;n<e.draftQueries.length&&(e.activeQueryIndex=n,Te(e))});case"ADD_QUERY":return Object(E.b)(e,t=>{t.draftQueries=[...e.draftQueries,Object.assign(Object.assign({},Object(ue.d)()),{hidden:!1})],t.activeQueryIndex=t.draftQueries.length-1,Te(t)});case"REMOVE_QUERY":return Object(E.b)(e,e=>{const{queryIndex:n}=t.payload;e.draftQueries.splice(n,1);const a=e.draftQueries.length;let s;s=n<a?n:a===n&&a>0?a-1:0,e.activeQueryIndex=s,Te(e)});case"TOGGLE_QUERY":return Object(E.b)(e,e=>{const n=e.draftQueries[t.payload.queryIndex];n.hidden=!n.hidden});case"SET_BUILDER_AGGREGATE_FUNCTION_TYPE":return Object(E.b)(e,e=>{const{index:n,builderAggregateFunctionType:a}=t.payload,s=e.draftQueries[e.activeQueryIndex];Se(e),s&&s.builderConfig&&s.builderConfig.tags[n]&&(s.builderConfig.tags[n].values=[],s.builderConfig.tags[n].aggregateFunctionType=a)});case"SET_BUILDER_BUCKET_SELECTION":return Object(E.b)(e,e=>{const n=e.draftQueries[e.activeQueryIndex].builderConfig;if(n.buckets=[t.payload.bucket],t.payload.resetSelections){const t=_e().queryBuilder.tags[0].aggregateFunctionType;n.tags=[{key:"",values:[],aggregateFunctionType:t}],Se(e)}});case"SET_BUILDER_BUCKETS":return Object(E.b)(e,e=>{e.queryBuilder.buckets=t.payload.buckets,e.queryBuilder.bucketsStatus=P.RemoteDataState.Done});case"SET_BUILDER_BUCKETS_STATUS":return Object(E.b)(e,e=>{e.queryBuilder.bucketsStatus=t.payload.bucketsStatus});case"SET_BUILDER_TAGS_STATUS":return Object(E.b)(e,e=>{const{status:n}=t.payload,a=e.queryBuilder.tags;for(const e of a)e.keysStatus=n,e.valuesStatus=n});case"SET_BUILDER_TAG_KEYS":return Object(E.b)(e,e=>{const{index:n,keys:a}=t.payload;e.queryBuilder.tags[n].keys=a,e.queryBuilder.tags[n].keysStatus=P.RemoteDataState.Done});case"SET_BUILDER_TAG_KEYS_STATUS":return Object(E.b)(e,e=>{const{index:n,status:a}=t.payload,s=e.queryBuilder.tags;if(s[n].keysStatus=a,a===P.RemoteDataState.Loading){s[n].valuesStatus=P.RemoteDataState.NotStarted;for(let e=n+1;e<s.length;e++)s[e].keysStatus=P.RemoteDataState.NotStarted}});case"SET_BUILDER_TAG_VALUES":return Object(E.b)(e,e=>{const{index:n,values:a}=t.payload;e.queryBuilder.tags[n].values=a,e.queryBuilder.tags[n].valuesStatus=P.RemoteDataState.Done});case"SET_BUILDER_TAG_VALUES_STATUS":return Object(E.b)(e,e=>{const{index:n,status:a}=t.payload;e.queryBuilder.tags[n].valuesStatus=a});case"SET_BUILDER_TAG_KEY_SELECTION":return Object(E.b)(e,e=>{const{index:n,key:a}=t.payload,s=e.draftQueries[e.activeQueryIndex].builderConfig.tags[n];s.key=a,s.values=[],s.aggregateFunctionType="filter"});case"SET_BUILDER_TAG_VALUES_SELECTION":return Object(E.b)(e,e=>{const{index:n,values:a}=t.payload;e.draftQueries[e.activeQueryIndex].builderConfig.tags[n].values=a,Se(e)});case"SET_BUILDER_VALUES_SEARCH_TERM":return Object(E.b)(e,e=>{const{index:n,searchTerm:a}=t.payload;e.queryBuilder.tags[n].valuesSearchTerm=a});case"SET_BUILDER_KEYS_SEARCH_TERM":return Object(E.b)(e,e=>{const{index:n,searchTerm:a}=t.payload;e.queryBuilder.tags[n].keysSearchTerm=a});case"ADD_TAG_SELECTOR":return Object(E.b)(e,e=>{const t=e.draftQueries[e.activeQueryIndex],[n]=_e().queryBuilder.tags;t.builderConfig.tags.push({key:"",values:[],aggregateFunctionType:n.aggregateFunctionType}),e.queryBuilder.tags.push(n)});case"REMOVE_TAG_SELECTOR":return Object(E.b)(e,e=>{const{index:n}=t.payload,a=e.draftQueries[e.activeQueryIndex];let s=[];a&&(s=a.builderConfig.tags[n].values,a.builderConfig.tags.splice(n,1),e.queryBuilder.tags.splice(n,1)),s.length&&Se(e)});case"SELECT_BUILDER_FUNCTION":return Object(E.b)(e,e=>{const{functions:n}=t.payload,a=n.map(e=>({name:e}));e.draftQueries[e.activeQueryIndex].builderConfig.functions=a,Se(e)});case"SET_AGGREGATE_WINDOW":return Object(E.b)(e,e=>{const{activeQueryIndex:n,draftQueries:a}=e,{period:s}=t.payload;a[n].builderConfig.aggregateWindow.period=s,Se(e)});case"SET_AGGREGATE_FILL_VALUES":return Object(E.b)(e,e=>{const{activeQueryIndex:n,draftQueries:a}=e,{fillValues:s}=t.payload;a[n].builderConfig.aggregateWindow.fillValues=s,Se(e)});case"UPDATE_ACTIVE_QUERY_NAME":{const{activeQueryIndex:n}=e,{queryName:a}=t.payload,s=[...e.draftQueries];return s[n]=Object.assign(Object.assign({},s[n]),{name:a}),Object.assign(Object.assign({},e),{draftQueries:s})}case"SET_FIELD_OPTIONS":{const n=e.view,{fieldOptions:a}=t.payload,s=Object.assign(Object.assign({},n.properties),{fieldOptions:a}),r=Object.assign(Object.assign({},e.view),{properties:s});return Object.assign(Object.assign({},e),{view:r})}case"UPDATE_FIELD_OPTION":{const n=e.view,{option:a}=t.payload,s=a.internalName,r=Object.assign({},n.properties);r.fieldOptions=r.fieldOptions.slice(0);const o=n.properties.fieldOptions.map(e=>e.internalName).indexOf(s);if(o<0)return e;r.fieldOptions[o]=a;const i=Object.assign(Object.assign({},e.view),{properties:r});return Object.assign(Object.assign({},e),{view:i})}case"SET_TABLE_OPTIONS":{const n=e.view,{tableOptions:a}=t.payload,s=Object.assign(Object.assign({},n.properties),{tableOptions:a}),r=Object.assign(Object.assign({},e.view),{properties:s});return Object.assign(Object.assign({},e),{view:r})}case"SET_TIME_FORMAT":{const n=e.view,{timeFormat:a}=t.payload,s=Object.assign(Object.assign({},n.properties),{timeFormat:a}),r=Object.assign(Object.assign({},e.view),{properties:s});return Object.assign(Object.assign({},e),{view:r})}case"SAVE_DRAFT_QUERIES":return Object(E.b)(e,e=>{e.view.properties.queries=e.draftQueries.filter(e=>!e.hidden)})}return e},ye=(e,t)=>{const n=e.view,a=n.properties;return Object.assign(Object.assign({},e),{view:Object.assign(Object.assign({},n),{properties:Object.assign(Object.assign({},a),t)})})},ve=(e,t)=>{const n=e.view,a=n.properties,s=Object(O.get)(a,"axes",{}),r=Object(O.get)(s,"y",{});return Object.assign(Object.assign({},e),{view:Object.assign(Object.assign({},n),{properties:Object.assign(Object.assign({},a),{axes:Object.assign(Object.assign({},s),{y:Object.assign(Object.assign({},r),t)})})})})},xe=(e,t)=>{const n=e.view.properties.colors;return"scale"===Object(O.get)(t,"0.type","")?[...n.filter(e=>"scale"!==e.type),...t]:[...n.filter(e=>"scale"===e.type),...t]},we=(e,t,n)=>{const a=Object(ue.a)(n);return a.properties.queries=Object(O.cloneDeep)(e.properties.queries),"table"===n&&t&&(a.properties=ge(a,t)),a.name=e.name,a.cellID=e.cellID,a.dashboardID=e.dashboardID,a.id=e.id,a.links=e.links,a},Ee=e=>{const t=_e().queryBuilder.functions,[n]=_e().queryBuilder.tags;return{buckets:e.buckets,bucketsStatus:P.RemoteDataState.NotStarted,functions:[...t],aggregateWindow:{period:he.a,fillValues:he.d},tags:e.tags.map(()=>Object.assign({},n))}},ke=()=>({files:null,status:P.RemoteDataState.NotStarted,isInitialFetch:!0,fetchDuration:null,errorMessage:null,statuses:null}),Se=e=>{const t=e.draftQueries[e.activeQueryIndex];Object(me.e)(t.builderConfig)?t.text=Object(me.b)(t.builderConfig):t.text||(t.text="")},Ce=e=>{e.draftQueries.filter(e=>"builder"===e.editMode).forEach(e=>{Object(me.e)(e.builderConfig)?e.text=Object(me.b)(e.builderConfig):e.text=""})},Te=e=>{const t=e.draftQueries[e.activeQueryIndex].builderConfig;e.queryBuilder=Ee(t)};var Oe=n(416);const{Orgs:De}=P.ResourceType,Ie=(e=(()=>({byID:{},allIDs:[],status:P.RemoteDataState.NotStarted,org:null}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case Oe.e:return void V(e,t,De);case Oe.a:return void $(e,t,De);case Oe.c:return void K(e,t);case Oe.b:return W(e,t,De),void(t.schema.result===e.org.id&&(e.org=t.schema.entities.orgs[t.schema.result]));case Oe.d:return void(e.org=t.org)}});var je=n(182);const Re={},Ne={id:null,params:Re,onClose:()=>{}};var Ae=(e=Ne,t)=>Object(E.b)(e,e=>{switch(t.type){case je.a.ShowOverlay:{const{overlayID:n,overlayParams:a,onClose:s}=t.payload;return e.id=n,e.params=a,void(e.onClose=s)}case je.a.DismissOverlay:return e.id=null,e.params=Re,void(e.onClose=()=>{})}}),Pe=n(259);const Me={stepStatuses:new Array(3).fill(Pe.b.Incomplete),setupParams:null,orgID:"",bucketID:""};var Le=(e=Me,t)=>{switch(t.type){case"SET_SETUP_PARAMS":return Object.assign(Object.assign({},e),{setupParams:t.payload.setupParams});case"SET_STEP_STATUS":const n=[...e.stepStatuses];return n[t.payload.index]=t.payload.status,Object.assign(Object.assign({},e),{stepStatuses:n});case"SET_ORG_ID":return Object.assign(Object.assign({},e),{orgID:t.payload.orgID});case"SET_ONBOARDING_BUCKET_ID":return Object.assign(Object.assign({},e),{bucketID:t.payload.bucketID});default:return e}},Fe=n(412);const qe=()=>({mode:Fe.a.Adding,note:"",showNoteWhenEmpty:!1,isPreviewing:!1});var Be=(e=qe(),t)=>{switch(t.type){case"RESET_NOTE_STATE":return qe();case"SET_NOTE_STATE":{const n=t.payload;return Object.assign(Object.assign(Object.assign({},e),n),{isPreviewing:!1})}case"CLOSE_NOTE_EDITOR":return Object.assign(Object.assign({},e),{overlayVisible:!1});case"SET_IS_PREVIEWING":{const{isPreviewing:n}=t.payload;return Object.assign(Object.assign({},e),{isPreviewing:n})}case"TOGGLE_SHOW_NOTE_WHEN_EMPTY":{const{showNoteWhenEmpty:t}=e;return Object.assign(Object.assign({},e),{showNoteWhenEmpty:!t})}case"SET_NOTE":{const{note:n}=t.payload;return Object.assign(Object.assign({},e),{note:n})}}return e},ze=n(418),Ue=n(419),He=n(420),Ge=n(147),Ve=n(249);const $e={telegrafPlugins:[],type:Ge.e.Empty,telegrafConfigID:null,pluginBundles:[],scraperTarget:{bucket:"",url:Ve.c,name:"Name this Scraper Target"},telegrafConfigName:"Name this Configuration",telegrafConfigDescription:"",token:""};const We={org:"",bucket:"",orgID:"",bucketID:"",currentStep:0};var Ke=Object(a.c)({steps:(e=We,t)=>{switch(t.type){case"CLEAR_STEPS":return Object.assign({},We);case"INCREMENT_CURRENT_STEP_INDEX":return Object.assign(Object.assign({},e),{currentStep:e.currentStep+1});case"DECREMENT_CURRENT_STEP_INDEX":return Object.assign(Object.assign({},e),{currentStep:e.currentStep-1});case"SET_CURRENT_STEP_INDEX":return Object.assign(Object.assign({},e),{currentStep:t.payload.index});case"SET_SUBSTEP_INDEX":return Object.assign(Object.assign({},e),{currentStep:t.payload.stepIndex,substep:t.payload.substep});case"SET_BUCKET_INFO":return Object.assign(Object.assign({},e),t.payload);case"SET_BUCKET_ID":return Object.assign(Object.assign({},e),{bucketID:t.payload.bucketID});default:return e}},dataLoaders:(e=$e,t)=>{switch(t.type){case"CLEAR_DATA_LOADERS":return Object.assign({},$e);case"SET_DATA_LOADERS_TYPE":return Object.assign(Object.assign({},e),{type:t.payload.type});case"SET_TELEGRAF_CONFIG_ID":return Object.assign(Object.assign({},e),{telegrafConfigID:t.payload.id});case"ADD_PLUGIN_BUNDLE":return Object.assign(Object.assign({},e),{pluginBundles:[...e.pluginBundles,t.payload.bundle]});case"REMOVE_PLUGIN_BUNDLE":return Object.assign(Object.assign({},e),{pluginBundles:e.pluginBundles.filter(e=>e!==t.payload.bundle)});case"REMOVE_BUNDLE_PLUGINS":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.filter(n=>!Object(ze.c)(n.name,t.payload.bundle)||!Object(ze.d)(n.name,t.payload.bundle,e.pluginBundles))});case"ADD_TELEGRAF_PLUGINS":return Object.assign(Object.assign({},e),{telegrafPlugins:D.a.sortBy(D.a.uniqBy([...e.telegrafPlugins,...t.payload.telegrafPlugins],"name"),["name"])});case"UPDATE_TELEGRAF_PLUGIN":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>e.name===t.payload.plugin.name?Object.assign(Object.assign({},e),{plugin:t.payload.plugin}):e)});case"UPDATE_TELEGRAF_PLUGIN_CONFIG":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>{if(e.name===t.payload.name){const n=D.a.get(e,"plugin",Object(ze.a)(e.name));return Object.assign(Object.assign({},e),{plugin:Object(ze.e)(n,t.payload.field,t.payload.value)})}return e})});case"ADD_TELEGRAF_PLUGIN_CONFIG_VALUE":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>{if(e.name===t.payload.pluginName){const n=D.a.get(e,"plugin",Object(ze.a)(e.name)),a=[...D.a.get(n,["config",t.payload.fieldName],[]),t.payload.value];return Object.assign(Object.assign({},e),{plugin:Object(ze.e)(n,t.payload.fieldName,a)})}return e})});case"REMOVE_TELEGRAF_PLUGIN_CONFIG_VALUE":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>{if(e.name===t.payload.pluginName){const n=D.a.get(e,"plugin",Object(ze.a)(e.name)),a=D.a.get(n,`config.${t.payload.fieldName}`,[]).filter(e=>e!==t.payload.value);return Object.assign(Object.assign({},e),{plugin:Object(ze.e)(n,t.payload.fieldName,a)})}return e})});case"SET_TELEGRAF_PLUGIN_CONFIG_VALUE":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>{if(e.name===t.payload.pluginName){const n=D.a.get(e,"plugin",Object(ze.a)(e.name)),a=D.a.get(n,`config.${t.payload.field}`,[]);return a[t.payload.valueIndex]=t.payload.value,Object.assign(Object.assign({},e),{plugin:Object(ze.e)(n,t.payload.field,[...a])})}return e})});case"SET_ACTIVE_TELEGRAF_PLUGIN":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>e.name===t.payload.telegrafPlugin?Object.assign(Object.assign({},e),{active:!0}):Object.assign(Object.assign({},e),{active:!1}))});case"SET_PLUGIN_CONFIGURATION_STATE":return Object.assign(Object.assign({},e),{telegrafPlugins:e.telegrafPlugins.map(e=>{const n=D.a.get(e,"name");if(n===t.payload.telegrafPlugin){const t=Object(ze.b)(n);if(!t)return Object.assign(Object.assign({},e),{configured:Ge.d.Configured});const a=Object(Ue.a)(e,"plugin",Object(ze.a)(n)),s=D.a.get(a,"config",{});let r=!0;return Object.entries(t).forEach(([e,{type:t,isRequired:n}])=>{if(n){const n=s[e];switch(t){case Ge.c.Uri:r=Object(He.a)(n);break;case Ge.c.String:r=""!==n;break;case Ge.c.StringArray:r=!!n.length;break;case Ge.c.UriArray:r=!!n.length&&!n.find(e=>!Object(He.a)(e))}}}),!r||D.a.isEmpty(s)?Object.assign(Object.assign({},e),{configured:Ge.d.InvalidConfiguration}):Object.assign(Object.assign({},e),{configured:Ge.d.Configured})}return Object.assign({},e)})});case"SET_TELEGRAF_CONFIG_NAME":return Object.assign(Object.assign({},e),{telegrafConfigName:t.payload.name});case"SET_TELEGRAF_CONFIG_DESCRIPTION":return Object.assign(Object.assign({},e),{telegrafConfigDescription:t.payload.description});case"SET_SCRAPER_TARGET_NAME":const{name:n}=t.payload;return Object.assign(Object.assign({},e),{scraperTarget:Object.assign(Object.assign({},e.scraperTarget),{name:n})});case"SET_SCRAPER_TARGET_BUCKET":const{bucket:a}=t.payload;return Object.assign(Object.assign({},e),{scraperTarget:Object.assign(Object.assign({},e.scraperTarget),{bucket:a})});case"SET_SCRAPER_TARGET_URL":const{url:s}=t.payload;return Object.assign(Object.assign({},e),{scraperTarget:Object.assign(Object.assign({},e.scraperTarget),{url:s})});case"SET_SCRAPER_TARGET_ID":const{id:r}=t.payload;return Object.assign(Object.assign({},e),{scraperTarget:Object.assign(Object.assign({},e.scraperTarget),{id:r})});case"SET_TOKEN":return Object.assign(Object.assign({},e),{token:t.payload.token});default:return e}}}),Qe=n(313);const Ye=(e={name:"",selected:"query",argsQuery:null,argsMap:null,argsConstant:null},t)=>Object(E.b)(e,e=>{switch(t.type){case Qe.b:return{name:"",selected:"query",argsQuery:null,argsMap:null,argsConstant:null};case Qe.a:return void(e.selected=t.editorType);case Qe.j:return void(e.name=t.name);case Qe.k:return void(e.argsQuery=t.payload);case Qe.i:return void(e.argsMap=t.payload);case Qe.h:return void(e.argsConstant=t.payload);default:return}}),Xe=(e=(()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[],values:{}}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case Qe.g:return void V(e,t,P.ResourceType.Variables);case Qe.f:{const{id:n,status:a,schema:s}=t,r=Object(O.get)(s,["entities","variables",n]),o=!!e.byID[n];return void(r?(e.byID[n]=Object.assign(Object.assign({},r),{status:a}),o||e.allIDs.push(n)):e.byID[n].status=a)}case Qe.d:return void K(e,t);case Qe.e:{const{contextID:n,variableID:a,selectedValue:s}=t;return e.values[n]||(e.values[n]={status:P.RemoteDataState.Done,order:e.allIDs,values:{}}),e.values[n].values[a]?void(e.values[n].values[a].selected=[s]):void(e.values[n].values[a]={selected:[s]})}case Qe.c:{const{originalIndex:n,newIndex:a,contextID:s}=t;let r=Object(O.get)(e,`values.${s}.order`);r||(r=Object(O.get)(e,"allIDs"));const o=(r=r.slice(0))[n],i=r[a];return r[n]=i,r[a]=o,void(e.values[s]=Object.assign(Object.assign({},e.values[s]||{status:P.RemoteDataState.NotStarted,values:{}}),{order:r}))}}}),Ze=(e=(()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case ae.c:return void V(e,t,P.ResourceType.Labels);case ae.b:return void G(e,t,P.ResourceType.Labels);case ae.a:return void K(e,t)}});var Je=n(314);const{Buckets:et}=P.ResourceType,tt=(e=(()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case Je.d:return void V(e,t,et);case Je.a:return void $(e,t,et);case Je.b:return void W(e,t,et);case Je.c:return void K(e,t)}});var nt=n(421);const{Telegrafs:at}=P.ResourceType,st=(e=(()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[],currentConfig:{status:P.RemoteDataState.NotStarted,item:""}}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case nt.e:return void V(e,t,at);case nt.a:return void $(e,t,at);case nt.b:return void W(e,t,at);case nt.c:return void K(e,t);case nt.d:{const{status:n,item:a}=t;return e.currentConfig.status=n,void(e.currentConfig.item=a||"")}}});var rt=n(422);const{Authorizations:ot}=P.ResourceType,it=(e=(()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case rt.d:return void V(e,t,ot);case rt.a:return void $(e,t,ot);case rt.c:return void K(e,t);case rt.b:return void W(e,t,ot)}});var lt=n(166);var ct=(e=(()=>({stagedCommunityTemplate:{sources:[],stackID:"",summary:{},diff:{},resourcesToSkip:{}},stagedTemplateEnvReferences:{},stagedTemplateUrl:"",communityTemplateReadmeCollection:{},status:P.RemoteDataState.NotStarted,byID:{},allIDs:[],exportTemplate:{status:P.RemoteDataState.NotStarted,item:null},stacks:[]}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case lt.b:return void V(e,t,P.ResourceType.Templates);case lt.g:{const{status:n}=t;return void(e.status=n)}case lt.f:{const{templateUrl:n}=t;return void(e.stagedTemplateUrl=n)}case lt.e:{const{template:n}=t,a={},s=Object.assign(Object.assign({},{sources:[],stackID:"",summary:{},diff:{},resourcesToSkip:{}}),n);return s.summary.dashboards=(n.summary.dashboards||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.telegrafConfigs=(n.summary.telegrafConfigs||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.buckets=(n.summary.buckets||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.checks=(n.summary.checks||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.variables=(n.summary.variables||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.notificationRules=(n.summary.notificationRules||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.notificationEndpoints=(n.summary.notificationEndpoints||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.labels=(n.summary.labels||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),s.summary.summaryTask=(n.summary.summaryTask||[]).map(e=>(e.hasOwnProperty("shouldInstall")||(e.shouldInstall=!0),e.envReferences.length&&e.envReferences.forEach(e=>{a[e.envRefKey]={envRefKey:e.envRefKey,resourceField:e.resourceField,value:e.defaultValue,valueType:e.valueType}}),e)),e.stagedTemplateEnvReferences=a,void(e.stagedCommunityTemplate=s)}case lt.c:{const{status:n,item:a}=t;return e.exportTemplate.status=n,void(e.exportTemplate.item=a||null)}case lt.a:return void $(e,t,P.ResourceType.Templates);case lt.i:{const{resourceType:n,shouldInstall:a,templateMetaName:s}=t,r=Object.assign({},e.stagedCommunityTemplate);return r.summary[n].forEach(e=>{e.templateMetaName===s&&(e.shouldInstall=a,a?r.resourcesToSkip[e.templateMetaName]&&delete r.resourcesToSkip[e.templateMetaName]:r.resourcesToSkip[e.templateMetaName]=e.kind)}),void(e.stagedCommunityTemplate=r)}case lt.d:{const{stacks:n}=t;return void(e.stacks=n)}case lt.j:{const{envRefKey:n,newValue:a,resourceField:s,valueType:r}=t;return void(e.stagedTemplateEnvReferences[n]={envRefKey:n,resourceField:s,value:a,valueType:r})}case lt.h:{const{templateName:n,readmeText:a}=t,s=Object.assign({},e.communityTemplateReadmeCollection);return s[n]=a,void(e.communityTemplateReadmeCollection=s)}}}),ut=n(768);const{Scrapers:mt}=P.ResourceType,dt=(e=(()=>({status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case ut.d:return void V(e,t,mt);case ut.a:return void $(e,t,mt);case ut.b:return void W(e,t,mt);case ut.c:return void K(e,t)}}),pt=(e={showVariablesControls:!0,showAnnotationsControls:!1},t)=>{switch(t.type){case"TOGGLE_SHOW_VARIABLES_CONTROLS":return Object.assign(Object.assign({},e),{showVariablesControls:!e.showVariablesControls});case"TOGGLE_SHOW_ANNOTATIONS_CONTROLS":return Object.assign(Object.assign({},e),{showAnnotationsControls:!e.showAnnotationsControls});default:return e}},ht=(e={visibleStreamsByID:[]},t)=>{switch(t.type){case"ENABLE_ANNOTATION_STREAM":return Object.assign(Object.assign({},e),{visibleStreamsByID:[...e.visibleStreamsByID,t.streamID]});case"DISABLE_ANNOTATION_STREAM":return Object.assign(Object.assign({},e),{visibleStreamsByID:e.visibleStreamsByID.filter(e=>e!==t.streamID)});default:return e}};var _t=n(769);const{Members:gt}=P.ResourceType,ft=(e=(()=>({byID:{},allIDs:[],status:P.RemoteDataState.NotStarted}))(),t)=>Object(E.b)(e,e=>{switch(t.type){case _t.c:return void V(e,t,gt);case _t.a:return void $(e,t,gt);case _t.b:return void K(e,t)}}),bt=(e={},t)=>Object(E.b)(e,e=>{switch(t.type){case"SET_AUTO_REFRESH_INTERVAL":{const{dashboardID:n,milliseconds:a}=t.payload;return e[n]||(e[n]=d.c),void(e[n].interval=a)}case"SET_AUTO_REFRESH_STATUS":{const{dashboardID:n,status:a}=t.payload;return e[n]||(e[n]=d.c),void(e[n].status=a)}}});var yt=n(68);const vt={maxAllowed:1/0,limitStatus:yt.b.OK},xt=Object.assign(Object.assign({},vt),{blocked:[]}),wt={dashboards:vt,tasks:vt,buckets:Object.assign(Object.assign({},vt),{maxRetentionSeconds:null}),checks:vt,rules:xt,endpoints:xt,rate:{readKBs:vt,writeKBs:vt,cardinality:vt},status:P.RemoteDataState.NotStarted},Et=(e=wt,t)=>Object(E.b)(e,e=>{switch(t.type){case yt.a.SetLimitsStatus:{const{status:n}=t.payload;return void(e.status=n)}case yt.a.SetLimits:{const{limits:n}=t.payload;if(n.bucket){const{maxBuckets:t,maxRetentionDuration:a}=n.bucket;e.buckets.maxAllowed=t,e.buckets.maxRetentionSeconds=a/1e9}if(n.dashboard){const{maxDashboards:t}=n.dashboard;e.dashboards.maxAllowed=t}if(n.task){const{maxTasks:t}=n.task;e.tasks.maxAllowed=t}if(n.check){const{maxChecks:t}=n.check;e.checks.maxAllowed=t}if(n.notificationRule){const{maxNotifications:t,blockedNotificationRules:a}=n.notificationRule;e.rules.maxAllowed=t,e.rules.blocked=a.split(",").map(e=>e.trim())}if(n.notificationEndpoint){const{blockedNotificationEndpoints:t}=n.notificationEndpoint;e.endpoints.blocked=t.split(",").map(e=>e.trim())}if(n.rate){const{readKBs:t,writeKBs:a,cardinality:s}=n.rate;e.rate.readKBs.maxAllowed=t,e.rate.writeKBs.maxAllowed=a,e.rate.cardinality.maxAllowed=s}return}case yt.a.SetDashboardLimitStatus:return void(e.dashboards.limitStatus=t.payload.limitStatus);case yt.a.SetBucketLimitStatus:return void(e.buckets.limitStatus=t.payload.limitStatus);case yt.a.SetTaskLimitStatus:return void(e.tasks.limitStatus=t.payload.limitStatus);case yt.a.SetChecksLimitStatus:return void(e.checks.limitStatus=t.payload.limitStatus);case yt.a.SetRulesLimitStatus:return void(e.rules.limitStatus=t.payload.limitStatus);case yt.a.SetEndpointsLimitStatus:return void(e.endpoints.limitStatus=t.payload.limitStatus);case yt.a.SetReadRateLimitStatus:return void(e.rate.readKBs.limitStatus=t.payload.limitStatus);case yt.a.SetWriteRateLimitStatus:return void(e.rate.writeKBs.limitStatus=t.payload.limitStatus);case yt.a.SetCardinalityLimitStatus:return void(e.rate.cardinality.limitStatus=t.payload.limitStatus)}});const kt={buckets:[],status:P.RemoteDataState.NotStarted},St=(e=kt,t)=>{switch(t.type){case"SET_DEMODATA_STATUS":return Object.assign(Object.assign({},e),{status:t.payload.status});case"SET_DEMODATA_BUCKETS":return Object.assign(Object.assign({},e),{status:P.RemoteDataState.Done,buckets:t.payload.buckets});default:return e}};var Ct=n(894);const Tt={settings:[n(151).f]},Ot=(e=Tt,t)=>Object(E.b)(e,e=>{t.type===Ct.a&&(e.settings=t.payload.orgSettings)});var Dt=n(770);const It={status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]};var jt=(e=It,t)=>Object(E.b)(e,e=>{switch(t.type){case Dt.d:return void V(e,t,P.ResourceType.Checks);case Dt.c:return void G(e,t,P.ResourceType.Checks);case Dt.a:return void K(e,t);case ae.d:{const{resourceID:n,schema:a}=t,s=a.result;return void Q(e,P.ResourceType.Labels,s,n)}case Dt.b:{const{checkID:n,labelID:a}=t,s=e.byID[n].labels;return void(e.byID[n].labels=s.filter(e=>e!==a))}}}),Rt=n(771);const Nt={status:P.RemoteDataState.NotStarted,byID:{},allIDs:[],current:{status:P.RemoteDataState.NotStarted,rule:null}};var At=(e=Nt,t)=>Object(E.b)(e,e=>{switch(t.type){case Rt.e:return void V(e,t,P.ResourceType.NotificationRules);case Rt.d:return void G(e,t,P.ResourceType.NotificationRules);case Rt.b:return void K(e,t);case Rt.c:{const{schema:n,status:a}=t,s=n.result;e.current.status=a;const r=n.entities.rules[s];return void(r&&(e.current.rule=r))}case ae.d:{const{resourceID:n,schema:a}=t,s=a.result;return void Q(e,P.ResourceType.Labels,s,n)}case Rt.a:{const{ruleID:n,labelID:a}=t,s=e.byID[n].labels;return void(e.byID[n].labels=s.filter(e=>e.id!==a))}}}),Pt=n(772);const Mt={status:P.RemoteDataState.NotStarted,byID:{},allIDs:[]};var Lt=(e=Mt,t)=>Object(E.a)(e,e=>{switch(t.type){case Pt.d:return void V(e,t,P.ResourceType.NotificationEndpoints);case Pt.c:return void G(e,t,P.ResourceType.NotificationEndpoints);case Pt.a:return void K(e,t);case ae.d:{const{resourceID:n,schema:a}=t,s=a.result;return void Q(e,P.ResourceType.Labels,s,n)}case Pt.b:{const{endpointID:n,labelID:a}=t,s=e.byID[n].labels;return void(e.byID[n].labels=s.filter(e=>e!==a))}}});const Ft=[{name:"system",type:"bundle",description:"collect all the basic local metrics",include:["cpu","disk","diskio","memory","network"]},{name:"agent",type:"system",description:"configures Telegraf and the defaults used across all plugins",config:'[agent]\n## Default data collection interval for all inputs\ninterval = "10s"\n## Rounds collection interval to \'interval\'\n## ie, if interval="10s" then always collect on :00, :10, :20, etc.\nround_interval = true\n## Telegraf will send metrics to outputs in batches of at most\n## metric_batch_size metrics.\n## This controls the size of writes that Telegraf sends to output plugins.\nmetric_batch_size = 1000\n## For failed writes, telegraf will cache metric_buffer_limit metrics for each\n## output, and will flush this buffer on a successful write. Oldest metrics\n## are dropped first when this buffer fills.\n## This buffer only fills when writes fail to output plugin(s).\nmetric_buffer_limit = 10000\n## Collection jitter is used to jitter the collection by a random amount.\n## Each plugin will sleep for a random time within jitter before collecting.\n## This can be used to avoid many plugins querying things like sysfs at the\n## same time, which can have a measurable effect on the system.\ncollection_jitter = "0s"\n## Default flushing interval for all outputs. Maximum flush_interval will be\n## flush_interval + flush_jitter\nflush_interval = "10s"\n## Jitter the flush interval by a random amount. This is primarily to avoid\n## large write spikes for users running a large number of telegraf instances.\n## ie, a jitter of 5s and interval 10s means flushes will happen every 10-15s\nflush_jitter = "0s"\n## By default or when set to "0s", precision will be set to the same\n## timestamp order as the collection interval, with the maximum being 1s.\n##   ie, when interval = "10s", precision will be "1s"\n##       when interval = "250ms", precision will be "1ms"\n## Precision will NOT be used for service inputs. It is up to each individual\n## service input to set the timestamp at the appropriate precision.\n## Valid time units are "ns", "us" (or "µs"), "ms", "s".\nprecision = ""\n## Logging configuration:\n## Run telegraf with debug log messages.\ndebug = false\n## Run telegraf in quiet mode (error log messages only).\nquiet = false\n## Specify the log file name. The empty string means to log to stderr.\nlogfile = ""\n## Override default hostname, if empty use os.Hostname()\nhostname = ""\n## If set to true, do no set the "host" tag in the telegraf agent.\n  omit_hostname = false\n'},{name:"__default__",type:"bundle",description:"default data for a blank telegraf",include:["agent","influxdb_v2"]}],qt={showLookup:!0,showList:!0,bucket:null,text:"",filter:""};function Bt(e=Ft,t){switch(t.type){case"SET_TELEGRAF_EDITOR_PLUGINS":const n=Ft.slice(0);return n.push(...t.payload.slice(0)),n;default:return e}}function zt(e={status:P.RemoteDataState.NotStarted},t){switch(t.type){case"SET_TELEGRAF_EDITOR_PLUGINS_LOADING_STATE":return Object.assign(Object.assign({},e),{status:t.payload});default:return e}}function Ut(e=[],t){switch(t.type){case"SET_TELEGRAF_EDITOR_ACTIVE_PLUGINS":return t.payload.slice(0);default:return e}}function Ht(e=qt,t){switch(t.type){case"SET_TELEGRAF_EDITOR_LOOKUP":return Object.assign(Object.assign({},e),{showLookup:t.payload});case"SET_TELEGRAF_EDITOR_LIST":return Object.assign(Object.assign({},e),{showList:t.payload});case"SET_TELEGRAF_EDITOR_TEXT":return Object.assign(Object.assign({},e),{text:t.payload});case"SET_TELEGRAF_EDITOR_ACTIVE_BUCKET":return Object.assign(Object.assign({},e),{bucket:t.payload});case"SET_TELEGRAF_EDITOR_FILTER":return Object.assign(Object.assign({},e),{filter:t.payload});case"RESET_TELEGRAF_EDITOR":return Object.assign({},qt);default:return e}}const Gt={bucketName:"",deletionStatus:P.RemoteDataState.NotStarted,files:[],filters:[],isSerious:!1,keys:[],previewStatus:P.RemoteDataState.NotStarted,timeRange:null,values:[]},Vt=(e=Gt,t)=>{switch(t.type){case"RESET_FILTERS":return Object.assign(Object.assign({},e),{filters:[]});case"SET_IS_SERIOUS":return Object.assign(Object.assign({},e),{isSerious:t.payload.isSerious});case"SET_BUCKET_NAME":return Object.assign(Object.assign({},e),{bucketName:t.payload.bucketName});case"SET_DELETE_TIME_RANGE":return Object.assign(Object.assign({},e),{timeRange:t.payload.timeRange});case"SET_FILTER":return t.payload.index>=e.filters.length?Object.assign(Object.assign({},e),{filters:[...e.filters,t.payload.filter]}):Object.assign(Object.assign({},e),{filters:e.filters.map((e,n)=>n===t.payload.index?t.payload.filter:e)});case"DELETE_FILTER":return Object.assign(Object.assign({},e),{filters:e.filters.filter((e,n)=>n!==t.payload.index)});case"SET_DELETION_STATUS":return Object.assign(Object.assign({},e),{deletionStatus:t.payload.deletionStatus});case"SET_FILES":return Object.assign(Object.assign({},e),{files:t.payload.files,previewStatus:P.RemoteDataState.Done});case"SET_KEYS_BY_BUCKET":return Object.assign(Object.assign({},e),{keys:t.payload.keys});case"SET_PREVIEW_STATUS":return Object.assign(Object.assign({},e),{previewStatus:t.payload.previewStatus});case"SET_VALUES_BY_KEY":return Object.assign(Object.assign({},e),{values:t.payload.values});case"SET_PREDICATE_DEFAULT":return Object.assign({},Gt);default:return e}};var $t=n(83);const Wt=()=>({id:null,activeStatus:"active",status:P.RemoteDataState.NotStarted,type:"threshold",name:$t.d,every:$t.c,offset:$t.e,tags:$t.g,statusMessageTemplate:$t.k,timeSince:"90s",reportZero:$t.f,staleTime:"10m",level:$t.h,thresholds:[]});var Kt=(e=Wt(),t)=>{switch(t.type){case"RESET_ALERT_BUILDER":return Wt();case"INIT_ALERT_BUILDER":return Object.assign(Object.assign({},Wt()),{type:t.payload.type,status:P.RemoteDataState.Done});case"CONVERT_CHECK_TO_CUSTOM":return Object.assign(Object.assign({},e),{type:"custom"});case"SET_ALERT_BUILDER_CHECK":{const{id:e,type:n,name:a,query:s}=t.payload.check,r=Object.assign(Object.assign({},Wt()),{status:P.RemoteDataState.Done,id:e,name:a,query:Object.assign({},s),type:n});if("custom"===t.payload.check.type)return r;if("threshold"===t.payload.check.type){const{every:e,offset:n,statusMessageTemplate:a,tags:s,thresholds:o}=t.payload.check;return Object.assign(Object.assign({},r),{every:e,offset:n,statusMessageTemplate:a,tags:s,thresholds:o})}if("deadman"===t.payload.check.type){const{every:e,level:n,offset:a,reportZero:s,staleTime:o,statusMessageTemplate:i,tags:l,timeSince:c}=t.payload.check;return Object.assign(Object.assign({},r),{every:e,level:n,offset:a,reportZero:s,staleTime:o,statusMessageTemplate:i,tags:l,timeSince:c})}throw new Error("Incorrect check type provided to SET_ALERT_BUILDER_CHECK")}case"SET_ALERT_BUILDER_STATUS":return Object.assign(Object.assign({},e),{status:t.payload.status});case"SET_ALERT_BUILDER_EVERY":return Object.assign(Object.assign({},e),{every:t.payload.every});case"SET_ALERT_BUILDER_OFFSET":return Object.assign(Object.assign({},e),{offset:t.payload.offset});case"SET_ALERT_BUILDER_STALETIME":return Object.assign(Object.assign({},e),{staleTime:t.payload.staleTime});case"SET_ALERT_BUILDER_TIMESINCE":return Object.assign(Object.assign({},e),{timeSince:t.payload.timeSince});case"SET_ALERT_BUILDER_LEVEL":return Object.assign(Object.assign({},e),{level:t.payload.level});case"SET_ALERT_BUILDER_MESSAGE_TEMPLATE":return Object.assign(Object.assign({},e),{statusMessageTemplate:t.payload.statusMessageTemplate});case"EDIT_ALERT_BUILDER_TAGSET":{const n=[...e.tags];return n[t.payload.index]=t.payload.tagSet,Object.assign(Object.assign({},e),{tags:n})}case"REMOVE_ALERT_BUILDER_TAGSET":return Object.assign(Object.assign({},e),{tags:e.tags.filter((e,n)=>n!==t.payload.index)});case"UPDATE_ALERT_BUILDER_THRESHOLD":{const n=e.thresholds.filter(e=>e.level!==t.payload.threshold.level);return Object.assign(Object.assign({},e),{thresholds:[...n,t.payload.threshold]})}case"UPDATE_ALERT_BUILDER_THRESHOLDS":return Object.assign(Object.assign({},e),{thresholds:t.payload.thresholds});case"REMOVE_ALERT_BUILDER_THRESHOLD":{const n=e.thresholds;return Object.assign(Object.assign({},e),{thresholds:n.filter(e=>e.level!==t.payload.level)})}case"UPDATE_ALERT_BUILDER_NAME":return Object.assign(Object.assign({},e),{name:t.payload.name});default:return e}},Qt=n(315);var Yt=(e={dashboard:{scroll:"not scrolled",byID:{}},cells:{byID:{}}},t)=>Object(E.b)(e,e=>{switch(t.type){case Qt.c:{const{component:n,scroll:a}=t;return void(e[n].scroll=a)}case Qt.b:{const{dashboardID:n,startVisitMs:a}=t;return e.dashboard.byID[n]?void(e.dashboard.byID[n].startVisitMs=a):void(e.dashboard.byID[n]={startVisitMs:a})}case Qt.a:{const{cellID:n,mountStartMs:a}=t;return e.cells.byID[n]?void(e.cells.byID[n].mountStartMs=a):void(e.cells.byID[n]={mountStartMs:a})}}}),Xt=n(773),Zt=n(775);const Jt=e=>(t,n)=>("USER_LOGGED_OUT"===n.type&&(t=void 0),Object(a.c)(Object.assign(Object.assign({router:Object(s.b)(e)},T),{autoRefresh:bt,alertBuilder:Kt,cloud:Object(a.c)({limits:Et,demoData:St,orgSettings:Ot}),currentPage:z.a,currentDashboard:w,currentExplorer:B,dataLoading:Ke,me:N,flags:L,flow:Xt.b,noteEditor:Be,onboarding:Le,overlays:Ae,perf:Yt,plugins:zt,predicates:Vt,ranges:ee,resources:Object(a.c)({buckets:tt,cells:ie,checks:jt,dashboards:re,endpoints:Lt,labels:Ze,members:ft,orgs:Ie,rules:At,scrapers:dt,tasks:Y,telegrafs:st,templates:ct,tokens:it,variables:Xe,views:ce}),telegrafEditor:Ht,telegrafEditorActivePlugins:Ut,telegrafEditorPlugins:Bt,timeMachines:fe,userSettings:pt,variableEditor:Ye,VERSION:()=>"",annotations:ht}))(t,n)),en=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d;function tn(e=Object(I.b)()){const t=Object(r.a)(Zt.a);return en(e=>(t,n,a)=>{const s=e(t,n,a);return s.subscribe(D.a.throttle(()=>{Object(I.d)(s.getState())},1e3)),s},Object(a.a)(o.a,t,i,m))(a.e)(Jt(Zt.a),e)}let nn;const an=()=>(nn||(nn=tn()),nn)},function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(50),o=n(11),i=n(220),l=n(6),c=n.n(l),u=n(12),m=n(49);const d=(e,{decimalPlaces:t,prefix:n,suffix:a}={})=>{let s,r;if(r=t&&t.isEnforced?t.digits:(e=>{return-1===e.toString().indexOf(".")?0:2})(e),r=Math.min(r,m.m),Object(l.isNumber)(e)){const[t,n]=Number(e).toFixed(r).split(".");s=Number(t).toLocaleString(void 0,{maximumFractionDigits:m.m}),n&&(s+=`.${n}`)}else{if(!Object(l.isString)(e))return"Data cannot be displayed";s=e}return`${n||""}${s=(e=>-0===Number(e)?"number"==typeof e?0:e.replace(/-/g,""):e)(s)}${a||""}`};var p=n(3);const h={degree:5/4*Math.PI,lineCount:5,smallLineCount:10,lineColor:`${p.InfluxColors.Platinum}`,labelColor:`${p.InfluxColors.Storm}`,labelFontSize:13,lineStrokeSmall:1,lineStrokeLarge:3,tickSizeSmall:9,tickSizeLarge:18,minFontSize:22,minLineWidth:24,valueColor:`${p.InfluxColors.Graphite}`,needleColor0:`${p.InfluxColors.Wolf}`,needleColor1:`${p.InfluxColors.Smoke}`,overflowDelta:.03},_={degree:5/4*Math.PI,lineCount:5,smallLineCount:10,lineColor:`${p.InfluxColors.Graphite}`,labelColor:`${p.InfluxColors.Wolf}`,labelFontSize:13,lineStrokeSmall:1,lineStrokeLarge:3,tickSizeSmall:9,tickSizeLarge:18,minFontSize:22,minLineWidth:24,valueColor:`${p.InfluxColors.White}`,needleColor0:`${p.InfluxColors.Smoke}`,needleColor1:`${p.InfluxColors.White}`,overflowDelta:.03};var g=n(140);let f=class extends a.Component{constructor(e){super(e),this.updateCanvas=()=>{this.resetCanvas();const e=this.canvasRef.current.getContext("2d"),{width:t,height:n}=this.props,a=t/2,s=n/2*1.13,r=Math.min(t,n)/2*.5,{minLineWidth:o,minFontSize:i}=this.props.theme,l=Math.max(o,r/4),u=Math.max(i,r/4),{colors:m}=this.props;if(!m||0===m.length)return;const d=Number(c.a.get(m.find(e=>e.type===g.c),"value",g.i)),p=Number(c.a.get(m.find(e=>e.type===g.b),"value",g.h));m.length===g.j?this.drawGradientGauge(e,a,s,r,l):this.drawSegmentedGauge(e,a,s,r,d,p,l),this.drawGaugeLines(e,a,s,r,l),this.drawGaugeLabels(e,r,l,d,p),this.drawGaugeValue(e,r,u),this.drawNeedle(e,r,d,p)},this.resetCanvas=()=>{const e=this.canvasRef.current,t=e.getContext("2d"),{width:n,height:a}=this.props,s=window.devicePixelRatio||1;e.width=n*s,e.height=a*s,e.style.width=`${n}px`,e.style.height=`${a}px`,t.scale(s,s),t.clearRect(0,0,n,a)},this.drawGradientGauge=(e,t,n,a,s)=>{const{colors:r}=this.props,o=c.a.sortBy(r,e=>Number(e.value)),i=.75*Math.PI,l=i+1.5*Math.PI,u=t+Math.cos(i)*a,m=n+Math.sin(i)*a,d=t+Math.cos(l)*a,p=n+Math.sin(l)*a,h=e.createLinearGradient(u,m,d,p);h.addColorStop(0,o[0].hex),h.addColorStop(1,o[1].hex),e.beginPath(),e.lineWidth=s,e.strokeStyle=h,e.arc(t,n,a,i,l),e.stroke()},this.drawSegmentedGauge=(e,t,n,a,s,r,o)=>{const{colors:i}=this.props,l=c.a.sortBy(i,e=>Number(e.value)),u=Math.abs(r-s),m=1.5*Math.PI;let d=.75*Math.PI;for(let r=0;r<l.length-1;r++){const i=l[r],c=l[r+1],p=Number(i.value)-s,h=Number(c.value)-s,_=m*(Math.abs(p-h)/u);e.beginPath(),e.lineWidth=o,e.strokeStyle=i.hex,e.arc(t,n,a,d,d+_),e.stroke(),d+=_}},this.drawGaugeLines=(e,t,n,a,s)=>{const{degree:r,lineCount:o,lineColor:i,lineStrokeSmall:l,lineStrokeLarge:c,tickSizeSmall:u,tickSizeLarge:m,smallLineCount:d}=this.props.theme,p=.75*Math.PI,h=1.5*Math.PI,_=p+h,g=o*d,f=135*r,b=h/o,y=h/g,v=a+.8*s;e.beginPath(),e.arc(t,n,v,p,_),e.lineWidth=3,e.lineCap="round",e.strokeStyle=i,e.stroke(),e.closePath(),e.translate(t,n);for(let t=0;t<=o;t++)e.rotate(f),e.rotate(t*b),e.beginPath(),e.lineWidth=c,e.lineCap="round",e.strokeStyle=i,e.moveTo(v,0),e.lineTo(v+m,0),e.stroke(),e.closePath(),e.rotate(-t*b),e.rotate(-f);for(let t=0;t<=g;t++)e.rotate(f),e.rotate(t*y),e.beginPath(),e.lineWidth=l,e.lineCap="round",e.strokeStyle=i,e.moveTo(v,0),e.lineTo(v+u,0),e.stroke(),e.closePath(),e.rotate(-t*y),e.rotate(-f)},this.drawGaugeLabels=(e,t,n,a,s)=>{const{tickPrefix:r,tickSuffix:o,decimalPlaces:i}=this.props;let{prefix:l,suffix:u}=this.props;const{degree:m,lineCount:p,labelColor:h,labelFontSize:_}=this.props.theme,g=[...c.a.range(a,s,Math.abs(s-a)/p),s];"true"===r&&(l=""),"true"===o&&(u="");const f=g.map(e=>d(e,{decimalPlaces:i,prefix:l,suffix:u})),b=135*m,y=1.5*Math.PI/p;let v;e.font=`bold ${_}px Rubik`,e.fillStyle=h,e.textBaseline="middle",e.textAlign="right";for(let a=0;a<=p;a++)3===a?(e.textAlign="center",v=t+n+30):v=t+n+23,a>3&&(e.textAlign="left"),e.rotate(b),e.rotate(a*y),e.translate(v,0),e.rotate(a*-y),e.rotate(-b),e.fillText(f[a],0,0),e.rotate(b),e.rotate(a*y),e.translate(-v,0),e.rotate(a*-y),e.rotate(-b)},this.drawGaugeValue=(e,t,n)=>{const{gaugePosition:a,prefix:s,suffix:r,decimalPlaces:o}=this.props,{valueColor:i}=this.props.theme;e.font=`${n}px Rubik`,e.fillStyle=i,e.textBaseline="middle",e.textAlign="center";const l=t,c=d(a,{decimalPlaces:o,prefix:s,suffix:r});e.fillText(c,0,l)},this.drawNeedle=(e,t,n,a)=>{const{gaugePosition:s}=this.props,{degree:r,needleColor0:o,needleColor1:i,overflowDelta:l}=this.props.theme,c=1.5*Math.PI;let u;u=s<=n?0-l:s>=a?1+l:(s-n)/(a-n);const m=e.createLinearGradient(0,-10,0,t);m.addColorStop(0,o),m.addColorStop(1,i),e.rotate(45*r),e.rotate(c*u),e.beginPath(),e.fillStyle=m,e.arc(0,0,10,0,Math.PI,!0),e.lineTo(0,t),e.lineTo(10,0),e.fill()},this.canvasRef=s.a.createRef()}componentDidMount(){this.updateCanvas()}componentDidUpdate(){this.updateCanvas()}render(){const{width:e,height:t}=this.props;return s.a.createElement("canvas",{className:"gauge",width:e,height:t,ref:this.canvasRef})}};f.defaultProps={theme:_};var b=f=Object(o.a)([u.a,Object(o.b)("design:paramtypes",[Object])],f);let y=class extends a.PureComponent{render(){const{value:e,theme:t}=this.props,{colors:n,prefix:a,tickPrefix:r,suffix:o,tickSuffix:l,decimalPlaces:c}=this.props.properties,u="light"===t?h:_;return s.a.createElement(i.a,null,({width:t,height:i})=>s.a.createElement("div",{className:"gauge"},s.a.createElement(b,{width:t,height:i,colors:n,prefix:a,tickPrefix:r,suffix:o,tickSuffix:l,gaugePosition:e,decimalPlaces:c,theme:u})))}};var v=y=Object(o.a)([u.a],y),x=n(1349),w=n.n(x);const E=e=>{const[t,n,a]=w()(e).rgb();return(t+n+a)/3>128?"#292933":"#ffffff"},k=(e,t)=>{return c.a.sortBy(e,e=>Number(e.value)).filter(e=>t>=e.value).pop()},S=({colors:e,lastValue:t,cellType:n="line"})=>{const a={bgColor:null,textColor:"table"===n?"#BEC2CC":g.k[11].hex},s=Number(t)||0;if(!e.length)return a;const r=e.find(e=>e.id===g.a)||{hex:a.textColor};if(!t&&0!==t)return Object.assign(Object.assign({},a),{textColor:r.hex});if("line-plus-single-stat"===n)return r?{bgColor:null,textColor:r.hex}:a;const o=!!e.find(e=>e.type===g.m);if(o&&1===e.length&&r)return{bgColor:null,textColor:r.hex};if(o&&1===e.length)return a;if(o&&e.length>1){return{bgColor:null,textColor:k(e,s).hex}}if(1===e.length)return{bgColor:r.hex,textColor:E(r.hex)};if(e.length>1){const t=k(e,s),n=t?t.hex:r.hex;return{bgColor:n,textColor:E(n)}}return{bgColor:null,textColor:r.hex}};var C=({stat:e,properties:t})=>{const{prefix:n,suffix:a,colors:r,decimalPlaces:o}=t,{bgColor:i,textColor:l}=S({colors:r,lastValue:e,cellType:"single-stat"}),c=d(e,{decimalPlaces:o,prefix:n,suffix:a});return s.a.createElement("div",{className:"single-stat",style:{backgroundColor:i},"data-testid":"single-stat"},s.a.createElement("div",{className:"single-stat--resizer"},s.a.createElement("svg",{width:"100%",height:"100%",viewBox:`0 0 ${55*c.length} 100`},s.a.createElement("text",{className:"single-stat--text","data-testid":"single-stat--text",fontSize:"100",y:"59%",x:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:l}},c))))},T=n(4),O=n(257),D=n(108),I=n(167);const j=(e,t)=>{return!!e.properties&&["tableOptions","fieldOptions","timeFormat","sort"].every(n=>c.a.isEqual(e.properties[n],t.properties[n]))};class R extends a.PureComponent{constructor(){super(...arguments),this.memoizedTableTransform=Object(D.a)(I.c,j)}render(){const{properties:e,data:t,dataTypes:n,sortOptions:a}=this.props,{tableOptions:s,timeFormat:r,decimalPlaces:o,fieldOptions:i}=e,l=i&&i.map(e=>Object.assign(Object.assign({},e),{dataType:n[e.internalName]})),c=this.memoizedTableTransform(t,a,l,s,r,o);return this.props.children(c)}}var N=R,A=n(22),P=n.n(A);const M=/((http|https)?:\/\/[^\s]+)/g;class L extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{data:e}=this.props;return this.isFieldName&&c.a.isString(e)?this.props.onClickFieldName(e):null}}render(){const{data:e,rowIndex:t,columnIndex:n,onHover:a}=this.props;return 0===t?s.a.createElement("div",{style:this.style,className:this.class,onClick:this.handleClick,"data-column-index":n,"data-row-index":t,"data-testid":`${e}-table-header`,onMouseOver:a,title:this.contents},this.contents):s.a.createElement("div",{style:this.style,className:this.class,onClick:this.handleClick,"data-column-index":n,"data-row-index":t,onMouseOver:a,title:this.contents},function(e){if(!1===(`${e}`.includes("http://")||`${e}`.includes("https://")))return e;const t=RegExp(M.source,M.flags),n=[];let a,r,o=0;do{(r=t.exec(e))&&(r.index-o>0&&n.push(e.slice(o,r.index)),a=e.slice(r.index,r.index+r[1].length),n.push(s.a.createElement("a",{href:a,target:"_blank"},a)),o=r.index+r[1].length)}while(r);return n}(this.contents))}get isFieldName(){return this.props.isVerticalTimeAxis?this.isFirstRow:this.isFirstCol}get isHighlightedRow(){const{parent:e,rowIndex:t,hoveredRowIndex:n}=this.props;return t===e.props.scrollToRow||t===n&&n>0}get isHighlightedColumn(){const{columnIndex:e,hoveredColumnIndex:t}=this.props;return e===t&&t>0}get isTimeData(){return this.props.isTimeVisible&&(this.props.isVerticalTimeAxis?!this.isFirstRow&&this.props.columnIndex===this.timeFieldIndex:this.props.rowIndex===this.timeFieldIndex&&this.isFirstCol)}get class(){return P()("table-graph-cell",{"table-graph-cell__fixed-row":this.isFixedRow,"table-graph-cell__fixed-column":this.isFixedColumn,"table-graph-cell__fixed-corner":this.isFixedCorner,"table-graph-cell__highlight-row":this.isHighlightedRow,"table-graph-cell__highlight-column":this.isHighlightedColumn,"table-graph-cell__numerical":!this.isNaN,"table-graph-cell__field-name":this.isFieldName,"table-graph-cell__sort-asc":this.isFieldName&&this.isSorted&&this.isAscending,"table-graph-cell__sort-desc":this.isFieldName&&this.isSorted&&!this.isAscending})}get isSorted(){const{sortOptions:e,data:t}=this.props;return e.field===t}get isAscending(){const{sortOptions:e}=this.props;return e.direction===O.a}get isFirstRow(){const{rowIndex:e}=this.props;return 0===e}get isFirstCol(){const{columnIndex:e}=this.props;return 0===e}get isFixedRow(){return this.isFirstRow&&!this.isFirstCol}get isFixedColumn(){return this.props.isFirstColumnFixed&&!this.isFirstRow&&this.isFirstCol}get isFixedCorner(){return this.isFirstRow&&this.isFirstCol}get isTimestamp(){return"dateTime:RFC3339"===this.props.dataType}get isNaN(){return isNaN(Number(this.props.data))}get isFixed(){return this.isFixedRow||this.isFixedColumn||this.isFixedCorner}get timeFieldIndex(){const{resolvedFieldOptions:e}=this.props;let t=0;return e.findIndex(({internalName:e,visible:n})=>(n||(t+=1),e===m.i.internalName))-t}get style(){const{style:e,properties:t,data:n}=this.props,{colors:a}=t;if(this.isFixed||this.isTimeData||this.isTimestamp||this.isNaN)return e;const s={colors:a,lastValue:n,cellType:"table"},{bgColor:r,textColor:o}=S(s);return Object.assign(Object.assign({},e),{backgroundColor:r,color:o})}get fieldName(){const{data:e,resolvedFieldOptions:t=[m.i]}=this.props,n=this.isFieldName&&t.find(({internalName:t})=>t===e);return n&&(n.displayName||n.internalName)}get contents(){const{properties:e,data:t,dataType:n,timeFormatter:a}=this.props,{decimalPlaces:s}=e;return t&&n.includes("dateTime")?a(t):c.a.isString(t)&&this.isFieldName?c.a.defaultTo(this.fieldName,"").toString():!isNaN(+t)&&s.isEnforced&&s.digits<100?(+t).toFixed(s.digits):c.a.defaultTo(t,"").toString()}}var F=L;var q=class{constructor(e={}){this.columnWidth=({index:e})=>{this.cellMeasurerCache.columnWidth({index:e+this.columnIndexOffset})},this.rowHeight=({index:e})=>{this.cellMeasurerCache.rowHeight({index:e+this.rowIndexOffset})};const{cellMeasurerCache:t,columnIndexOffset:n=0,rowIndexOffset:a=0}=e;this.cellMeasurerCache=t,this.columnIndexOffset=n,this.rowIndexOffset=a}clear(e,t){this.cellMeasurerCache.clear(e+this.rowIndexOffset,t+this.columnIndexOffset)}clearAll(){this.cellMeasurerCache.clearAll()}get defaultHeight(){return this.cellMeasurerCache.defaultHeight}get defaultWidth(){return this.cellMeasurerCache.defaultWidth}hasFixedHeight(){return this.cellMeasurerCache.hasFixedHeight()}hasFixedWidth(){return this.cellMeasurerCache.hasFixedWidth()}getHeight(e,t=0){return this.cellMeasurerCache.getHeight(e+this.rowIndexOffset,t+this.columnIndexOffset)}getWidth(e,t=0){return this.cellMeasurerCache.getWidth(e+this.rowIndexOffset,t+this.columnIndexOffset)}has(e,t=0){return this.cellMeasurerCache.has(e+this.rowIndexOffset,t+this.columnIndexOffset)}set(e,t,n,a){this.cellMeasurerCache.set(e+this.rowIndexOffset,t+this.columnIndexOffset,n,a)}};const B=20;class z extends a.PureComponent{constructor(e,t){super(e,t),this.deferredInvalidateColumnIndex=0,this.deferredInvalidateRowIndex=0,this.leftGridWidth=0,this.topGridHeight=0,this.lastRenderedFixedColumnCount=0,this.lastRenderedFixedRowCount=0,this.lastRenderedHeight=0,this.lastRenderedWidth=0,this.cellRendererBottomLeftGrid=e=>{var{rowIndex:t}=e,n=Object(o.c)(e,["rowIndex"]);const{cellRenderer:s,fixedRowCount:r,rowCount:i}=this.props;return t===i-r?a.createElement("div",{key:n.key,style:Object.assign(Object.assign({},n.style),{height:B})}):s(Object.assign(Object.assign({},n),{parent:this,rowIndex:t+r}))},this.onScrollbarsScroll=e=>{this.onScroll(e)},this.onScroll=e=>{const{scrollLeft:t,scrollTop:n}=e;this.setState({scrollLeft:t,scrollTop:n});const{onScroll:a}=this.props;a&&a(e)},this.onScrollLeft=e=>{const{scrollLeft:t}=e;this.onScroll({scrollLeft:t,scrollTop:this.state.scrollTop})},this.rowHeightBottomGrid=({index:e})=>{const{fixedRowCount:t,rowCount:n,rowHeight:a}=this.props,{scrollbarSize:s,showVerticalScrollbar:r}=this.state;return r&&e===n-t?s:"function"==typeof a?a({index:e+t}):a},this.topLeftGridRef=e=>{this.topLeftGrid=e},this.topRightGridRef=e=>{this.topRightGrid=e},this.bottomLeftGridRef=e=>{this.bottomLeftGrid=e},this.bottomRightGridRef=e=>{this.bottomRightGrid=e},this.cellRendererBottomRightGrid=e=>{var{columnIndex:t,rowIndex:n}=e,a=Object(o.c)(e,["columnIndex","rowIndex"]);const{cellRenderer:s,fixedColumnCount:r,fixedRowCount:i}=this.props;return s(Object.assign(Object.assign({},a),{columnIndex:t+r,parent:this,rowIndex:n+i}))},this.cellRendererTopRightGrid=e=>{var{columnIndex:t}=e,n=Object(o.c)(e,["columnIndex"]);const{cellRenderer:s,columnCount:r,fixedColumnCount:i}=this.props;return t===r-i?a.createElement("div",{key:n.key,style:Object.assign(Object.assign({},n.style),{width:B})}):s(Object.assign(Object.assign({},n),{columnIndex:t+i,parent:this}))},this.columnWidthRightGrid=({index:e})=>{const{columnCount:t,fixedColumnCount:n,columnWidth:a}=this.props,{scrollbarSize:s,showHorizontalScrollbar:r}=this.state;return r&&e===t-n?s:"function"==typeof a?a({index:e+n}):a},this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1};const{deferredMeasurementCache:n,fixedColumnCount:s,fixedRowCount:r}=e;this.maybeCalculateCachedStyles(!0),n&&(this.deferredMeasurementCacheBottomLeftGrid=r>0?new q({cellMeasurerCache:n,columnIndexOffset:0,rowIndexOffset:r}):n,this.deferredMeasurementCacheBottomRightGrid=s>0||r>0?new q({cellMeasurerCache:n,columnIndexOffset:s,rowIndexOffset:r}):n,this.deferredMeasurementCacheTopRightGrid=s>0?new q({cellMeasurerCache:n,columnIndexOffset:s,rowIndexOffset:0}):n)}static getDerivedStateFromProps(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}forceUpdateGrids(){this.bottomLeftGrid&&this.bottomLeftGrid.forceUpdate(),this.bottomRightGrid&&this.bottomRightGrid.forceUpdate(),this.topLeftGrid&&this.topLeftGrid.forceUpdate(),this.topRightGrid&&this.topRightGrid.forceUpdate()}invalidateCellSizeAfterRender({columnIndex:e=0,rowIndex:t=0}={}){this.deferredInvalidateColumnIndex="number"==typeof this.deferredInvalidateColumnIndex?Math.min(this.deferredInvalidateColumnIndex,e):e,this.deferredInvalidateRowIndex="number"==typeof this.deferredInvalidateRowIndex?Math.min(this.deferredInvalidateRowIndex,t):t}measureAllCells(){this.bottomLeftGrid&&this.bottomLeftGrid.measureAllCells(),this.bottomRightGrid&&this.bottomRightGrid.measureAllCells(),this.topLeftGrid&&this.topLeftGrid.measureAllCells(),this.topRightGrid&&this.topRightGrid.measureAllCells()}recomputeGridSize({columnIndex:e=0,rowIndex:t=0}={}){const{fixedColumnCount:n,fixedRowCount:a}=this.props,s=Math.max(0,e-n),r=Math.max(0,t-a);this.bottomLeftGrid&&this.bottomLeftGrid.recomputeGridSize({columnIndex:e,rowIndex:r}),this.bottomRightGrid&&this.bottomRightGrid.recomputeGridSize({columnIndex:s,rowIndex:r}),this.topLeftGrid&&this.topLeftGrid.recomputeGridSize({columnIndex:e,rowIndex:t}),this.topRightGrid&&this.topRightGrid.recomputeGridSize({columnIndex:s,rowIndex:t}),this.leftGridWidth=null,this.topGridHeight=null,this.maybeCalculateCachedStyles(!0)}componentDidMount(){const{scrollLeft:e,scrollTop:t}=this.props;if(e>0||t>0){const n={};e>0&&(n.scrollLeft=e),t>0&&(n.scrollTop=t),this.setState(Object.assign(Object.assign({},this.state),n))}this.handleInvalidatedGridSize()}componentDidUpdate(){this.handleInvalidatedGridSize()}render(){const e=this.props,{onScroll:t,onSectionRendered:n,scrollToRow:s,scrollToColumn:r}=e,i=Object(o.c)(e,["onScroll","onSectionRendered","scrollToRow","scrollToColumn"]);if(this.prepareForRender(),0===this.props.width||0===this.props.height)return null;const{scrollLeft:l,scrollTop:c}=this.state;return a.createElement("div",{style:this.containerOuterStyle},a.createElement("div",{style:this.containerTopStyle},this.renderTopLeftGrid(i),this.renderTopRightGrid(Object.assign(Object.assign(Object.assign({},i),t),{scrollLeft:l}))),a.createElement("div",{style:this.containerBottomStyle},this.renderBottomLeftGrid(Object.assign(Object.assign({},i),{onScroll:t,scrollTop:c})),this.renderBottomRightGrid(Object.assign(Object.assign({},i),{onScroll:t,onSectionRendered:n,scrollLeft:l,scrollToColumn:r,scrollToRow:s,scrollTop:c}))))}getBottomGridHeight(e){const{height:t}=e;return t-this.getTopGridHeight(e)}getLeftGridWidth(e){const{fixedColumnCount:t,columnWidth:n}=e;if(null==this.leftGridWidth)if("function"==typeof n){let e=0;for(let a=0;a<t;a++)e+=n({index:a});this.leftGridWidth=e}else this.leftGridWidth=n*t;return this.leftGridWidth}getRightGridWidth(e){const{width:t}=e;return t-this.getLeftGridWidth(e)}getTopGridHeight(e){const{fixedRowCount:t,rowHeight:n}=e;if(null==this.topGridHeight)if("function"==typeof n){let e=0;for(let a=0;a<t;a++)e+=n({index:a});this.topGridHeight=e}else this.topGridHeight=n*t;return this.topGridHeight}renderBottomLeftGrid(e){const{fixedColumnCount:t,fixedRowCount:n,rowCount:s}=e;if(!t)return null;const r=this.getLeftGridWidth(e),o=this.getBottomGridHeight(e);return a.createElement(i.c,Object.assign({},e,{cellRenderer:this.cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:t,deferredMeasurementCache:this.deferredMeasurementCacheBottomLeftGrid,onScroll:this.onScroll,height:o,ref:this.bottomLeftGridRef,rowCount:Math.max(0,s-n),rowHeight:this.rowHeightBottomGrid,style:Object.assign({},this.bottomLeftGridStyle),tabIndex:null,width:r}))}renderBottomRightGrid(e){const{columnCount:t,fixedColumnCount:n,fixedRowCount:s,rowCount:r,scrollToColumn:o,scrollToRow:l}=e,c=this.getRightGridWidth(e),u=this.getBottomGridHeight(e);return a.createElement(p.DapperScrollbars,{style:Object.assign(Object.assign({},this.bottomRightGridStyle),{width:c,height:u}),autoHide:!0,scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft,onScroll:this.onScrollbarsScroll},a.createElement(i.c,Object.assign({},e,{cellRenderer:this.cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this.columnWidthRightGrid,deferredMeasurementCache:this.deferredMeasurementCacheBottomRightGrid,height:u,ref:this.bottomRightGridRef,rowCount:Math.max(0,r-s),rowHeight:this.rowHeightBottomGrid,onScroll:this.onScroll,scrollToColumn:o-n,scrollToRow:l-s,style:Object.assign(Object.assign({},this.bottomRightGridStyle),{overflowX:!1,overflowY:!0,left:0}),width:c})))}renderTopLeftGrid(e){const{fixedColumnCount:t,fixedRowCount:n}=e;return t&&n?a.createElement(i.c,Object.assign({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this.getTopGridHeight(e),ref:this.topLeftGridRef,rowCount:n,style:this.topLeftGridStyle,tabIndex:null,width:this.getLeftGridWidth(e)})):null}renderTopRightGrid(e){const{columnCount:t,enableFixedRowScroll:n,fixedColumnCount:s,fixedRowCount:r,scrollLeft:o}=e;if(!r)return null;const l=this.getRightGridWidth(e),c=this.getTopGridHeight(e);return a.createElement(i.c,Object.assign({},e,{cellRenderer:this.cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-s),columnWidth:this.columnWidthRightGrid,deferredMeasurementCache:this.deferredMeasurementCacheTopRightGrid,height:c,onScroll:n?this.onScrollLeft:void 0,ref:this.topRightGridRef,rowCount:r,scrollLeft:o,style:this.topRightGridStyle,tabIndex:null,width:l}))}maybeCalculateCachedStyles(e){const{columnWidth:t,height:n,fixedColumnCount:a,fixedRowCount:s,rowHeight:r,style:o,styleBottomLeftGrid:i,styleBottomRightGrid:l,styleTopLeftGrid:c,styleTopRightGrid:u,width:m}=this.props,d=e||n!==this.lastRenderedHeight||m!==this.lastRenderedWidth,p=e||t!==this.lastRenderedColumnWidth||a!==this.lastRenderedFixedColumnCount,h=e||s!==this.lastRenderedFixedRowCount||r!==this.lastRenderedRowHeight;(e||d||o!==this.lastRenderedStyle)&&(this.containerOuterStyle=Object.assign({height:n,overflow:"visible",width:m},o)),(e||d||h)&&(this.containerTopStyle={height:this.getTopGridHeight(this.props),position:"relative",width:m},this.containerBottomStyle={height:n-this.getTopGridHeight(this.props),overflow:"visible",position:"relative",width:m}),(e||i!==this.lastRenderedStyleBottomLeftGrid)&&(this.bottomLeftGridStyle=Object.assign({left:0,overflowY:"hidden",overflowX:"hidden",position:"absolute"},i)),(e||p||l!==this.lastRenderedStyleBottomRightGrid)&&(this.bottomRightGridStyle=Object.assign({left:this.getLeftGridWidth(this.props),position:"absolute"},l)),(e||c!==this.lastRenderedStyleTopLeftGrid)&&(this.topLeftGridStyle=Object.assign({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},c)),(e||p||u!==this.lastRenderedStyleTopRightGrid)&&(this.topRightGridStyle=Object.assign({left:this.getLeftGridWidth(this.props),overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},u)),this.lastRenderedColumnWidth=t,this.lastRenderedFixedColumnCount=a,this.lastRenderedFixedRowCount=s,this.lastRenderedHeight=n,this.lastRenderedRowHeight=r,this.lastRenderedStyle=o,this.lastRenderedStyleBottomLeftGrid=i,this.lastRenderedStyleBottomRightGrid=l,this.lastRenderedStyleTopLeftGrid=c,this.lastRenderedStyleTopRightGrid=u,this.lastRenderedWidth=m}handleInvalidatedGridSize(){if("number"==typeof this.deferredInvalidateColumnIndex){const e=this.deferredInvalidateColumnIndex,t=this.deferredInvalidateRowIndex;this.deferredInvalidateColumnIndex=null,this.deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}prepareForRender(){this.lastRenderedColumnWidth===this.props.columnWidth&&this.lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this.leftGridWidth=null),this.lastRenderedFixedRowCount===this.props.fixedRowCount&&this.lastRenderedRowHeight===this.props.rowHeight||(this.topGridHeight=null),this.maybeCalculateCachedStyles(!1),this.lastRenderedColumnWidth=this.props.columnWidth,this.lastRenderedFixedColumnCount=this.props.fixedColumnCount,this.lastRenderedFixedRowCount=this.props.fixedRowCount,this.lastRenderedRowHeight=this.props.rowHeight}}z.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{}};var U=z,H=n(507);let G=class extends a.PureComponent{constructor(e){super(e),this.state={timeColumnWidth:0,shouldResize:!1,totalColumnWidths:0},this.handleMultiGridMount=e=>{this.multiGrid=e,e.forceUpdate()},this.handleHover=e=>{const{dataset:t}=e.target,{onSetHoverTime:n}=this.props,{transformedDataBundle:{sortedTimeVals:a}}=this.props;if(!this.isVerticalTimeAxis||0!=+t.rowIndex){if(n&&this.isTimeVisible){const e=this.isVerticalTimeAxis?a[t.rowIndex]:a[t.columnIndex];n(new Date(e).valueOf())}this.hoveredColumnIndex=+t.columnIndex,this.hoveredRowIndex=+t.rowIndex}},this.handleMouseLeave=()=>{const{onSetHoverTime:e}=this.props;e&&e(0),this.hoveredColumnIndex=O.g,this.hoveredRowIndex=O.g},this.calculateColumnWidth=e=>t=>{const{index:n}=t,{transformedDataBundle:{transformedData:a,columnWidths:s}}=this.props,{totalColumnWidths:r}=this.state,o=s[a[0][n]]||0;return this.fixFirstColumn&&0===n?o:this.tableWidth<=r?o:this.columnCount<=1?e:o+(this.tableWidth-r)/this.computedColumnCount},this.handleResize=()=>{this.forceUpdate()},this.getCellData=(e,t)=>{const{transformedDataBundle:{transformedData:n}}=this.props;return n[e][t]},this.dataType=(e,t)=>{const{transformedDataBundle:{transformedData:n},dataTypes:a}=this.props;if(0===e)return"n/a";const s=n[0][t];return c.a.get(a,s,"n/a")},this.cellRenderer=e=>{const{rowIndex:t,columnIndex:n}=e,{transformedDataBundle:{sortOptions:a,resolvedFieldOptions:r},onSort:o,properties:i}=this.props,{scrollToRow:l}=this.scrollToColRow,c=l>=0?l:this.hoveredRowIndex;return s.a.createElement(F,Object.assign({},e,{sortOptions:a,onHover:this.handleHover,isTimeVisible:this.isTimeVisible,data:this.getCellData(t,n),dataType:this.dataType(t,n),hoveredRowIndex:c,properties:i,resolvedFieldOptions:r,hoveredColumnIndex:this.hoveredColumnIndex,isFirstColumnFixed:this.fixFirstColumn,isVerticalTimeAxis:this.isVerticalTimeAxis,onClickFieldName:o,timeFormatter:this.timeFormatter}))},this.hoveredRowIndex=O.g,this.hoveredColumnIndex=O.g}componentDidUpdate(){this.state.shouldResize&&(this.multiGrid&&this.multiGrid.recomputeGridSize(),this.setState({shouldResize:!1}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{transformedDataBundle:{transformedData:e},theme:t}=this.props,n=0===this.columnCount?0:e.length,a=this.fixFirstColumn&&this.columnCount>1?1:0,{scrollToColumn:r,scrollToRow:o}=this.scrollToColRow,l=P()("time-machine-table",{"time-machine-table__light-mode":"light"===t});return s.a.createElement("div",{className:l,ref:e=>this.gridContainer=e,onMouseLeave:this.handleMouseLeave},n>0&&s.a.createElement(i.a,null,({width:e,height:t})=>s.a.createElement(i.b,{columnCount:this.computedColumnCount,columnMinWidth:100,width:e},({adjustedWidth:e,columnWidth:i,registerChild:l})=>s.a.createElement(U,{height:t,ref:l,rowCount:n,width:e,rowHeight:30,scrollToRow:o,columnCount:this.columnCount,scrollToColumn:r,fixedColumnCount:a,cellRenderer:this.cellRenderer,onMount:this.handleMultiGridMount,classNameBottomRightGrid:"table-graph--scroll-window",columnWidth:this.calculateColumnWidth(i)}))))}get timeField(){const{transformedDataBundle:e}=this.props,{resolvedFieldOptions:t}=e;return c.a.find(t,e=>e.internalName===m.i.internalName)}get fixFirstColumn(){const{transformedDataBundle:{resolvedFieldOptions:e},properties:{tableOptions:t}}=this.props,{fixFirstColumn:n=O.c}=t;return 1!==e.length&&(1!==e.reduce((e,t)=>(t.visible&&(e+=1),e),0)&&n)}get columnCount(){const{transformedDataBundle:{transformedData:e}}=this.props;return c.a.get(e,["0","length"],0)}get computedColumnCount(){return this.fixFirstColumn?this.columnCount-1:this.columnCount}get tableWidth(){let e=0;return this.gridContainer&&this.gridContainer.clientWidth&&(e=this.gridContainer.clientWidth),e}get scrollToColRow(){const{transformedDataBundle:{sortedTimeVals:e}}=this.props,{hoverTime:t}=this.props,n=this.hoveredColumnIndex!==O.g;if(!t||n||!this.isTimeVisible)return{scrollToColumn:0,scrollToRow:-1};const a=Object(I.a)(e,t),s=this.isVerticalTimeAxis?-1:a;return{scrollToRow:this.isVerticalTimeAxis?a:null,scrollToColumn:s}}get isVerticalTimeAxis(){const{properties:{tableOptions:e}}=this.props,{verticalTimeAxis:t=O.e}=e;return t}get isTimeVisible(){return c.a.get(this.timeField,"visible",!1)}get timeFormatter(){const{timeZone:e,properties:{timeFormat:t}}=this.props;return Object(r.timeFormatter)({timeZone:"Local"===e?void 0:e,format:Object(I.b)(t)})}};G=Object(o.a)([u.a,Object(o.b)("design:paramtypes",[Object])],G);var V=Object(H.b)(G);let $=class extends a.PureComponent{constructor(e){super(e),this.handleSetSort=e=>{this.setState(({sortOptions:t})=>{const n=Object.assign({},t);return e===t.field?t.direction===O.f?(n.field="",n.direction=O.d):n.direction=O.f:(n.field=e,n.direction=O.d),{sortOptions:n}})};const t=c.a.get(e,"properties.tableOptions.sortBy.internalName");this.state={sortOptions:{field:t,direction:O.a}}}render(){const{table:e,properties:t,timeZone:n,theme:a}=this.props,{sortOptions:r}=this.state;return s.a.createElement(N,{data:e.data,properties:t,dataTypes:e.dataTypes,sortOptions:r},r=>s.a.createElement(V,{properties:t,dataTypes:e.dataTypes,onSort:this.handleSetSort,transformedDataBundle:r,timeZone:n,theme:a}))}};var W=$=Object(o.a)([u.a,Object(o.b)("design:paramtypes",[Object])],$);let K=class extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onSelect(this.props.name)}}render(){const{isSelected:e}=this.props;return s.a.createElement("div",{className:`time-machine-sidebar-item ${e?"active":""}`,onClick:this.handleClick},this.name)}get name(){const e=["_start","_stop"];return Object.entries(this.props.groupKey).filter(([t])=>!e.includes(t)).map(([e,t],n)=>s.a.createElement(a.Fragment,{key:n},s.a.createElement("span",{className:"key"},e),s.a.createElement("span",{className:"equals"},"="),s.a.createElement("span",{className:"value"},t)))}};var Q=K=Object(o.a)([u.a],K);let Y=class extends a.PureComponent{constructor(){super(...arguments),this.state={searchTerm:""},this.handleSearch=e=>{this.setState({searchTerm:e.target.value})}}render(){const{selectedTableName:e,onSelectTable:t,theme:n}=this.props,{searchTerm:a}=this.state,r=P()("time-machine-sidebar",{"time-machine-sidebar__light":"light"===n});return s.a.createElement("div",{className:r},!this.isDataEmpty&&s.a.createElement("div",{className:"time-machine-sidebar--heading"},s.a.createElement(p.Input,{icon:p.IconFont.Search,onChange:this.handleSearch,placeholder:"Filter tables...",value:a,className:"time-machine-sidebar--filter"})),s.a.createElement(p.DapperScrollbars,{autoHide:!0,className:"time-machine-sidebar--scroll"},s.a.createElement("div",{className:"time-machine-sidebar--items"},this.filteredData.map(({groupKey:n,id:a,name:r})=>s.a.createElement(Q,{id:a,key:a,name:r,groupKey:n,onSelect:t,isSelected:r===e})))))}get filteredData(){const{data:e}=this.props,{searchTerm:t}=this.state;return e.filter(e=>e.name.includes(t))}get isDataEmpty(){return c.a.isEmpty(this.props.data)}};var X=Y=Object(o.a)([u.a],Y),Z=n(141),J=n(43),ee=n(419);let te=class extends a.PureComponent{constructor(){super(...arguments),this.state={selectedTableName:Object(ee.a)(this,"props.tables[0].name",null)},this.handleSelectTable=e=>{this.setState({selectedTableName:e})}}render(){const{tables:e,properties:t,timeZone:n,theme:a}=this.props;return s.a.createElement("div",{className:"time-machine-tables"},this.showSidebar&&s.a.createElement(X,{data:e,selectedTableName:this.nameOfSelectedTable,onSelectTable:this.handleSelectTable,theme:a}),this.shouldShowTable&&s.a.createElement(W,{key:this.nameOfSelectedTable,table:this.selectedTable,properties:t,timeZone:n,theme:a}),!this.hasData&&s.a.createElement(Z.a,{message:"This table has no data"}))}get nameOfSelectedTable(){const{tables:e}=this.props;return e.find(e=>e.name===this.state.selectedTableName)?this.state.selectedTableName:this.defaultTableName}get defaultTableName(){return c.a.get(this.props.tables,"0.name",null)}get showSidebar(){return this.props.tables.length>1}get hasData(){const{data:e}=this.selectedTable;return!!e&&!!e.length}get shouldShowTable(){return!!this.props.tables&&!!this.selectedTable}get selectedTable(){const{tables:e}=this.props;return e.find(e=>e.name===this.nameOfSelectedTable)}};te=Object(o.a)([u.a],te);const ne={setFieldOptions:J.v};var ae=Object(T.c)(null,ne)(te),se=n(36),re=n(20);const oe=e=>Object(a.useMemo)(()=>!Object(se.c)("legendOrientation")||e<re.D?re.B:e,[e]),ie=e=>Object(a.useMemo)(()=>{if(Object(se.c)("legendOrientation"))return e},[e]);var le=n(490),ce=n(51),ue=n(26);const me=(e=[],t)=>{const n=Object(ce.e)(e);if(Object(l.isNull)(t))return n;if(n&&n.length>=2){const e=Object(ue.k)(t),a=Object(ue.e)(t);return[Math.min(e,n[0]),Math.max(a,n[1])]}return n},de=(e,t,n=null)=>{const s=Object(a.useMemo)(()=>e||me(t,n),[e,t]),[r,o]=Object(le.a)(s);return[r,o,()=>o(s)]},pe=e=>Object(l.isNumber)(e)&&!Number.isNaN(e)&&Number.isFinite(e),he=(e,t,n=null)=>{const s=Object(a.useMemo)(()=>!Array.isArray(e)||e.every(e=>null===e)?me(t,n):e.includes(null)?((e=[],t,n)=>{const a=Object(ce.e)(e);if(Array.isArray(a)&&a.length>=2){const e=Object(ue.k)(t),s=Object(ue.e)(t);return[pe(n[0])?n[0]:Math.min(e,a[0]),pe(n[1])?n[1]:Math.max(s,a[1])]}return a})(t,n,e):e,[e,t]),[r,o]=Object(le.a)(s);return[r,o,()=>o(s)]};var _e=n(119),ge=n(192);var fe=({table:e,children:t,timeZone:n,viewProperties:{xColumn:a,fillColumns:r,binCount:o,position:i,colors:l,xAxisLabel:c,xDomain:u,legendOpacity:m,legendOrientationThreshold:d},theme:p})=>{const h=e.columnKeys,_=oe(m),g=ie(d),[f,b,y]=de(u,e.getColumn(a,"number"));if(!(a&&h.includes(a)&&r.every(e=>h.includes(e))))return s.a.createElement(Z.a,{message:ge.a});const v=l&&l.length?l.map(e=>e.hex):_e.a.map(e=>e.hex),x=Object(ce.h)(e.getColumnType(a),{timeZone:n}),w="light"===p?re.M:re.L;return t(Object.assign(Object.assign({},w),{table:e,xAxisLabel:c,xDomain:f,onSetXDomain:b,onResetXDomain:y,valueFormatters:{[a]:x},legendOpacity:_,legendOrientationThreshold:g,layers:[{type:"histogram",x:a,colors:v,fill:r,binCount:o,position:i}]}))};var be=({timeRange:e,table:t,timeZone:n,viewProperties:{xColumn:a,yColumn:r,xDomain:o,yDomain:i,xAxisLabel:l,yAxisLabel:c,xPrefix:u,xSuffix:m,yPrefix:d,ySuffix:p,colors:h,binSize:_,timeFormat:g,legendOpacity:f,legendOrientationThreshold:b},children:y,theme:v})=>{const x=t.columnKeys,w=oe(f),E=ie(b),[k,S,C]=de(o,t.getColumn(a,"number"),e),[T,O,D]=he(i,t.getColumn(r,"number"));if(!(a&&r&&x.includes(r)&&x.includes(a)))return s.a.createElement(Z.a,{message:ge.a});const I=h&&h.length?h:_e.a.map(e=>e.hex),j=Object(ce.h)(t.getColumnType(a),{prefix:u,suffix:m,timeZone:n,timeFormat:g}),R=Object(ce.h)(t.getColumnType(r),{prefix:d,suffix:p,timeZone:n,timeFormat:g}),N="light"===v?re.M:re.L;return y(Object.assign(Object.assign({},N),{table:t,xAxisLabel:l,yAxisLabel:c,xDomain:k,onSetXDomain:S,onResetXDomain:C,yDomain:T,onSetYDomain:O,onResetYDomain:D,legendOpacity:w,legendOrientationThreshold:E,valueFormatters:{[a]:j,[r]:R},layers:[{type:"heatmap",x:a,y:r,colors:I,binSize:_}]}))};var ye=({children:e,timeRange:t,timeZone:n,table:a,viewProperties:{xAxisLabel:r,yAxisLabel:o,fillColumns:i,colors:l,xDomain:c,yDomain:u,xColumn:m,ySeriesColumns:d,timeFormat:p,legendOpacity:h,legendOrientationThreshold:_},theme:g})=>{const f=i||[],b=m||Object(ce.c)(a);let y;y=d?d[0]:Object(ce.n)(a);const v=a.columnKeys,x=oe(h),w=ie(_),[E,k,S]=de(c,a.getColumn(b,"number"),t),[C,T,O]=he(u,a.getColumn(y,"string"));if(!(b&&v.includes(b)&&y&&v.includes(y)&&0!==f.length&&f.every(e=>v.includes(e))))return s.a.createElement(Z.a,{message:ge.a});const D=l&&l.length?l:_e.a.map(e=>e.hex),I=Object(ce.h)(a.getColumnType(b),{timeZone:n,timeFormat:p}),j=Object(ce.h)(a.getColumnType(y),{timeZone:n,timeFormat:p}),R="light"===g?re.M:re.L;return e(Object.assign(Object.assign({},R),{table:a,xAxisLabel:r,yAxisLabel:o,xDomain:E,onSetXDomain:k,onResetXDomain:S,yDomain:C,onSetYDomain:T,onResetYDomain:O,legendOpacity:x,legendOrientationThreshold:w,valueFormatters:{[b]:I,[y]:j},layers:[{type:"mosaic",x:b,y:y,colors:D,fill:f}]}))},ve=n(860);var xe=({children:e,fluxGroupKeyUnion:t,timeRange:n,table:o,timeZone:i,viewProperties:{geom:l,colors:c,xColumn:u,yColumn:m,shadeBelow:d,hoverDimension:p,legendOpacity:h,legendOrientationThreshold:_,axes:{x:{label:g,prefix:f,suffix:b,base:y,bounds:v},y:{label:x,prefix:w,suffix:E,bounds:k,base:S}},position:C,timeFormat:T},theme:O})=>{const D=oe(h),I=ie(_),j=Object(a.useMemo)(()=>Object(ce.o)(v),[v]),R=Object(a.useMemo)(()=>Object(ce.p)(k),[k]),N=u||Object(ce.c)(o,"_time"),A=o.columnKeys.includes(m)&&m||Object(ce.d)(o),P=o.columnKeys,M=N&&P.includes(N)&&A&&P.includes(A),L=c&&c.length?c.map(e=>e.hex):_e.a.map(e=>e.hex),F=Object(ce.g)(l),q=[...t,"result"],[B,z,U]=de(j,o.getColumn(N,"number"),n),H=Object(a.useMemo)(()=>{if("stacked"===C){const{lineData:e}=Object(r.lineTransform)(o,N,A,q,L,C);return Object(r.getDomainDataFromLines)(e,r.DomainLabel.Y)}return o.getColumn(A,"number")},[o,A,N,C,L,q]),[G,V,$]=he(R,H),W=Object(ce.f)([...q,N,A],o),K=Object(ce.h)(o.getColumnType(N),{prefix:f,suffix:b,base:y,timeZone:i,timeFormat:T}),Q=Object(ce.h)(o.getColumnType(A),{prefix:w,suffix:E,base:S,timeZone:i,timeFormat:T}),Y="light"===O?re.M:re.L,X=Object.assign(Object.assign({},Y),{table:o,xAxisLabel:g,yAxisLabel:x,xDomain:B,onSetXDomain:z,onResetXDomain:U,yDomain:G,onSetYDomain:V,onResetYDomain:$,legendColumns:W,legendOpacity:D,legendOrientationThreshold:I,valueFormatters:{[N]:K,[A]:Q},layers:[{type:"line",x:N,y:A,fill:q,interpolation:F,position:C,colors:L,shadeBelow:!!d,shadeBelowOpacity:.08,hoverDimension:p}]});return M?e(X):s.a.createElement(Z.a,{message:ge.a})};var we=({children:e,timeZone:t,table:n,timeRange:a,viewProperties:{xAxisLabel:r,yAxisLabel:o,xPrefix:i,xSuffix:l,yPrefix:c,ySuffix:u,fillColumns:m,symbolColumns:d,colors:p,xDomain:h,yDomain:_,xColumn:g,yColumn:f,timeFormat:b,legendOpacity:y,legendOrientationThreshold:v},theme:x})=>{const w=m||[],E=d||[],k=g||Object(ce.c)(n),S=f||Object(ce.d)(n),C=n.columnKeys,T=oe(y),O=ie(v);let D;"_time"===k&&(D=a);const[I,j,R]=de(h,n.getColumn(k,"number"),D),[N,A,P]=he(_,n.getColumn(S,"number"));if(!(k&&C.includes(k)&&S&&C.includes(S)&&w.every(e=>C.includes(e))&&E.every(e=>C.includes(e))))return s.a.createElement(Z.a,{message:ge.a});const M=p&&p.length?p:_e.a.map(e=>e.hex),L=Object(ce.h)(n.getColumnType(k),{prefix:i,suffix:l,timeZone:t,timeFormat:b}),F=Object(ce.h)(n.getColumnType(S),{prefix:c,suffix:u,timeZone:t,timeFormat:b}),q="light"===x?re.M:re.L;return e(Object.assign(Object.assign({},q),{table:n,xAxisLabel:r,yAxisLabel:o,xDomain:I,onSetXDomain:j,onResetXDomain:R,yDomain:N,onSetYDomain:A,onResetYDomain:P,legendOpacity:T,legendOrientationThreshold:O,valueFormatters:{[k]:L,[S]:F},layers:[{type:"scatter",x:k,y:S,colors:M,fill:w,symbol:E}]}))};const Ee=new Set(["_start","_stop","_time","table","result",""]),ke=e=>{const t=e.columnKeys.sort((e,t)=>((e,t)=>e.includes("_value")?-1:t.includes("_value")?1:e.localeCompare(t))(e,t)).filter(t=>((e,t)=>{const n=e.getColumnType(t),a=e.getColumnName(t);return("number"===n||"time"===n||"string"===n)&&!Ee.has(a)})(e,t)).map(t=>e.getColumn(t));if(!t.length)return[];const n=e.columnKeys;let a=[];if(n.includes("_time")?a=e.getColumn("_time","number"):n.includes("_stop")&&(a=e.getColumn("_stop","number")),!a&&1!==e.length)return[];const s=1===e.length?[0]:((e,t)=>{let n=[],a=-1/0;for(const s of e){const e=t(s);e>a?(n=[s],a=e):e===a&&e!==-1/0&&n.push(s)}return n})(Object(l.range)(e.length),e=>{const n=a[e];return n&&t.some(t=>Object(l.isFinite)(t[e])||Object(l.isString)(t[e]))?n:-1/0});return Object(l.flatMap)(s,e=>t.map(t=>t[e])).filter(e=>Object(l.isFinite)(e)||Object(l.isString)(e))};var Se=({table:e,quiet:t=!1,children:n,allowString:r})=>{const o=Object(a.useMemo)(()=>ke(e),[e]);if(0===o.length&&t)return null;if(0===o.length)return s.a.createElement(Z.a,{message:"No latest value found"});const i=o[0];return Object(l.isString)(i)&&!r&&t?null:Object(l.isString)(i)&&!r?s.a.createElement(Z.a,{message:"String value cannot be displayed in this graph type"}):n(i)},Ce=n(889);var Te=Object(T.c)(e=>({activeQueryIndex:Object(ue.b)(e)}))(({activeQueryIndex:e,children:t,fluxGroupKeyUnion:n,timeRange:r,table:o,timeZone:i,viewProperties:{geom:c,colors:u,xColumn:m,yColumn:d,upperColumn:p,lowerColumn:h,mainColumn:_,hoverDimension:g,legendOpacity:f,legendOrientationThreshold:b,axes:{x:{label:y,prefix:v,suffix:x,base:w,bounds:E},y:{label:k,prefix:S,suffix:C,bounds:T,base:O}},timeFormat:D,queries:I},theme:j})=>{const R=Object(a.useMemo)(()=>{if(Object(l.get)(I,`${e}.editMode`,"unknown")!==re.H)return _;const t=Object(l.get)(I,`${e}.builderConfig.functions`,[]).map(e=>e.name);return Object(ce.j)(t,p,_,h)},[e,I,p,_,h]),N=oe(f),A=ie(b),P=Object(a.useMemo)(()=>Object(ce.o)(E),[E]),M=Object(a.useMemo)(()=>Object(ce.p)(T),[T]),L=m||Object(ce.c)(o,"_time"),F=o.columnKeys.includes(d)&&d||Object(ce.d)(o),q=o.columnKeys,B=L&&q.includes(L)&&F&&q.includes(F),z=u&&u.length?u.map(e=>e.hex):_e.a.map(e=>e.hex),U=Object(ce.g)(c),H=[...n,"result"],[G,V,$]=de(P,o.getColumn(L,"number"),r),W=Object(a.useMemo)(()=>o.getColumn(F,"number"),[o,F]),[K,Q,Y]=he(M,W),X=Object(ce.f)([...H,L,F],o),J=Object(ce.h)(o.getColumnType(L),{prefix:v,suffix:x,base:w,timeZone:i,timeFormat:D}),ee=Object(ce.h)(o.getColumnType(F),{prefix:S,suffix:C,base:O,timeZone:i,timeFormat:D}),te="light"===j?re.M:re.L,ne=Object.assign(Object.assign({},te),{table:o,xAxisLabel:y,yAxisLabel:k,xDomain:G,onSetXDomain:V,onResetXDomain:$,yDomain:K,onSetYDomain:Q,onResetYDomain:Y,legendColumns:X,legendOpacity:N,legendOrientationThreshold:A,valueFormatters:{[L]:J,[F]:ee},layers:[{type:"band",x:L,y:F,fill:H,interpolation:U,colors:z,lineWidth:re.f,lineOpacity:re.e,shadeOpacity:re.g,hoverDimension:g,upperColumnName:p,mainColumnName:R,lowerColumnName:h}]});return B?t(ne):s.a.createElement(Z.a,{message:ge.a})});t.a=({properties:e,timeRange:t,files:n,giraffeResult:{table:a,fluxGroupKeyUnion:o},timeZone:i,statuses:l,checkType:c=null,checkThresholds:u=[],theme:m})=>{switch(e.type){case"single-stat":return s.a.createElement(Se,{table:a,allowString:!0},t=>s.a.createElement(C,{stat:t,properties:e,theme:m}));case"table":return s.a.createElement(ve.a,{files:n},t=>s.a.createElement(ae,{tables:t,properties:e,timeZone:i,theme:m}));case"gauge":return s.a.createElement(Se,{table:a,allowString:!1},t=>s.a.createElement(v,{value:t,properties:e,theme:m}));case"xy":return s.a.createElement(xe,{timeRange:t,fluxGroupKeyUnion:o,table:a,timeZone:i,viewProperties:e,theme:m},e=>s.a.createElement(r.Plot,{config:e}));case"band":return s.a.createElement(Te,{timeRange:t,fluxGroupKeyUnion:o,table:a,timeZone:i,viewProperties:e,theme:m},e=>s.a.createElement(r.Plot,{config:e}));case"line-plus-single-stat":const d=Object.assign(Object.assign({},e),{colors:e.colors.filter(e=>"scale"===e.type),type:"xy",geom:"line"}),p=Object.assign(Object.assign({},e),{tickPrefix:"",tickSuffix:"",colors:e.colors.filter(e=>"scale"!==e.type),type:"single-stat"});return s.a.createElement(xe,{timeRange:t,fluxGroupKeyUnion:o,table:a,timeZone:i,viewProperties:d,theme:m},e=>s.a.createElement(r.Plot,{config:e},s.a.createElement(Se,{table:e.table,quiet:!0,allowString:!1},e=>s.a.createElement(C,{stat:e,properties:p,theme:m}))));case"histogram":return s.a.createElement(fe,{table:a,timeZone:i,viewProperties:e,theme:m},e=>s.a.createElement(r.Plot,{config:e}));case"heatmap":return s.a.createElement(be,{timeRange:t,table:a,timeZone:i,viewProperties:e,theme:m},e=>s.a.createElement(r.Plot,{config:e}));case"mosaic":return s.a.createElement(ye,{timeRange:t,table:a,timeZone:i,viewProperties:e,theme:m},e=>s.a.createElement(r.Plot,{config:e}));case"scatter":return s.a.createElement(we,{timeRange:t,table:a,viewProperties:e,timeZone:i,theme:m},e=>s.a.createElement(r.Plot,{config:e}));case"check":return s.a.createElement(Ce.a,{checkType:c,thresholds:u,table:a,fluxGroupKeyUnion:o,timeZone:i,viewProperties:e,statuses:l},e=>s.a.createElement(r.Plot,{config:e}));default:throw new Error("Unknown view type in <ViewSwitcher /> ")}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return w}));var a=n(6),s=n(641);const r=e=>Object(a.isString)(e)||Object(a.isNull)(e),o=e=>{const t={};for(const n in e)if(Object(a.isObject)(e[n])&&e[n].hasOwnProperty("upper")&&e[n].hasOwnProperty("lower")&&r(e[n].lower)&&r(e[n].upper)){const a=Object(s.a)(e[n]);a&&(t[n]=a)}return t},i=e=>Array.isArray(e)?(e=>{const t=e.filter(e=>{if(!Object(a.isObject)(e))return!1;if(!e.hasOwnProperty("dashboardID")||!e.hasOwnProperty("lower")||!e.hasOwnProperty("upper"))return!1;const{dashboardID:t,lower:n,upper:s}=e;return!(!t||"string"!=typeof t)&&(!(!n&&!s)&&!(!r(n)||!r(s)))}),n={};return t.forEach(e=>{const{dashboardID:t,lower:a,upper:r}=e,o=Object(s.a)({lower:a,upper:r});o&&(n[t]=o)}),n})(e):Object(a.isObject)(e)?o(e):{},l=e=>o(e);var c=n(415);const u=e=>Object.assign(Object.assign({},e),{persisted:m(e.persisted)}),m=e=>Object.assign(Object.assign({},e),{timeZone:d(e.timeZone)}),d=e=>{return c.a.find(t=>t===e)?e:"Local"};var p=n(20),h=n(5);const _=e=>({variables:e.resources.variables,orgs:g(e.resources.orgs)}),g=e=>Object.assign(Object.assign({},e),{org:e.org,status:h.RemoteDataState.NotStarted});var f=n(31);const b=()=>{try{const e=localStorage.getItem("state"),t=JSON.parse(e)||{};if(t.VERSION&&t.VERSION!==p.J){const e=p.J?` (${p.J})`:"";console.log(Object(f.Rb)(e).message)}return delete t.VERSION,(e=>{let t=e;return e.ranges&&(t=Object.assign(Object.assign({},t),{ranges:i(e.ranges)})),Object(a.get)(t,"app.persisted",!1)&&(t=Object.assign(Object.assign({},t),{app:u(t.app)})),t})(t)}catch(e){console.error(Object(f.Mb)(e).message)}},y=(e,t)=>{try{window.localStorage.setItem(e,t)}catch(e){console.error("unable to setItem onto localStorage: ",e)}},v=e=>{try{return window.localStorage.getItem(e)}catch(e){console.error("unable to getItem onto localStorage: ",e)}},x=e=>{try{return window.localStorage.removeItem(e)}catch(e){console.error("unable to getItem onto localStorage: ",e)}},w=e=>{try{window.localStorage.setItem("state",JSON.stringify((e=>{const{app:t,flags:n,ranges:a,autoRefresh:s,userSettings:r}=e;return{VERSION:p.J,autoRefresh:s,userSettings:r,flags:{override:n.override},app:u(t),ranges:l(a),resources:_(e)}})(e)))}catch(e){const t=(e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(e)?JSON.parse(e):e;console.error("Unable to save state to local storage: ",t)}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return j}));var a=n(121),s=n(50);const r=(e,t,n)=>e.includes(t)?t:e.includes(n)?n:e[0];var o=n(786),i=n(183),l=n(29);const c=(e,t,n,a)=>`${n}\n\n${Object(o.a)(a)}\n\n${t}\n\n${e}`,u=(e,t,n)=>{const{table:a}=Object(s.fromFlux)(e);if(!a||!a.getColumn("_value","string"))return{values:[],valueType:"string",selected:[]};let o=a.getColumn("_value","string")||[];return(o=[...new Set(o)]).sort(),{values:o,valueType:a.getColumnType("_value"),selected:[r(o,t,n)]}};const m=new class{constructor(){this.cache={}}fetch(e,t,n,s,r,o,m,d){const p=c(e,t,n,s);if(!m){const e=this.cachedValues(p,r,o);if(e)return{promise:Promise.resolve(e),cancel:()=>{}}}const h=Object(i.a)(s),_=Object(a.a)(t,n,h,d);return Object(l.a)("runQuery",{context:"variables"}),{promise:_.promise.then(e=>{if("SUCCESS"!==e.type)return Promise.reject(e.message);const t=u(e.csv,r,o);return this.cache[p]=t,t}),cancel:_.cancel}}cachedValues(e,t,n){const a=this.cache[e];return a?Object.assign(Object.assign({},a),{selected:[r(a.values,t,n)]}):null}};var d=n(787),p=n(71),h=n(36),_=n(120),g=n(5),f=n(414);const b=e=>{const t=e.reduce((e,t)=>{let n=g.RemoteDataState.Done;return"query"===t.arguments.type&&(n=g.RemoteDataState.NotStarted),e[t.id]={variable:t,values:null,parents:[],children:[],status:n,cancel:()=>{}},e},{});return Object.keys(t).filter(e=>"query"===t[e].variable.arguments.type).forEach(n=>{v(t[n].variable,e).map(e=>e.id).forEach(e=>{t[n].children.push(t[e]),t[e].parents.push(t[n])})}),Object.values(t)},y=(e,t)=>{return new RegExp(`${_.a}${_.b}.${t.name}${_.a}`).test(e)},v=({arguments:{values:{query:e}}},t)=>t.filter(t=>y(e,t)),x=(e,t=new Set)=>{for(const n of e.parents)t.has(n)||(t.add(n),x(n,t));return[...t]},w=(e,t=new Set,n={})=>{if(!e)return[...t];for(const a of e.children)n[a.variable.id]||(n[a.variable.id]=!0,w(a,t,n));return t.add(e),[...t]},E=(e,t)=>{for(const n of e.parents)t[n.variable.id]?e.parents=[]:(t[n.variable.id]=!0,E(n,t));return{node:e,subsetIDs:t}},k=(e,t)=>{const n=new Set,a=t.map(e=>e.id);let s={};for(const t of e){if(a.includes(t.variable.id)){w(t).forEach(e=>{const{id:t}=e.variable;if(!0!==s[t]){const{node:a,subsetIDs:r}=E(e,s);n.add(a),s=Object.assign(Object.assign({[t]:!0},s),r)}})}}return[...n]},S=(e,t)=>{const n=new Set,a=t.map(e=>e.id);for(const t of e){(a.includes(t.variable.id)||x(t).some(e=>a.includes(e.variable.id)))&&n.add(t)}for(const e of n)e.parents=e.parents.filter(e=>n.has(e)),e.children=e.children.filter(e=>n.has(e));return[...n]},C=(e="Failed to load values for variable")=>({values:null,selected:null,valueType:null,error:e}),T=(e,t=new Set)=>{for(const n of e.children)t.has(n)||(t.add(n),T(n,t));return[...t]},O=e=>e.children.every(e=>e.status===g.RemoteDataState.Done),D=e=>{try{I(e,[],{})}catch(e){return e}return null},I=(e,t,n={})=>{if(n[e.variable.id])throw t;for(const a of e.children)I(a,[...t,e],Object.assign(Object.assign({},n),{[e.variable.id]:!0}))},j=(e,t,n)=>{let a=S;Object(h.c)("hydratevars")&&(a=k);const s=a(b(t),e).filter(e=>"system"!==e.variable.arguments.type);(e=>{for(const t of e){const e=D(t);if(e)for(const t of e)t.status=g.RemoteDataState.Error}})(s);let r=!1;const o=async e=>{if(!r)try{return e.values=await(async(e,t,n)=>{const a=e.variable.arguments.type;if("map"===a)return{valueType:"string",values:e.variable.arguments.values,selected:e.variable.selected};if("constant"===a)return{valueType:"string",values:e.variable.arguments.values,selected:e.variable.selected};if("system"===a)return{valueType:"string",values:e.variable.arguments.values,selected:e.variable.selected};e.status!==g.RemoteDataState.Loading&&(e.status=g.RemoteDataState.Loading,n.fire("status",e.variable,e.status),x(e).filter(e=>"query"===e.variable.arguments.type).forEach(e=>{e.status!==g.RemoteDataState.Loading&&(e.status=g.RemoteDataState.Loading,n.fire("status",e.variable,e.status))}));const s=T(e).map(e=>Object(p.a)(e.variable)).filter(e=>!!e),{url:r,orgID:o}=t,{query:i}=e.variable.arguments.values,l=(t.fetcher||m).fetch(r,o,i,s,null,"",t.skipCache,t.controller);e.cancel=l.cancel;const c=await l.promise;return e.status=g.RemoteDataState.Done,c})(e,n,l),"query"===e.variable.arguments.type?e.variable.arguments.values.results=e.values.values:e.variable.arguments.values=e.values.values,e.variable.selected=e.variable.selected||[],"query"===e.variable.arguments.type||"constant"===e.variable.arguments.type?e.values.values.includes(e.variable.selected[0])||(e.variable.selected=[]):"map"===e.variable.arguments.type&&(Object.keys(e.values.values).includes(e.variable.selected[0])||(e.variable.selected=[])),e.variable.selected&&e.variable.selected[0]||(e.variable.selected=e.values.selected),l.fire("status",e.variable,e.status),Promise.all(e.parents.filter(O).map(o))}catch(t){if("CancellationError"===t.name)return;e.status=g.RemoteDataState.Error,e.variable.arguments.values.results=[],(e=>{const t=x(e);for(const e of t)e.status=g.RemoteDataState.Error,"query"===e.variable.arguments.type&&(e.variable.arguments.values.results=[])})(e)}},i=new d.a,l=function(){const e={},t=(t,n)=>{e.hasOwnProperty(t)||(e[t]=[]),e[t].push(n)};return t.fire=(t,...n)=>{e.hasOwnProperty(t)&&e[t].forEach(e=>e.apply(e,n))},t}();return Promise.resolve().then(()=>Promise.all((e=>e.filter(e=>0===e.children.length))(s).map(o))).then(()=>{i.resolve((e=>{const t={};for(const n of e)n.status===g.RemoteDataState.Error&&(n.values=C()),t[n.variable.id]=n.variable;return Object.values(t)})(s))}),{promise:i.promise,cancel:()=>{r=!0,s.forEach(e=>e.cancel()),i.reject(new f.a)},on:l}}},,,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(6),o=n(897),i=n(3);var l=n(863);const c=(e,t)=>{switch(t.type){case"COLOR_CHANGED":{const{id:n,name:a,hex:s}=t,r=e.thresholds.map(e=>e.id===n?Object.assign(Object.assign({},e),{name:a,hex:s}):e);return Object.assign(Object.assign({},e),{thresholds:r,isDirty:!0})}case"VALUE_CHANGED":{const{id:n,value:a}=t,s=Object.assign(Object.assign({},e.inputs),{[n]:a});return Object.assign(Object.assign({},e),{inputs:s,isDirty:!0,isValid:!1})}case"VALUE_BLURRED":{const n=e.thresholds.map(n=>n.id===t.id?Object.assign(Object.assign({},n),{value:parseFloat(e.inputs[t.id])}):n),a=Object(l.c)(n),s=0===Object.values(a).length;return Object.assign(Object.assign({},e),{thresholds:n,errors:a,isValid:s})}case"THRESHOLD_ADDED":{const t=Object(l.a)(e.thresholds),n=Object(l.b)([...e.thresholds,t]),a=Object.assign(Object.assign({},e.inputs),{[t.id]:String(t.value)});return Object.assign(Object.assign({},e),{thresholds:n,inputs:a,isDirty:!0})}case"THRESHOLD_REMOVED":{const n=e.thresholds.filter(e=>e.id!==t.id);return Object.assign(Object.assign({},e),{thresholds:n,isDirty:!0})}default:const n=t.type;throw new Error(`unhandled action of type "${n}" in ThresholdsSettings`)}};t.a=({thresholds:e,onSetThresholds:t})=>{const n=Object(a.useMemo)(()=>({thresholds:Object(l.b)(Object(r.cloneDeep)(e.filter(({type:e})=>"scale"!==e))),inputs:e.reduce((e,{id:t,value:n})=>Object.assign(Object.assign({},e),{[t]:String(n)}),{}),errors:{},isDirty:!1,isValid:!0}),[e]),[u,m]=((e,t)=>{const n=Object(a.useRef)(t),s=Object(a.useRef)(!1),r=Object(a.useCallback)((t,a)=>s.current?(s.current=!1,e(n.current,a)):e(t,a),[e]),[o,i]=Object(a.useReducer)(r,t);return t!==n.current?(s.current=!0,n.current=t,[t,i]):[o,i]})(c,n);return Object(a.useEffect)(()=>{u.isDirty&&u.isValid&&t(u.thresholds)},[u,t]),s.a.createElement(i.FlexBox,{direction:i.FlexDirection.Column,alignItems:i.AlignItems.Stretch,margin:i.ComponentSize.Medium,testID:"threshold-settings"},s.a.createElement(i.Button,{shape:i.ButtonShape.StretchToFit,icon:i.IconFont.Plus,text:"Add a Threshold",onClick:()=>m({type:"THRESHOLD_ADDED"})}),u.thresholds.map(e=>{return s.a.createElement(o.a,{key:e.id,id:e.id,name:e.name,type:e.type,value:u.inputs[e.id],error:u.errors[e.id],onBlur:()=>m({type:"VALUE_BLURRED",id:e.id}),onRemove:()=>m({type:"THRESHOLD_REMOVED",id:e.id}),onChangeValue:t=>m({type:"VALUE_CHANGED",id:e.id,value:t}),onChangeColor:(t,n)=>m({type:"COLOR_CHANGED",id:e.id,name:t,hex:n})})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),s=n.n(a),r=n(22),o=n.n(r),i=n(3),l=n(76);var c=({emptyIcon:e,visibility:t,onStartDrag:n,dragHandleRef:r,resizingEnabled:c,additionalControls:u,onUpdateVisibility:m,toggleVisibilityEnabled:d})=>{const{readOnly:p}=Object(a.useContext)(l.a),h="visible"===t?i.IconFont.EyeOpen:i.IconFont.EyeClosed,_=o()("panel-resizer--header",{"panel-resizer--header__multiple-controls":d||u,[`panel-resizer--header__${t}`]:c&&t});if(!c)return s.a.createElement("div",{className:_},s.a.createElement(i.Icon,{glyph:e,className:"panel-resizer--vis-toggle"}));const g=()=>{m("visible"===t?"hidden":"visible")};let f=s.a.createElement("div",null);return d&&(f=s.a.createElement("div",{onClick:g},s.a.createElement(i.Icon,{className:"panel-resizer--vis-toggle",glyph:h}))),p?null:s.a.createElement("div",{className:_},f,u,s.a.createElement("div",{className:"panel-resizer--drag-handle",onMouseDown:n,ref:r,title:"Drag to resize results table"},s.a.createElement("div",{className:"panel-resizer--drag-icon"}),s.a.createElement("div",{className:"panel-resizer--drag-icon"}),s.a.createElement("div",{className:"panel-resizer--drag-icon"})))};n(1371);const u=360;t.b=({children:e,emptyIcon:t,emptyText:n,error:r,hiddenText:l="Hidden",minimumHeight:m=u,height:d,visibility:p,onUpdateHeight:h,onUpdateVisibility:_,resizingEnabled:g,additionalControls:f,toggleVisibilityEnabled:b})=>{const[y,v]=Object(a.useState)(d),[x,w]=Object(a.useState)(!1),E=Object(a.useRef)(null),k=Object(a.useRef)(null),S=o()("panel-resizer--body",{[`panel-resizer--body__${p}`]:g&&"visible"===p});let C=t;C=r?i.IconFont.AlertTriangle:t||i.IconFont.Zap;const T=Object(a.useCallback)(()=>{E.current&&g&&"visible"===p?E.current.setAttribute("style",`height: ${y}px`):E.current.setAttribute("style","")},[y,g,p]);Object(a.useEffect)(()=>{T()},[y,g,p,T]),Object(a.useEffect)(()=>{!0===x&&k.current&&k.current.classList.add("panel-resizer--drag-handle__dragging"),!1===x&&(k.current&&k.current.classList.remove("panel-resizer--drag-handle__dragging"),h(y))},[x]);const O=e=>{if(!E.current)return;const{pageY:t}=e,{top:n}=E.current.getBoundingClientRect(),a=Math.round(Math.max(t-n,m));v(a)},D=()=>{w(!1);const e=document.getElementsByTagName("body")[0];e&&e.classList.remove("panel-resizer-dragging"),window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",D)};let I=e;r?I=s.a.createElement("div",{className:"panel-resizer--error"},r):(g||(I=s.a.createElement("div",{className:"panel-resizer--empty"},n)),g&&"hidden"===p&&(I=s.a.createElement("div",{className:"panel-resizer--empty"},l)));const j=o()("panel-resizer",{"panel-resizer--error-state":r});return s.a.createElement("div",{className:j},s.a.createElement(c,{emptyIcon:C,visibility:p,onStartDrag:()=>{w(!0);const e=document.getElementsByTagName("body")[0];e&&e.classList.add("panel-resizer-dragging"),window.addEventListener("mousemove",O),window.addEventListener("mouseup",D)},dragHandleRef:k,resizingEnabled:g,additionalControls:f,onUpdateVisibility:_,toggleVisibilityEnabled:b}),s.a.createElement("div",{className:S,ref:E},I))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Preset="preset",e.Custom="custom"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a;n(3),n(54),n(14);!function(e){e.Adding="adding",e.Editing="editing"}(a||(a={}))},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Open="open",e.Closed="closed"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends Error{constructor(...e){super(...e),this.name="CancellationError"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=["Local","UTC","Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Timbuktu","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Atka","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Ensenada","America/Fort_Nelson","America/Fort_Wayne","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Knox_IN","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port_of_Spain","America/Port-au-Prince","America/Porto_Acre","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Rosario","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Shiprock","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Virgin","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/South_Pole","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Chita","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Colombo","Asia/Dacca","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Harbin","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Istanbul","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kashgar","Asia/Kathmandu","Asia/Katmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macao","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Tel_Aviv","Asia/Thimbu","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Jan_Mayen","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/ACT","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Canberra","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/LHI","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/North","Australia/NSW","Australia/Perth","Australia/Queensland","Australia/South","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Australia/West","Australia/Yancowinna","Brazil/Acre","Brazil/DeNoronha","Brazil/East","Brazil/West","Canada/Atlantic","Canada/Central","Canada/Eastern","Canada/Mountain","Canada/Newfoundland","Canada/Pacific","Canada/Saskatchewan","Canada/Yukon","CET","Chile/Continental","Chile/EasterIsland","CST6CDT","Cuba","EET","Egypt","Eire","EST","EST5EDT","Etc/GMT","Etc/GMT+0","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT0","Etc/GMT-0","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/Greenwich","Etc/UCT","Etc/Universal","Etc/UTC","Etc/Zulu","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belfast","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Asia/Nicosia","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Tiraspol","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","GB","GB-Eire","GMT","GMT+0","GMT0","GMT−0","Greenwich","Hongkong","HST","Iceland","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Iran","Israel","Jamaica","Japan","Kwajalein","Libya","MET","Mexico/BajaNorte","Mexico/BajaSur","Mexico/General","MST","MST7MDT","Navajo","NZ","NZ-CHAT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Samoa","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis","Pacific/Yap","Poland","Portugal","PRC","PST8PDT","ROC","ROK","Singapore","Turkey","UCT","Universal","US/Alaska","US/Aleutian","US/Arizona","US/Central","US/Eastern","US/East-Indiana","US/Hawaii","US/Indiana-Starke","US/Michigan","US/Mountain","US/Pacific","US/Pacific-New","US/Samoa","UTC","WET","W-SU","Zulu"]},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h}));var a=n(417),s=n.n(a);const r="SET_ORGS",o="SET_ORG",i="ADD_ORG",l="REMOVE_ORG",c="EDIT_ORG",u=(e,t)=>({type:r,schema:t,status:e}),m=e=>(s.a.setContext({orgID:e.id}),{type:o,org:e}),d=e=>({type:i,schema:e}),p=e=>({type:l,id:e}),h=e=>({type:c,schema:e})},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(6),s=n.n(a),r=n(249);const o=e=>r.e[e].fields,i=(e,t,n)=>Object.assign({},e,{config:Object.assign({},s.a.get(e,"config",{}),{[t]:n})}),l=e=>r.e[e].defaults,c=(e,t,n)=>n.reduce((n,a)=>a===t?n:(r.d[a].forEach(t=>{t===e&&(n=!1)}),n),!0),u=(e,t)=>!!r.d[t].find(t=>t===e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6),s=n.n(a);function r(e,t,n){return s.a.get(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{return!!/http[s]?:\/\//.test(e)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return d}));const a="SET_TELEGRAFS",s="ADD_TELEGRAF",r="EDIT_TELEGRAF",o="REMOVE_TELEGRAF",i="SET_CURRENT_CONFIG",l=(e,t)=>({type:a,status:e,schema:t}),c=e=>({type:s,schema:e}),u=e=>({type:r,schema:e}),m=e=>({type:o,id:e}),d=(e,t)=>({type:i,status:e,item:t})},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));const a="SET_AUTH",s="ADD_AUTH",r="EDIT_AUTH",o="REMOVE_AUTH",i=(e,t)=>({type:a,status:e,schema:t}),l=e=>({type:s,schema:e}),c=e=>({type:o,id:e})},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h}));var a=n(50),s=n(121),r=n(316),o=n(784),i=n(258),l=n(29);const c=n(139).f,u=200;function m({orgID:e}){const t=`buckets()\n  |> sort(columns: ["name"])\n  |> limit(n: ${u})`;return Object(l.a)("runQuery",{context:"queryBuilder-findBuckets"}),h(Object(s.a)(e,t),"name")}function d({orgID:e,bucket:t,tagsSelections:n,searchTerm:a="",timeRange:r=c,limit:o=u}){const i=_(n),m=g(a),d=function(e){const t=e.map(({key:e})=>e);if(!t.length)return"";return`\n  |> filter(fn: (r) => ${t.map(e=>`r._value != "${e}"`).join(" and ")})`}(n),p=`from(bucket: "${t}")\n  |> range(${f(r)})\n  |> filter(fn: ${i})\n  |> keys()\n  |> keep(columns: ["_value"])\n  |> distinct()${m}${d}\n  |> filter(fn: (r) => r._value != "_time" and r._value != "_start" and r._value !=  "_stop" and r._value != "_value")\n  |> sort()\n  |> limit(n: ${o})`;return Object(l.a)("runQuery",{context:"queryBuilder-findKeys"}),h(Object(s.a)(e,p),"_value")}function p({orgID:e,bucket:t,tagsSelections:n,key:a,searchTerm:r="",timeRange:o=c,limit:i=u}){const m=_(n),d=g(r),p=`from(bucket: "${t}")\n  |> range(${f(o)})\n  |> filter(fn: ${m})\n  |> keep(columns: ["${a}"])\n  |> group()\n  |> distinct(column: "${a}")${d}\n  |> limit(n: ${i})\n  |> sort()`;return Object(l.a)("runQuery",{context:"queryBuilder-findValues"}),h(Object(s.a)(e,p),"_value")}function h(e,t){return{promise:e.promise.then(e=>"SUCCESS"!==e.type?Promise.reject(new Error(e.message)):function(e,t){const{table:n}=Object(a.fromFlux)(e);return n.getColumn(t,"string")||[]}(e.csv,t)),cancel:e.cancel}}function _(e){const t=e.filter(({key:e,values:t})=>e&&t.length);return t.length?`(r) => ${t.map(e=>`(${Object(i.g)(e)})`).join(" and ")}`:"(r) => true"}function g(e){return e?`\n  |> filter(fn: (r) => r._value =~ /(?i:${e})/)`:""}function f(e){const[t,n]=Object(r.b)(e).map(e=>Object(o.a)(e.init));return`start: ${t}, stop: ${n}`}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>window?n(260).parse(e):{type:"File",package:{name:{name:"fake",type:"Identifier"},type:"PackageClause"},imports:[],body:[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(6);const s=(e,t,n=[])=>{t(e)&&n.push(e);for(const r of Object.values(e))if(Object(a.isObject)(r))s(r,t,n);else if(Object(a.isArray)(r))for(const e of r)s(e,t,n);return n}},function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return _}));var a=n(6),s=n(14),r=n(310),o=n(36),i=n(207),l=n(42),c=n(163);const u="/api/v2/experimental/sampledata",m=async()=>{const{data:e}=await Object(r.a)({method:"GET",url:`${u}/buckets`}),t=Object(a.get)(e,"buckets",null);if(!Array.isArray(t))throw new Error("Could not reach demodata endpoint");return t.filter(e=>"user"==e.type)},d=async e=>{const t=await Object(r.a)({method:"POST",url:`${u}/buckets/${e}/members`});if(200===t.status)throw new Error("Could not reach demodata endpoint");if(204!==t.status)throw new Error(t.data)},p=async e=>{try{const t=await Object(r.a)({method:"DELETE",url:`${u}/buckets/${e}/members`});if(200===t.status)throw new Error("Could not reach demodata endpoint");if(204!==t.status)throw new Error(t.data)}catch(e){throw console.error(e),e}},h=async()=>{if(!Object(o.c)("demodata"))return[];try{const e=await m(),t=Object(a.get)(e,"[0].orgID");if(!t)throw new Error("Could not get demodata orgID");const n=await Object(s.x)({query:{orgID:t,limit:i.c}});if(200!==n.status)throw new Error(n.data.message);return n.data.buckets.map(e=>Object.assign(Object.assign({},e),{type:"demodata",labels:[]}))}catch(e){return console.error(e),[]}},_=async e=>{const t=await Object(s.w)({bucketID:e});if(200!==t.status)throw new Error(`Request for demo data bucket membership did not succeed: ${t.data.message}`);const n=Object.assign(Object.assign({},t.data),{type:"demodata",labels:[]});return Object(l.a)(n,c.i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,s,r=n(263),o=n.n(r);!function(e){e.boolean="boolean",e.number="number",e.string="string",e.time="time"}(a||(a={})),function(e){e.boolean="boolean",e.unsignedLong="unsignedLong",e.long="long",e.double="double",e.string="string",e.time="dateTime:RFC3339"}(s||(s={}));const i={[s.boolean]:a.boolean,[s.unsignedLong]:a.number,[s.long]:a.number,[s.double]:a.number,[s.string]:a.string,[s.time]:a.time};function l(e,t){if(void 0!==e)return"null"===e?null:"NaN"===e?NaN:t===a.boolean&&"true"===e||(t!==a.boolean||"false"!==e)&&(t===a.string?e:t===a.time?Date.parse(e.replace(/(\r\n|\n|\r)/gm,"")):t===a.number&&""===e?null:t===a.number?Number(e):null)}function c(e){const t={},n={},a={},s=[],r=/\n\s*\n#/g;let c,u=0;for(;null!==(c=r.exec(e));)s.push({start:u,stop:c.index}),u=c.index+c[0].length-1;s.push({start:u,stop:e.length});let m,d,p,h,_,g,f,b,y,v,x=0;for(m=0;m<s.length;m++){for(y={},v=o.a.parse(e.substring(s[m].start,s[m].stop),{delimiter:",",newline:"\n"}).data;v.length&&1===v[0].length;)v.shift();if(v.length){for(d=0;/^\s*#/.test(v[d][0]);)d++;if(1!==v[d].length){if("error"===v[d][1]&&"reference"===v[d][2]){const e=v[d+1][2],t=v[d+1][1];throw new Error(`[${e}] ${t}`)}for(;v[v.length-1].length<v[d].length;)v.pop();for(p=0;p<d;p++)y[v[p][0].trim()]=v[p].reduce((e,t,n)=>{const a=v[d][n].trim();return a&&(e[a]=t.trim()),e},{});for(h=1;h<v[d].length;h++)for(g=v[d][h].trim(),f=y["#datatype"][g],b=`${g} (${i[f]})`,a.hasOwnProperty(g)||(a[g]={}),a[g].hasOwnProperty(b)||(a[g][b]=!0),y["#group"]&&y["#group"].hasOwnProperty(g)&&"true"===y["#group"][g]&&(n[b]=!0),t.hasOwnProperty(b)||(t[b]={name:g,group:y["#group"][g],type:i[f],data:[]}),_=d+1;_<v.length;_++)t[b].data[x+_-d-1]=l(v[_][h]||y["#default"][g],i[f]);x+=v.length-d-1}}}return Object.entries(a).map(([e,n])=>{const a=Object.keys(n);return a.forEach(e=>{t[e].data.length=x}),[e,a]}).filter(([e,t])=>1===t.length).map(([e,t])=>[e,t[0]]).forEach(e=>{const a=e[0],s=e[1];t[a]=t[s],delete t[s],n.hasOwnProperty(s)&&(n[a]=!0,delete n[s])}),{table:{columnKeys:Object.keys(t),columns:t,length:x},fluxGroupKeyUnion:Object.keys(n)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i}));const a=e=>({type:"SET_IS_PREVIEWING",payload:{isPreviewing:e}}),s=()=>({type:"TOGGLE_SHOW_NOTE_WHEN_EMPTY"}),r=e=>({type:"SET_NOTE",payload:{note:e}}),o=()=>({type:"RESET_NOTE_STATE"}),i=e=>({type:"SET_NOTE_STATE",payload:e})},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(14),s=n(5);const r=async(e,t)=>{const n=await a.C({dashboardID:e,cellID:t});if(200!==n.status)throw new Error(n.data.message);return Object.assign(Object.assign({},n.data),{dashboardID:e,cellID:t,status:s.RemoteDataState.Done})},o=async(e,t,n)=>{const r=await a.X({dashboardID:e,cellID:t,data:n});if(200!==r.status)throw new Error(r.data.message);return Object.assign(Object.assign({},r.data),{dashboardID:e,cellID:t,status:s.RemoteDataState.Done})},i=async(e,t,n)=>{const s=e.map(e=>a.C({dashboardID:t,cellID:e.id}).then(t=>Object.assign(Object.assign({},t),{cellID:e.id}))),r=await Promise.all(s);if(r.length>0&&r.some(e=>200!==e.status))throw new Error("An error occurred cloning the dashboard");return r.map(async t=>{const s=t.data,r=e.find(e=>e.id===s.id);if(r){const e=await a.kb({dashboardID:n,data:r});if(201!==e.status)throw new Error("An error occurred cloning the dashboard");return a.X({dashboardID:n,cellID:e.data.id,data:s})}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(310),s=n(205);const r=async e=>{try{const{data:t}=await Object(a.a)({method:"POST",url:"/api/v2/authorizations",data:e});return t}catch(e){throw console.error(e),e}},o=async e=>{try{let t=`${Object(s.a)()}/api/v2private/oauth/clientConfig`;e&&(t=`${Object(s.a)()}/api/v2private/oauth/clientConfig?redirectTo=${e}`);const n=await fetch(t);return await n.json()}catch(e){throw console.error(e),e}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(823),s=n(1232);let r=!1,o=!1;const i=[],l=new Map,c={},u=async()=>({format:"json",content:await n.e(72).then(n.t.bind(null,1664,3)).then(e=>JSON.stringify(e))});class m{constructor(e){this._ruleStack=e}get ruleStack(){return this._ruleStack}clone(){return new m(this._ruleStack)}equals(e){return!!(e&&e instanceof m&&e===this&&e._ruleStack===this._ruleStack)}}async function d(e,t){window.monaco.languages.register({id:e}),l.set(e,e),c[e]=t,await async function(){return new Promise(e=>{r?e():(i.push(e),o||(o=!0,Object(a.loadWASM)(n(1240)).then(()=>{r=!0;const e=new s.Registry({getGrammarDefinition:async e=>c.hasOwnProperty(e)?await c[e]():await u()});Promise.all(Array.from(l.keys()).map(async t=>{const n=await e.loadGrammar(l.get(t));window.monaco.languages.setTokensProvider(t,{getInitialState:()=>new m(s.INITIAL),tokenize:(e,t)=>{const a=n.tokenizeLine(e,t.ruleStack);return{endState:new m(a.ruleStack),tokens:a.tokens.map(e=>Object.assign(Object.assign({},e),{scopes:e.scopes[e.scopes.length-1]}))}}})})).then(()=>{i.forEach(e=>e())})})))})}()}},function(e,t,n){},function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(276),o=n.n(r),i=n(4),l=n(3),c=n(31),u=n(28);class m extends a.PureComponent{constructor(){super(...arguments),this.handleClickCopy=e=>{e.stopPropagation(),e.preventDefault()},this.handleCopyAttempt=(e,t)=>{const{notify:n,onCopyText:a,onClick:s}=this.props;if(s&&s(),a)return void n(a(e,t));const{contentName:r}=this.props,o=`${e.slice(0,30).trimRight()}...`;n(t?Object(c.T)(o,r):Object(c.S)(o,r))}}render(){const{textToCopy:e,color:t,size:n,icon:a,shape:r,testID:i}=this.props;let c=this.props.buttonText;return r===l.ButtonShape.Square&&(c=void 0),s.a.createElement(o.a,{text:e,onCopy:this.handleCopyAttempt},s.a.createElement(l.Button,{shape:r,icon:a,size:n,color:t,titleText:c,text:c,onClick:this.handleClickCopy,testID:i}))}}m.defaultProps={shape:l.ButtonShape.Default,buttonText:"Copy to Clipboard",size:l.ComponentSize.ExtraSmall,color:l.ComponentColor.Secondary,testID:"button-copy"};const d={notify:u.c},p=Object(i.c)(null,d);t.a=p(m)},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2);const s=e=>{const t=Object(a.useRef)(!0),[n,s]=Object(a.useState)(e);return Object(a.useEffect)(()=>{t.current?t.current=!1:s(e)},[e]),[n,s]}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));var a=n(2),s=n.n(a);const{Provider:r,Consumer:o}=s.a.createContext(null);class i extends a.PureComponent{constructor(){super(...arguments),this.state={hoverTime:null,onSetHoverTime:e=>this.setState({hoverTime:e})}}render(){return s.a.createElement(r,{value:this.state},this.props.children)}}const l=e=>t=>s.a.createElement(o,null,n=>s.a.createElement(e,Object.assign({},t,n)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={LINEAR:"linear",LOG:"log",BASE_2:"2",BASE_10:"10"}},,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(365),o=n(3),i=n(61),l=n(36);t.a=({viewType:e,onUpdateType:t})=>{const n=Object.values(r.a).filter(e=>!e.disabled).filter(e=>!e.featureFlag||Object(l.c)(e.featureFlag)).sort((e,t)=>e.name.localeCompare(t.name)).map(n=>s.a.createElement(o.Dropdown.Item,{key:`view-type--${n.type}`,testID:`view-type--${n.type}`,value:n.type,onClick:t,selected:n.type===e},s.a.createElement("div",{className:"view-type-dropdown--graphic"},n.graphic),s.a.createElement("div",{className:"view-type-dropdown--name"},n.name)));return s.a.createElement(o.Dropdown,{style:{width:"215px"},className:"view-type-dropdown",testID:"view-type--dropdown",button:(t,n)=>s.a.createElement(o.Dropdown.Button,{active:t,onClick:n,status:"check"===e?i.e.Disabled:i.e.Valid},s.a.createElement("div",{className:"view-type-dropdown--graphic"},r.a[e].graphic),s.a.createElement("div",{className:"view-type-dropdown--name"},r.a[e].name)),menu:e=>s.a.createElement(o.Dropdown.Menu,{onCollapse:e,theme:o.DropdownMenuTheme.Onyx},n)})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));const a=e=>e.app.persisted.timeZone||"Local",s=e=>e.app.ephemeral.hasUpdatedTimeRangeInVEO||!1,r=e=>e.app.ephemeral.inPresentationMode||!1},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));var a=n(1359);const s=()=>a.ossMetrics,r=(a.apache,a.docker,a.gettingStarted,a.github,a.jmeter,a.kubernetes,a.nginx,a.ossMetrics,a.redis,a.system,[a.apache,a.docker,a.gettingStarted,a.github,a.jmeter,a.kubernetes,a.nginx,a.ossMetrics,a.redis,a.system].map((e,t)=>Object.assign(Object.assign({},e),{id:`influxdb-template-${t}`})))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(2),s=n.n(a),r=n(4),o=n(123),i=n(364),l=n(18),c=n(5);const u={loading:c.RemoteDataState.NotStarted,buckets:[]},m=s.a.createContext(u);let d=!1;const p=s.a.memo(({loading:e,getBuckets:t,buckets:n,children:r})=>(Object(a.useEffect)(()=>{e===c.RemoteDataState.NotStarted&&(d||(async e=>{d=!0,await e(),d=!1})(t))},[e,t]),s.a.createElement(m.Provider,{value:{loading:e,buckets:n}},r))),h={getBuckets:o.f},_=Object(r.c)(e=>{const t=Object(i.b)(e);return{loading:Object(l.e)(e,c.ResourceType.Buckets),buckets:t}},h);t.b=_(p)},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return w}));var a=n(42),s=n(431),r=n(208),o=n(31),i=n(163),l=n(258),c=n(6),u=n(150),m=n(69);var d=function(e){const t=e.properties.queries.map(e=>{if("advanced"===e.editMode)return e;const t=Object(c.get)(e,"builderConfig.functions",[]),n=!!Object(c.get)(e,"text","").trim(),a=Object.assign(Object.assign({},e),{editMode:"advanced",builderConfig:Object(u.b)()});if(0===t.length&&n)return a;let s=!1,r=Object(c.get)(e,"builderConfig.aggregateWindow.period",null);Object(c.isNull)(r)&&(s=!0,r=m.a);let o=Object(c.get)(e,"builderConfig.aggregateWindow.fillValues",null);Object(c.isNull)(o)&&(s=!0,o=m.d);let i=Object(c.get)(e,"builderConfig",{});i=Object.assign(Object.assign({},i),{aggregateWindow:{period:r,fillValues:o}});const d=Object(c.get)(e,"text","");try{const t=s?Object(l.b)(i):d;return Object.assign(Object.assign({},e),{text:t,builderConfig:i})}catch(e){return a}});return Object.assign(Object.assign({},e),{properties:Object.assign(Object.assign({},e.properties),{queries:t})})},p=n(28),h=n(43),_=n(102),g=n(228),f=n(5),b=n(18);var y=n(21);const v=(e,t)=>async n=>{const r=t.cellID;n(Object(g.f)(r,f.RemoteDataState.Loading));try{const o=await Object(s.c)(e,r,t),l=Object(a.a)(o,i.p);return n(Object(g.f)(r,f.RemoteDataState.Done,l)),o}catch(e){console.error(e),n(Object(g.f)(r,f.RemoteDataState.Error))}},x=(e,t)=>async(n,r)=>{const l=t.cellID;try{const o=await Object(s.c)(e,l,t),c=((e,t)=>{const n=Object(b.c)(e,f.ResourceType.Dashboards,t),a=new Set(n.cells.map(e=>e));return Object.values(e.resources.views.byID).filter(e=>e&&a.has(e.cellID))})(r(),e);c.splice(c.findIndex(e=>e.id===o.id),1,o);const u=Object(a.a)(o,i.p);n(Object(g.f)(l,f.RemoteDataState.Done,u))}catch(e){console.error(e),n(Object(p.c)(o.J())),n(Object(g.f)(l,f.RemoteDataState.Error))}},w=(e,t,n)=>async(a,i)=>{try{const o=i();let l=Object(b.c)(o,f.ResourceType.Views,t);l||(a(Object(g.f)(t,f.RemoteDataState.Loading)),l=await Object(s.b)(e,t));const c=d(l);a(Object(h.l)(n,{contextID:e,view:c}));const u=l.properties.queries.filter(({text:e})=>!!e.trim());u.length||a(Object(_.j)(f.RemoteDataState.Done,[],null));const{id:m}=Object(y.a)(o),p=u.map(({text:e})=>Object(r.b)(m,e,o)),v=(await Promise.all(p.map(e=>e.promise))).map(e=>e.csv);if(v)return void a(Object(_.j)(f.RemoteDataState.Done,v,null,null));a(Object(_.d)())}catch(e){console.error(e),a(Object(p.c)(o.Eb(e.message))),a(Object(g.f)(t,f.RemoteDataState.Error))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(14)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>document.getElementById("react-root")},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a;n(14);!function(e){e.Google="google-oauth2",e.Github="github",e.Authentication="Username-Password-Authentication"}(a||(a={}))},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Active="active",e.Disabled="disabled",e.Paused="paused"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a;n(14);!function(e){e.Ms="ms",e.S="s",e.Us="us",e.Ns="ns"}(a||(a={}))},function(e,t){},function(e,t){},function(e,t,n){"use strict";var a;!function(e){e.Manual="Manual Entry",e.File="File Upload"}(a||(a={}))},function(e,t){},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.NotStarted="NotStarted",e.Loading="Loading",e.Done="Done",e.Error="Error"}(a||(a={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n(14)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Error="error",e.Success="success",e.Info="info",e.Primary="primary",e.Warning="warning"}(a||(a={}))},function(e,t,n){"use strict";n(14)},function(e,t){},function(e,t,n){"use strict";n(14)},function(e,t){},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Authorizations="tokens",e.Buckets="buckets",e.Cells="cells",e.Checks="checks",e.Dashboards="dashboards",e.Labels="labels",e.Orgs="orgs",e.Members="members",e.NotificationRules="rules",e.NotificationEndpoints="endpoints",e.Plugins="plugins",e.Scrapers="scrapers",e.Tasks="tasks",e.Templates="templates",e.Telegrafs="telegrafs",e.Variables="variables",e.Views="views"}(a||(a={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var a;!function(e){e.LDAP="ldap",e.Basic="basic",e.Shared="shared",e.Unknown="unknown"}(a||(a={}))},function(e,t){},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.interval="interval",e.cron="cron",e.unselected=""}(a||(a={}))},function(e,t){},function(e,t,n){"use strict";var a=n(148);n.d(t,"a",(function(){return a.z}))},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a="SET_CURRENT_DASHBOARD",s=e=>({type:a,id:e})},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(139),s=n(118);function r(e){const t=Date.parse(e);return!isNaN(t)}const o=e=>{const{lower:t,upper:n}=e;if(r(t)&&r(n))return Object.assign(Object.assign({},e),{type:"custom"});if(Object(s.f)(t)){const e=a.c.find(e=>e.lower===t);return e||{lower:t,upper:null,type:"duration"}}return null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a="SET_ME",s=e=>({type:a,payload:{me:e}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a="SET_IS_AUTO_FUNCTION",s=e=>({type:a,isAutoFunction:e})},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));const a=e=>({type:"SET_CURRENT_PAGE",currentPage:e});t.a=(e="not set",t)=>{switch(t.type){case"SET_CURRENT_PAGE":return t.currentPage;default:return e}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u}));const a="SET_SCRAPERS",s="ADD_SCRAPERS",r="EDIT_SCRAPERS",o="REMOVE_SCRAPERS",i=(e,t)=>({type:a,status:e,schema:t}),l=e=>({type:s,schema:e}),c=e=>({type:r,schema:e}),u=e=>({type:o,id:e})},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l}));const a="SET_MEMBERS",s="ADD_MEMBER",r="REMOVE_MEMBER",o=(e,t)=>({type:a,status:e,schema:t}),i=e=>({type:s,schema:e}),l=e=>({type:r,id:e})},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u}));const a="SET_CHECKS",s="SET_CHECK",r="REMOVE_CHECK",o="REMOVE_LABEL_FROM_CHECK",i=(e,t)=>({type:a,status:e,schema:t}),l=(e,t,n)=>({type:s,id:e,status:t,schema:n}),c=e=>({type:r,id:e}),u=(e,t)=>({type:o,checkID:e,labelID:t})},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return d}));const a="SET_RULES",s="SET_RULE",r="SET_CURRENT_RULE",o="REMOVE_RULE",i="REMOVE_LABEL_FROM_RULE",l=(e,t)=>({type:a,status:e,schema:t}),c=(e,t,n)=>({type:s,id:e,status:t,schema:n}),u=(e,t)=>({type:r,status:e,schema:t}),m=e=>({type:o,id:e}),d=(e,t)=>({type:i,ruleID:e,labelID:t})},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return u}));const a="SET_ENDPOINT",s="REMOVE_ENDPOINT",r="SET_ENDPOINTS",o="REMOVE_LABEL_FROM_ENDPOINT",i=e=>({type:s,id:e}),l=(e,t,n)=>({type:a,id:e,status:t,schema:n}),c=(e,t)=>({type:r,status:e,schema:t}),u=(e,t)=>({type:o,endpointID:e,labelID:t})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(774),s=n(5);const r=6e5,o=(e=(()=>({status:s.RemoteDataState.NotStarted,schema:{}}))(),t)=>{switch(t.type){case a.b:{const{bucketName:n,schema:a,status:s}=t;return Object.assign(Object.assign({},e),{schema:Object.assign(Object.assign({},e.schema),{[n]:{exp:(new Date).getTime()+r,schema:a,status:s}})})}case a.a:{const{schema:t}=e,n=Date.now(),a=Object.assign({},t);for(const e in t)n>=t[e].exp&&delete a[e];return Object.assign(Object.assign({},e),{schema:a})}default:return e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o}));const a="SET_SCHEMA",s="RESET_SCHEMA",r=(e,t,n)=>({type:a,bucketName:t,schema:n,status:e}),o=()=>({type:s})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(529),s=n(205);const r=Object(s.b)();window.basepath=r;const o=Object(a.a)({basename:r})},,,,function(e,t,n){"use strict";var a=n(2),s=n.n(a);t.a=()=>s.a.createElement("p",{className:"default-error-message",style:{display:"flex",placeContent:"center"}},"An InfluxDB error has occurred. Please report the issue ",s.a.createElement("a",{href:"https://github.com/influxdata/influxdb/issues"},"here"),".")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(20);const s={cursorAtEOF:!1,customCheckQuery:!1,deleteWithPredicate:!1,demodata:!1,downloadCellCSV:!1,fluxParser:!1,matchingNotificationRules:!1,flows:!1,parseObjectsInCSV:!1,streamEvents:!1,"flow-move-cells":!1,"flow-panel--spotify":!1,"flow-panel--test-flux":!1,disableDefaultTableSort:!1,"load-data-client-libraries":!0,"load-data-telegraf-plugins":!0,"load-data-dev-tools":!1,"load-data-flux-sources":!1,"load-data-integrations":!1,"notification-endpoint-telegram":!1},r={cloudBilling:a.k,cursorAtEOF:!1,customCheckQuery:!1,deleteWithPredicate:!1,demodata:!0,downloadCellCSV:!1,fluxParser:!1,matchingNotificationRules:!1,flows:!1,parseObjectsInCSV:!1,streamEvents:!1,"flow-move-cells":!1,"flow-panel--spotify":!1,"flow-panel--test-flux":!1,disableDefaultTableSort:!1,"load-data-client-libraries":!0,"load-data-telegraf-plugins":!0,"load-data-dev-tools":!1,"load-data-flux-sources":!1,"load-data-integrations":!1,"notification-endpoint-telegram":!1},o=e=>{const t=a.i?r:s,n=e.flags.original||{},o=e.flags.override||{};return Object.assign(Object.assign(Object.assign({},t),n),o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),s=n.n(a);const r="tooltip-portal";t.b=()=>s.a.createElement("div",{id:r})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(425);const s=new class{constructor(){this.findKeysQueries=[],this.findValuesQueries=[],this.findKeysCache={},this.findValuesCache={},this.findBucketsCache={}}async findBuckets(e){this.cancelFindBuckets();const t=JSON.stringify(e),n=this.findBucketsCache[t];if(n)return Promise.resolve(n);const s=Object(a.b)(e);return s.promise.then(e=>{this.findBucketsCache[t]=e}).catch(()=>{}),s.promise}cancelFindBuckets(){this.findBucketsQuery&&this.findBucketsQuery.cancel()}async findKeys(e,t){this.cancelFindKeys(e);const n=JSON.stringify(t),s=this.findKeysCache[n];if(s)return Promise.resolve(s);const r=Object(a.c)(t);return this.findKeysQueries[e]=r,r.promise.then(e=>{this.findKeysCache[n]=e}).catch(()=>{}),r.promise}cancelFindKeys(e){this.findKeysQueries[e]&&this.findKeysQueries[e].cancel()}async findValues(e,t){this.cancelFindValues(e);const n=JSON.stringify(t),s=this.findValuesCache[n];if(s)return Promise.resolve(s);const r=Object(a.d)(t);return this.findValuesQueries[e]=r,r.promise.then(e=>{this.findValuesCache[n]=e}).catch(()=>{}),r.promise}cancelFindValues(e){this.findValuesQueries[e]&&this.findValuesQueries[e].cancel()}clearCache(){this.findBucketsCache={},this.findKeysCache={},this.findValuesCache={}}}},function(e,t,n){"use strict";function a(e,t,n){const a=e.length;let s,r;for(void 0===n?(s=1,r=e[0]):(s=0,r=n);s<a;s++)r=t(r,e[s],s,e);return r}function s(e,t){const n=e.length,a=new Array(n);for(let s=0;s<n;s++)a[s]=t(e[s],s,e);return a}function r(e,t){const n=e.length,a=[];for(let s=0;s<n;s++)t(e[s],s,e)&&a.push(e[s]);return a}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{switch(e.type){case"DateTimeLiteral":case"BooleanLiteral":case"UnsignedIntegerLiteral":case"IntegerLiteral":return String(e.value);case"StringLiteral":return`"${e.value}"`;case"DurationLiteral":return e.values.reduce((e,{magnitude:t,unit:n})=>`${e}${t}${n}`,"");case"FloatLiteral":return String(e.value).includes(".")?String(e.value):e.value.toFixed(1);case"UnaryExpression":return`${e.operator}${a(e.argument)}`;case"BinaryExpression":return`${a(e.left)} ${e.operator} ${a(e.right)}`;case"CallExpression":return`${a(e.callee)}()`;case"Identifier":return e.name;default:throw new Error(`cant format expression of type ${e.type}`)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{const t=(e=>{let t=Math.floor(e/60);e%=60;let n=Math.floor(t/60);return t%=60,{days:Math.floor(n/24),hours:n%=24,minutes:t,seconds:e}})(e),n=Object.entries(t).reduce((e,[t,n])=>n?`${e} ${n} ${t}`:e,"");return n||"forever"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(120),s=n(784);const r=e=>{if(!e.length)return"";const t=e.map(e=>`${e.id.name}: ${Object(s.a)(e.init)}`);return`option ${a.b} = {\n  ${t.join(",\n  ")}\n}`}},function(e,t,n){"use strict";t.a=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(121);function s(){const e=[];let t=!1;const n={run:(s,r,o)=>({promise:new Promise((i,l)=>{if(t)return void e.push({resolve:i,reject:l,cancel:()=>{}});t=!0;const c=new AbortController;e.push({resolve:i,reject:l,cancel:()=>{c.abort()}}),Object(a.a)(s,r,o,c).promise.then((...e)=>{n.resolve.apply(n,e)}).catch(e=>{n.reject(e)})}),cancel:n.cancel}),resolve:(...n)=>{let a;for(;e.length;)(a=e.pop()).resolve.apply(a,n);t=!1},reject:n=>{let a;for(;e.length;)(a=e.pop()).reject(n),a.cancel();t=!1},cancel:()=>{let n;for(;e.length;)(n=e.pop()).cancel();t=!1}};return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(121),s=n(50),r=n(29),o=n(83);const i=(e,t,n)=>{const s=`\nfrom(bucket: "${o.n}")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r._measurement == "statuses" and r._field == "_message")\n  |> filter(fn: (r) => r._check_id == "${t}")\n  |> filter(fn: (r) => exists r._value and exists r._check_id and exists r._check_name and exists r._level)\n  |> keep(columns: ["_time", "_value", "_check_id", "_check_name", "_level"])\n  |> window(every: 1s, timeColumn: "_time", startColumn: "_start", stopColumn: "_stop")\n  |> group(columns: ["_start", "_stop"])\n  |> rename(columns: {"_time": "time",\n                      "_value": "message",\n                      "_check_id": "checkID",\n                      "_check_name": "checkName",\n                      "_level": "level"})\n`;return Object(r.a)("runQuery",{context:"checkStatuses"}),l(Object(a.a)(e,s,n))},l=({promise:e,cancel:t})=>{return{promise:e.then(e=>{if("SUCCESS"!==e.type)return Promise.reject(new Error(e.message));const{table:t}=Object(s.fromFlux)(e.csv),n=[[]];for(let e=0;e<t.length;e++){const a={};for(const n of t.columnKeys)a[n]=t.getColumn(n)[e];const s=a.table;n[s]?n[s].push(a):n[s]=[a]}return n}),cancel:t}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(379);const s=(e,t)=>{const n=t.find(t=>t.variable.id===e.id);return Object(a.a)(n).map(e=>e.variable)},r=(e,t)=>{const n=Object(a.b)(t);return s(e,n)},o=(e,t)=>{const n=new Set,r=Object(a.b)(t);for(const t of e)if(!n.has(t)){n.add(t);for(const e of s(t,r))n.add(e)}return[...n]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(151),s=n(20),r=n(36);const o=(e,t)=>!!s.i&&!("not found"!==e||!t.includes(a.i)),i=e=>Object(r.c)("demodata")?{message:"It looks like this query requires a demo data bucket to be available. You can add demodata buckets on the buckets tab",linkText:"Go to buckets",link:`/orgs/${e}/load-data/buckets`}:{message:"Demo data buckets are temporarily unavailable. Please try again later."}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.replace(/&gt;/g,">").replace(/&#39;/g,"'")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";const a="baseTheme";window.monaco.editor.defineTheme(a,{base:"vs-dark",inherit:!1,rules:[{token:"support.function",foreground:"#9394FF"},{token:"keyword.operator.new",foreground:"#9394FF"},{token:"keyword.control.flux",foreground:"#9394FF"},{token:"comment.line.double-slash",foreground:"#676978"},{token:"string.quoted.double.flux",foreground:"#7CE490"},{token:"string.regexp",foreground:"#FFB6A0"},{token:"constant.time",foreground:"#6BDFFF"},{token:"constant.numeric",foreground:"#6BDFFF"},{token:"constant.language",foreground:"#32B08C"},{token:"keyword.operator",foreground:"#ff4d96"},{token:"",foreground:"#f8f8f8",background:"#202028"}],colors:{"editor.foreground":"#F8F8F8","editor.background":"#202028","editorGutter.background":"#25252e","editor.selectionBackground":"#353640","editorLineNumber.foreground":"#666978","editor.lineHighlightBackground":"#353640","editorCursor.foreground":"#ffffff","editorActiveLineNumber.foreground":"#bec2cc"}}),t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{let t=0;const n=()=>{const n=e.getDomNode();if(!n)return;const a=e.getOption(window.monaco.editor.EditorOption.lineHeight),s=(e.getModel()||{}).getLineCount()||1,r=e.getTopForLineNumber(s+1)+a;t!==Math.max(100,r)&&(t=Math.max(100,r),n.style.height=`${t}px`,e.layout())};e.updateOptions({minimap:{enabled:!1},scrollbar:{vertical:"hidden",handleMouseWheel:!1},scrollBeyondLastLine:!1}),e.onDidChangeModelDecorations(()=>{n(),requestAnimationFrame(n)})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),s=(n(118),n(490)),r=n(51),o=n(6);const i=(e,t)=>{const n=Object(a.useMemo)(()=>Object(r.e)(e),[e]),i=Object(a.useMemo)(()=>{const e=Object(o.flatMap)(t||[],e=>[e.value,e.min,e.max]).filter(e=>null!=e).concat(n);return Object(r.e)(e)},[n,t]),[l,c]=Object(s.a)(i);return[l,c,()=>c(i)]}},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(11),s=n(2),r=n.n(s),o=n(3),i=n(793),l=n(12),c=n(265);let u=class extends s.PureComponent{render(){const{text:e}=this.props;return r.a.createElement(o.DapperScrollbars,{className:"markdown-cell",autoHide:!0},r.a.createElement("div",{className:"markdown-cell--contents"},r.a.createElement(c.a,{text:Object(i.a)(e),className:"markdown-format"})))}};u=Object(a.a)([l.a],u),t.a=u},function(e,t,n){"use strict";var a=n(2),s=n(6),r=n(861),o=n(36);t.a=({files:e,children:t})=>{let n=r.b;return Object(o.c)("fromFluxTableParser")&&(n=r.c),t(Object(a.useMemo)(()=>Object(s.flatMap)(e,n),[e]))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var a=n(263),s=n.n(a),r=n(6),o=n.n(r),i=n(117),l=n.n(i),c=n(50),u=n(152);const m=e=>{const t=e.trim();return""===t?[]:t.split(/\n\s*\n#/).map((e,t)=>0===t?e:`#${e}`)},d=e=>{return m(e).reduce((e,t)=>[...e,...p(t)],[])},p=e=>{const t=e.split("\n"),n=t.filter(e=>e.startsWith("#")).join("\n").trim(),a=t.filter(e=>!e.startsWith("#")).join("\n").trim();if(o.a.isEmpty(n))throw new Error("Unable to extract annotation data");if(o.a.isEmpty(a))return[];const r=s.a.parse(a).data,i=s.a.parse(n).data,c=r[0],u=c.findIndex(e=>"table"===e),m=c.findIndex(e=>"result"===e),d=Object.values(o.a.groupBy(r.slice(1),e=>e[u])),p=i.find(e=>"#group"===e[0]),h=i.find(e=>"#default"===e[0]),_=i.find(e=>"#datatype"===e[0]),g=p.reduce((e,t,n)=>"true"===t?[...e,n]:e,[]);return d.map(e=>{const t=o.a.get(e,"0",h),n=o.a.get(t,m,"")||o.a.get(h,m,""),a=g.reduce((e,n)=>Object.assign(Object.assign({},e),{[c[n]]:o.a.get(t,n,"")}),{}),s=Object.entries(a).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),r=_.reduce((e,t,n)=>Object.assign(Object.assign({},e),{[c[n]]:t}),{});return{id:l.a.v4(),data:[[...c],...e],name:s,result:n,groupKey:a,dataTypes:r}})},h=e=>{const t=Object(c.fromFlux)(e);if(t.error)return Object(u.b)(t.error,{name:"parseResponseWithFromFlux function"}),[];const{fluxGroupKeyUnion:n,table:a,table:{columnKeys:s}}=t,r=["result","table",...s.filter(e=>"result"!==e&&"table"!==e)],o=a.getColumn("table"),i=a.getColumn("result");let m=0,d=0;const p=new Set(["result",...n]),h={"":"#datatype"};let _,g,f;r.forEach(e=>{h[e]=a.getOriginalColumnType(e)});let b,y=r.filter(e=>(_=a.getColumnType(e),void 0!==(f=a.getColumn(e,_))[m])),v={};y.forEach(e=>{_=a.getColumnType(e),g=a.getOriginalColumnType(e),f=a.getColumn(e,_),b=f[m],"dateTime:RFC3339"!==g||"number"!=typeof b||isNaN(b)||(b=new Date(b).toISOString()),p.has(e)&&(v[e]=b)}),y.unshift("");let x=[];x.push(y);let w,E,k,S,C=`${i[m]}`,T=Object.entries(v).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),O={id:l.a.v4(),name:T,data:x,result:C,groupKey:v,dataTypes:h},D=[];const I=[];for(let e=0;e<o.length;e++){i[e]===i[m]&&o[e]===o[d]||(I.push(O),v={},m=e,d=e,(y=r.filter(t=>(_=a.getColumnType(t),void 0!==(f=a.getColumn(t,_))[e]))).forEach(t=>{_=a.getColumnType(t),g=a.getOriginalColumnType(S),f=a.getColumn(t,_),b=f[e],"dateTime:RFC3339"!==g||"number"!=typeof b||isNaN(b)||(b=new Date(b).toISOString()),p.has(t)&&(v[t]=b)}),y.unshift(""),(x=[]).push(y),C=`${i[e]}`,T=Object.entries(v).filter(([e])=>!["_start","_stop"].includes(e)).map(([e,t])=>`${e}=${t}`).join(" "),O={id:l.a.v4(),name:T,data:x,result:C,groupKey:v,dataTypes:h}),D=[""];for(let t=0;t<y.length;t++)""!==(S=y[t])&&(w=a.getColumnType(S),E=a.getOriginalColumnType(S),k=a.getColumn(S,w)[e],"dateTime:RFC3339"!==E||"number"!=typeof k||isNaN(k)||(k=new Date(k).toISOString()),"result"===S&&(k=""),D.push(`${k}`));x.push(D)}return I.push(O),I}},function(e,t,n){"use strict";var a=n(2),s=n.n(a);const r=e=>{return{background:`linear-gradient(to right, ${e.map((t,n)=>`${t} ${Math.round(n/(e.length-1)*100)}%`).join(", ")})`}};t.a=({name:e,colors:t})=>s.a.createElement("div",{className:"color-scheme-dropdown-item"},s.a.createElement("div",{className:"color-scheme-dropdown-item--swatches",style:r(t)}),s.a.createElement("div",{className:"color-scheme-dropdown-item--name"},e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}));var a=n(117),s=n.n(a),r=n(140);const o=e=>{const t=[...e];return t.sort((e,t)=>e.id===r.a?-1/0:e.value-t.value),t},i=e=>{const t=e.find(({type:e})=>e===r.c),n=e.find(({type:e})=>e===r.b),a={};for(const{id:s,value:o,type:i}of e)isNaN(o)?a[s]="Please enter a valid number":t&&i!==r.c&&o<t.value?a[s]="Please enter a value greater than the minimum threshold":n&&i!==r.b&&o>n.value&&(a[s]="Please enter a value less than the maximum threshold");return a},l=e=>{const t=e.map(e=>e.value);let n=Math.min(...t),a=Math.max(...t);(n===1/0||isNaN(n)||n===a)&&(n=r.i,a=r.h);const o=c(n,a),i=r.k[Math.floor(Math.random()*r.k.length)],l=e[0].type,u=l===r.c||l===r.b?r.d:l;return Object.assign(Object.assign({},i),{id:s.a.v4(),type:u,value:o})},c=(e,t)=>{const n=t-e;let a,s;return s=(a=n>1e3?100:n>100?10:n>50?5:n>10?1:null)?Math.round(Math.random()*(t-e)/a)*a:Number((Math.random()*(t-e)).toFixed(2))}},function(e,t,n){"use strict";var a=n(11),s=n(2),r=n.n(s),o=n(93),i=n(1761),l=n(1762),c=n(3),u=n(12);const m={beginDrag:e=>({id:e.id,index:e.index})},d={hover(e,t,n){const a=t.getItem().index,s=e.index;if(a===s)return;const r=Object(o.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,l=t.getClientOffset().y-r.top;a<s&&l<i||a>s&&l>i||(e.onMoveColumn(a,s),t.getItem().index=s)}};let p=class extends s.Component{constructor(e){super(e),this.handleColumnRename=e=>{const{onUpdateColumn:t,internalName:n,visible:a}=this.props;t({internalName:n,displayName:e.target.value,visible:a})},this.handleToggleVisible=()=>{const{onUpdateColumn:e,internalName:t,displayName:n,visible:a}=this.props;e({internalName:t,displayName:n,visible:!a})},this.handleColumnRename=this.handleColumnRename.bind(this),this.handleToggleVisible=this.handleToggleVisible.bind(this)}render(){const{internalName:e,displayName:t,connectDragPreview:n,connectDropTarget:a}=this.props;return n(a(r.a.createElement("div",{className:this.columnClassName},r.a.createElement("div",{className:this.labelClassName},this.dragHandle,this.visibilityToggle,r.a.createElement("div",{className:"customizable-field--name"},e)),r.a.createElement(c.Input,{className:"customizable-field--input",id:"internalName",value:t,onChange:this.handleColumnRename,placeholder:`Rename ${e}`,status:this.inputStatus}))))}get inputStatus(){const{visible:e}=this.props;return e?c.ComponentStatus.Default:c.ComponentStatus.Disabled}get dragHandle(){const{connectDragSource:e}=this.props;return e(r.a.createElement("div",{className:"customizable-field--drag"},r.a.createElement("span",{className:"hamburger"})))}get visibilityToggle(){const{visible:e,internalName:t}=this.props;return e?r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to HIDE ${t}`},r.a.createElement(c.Icon,{glyph:c.IconFont.EyeOpen})):r.a.createElement("div",{className:"customizable-field--visibility",onClick:this.handleToggleVisible,title:`Click to SHOW ${t}`},r.a.createElement(c.Icon,{glyph:c.IconFont.EyeClosed}))}get labelClassName(){const{visible:e}=this.props;return e?"customizable-field--label":"customizable-field--label__hidden"}get columnClassName(){const{isDragging:e}=this.props;return e?"customizable-field dragging":"customizable-field"}};var h,_,g,f,b,y;p=Object(a.a)([u.a,(f="column",b=d,y=e=>({connectDropTarget:e.dropTarget()}),e=>Object(i.a)(f,b,y)(e)),(h="column",_=m,g=(e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}),e=>Object(l.a)(h,_,g)(e)),Object(a.b)("design:paramtypes",[Object])],p),t.a=p},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{if(t===n)return e.slice();const a=e[t],s=[...e.slice(0,t),...e.slice(t+1)];return[...s.slice(0,n),a,...s.slice(n)]}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(429),s=n(50);function r(e){const t=Object(a.a)(e);return{table:Object.entries(t.table.columns).reduce((e,[t,n])=>e.addColumn(t,n.type,n.type,n.data,n.name),Object(s.newTable)(t.table.length)),fluxGroupKeyUnion:t.fluxGroupKeyUnion}}},,function(e,t,n){"use strict";t.a=function(e,t,n){return{get:t=>{if(!e.byID.hasOwnProperty(t))throw new Error(`Could not find resource [${t}]`);return e.byID[t]},add:(a,s)=>{if(s)return e.byID[a]=s,e.allIDs.push(a),void t(e);let r;if(!(r="function"==typeof n?n():n))throw new Error(`No valid data when adding [${a}]`);e.byID[a]=r,e.allIDs.push(a),t(e)},update:(n,a)=>{if(!e.byID.hasOwnProperty(n))throw new Error(`Could not update resource [${n}]`);e.byID=Object.assign(Object.assign({},e.byID),{[n]:Object.assign(Object.assign({},e.byID[n]),a)}),t(e)},remove:n=>{e.byID.hasOwnProperty(n)&&(delete e.byID[n],e.allIDs=e.allIDs.filter(e=>e!==n),t(e))},get allIDs(){return e.allIDs},get all(){return e.allIDs.map(t=>e.byID[t])},indexOf:t=>e.allIDs.indexOf(t),move:(n,a)=>{const s=(a%e.allIDs.length+e.allIDs.length)%e.allIDs.length;e.allIDs.splice(s,0,e.allIDs.splice(e.allIDs.indexOf(n),1)[0]),t(e)},serialize:()=>e}}},function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3),o=n(514),i=n(76),l=n(29);t.a=()=>{const{data:e,update:t}=Object(a.useContext)(i.a),{buckets:n,loading:c}=Object(a.useContext)(o.a);let u="Loading buckets...";const m=Object(a.useCallback)(e=>{Object(l.a)("Updating Bucket Selection in Flow Query Builder",{bucket:e.name}),t({bucket:e})},[t]);let d=s.a.createElement(r.Dropdown.ItemEmpty,null,s.a.createElement(r.TechnoSpinner,{strokeWidth:r.ComponentSize.Small,diameterPixels:32}));c===r.RemoteDataState.Done&&n.length&&(d=s.a.createElement(s.a.Fragment,null,n.map(t=>{var n;return s.a.createElement(r.Dropdown.Item,{key:t.name,value:t,onClick:m,selected:t.name===(null===(n=e.bucket)||void 0===n?void 0:n.name),title:t.name,wrapText:!0},t.name)}))),c!==r.RemoteDataState.Done||e.bucket?c===r.RemoteDataState.Done&&e.bucket&&(u=e.bucket.name):u="Choose a bucket";return s.a.createElement(r.Dropdown,{button:(e,t)=>s.a.createElement(r.Dropdown.Button,{onClick:t,active:e,icon:r.IconFont.Disks},u),menu:e=>s.a.createElement(r.Dropdown.Menu,{onCollapse:e},d),style:{width:"250px"}})}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=e=>e.dataLoading.dataLoaders,s=e=>e.dataLoading.steps},function(e,t,n){e.exports=n.p+"static/340cfcc804.svg"},,,,,,,,,,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(4),o=n(6),i=n(141);var l=({level:e,y:t,onDrag:n,onMouseUp:r})=>{const o=(e=>{return{onMouseDown:Object(a.useCallback)(t=>{t.stopPropagation(),e({type:"dragStart",x:t.pageX,y:t.pageY});const n=t=>{e({type:"drag",x:t.pageX,y:t.pageY})},a=t=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a),e({type:"dragStop",x:t.pageX,y:t.pageY})};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)},[e])}})(n),i=`threshold-marker--${e.toLowerCase()}`,l={top:`${t}px`};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:`threshold-marker--line ${i}`,style:l}),s.a.createElement("div",Object.assign({className:`threshold-marker--handle ${i}`,style:l},o,{onMouseUp:r})))};var c=({level:e,top:t,height:n})=>s.a.createElement("div",{className:`threshold-marker--area threshold-marker--${e.toLowerCase()}`,style:{top:`${t}px`,height:`${n}px`}}),u=n(51);var m=({yScale:e,yDomain:t,threshold:{level:n,within:a,min:r,max:o},onChangeMinPos:i,onChangeMaxPos:m,onMouseUp:d})=>{const p=e(Object(u.b)(r,t)),h=e(Object(u.b)(o,t));return s.a.createElement(s.a.Fragment,null,Object(u.m)(r,t)&&s.a.createElement(l,{level:n,y:p,onDrag:i,onMouseUp:d}),Object(u.m)(o,t)&&s.a.createElement(l,{level:n,y:h,onDrag:m,onMouseUp:d}),a?s.a.createElement(c,{level:n,top:h,height:p-h}):s.a.createElement(s.a.Fragment,null,o<=t[1]&&s.a.createElement(c,{level:n,top:e(t[1]),height:h-e(t[1])}),r>=t[0]&&s.a.createElement(c,{level:n,top:p,height:e(t[0])-p})))};var d=({yScale:e,yDomain:t,threshold:{level:n,value:a},onChangePos:r,onMouseUp:o})=>{const i=e(Object(u.b)(a,t));return s.a.createElement(s.a.Fragment,null,Object(u.m)(a,t)&&s.a.createElement(l,{level:n,y:i,onDrag:r,onMouseUp:o}),a>=t[0]&&s.a.createElement(c,{level:n,top:i,height:e(t[0])-i}))};var p=({yDomain:e,yScale:t,threshold:{level:n,value:a},onChangePos:r,onMouseUp:o})=>{const i=t(Object(u.b)(a,e));return s.a.createElement(s.a.Fragment,null,Object(u.m)(a,e)&&s.a.createElement(l,{level:n,y:i,onDrag:r,onMouseUp:o}),a<=e[1]&&s.a.createElement(c,{level:n,top:t(e[1]),height:i-t(e[1])}))};var h=({yScale:e,yDomain:t,thresholds:n,onSetThresholds:r})=>{const i=Object(a.useRef)(null),l={},[c,h]=Object(a.useState)(l),_=Object(o.debounce)(()=>{r(n.map((e,t)=>c.index!==t?e:"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{max:e.value}):"range"===e.type?Object.assign(Object.assign({},e),{max:c.maxValue,min:c.minValue}):void 0))},500),g=(a,s,c)=>{l.index=a;const m=c-i.current.getBoundingClientRect().top,d=Object(u.b)(e.invert(m),t),p=Object.assign(Object.assign({},n[a]),{[s]:d});if("range"===p.type&&p.min>p.max){const e=p.min;p.min=p.max,p.max=e}const _=n.map((e,t)=>t===a?p:e).map(e=>"greater"===e.type||"lesser"===e.type?Object.assign(Object.assign({},e),{value:Object(o.round)(e.value,2),max:t[1]}):"range"===e.type?"maxValue"===s?(l.maxValue=Object(o.round)(e.maxValue,2),l.minValue=Object(o.round)(e.min,2),Object.assign(Object.assign({},e),{max:Object(o.round)(t[1],2),min:Object(o.round)(e.min,2)})):(l.maxValue=Object(o.round)(e.max,2),l.minValue=Object(o.round)(e.minValue,2),Object.assign(Object.assign({},e),{max:Object(o.round)(e.max,2),min:t[0]?Object(o.round)(t[0],2):0})):void 0);h(l),r(_)};return s.a.createElement("div",{className:"threshold-markers",ref:i},n.map((n,a)=>{const r=({y:e})=>g(a,"value",e),i=({y:e})=>g(a,"maxValue",e),l=({y:e})=>g(a,"minValue",e);switch(n.type){case"greater":return s.a.createElement(p,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:r,onMouseUp:_});case"lesser":return s.a.createElement(d,{key:a,yScale:e,yDomain:t,threshold:n,onChangePos:r,onMouseUp:_});case"range":return s.a.createElement(m,{key:a,yScale:e,yDomain:t,threshold:Object.assign(Object.assign({},n),{min:c.minValue?c.minValue:Object(o.round)(n.min,2),max:c.maxValue?c.maxValue:Object(o.round)(n.max,2)}),onChangeMinPos:l,onChangeMaxPos:i,onMouseUp:_});default:throw new Error("Unknown threshold type in <ThresholdMarkers /> ")}}))},_=n(93),g=n(781),f=n(3);var b=({triggerRect:e,children:t,maxWidth:n=300,color:r=f.ComponentColor.Primary})=>{const o=Object(a.useRef)(null);return Object(a.useLayoutEffect)(()=>{const t=o.current;if(!t||!e)return;const a=t.getBoundingClientRect();let s=Math.floor(e.left-a.width)-2,i="left";s<0&&(s=e.left+e.width,i="right");let l=e.top+e.height/2-a.height/2;l<0&&(l=0),l+a.height>window.innerHeight&&(l=window.innerHeight-a.height),t.setAttribute("style",`visibility: visible; top: ${l}px; left: ${s}px; max-width: ${n}px;`);const c=e.top+e.height/2-l;t.querySelector(".box-tooltip--caret").setAttribute("style",`top: ${c}px;`),t.className=`box-tooltip  box-tooltip__${r} ${i}`}),Object(_.createPortal)(s.a.createElement("div",{className:`box-tooltip box-tooltip__${r}`,ref:o,style:{maxWidth:n}},t,s.a.createElement("div",{className:"box-tooltip--caret-container"},s.a.createElement("div",{className:"box-tooltip--caret"}))),document.querySelector(`#${g.a}`))},y=n(83);var v=({events:e})=>{const t=(e,t)=>{if(!t)return;return{color:y.l[`${e.toUpperCase()}`]}};return s.a.createElement("div",{className:"box-tooltip--contents event-marker-tooltip"},s.a.createElement("div",{className:"event-marker-tooltip--table"},["time","checkName","level","message"].map(n=>s.a.createElement("div",{key:n,className:"event-marker-tooltip--column"},s.a.createElement("div",{className:"event-marker-tooltip--header"},n),e.map((e,r)=>{const{time:o,checkName:i,level:l}=e;return s.a.createElement(a.Fragment,{key:`${o}-${i}-${l}-${r}`},s.a.createElement("div",{className:"event-marker-tooltip--cell",style:t(l,"level"===n)},e[n]))})))))};var x=({xScale:e,xDomain:t,events:n,xFormatter:r})=>{const o=Object(a.useRef)(null),[i,l]=Object(a.useState)(!1);let c=null;o.current&&(c=o.current.getBoundingClientRect());const{time:m}=n[0],d={left:`${Math.ceil(e(m))}px`},p=`event-marker--line__${(e=>{const t=["crit","warn","info","ok","unknown"],n=e.map(e=>e.level);for(const e of t)if(n.includes(e))return e;return"unknown"})(n).toLowerCase()}`,h=n.map(e=>Object.assign(Object.assign({},e),{time:r(e.time)}));return Object(u.m)(m,t)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:p,style:d},s.a.createElement("div",{className:"event-marker--line-rect",ref:o,onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)}})),i&&o.current&&s.a.createElement(b,{triggerRect:c,maxWidth:50*h[0].message.length},s.a.createElement(v,{events:h})))};const w=(e,t,n,a,s,r)=>e.map(e=>e.length&&e.filter(e=>"ok"===e.level&&t||"info"===e.level&&n||"warn"===e.level&&a||"crit"===e.level&&s||"unknown"===e.level&&r)).filter(e=>e&&e.length);var E=({xScale:e,xDomain:t,eventsArray:n,xFormatter:r})=>{const[o,i]=Object(a.useState)(!1),[l,c]=Object(a.useState)(!0),[u,m]=Object(a.useState)(!0),[d,p]=Object(a.useState)(!0),[h,_]=Object(a.useState)(!0),[g,b]=Object(a.useState)(w(n,o,l,u,d,h));Object(a.useEffect)(()=>{b(w(n,o,l,u,d,h))},[n,o,l,u,d,h]);const v=e=>e?f.IconFont.EyeOpen:f.IconFont.EyeClosed,E=s.a.createElement("div",{className:"event-marker--vis-selector"},"Toggle markers:",s.a.createElement("span",{onClick:()=>i(!o),"data-testid":"event-marker-vis-toggle-ok"},s.a.createElement(f.Icon,{className:"event-marker--vis-icon",style:{color:y.l.OK},glyph:v(o),testID:"event-marker-vis-icon-ok"})),s.a.createElement("span",{onClick:()=>m(!u),"data-testid":"event-marker-vis-toggle-warn"},s.a.createElement(f.Icon,{className:"event-marker--vis-icon",style:{color:y.l.WARN},glyph:v(u)})),s.a.createElement("span",{onClick:()=>c(!l),"data-testid":"event-marker-vis-toggle-info"},s.a.createElement(f.Icon,{className:"event-marker--vis-icon",style:{color:y.l.INFO},glyph:v(l)})),s.a.createElement("span",{onClick:()=>p(!d),"data-testid":"event-marker-vis-toggle-crit"},s.a.createElement(f.Icon,{className:"event-marker--vis-icon",style:{color:y.l.CRIT},glyph:v(d)})),s.a.createElement("span",{onClick:()=>_(!h),"data-testid":"event-marker-vis-toggle-unknown"},s.a.createElement(f.Icon,{className:"event-marker--vis-icon",style:{color:y.l.UNKNOWN},glyph:v(h)})));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"event-markers","data-testid":"event-markers"},g.map((n,a)=>s.a.createElement(x,{key:a,xScale:e,xDomain:t,events:n,xFormatter:r}))),E)},k=n(20),S=n(192),C=n(119),T=n(837),O=n(122);const D={onUpdateThresholds:O.q},I=Object(r.c)(null,D);t.a=I(({table:e,fluxGroupKeyUnion:t,children:n,timeZone:a,statuses:r,checkType:l,thresholds:c,onUpdateThresholds:m,viewProperties:{colors:d}})=>{const[p,_,g]=Object(T.a)(e.getColumn("_value","number"),c),f=e.columnKeys;if(!(f.includes("_time")&&f.includes("_value")))return s.a.createElement(i.a,{message:S.a});const b=[...t,"result"],y=Object(u.h)(e.getColumnType("_time"),{timeZone:a,trimZeros:!1}),v=Object(u.h)(e.getColumnType("_value"),{timeZone:a,trimZeros:!1}),x=Object(u.f)([...b,"_time","_value"],e),w=Object(o.flatMap)(c,e=>[e.value,e.minValue,e.maxValue]).filter(e=>void 0!==e),O=w.length?w:null,D=d&&d.length?d.map(e=>e.hex):C.a.map(e=>e.hex),I=Object.assign(Object.assign({},k.L),{table:e,legendColumns:x,yTicks:O,yDomain:p,onSetYDomain:_,onResetYDomain:g,valueFormatters:{_time:y,_value:v},layers:[{type:"line",x:"_time",y:"_value",fill:b,interpolation:"linear",colors:D},{type:"custom",render:({yScale:e,yDomain:t})=>s.a.createElement(h,{key:"thresholds",thresholds:"threshold"===l?c:[],onSetThresholds:m,yScale:e,yDomain:t})},{type:"custom",render:({xScale:e,xDomain:t})=>s.a.createElement(E,{key:"events",eventsArray:r,xScale:e,xDomain:t,xFormatter:y})}]});return s.a.createElement("div",{className:"time-series-container time-series-container--alert-check"},n(I))})},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a=n(310);var s;!function(e){e.LinksGetRequested="LINKS_GET_REQUESTED",e.LinksGetCompleted="LINKS_GET_COMPLETED",e.LinksGetFailed="LINKS_GET_FAILED"}(s||(s={}));const r=()=>async e=>{e((()=>({type:s.LinksGetRequested}))());try{e((e=>({type:s.LinksGetCompleted,payload:{links:e}}))(await(async()=>{try{const{data:e}=await Object(a.b)("/api/v2");return e}catch(e){throw console.error(e),e}})()))}catch(t){e((()=>({type:s.LinksGetFailed}))())}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(205);var s=n(151),r=n(21);const o="SET_ORG_SETTINGS",i=()=>async(e,t)=>{try{const n=Object(r.a)(t()),s=await(async e=>await fetch(`${Object(a.a)()}/api/v2private/orgs/${e}/settings`))(n.id);if(200!==s.status)throw new Error(`Unable to get organization settings: ${s.statusText}`);e(((e=[])=>({type:o,payload:{orgSettings:e}}))((await s.json()).settings))}catch(t){e((()=>({type:o,payload:{orgSettings:[s.d]}}))()),console.error(t)}}},function(e,t,n){"use strict";var a=n(11),s=n(2),r=n.n(s),o=n(12),i=n(275),l=n(4),c=n(3),u=n(479);const m={onGenerateTelegrafToken:n(177).e};var d=Object(l.c)(null,m)(({configID:e,onCopyText:t,label:n="Code Snippet",testID:a,token:s,onGenerateTelegrafToken:o})=>{return r.a.createElement("div",{className:"code-snippet","data-testid":a},r.a.createElement(c.DapperScrollbars,{autoHide:!1,autoSizeHeight:!0,className:"code-snippet--scroll"},r.a.createElement("div",{className:"code-snippet--text"},r.a.createElement("pre",null,s))),r.a.createElement("div",{className:"code-snippet--footer"},r.a.createElement("div",null,r.a.createElement(u.a,{textToCopy:s,onCopyText:t,contentName:"Script"}),r.a.createElement(c.Button,{size:c.ComponentSize.ExtraSmall,status:s.includes("<INFLUX_TOKEN>")?c.ComponentStatus.Default:c.ComponentStatus.Disabled,text:"Generate New Token",titleText:"Generate New Token",icon:c.IconFont.Refresh,color:c.ComponentColor.Success,onClick:()=>{o(e)},className:"new-token--btn"})),r.a.createElement("label",{className:"code-snippet--label"},n)))});let p=class extends s.PureComponent{render(){const{token:e,configID:t}=this.props,n=`telegraf --config ${this.origin}/api/v2/telegrafs/${t||""}`,a=`export INFLUX_TOKEN=${e||"<INFLUX_TOKEN>"}`;return r.a.createElement("div",{"data-testid":"setup-instructions",className:"telegraf-instructions"},r.a.createElement("h6",null,"1. Install the Latest Telegraf"),r.a.createElement("p",null,"You can install the latest Telegraf by visiting the"," ",r.a.createElement("a",{href:"https://portal.influxdata.com/downloads/",target:"_blank",rel:"noopener noreferrer"},"InfluxData Downloads "),"page. If you already have Telegraf installed on your system, make sure it's up to date. You will need version 1.9.2 or higher."),r.a.createElement("h6",null,"2. Configure your API Token"),r.a.createElement("p",null,"Your API token is required for pushing data into InfluxDB. You can copy the following command to your terminal window to set an environment variable with your token."),r.a.createElement(d,{token:a,configID:t,label:"CLI"}),r.a.createElement("h6",null,"3. Start Telegraf"),r.a.createElement("p",null,"Finally, you can run the following command to start the Telegraf agent running on your machine."),r.a.createElement(i.a,{copyText:n,label:"CLI"}))}get origin(){return window.location.origin}};p=Object(a.a)([o.a],p);t.a=p},,function(e,t,n){"use strict";var a=n(2),s=n.n(a),r=n(3),o=n(6);const i=e=>{const{selected:t,colors:n,onChoose:a,disabled:i,style:l}=e,c=i?r.ComponentStatus.Disabled:r.ComponentStatus.Default;return s.a.createElement(r.Dropdown,{style:l,button:(e,n)=>s.a.createElement(r.Dropdown.Button,{active:e,onClick:n,status:c},s.a.createElement("div",{className:"color-dropdown--item"},s.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:t.hex}}),s.a.createElement("div",{className:"color-dropdown--name"},Object(o.capitalize)(t.name)))),menu:e=>s.a.createElement(r.Dropdown.Menu,{onCollapse:e,theme:r.DropdownMenuTheme.Onyx},n.map(e=>s.a.createElement(r.Dropdown.Item,{id:e.name,key:e.name,value:e,selected:e.name===t.name,onClick:a},s.a.createElement("div",{className:"color-dropdown--item"},s.a.createElement("div",{className:"color-dropdown--swatch",style:{backgroundColor:e.hex}}),s.a.createElement("div",{className:"color-dropdown--name"},Object(o.capitalize)(e.name))))))})};i.defaultProps={disabled:!1,style:{flex:"0 0 120px"}};var l=i,c=n(140);t.a=({id:e,type:t,name:n,value:a,error:o,onChangeValue:i,onChangeColor:u,onRemove:m,onBlur:d})=>{const p=e===c.a;let h="";h=p?"Base":t===c.c?"Minimum":t===c.b?"Maximum":"Value is >=";const _=!p&&t!==c.c&&t!==c.b,g=o?r.ComponentStatus.Error:r.ComponentStatus.Default,f=p?{flex:"1 0 120px"}:{flex:"0 0 120px"};return s.a.createElement(s.a.Fragment,null,s.a.createElement(r.FlexBox,{direction:r.FlexDirection.Row,alignItems:r.AlignItems.Center,margin:r.ComponentSize.Small,testID:e},s.a.createElement(r.TextBlock,{text:h,style:{flex:"0 0 90px"}}),!p&&s.a.createElement(r.Input,{style:{flex:"1 0 0"},testID:`threshold-${e}-input`,className:"threshold-setting--value",value:a,status:g,onChange:e=>i(e.target.value),onBlur:d,onKeyDown:e=>{"Enter"===e.key&&d()}}),s.a.createElement(l,{colors:c.k,selected:c.k.find(e=>e.name===n),onChoose:({name:e,hex:t})=>u(e,t),style:f}),_&&s.a.createElement(r.SquareButton,{icon:r.IconFont.Remove,onClick:m,style:{flex:"0 0 30px"}})),o&&s.a.createElement("div",{className:"threshold-setting--error","data-testid":`threshold-${e}-error`},o))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a={"./af":642,"./af.js":642,"./ar":643,"./ar-dz":644,"./ar-dz.js":644,"./ar-kw":645,"./ar-kw.js":645,"./ar-ly":646,"./ar-ly.js":646,"./ar-ma":647,"./ar-ma.js":647,"./ar-sa":648,"./ar-sa.js":648,"./ar-tn":649,"./ar-tn.js":649,"./ar.js":643,"./az":650,"./az.js":650,"./be":651,"./be.js":651,"./bg":652,"./bg.js":652,"./bm":653,"./bm.js":653,"./bn":654,"./bn.js":654,"./bo":655,"./bo.js":655,"./br":656,"./br.js":656,"./bs":657,"./bs.js":657,"./ca":658,"./ca.js":658,"./cs":659,"./cs.js":659,"./cv":660,"./cv.js":660,"./cy":661,"./cy.js":661,"./da":662,"./da.js":662,"./de":663,"./de-at":664,"./de-at.js":664,"./de-ch":665,"./de-ch.js":665,"./de.js":663,"./dv":666,"./dv.js":666,"./el":667,"./el.js":667,"./en-au":668,"./en-au.js":668,"./en-ca":669,"./en-ca.js":669,"./en-gb":670,"./en-gb.js":670,"./en-ie":671,"./en-ie.js":671,"./en-il":672,"./en-il.js":672,"./en-nz":673,"./en-nz.js":673,"./eo":674,"./eo.js":674,"./es":675,"./es-do":676,"./es-do.js":676,"./es-us":677,"./es-us.js":677,"./es.js":675,"./et":678,"./et.js":678,"./eu":679,"./eu.js":679,"./fa":680,"./fa.js":680,"./fi":681,"./fi.js":681,"./fo":682,"./fo.js":682,"./fr":683,"./fr-ca":684,"./fr-ca.js":684,"./fr-ch":685,"./fr-ch.js":685,"./fr.js":683,"./fy":686,"./fy.js":686,"./gd":687,"./gd.js":687,"./gl":688,"./gl.js":688,"./gom-latn":689,"./gom-latn.js":689,"./gu":690,"./gu.js":690,"./he":691,"./he.js":691,"./hi":692,"./hi.js":692,"./hr":693,"./hr.js":693,"./hu":694,"./hu.js":694,"./hy-am":695,"./hy-am.js":695,"./id":696,"./id.js":696,"./is":697,"./is.js":697,"./it":698,"./it.js":698,"./ja":699,"./ja.js":699,"./jv":700,"./jv.js":700,"./ka":701,"./ka.js":701,"./kk":702,"./kk.js":702,"./km":703,"./km.js":703,"./kn":704,"./kn.js":704,"./ko":705,"./ko.js":705,"./ky":706,"./ky.js":706,"./lb":707,"./lb.js":707,"./lo":708,"./lo.js":708,"./lt":709,"./lt.js":709,"./lv":710,"./lv.js":710,"./me":711,"./me.js":711,"./mi":712,"./mi.js":712,"./mk":713,"./mk.js":713,"./ml":714,"./ml.js":714,"./mn":715,"./mn.js":715,"./mr":716,"./mr.js":716,"./ms":717,"./ms-my":718,"./ms-my.js":718,"./ms.js":717,"./mt":719,"./mt.js":719,"./my":720,"./my.js":720,"./nb":721,"./nb.js":721,"./ne":722,"./ne.js":722,"./nl":723,"./nl-be":724,"./nl-be.js":724,"./nl.js":723,"./nn":725,"./nn.js":725,"./pa-in":726,"./pa-in.js":726,"./pl":727,"./pl.js":727,"./pt":728,"./pt-br":729,"./pt-br.js":729,"./pt.js":728,"./ro":730,"./ro.js":730,"./ru":731,"./ru.js":731,"./sd":732,"./sd.js":732,"./se":733,"./se.js":733,"./si":734,"./si.js":734,"./sk":735,"./sk.js":735,"./sl":736,"./sl.js":736,"./sq":737,"./sq.js":737,"./sr":738,"./sr-cyrl":739,"./sr-cyrl.js":739,"./sr.js":738,"./ss":740,"./ss.js":740,"./sv":741,"./sv.js":741,"./sw":742,"./sw.js":742,"./ta":743,"./ta.js":743,"./te":744,"./te.js":744,"./tet":745,"./tet.js":745,"./tg":746,"./tg.js":746,"./th":747,"./th.js":747,"./tl-ph":748,"./tl-ph.js":748,"./tlh":749,"./tlh.js":749,"./tr":750,"./tr.js":750,"./tzl":751,"./tzl.js":751,"./tzm":752,"./tzm-latn":753,"./tzm-latn.js":753,"./tzm.js":752,"./ug-cn":754,"./ug-cn.js":754,"./uk":755,"./uk.js":755,"./ur":756,"./ur.js":756,"./uz":757,"./uz-latn":758,"./uz-latn.js":758,"./uz.js":757,"./vi":759,"./vi.js":759,"./x-pseudo":760,"./x-pseudo.js":760,"./yo":761,"./yo.js":761,"./zh-cn":762,"./zh-cn.js":762,"./zh-hk":763,"./zh-hk.js":763,"./zh-tw":764,"./zh-tw.js":764};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id=1139},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a={"./Band/index.tsx":1688,"./Gauge/index.tsx":1677,"./Graph/index.tsx":1680,"./Heatmap/index.tsx":1681,"./Histogram/index.tsx":1682,"./Map/index.tsx":1689,"./Mosaic/index.tsx":1690,"./Scatter/index.tsx":1683,"./SingleStat/index.tsx":1684,"./SingleStatWithLine/index.tsx":1685,"./Table/index.tsx":1686};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id=1355},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,function(e,t,n){var a={"./Bucket/index.ts":1687,"./Data/index.ts":1674,"./Query/index.ts":1692,"./Spotify/index.ts":1678,"./TestFlux/index.ts":1693,"./Visualization/index.ts":1679,"./markdown/index.ts":1676};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id=1369},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){e.exports=n.p+"static/d282b5dc2d.svg"},function(e,t,n){e.exports=n.p+"static/6a035ca694.svg"},function(e,t,n){e.exports=n.p+"static/d831880c7d.svg"},function(e,t,n){e.exports=n.p+"static/5f2c6d9067.svg"},function(e,t,n){e.exports=n.p+"static/ed5875c592.svg"},function(e,t,n){e.exports=n.p+"static/3dabdf9fea.svg"},function(e,t,n){e.exports=n.p+"static/586aa8f23c.svg"},function(e,t,n){e.exports=n.p+"static/057f237d97.svg"},function(e,t,n){e.exports=n.p+"static/b4105a4388.svg"},function(e,t,n){e.exports=n.p+"static/8c756c1e65.svg"},function(e,t,n){e.exports=n.p+"static/0ded195c90.svg"},function(e,t,n){e.exports=n.p+"static/59a7c64ae2.svg"},function(e,t,n){e.exports=n.p+"static/f0b1424537.svg"},function(e,t,n){e.exports=n.p+"static/668a77b3cc.svg"},function(e,t,n){e.exports=n.p+"static/682be7471d.svg"},function(e,t,n){e.exports=n.p+"static/23b3a029ff.svg"},function(e,t,n){e.exports=n.p+"static/c5025422d8.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/66b3c62e64.svg"},function(e,t,n){e.exports=n.p+"static/21959a1bb5.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/f4eb54ea6d.svg"},function(e,t,n){e.exports=n.p+"static/a1d5e24cc1.svg"},function(e,t,n){e.exports=n.p+"static/7aed1b3a51.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/175098a01b.svg"},function(e,t,n){e.exports=n.p+"static/38f67e6bee.svg"},function(e,t,n){e.exports=n.p+"static/096438488d.svg"},function(e,t,n){e.exports=n.p+"static/096438488d.svg"},function(e,t,n){e.exports=n.p+"static/884ed986bb.svg"},function(e,t,n){e.exports=n.p+"static/3e004cc3d0.svg"},function(e,t,n){e.exports=n.p+"static/d1ea6afe6e.svg"},function(e,t,n){e.exports=n.p+"static/e4e5aba343.svg"},function(e,t,n){e.exports=n.p+"static/9f486156be.svg"},function(e,t,n){e.exports=n.p+"static/58d80338f4.svg"},function(e,t,n){e.exports=n.p+"static/2dedac00ee.svg"},function(e,t,n){e.exports=n.p+"static/45a59bb23f.svg"},function(e,t,n){e.exports=n.p+"static/45a59bb23f.svg"},function(e,t,n){e.exports=n.p+"static/ac851df440.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/8144e25cd4.svg"},function(e,t,n){e.exports=n.p+"static/2cecf780cf.svg"},function(e,t,n){e.exports=n.p+"static/2cecf780cf.svg"},function(e,t,n){e.exports=n.p+"static/14cfaa0fa5.svg"},function(e,t,n){e.exports=n.p+"static/9d0659f036.svg"},function(e,t,n){e.exports=n.p+"static/111016e830.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/f0a88e9ba1.svg"},function(e,t,n){e.exports=n.p+"static/89f49271c1.svg"},function(e,t,n){e.exports=n.p+"static/89f49271c1.svg"},function(e,t,n){e.exports=n.p+"static/1f411b102d.svg"},function(e,t,n){e.exports=n.p+"static/6d99c7671e.svg"},function(e,t,n){e.exports=n.p+"static/7c08d7e69e.svg"},function(e,t,n){e.exports=n.p+"static/7c08d7e69e.svg"},function(e,t,n){e.exports=n.p+"static/7c08d7e69e.svg"},function(e,t,n){e.exports=n.p+"static/108a283f34.svg"},function(e,t,n){e.exports=n.p+"static/d2188336d6.svg"},function(e,t,n){e.exports=n.p+"static/6fbb271634.svg"},function(e,t,n){e.exports=n.p+"static/175098a01b.svg"},function(e,t,n){e.exports=n.p+"static/a2543efad8.svg"},function(e,t,n){e.exports=n.p+"static/614ca6e83a.svg"},function(e,t,n){e.exports=n.p+"static/45a59bb23f.svg"},function(e,t,n){e.exports=n.p+"static/53cb3a5f10.svg"},function(e,t,n){e.exports=n.p+"static/53cb3a5f10.svg"},function(e,t,n){e.exports=n.p+"static/3e5a1246ef.svg"},function(e,t,n){e.exports=n.p+"static/53cb3a5f10.svg"},function(e,t,n){e.exports=n.p+"static/3c5ef5ffee.svg"},function(e,t,n){e.exports=n.p+"static/0ad25e4b13.svg"},function(e,t,n){e.exports=n.p+"static/d0ab476331.svg"},function(e,t,n){e.exports=n.p+"static/d0ab476331.svg"},function(e,t,n){e.exports=n.p+"static/7735dfc101.svg"},function(e,t,n){e.exports=n.p+"static/d0ab476331.svg"},function(e,t,n){e.exports=n.p+"static/4496973677.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/51c4fd1ca4.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/72514d6e49.svg"},function(e,t,n){e.exports=n.p+"static/1c13d904a5.svg"},function(e,t,n){e.exports=n.p+"static/1c13d904a5.svg"},function(e,t,n){e.exports=n.p+"static/e934e583d4.svg"},function(e,t,n){e.exports=n.p+"static/f4eb54ea6d.svg"},function(e,t,n){e.exports=n.p+"static/f4eb54ea6d.svg"},function(e,t,n){e.exports=n.p+"static/28939e9ec4.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/f5d7d0f55b.svg"},function(e,t,n){e.exports=n.p+"static/37d8f470d8.svg"},function(e,t,n){e.exports=n.p+"static/fbf149dcc8.svg"},function(e,t,n){e.exports=n.p+"static/fbf149dcc8.svg"},function(e,t,n){e.exports=n.p+"static/a67b2229c8.svg"},function(e,t,n){e.exports=n.p+"static/620134eb80.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/1e99876b35.svg"},function(e,t,n){e.exports=n.p+"static/2ba9e14599.svg"},function(e,t,n){e.exports=n.p+"static/d3fc177828.svg"},function(e,t,n){e.exports=n.p+"static/eda0280db9.svg"},function(e,t,n){e.exports=n.p+"static/fc8660733b.svg"},function(e,t,n){e.exports=n.p+"static/17b573894e.svg"},function(e,t,n){e.exports=n.p+"static/5b0c219f18.svg"},function(e,t,n){e.exports=n.p+"static/82538a3fed.svg"},function(e,t,n){e.exports=n.p+"static/361066416c.svg"},function(e,t,n){e.exports=n.p+"static/9e2d3a1b86.svg"},function(e,t,n){e.exports=n.p+"static/5077038fa7.svg"},function(e,t,n){e.exports=n.p+"static/2985235df3.svg"},function(e,t,n){e.exports=n.p+"static/89c6158164.svg"},function(e,t,n){e.exports=n.p+"static/dc1b66a141.svg"},function(e,t,n){e.exports=n.p+"static/36705d208d.svg"},function(e,t,n){e.exports=n.p+"static/f80a91ba03.svg"},function(e,t,n){e.exports=n.p+"static/cd591c8aa8.svg"},function(e,t,n){e.exports=n.p+"static/cd591c8aa8.svg"},function(e,t,n){e.exports=n.p+"static/42c70b53f0.svg"},function(e,t,n){e.exports=n.p+"static/8e3e50290e.svg"},function(e,t,n){e.exports=n.p+"static/1c28eea713.svg"},function(e,t,n){e.exports=n.p+"static/1c28eea713.svg"},function(e,t,n){e.exports=n.p+"static/1c28eea713.svg"},function(e,t,n){e.exports=n.p+"static/1c28eea713.svg"},function(e,t,n){e.exports=n.p+"static/1c28eea713.svg"},function(e,t,n){e.exports=n.p+"static/328f7c8f58.svg"},function(e,t,n){e.exports=n.p+"static/1c28eea713.svg"},function(e,t,n){e.exports=n.p+"static/4e6a28f518.svg"},function(e,t,n){e.exports=n.p+"static/4e6a28f518.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/838442d56d.svg"},function(e,t,n){e.exports=n.p+"static/818d5dd99a.svg"},function(e,t,n){e.exports=n.p+"static/6eeaf20c39.svg"},function(e,t,n){e.exports=n.p+"static/5cb6c5fd31.svg"},function(e,t,n){e.exports=n.p+"static/838442d56d.svg"},function(e,t,n){e.exports=n.p+"static/00c1cd41e1.svg"},function(e,t,n){e.exports=n.p+"static/8e2eb4e81a.svg"},function(e,t,n){e.exports=n.p+"static/a6ea496e58.svg"},function(e,t,n){e.exports=n.p+"static/74a6a0b732.svg"},function(e,t,n){e.exports=n.p+"static/66612c168e.svg"},function(e,t,n){e.exports=n.p+"static/5e5fe5a981.svg"},function(e,t,n){e.exports=n.p+"static/9bbd9cb9c8.svg"},function(e,t,n){e.exports=n.p+"static/9cc0108f08.svg"},function(e,t,n){e.exports=n.p+"static/c3a4fa94d9.svg"},function(e,t,n){e.exports=n.p+"static/c3a4fa94d9.svg"},function(e,t,n){e.exports=n.p+"static/58c83946f6.svg"},function(e,t,n){e.exports=n.p+"static/58c83946f6.svg"},function(e,t,n){e.exports=n.p+"static/82538a3fed.svg"},function(e,t,n){e.exports=n.p+"static/b5dc9994bf.svg"},function(e,t,n){e.exports=n.p+"static/b1fab729ac.svg"},function(e,t,n){e.exports=n.p+"static/8b997283fb.svg"},function(e,t,n){e.exports=n.p+"static/b4acbf00d0.svg"},function(e,t,n){e.exports=n.p+"static/9b0bcfca5f.svg"},function(e,t,n){e.exports=n.p+"static/50f28568a0.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/1cd26fdb60.svg"},function(e,t,n){e.exports=n.p+"static/4aaff929af.svg"},function(e,t,n){e.exports=n.p+"static/0f32ad2bfa.svg"},function(e,t,n){e.exports=n.p+"static/42c9967c69.svg"},function(e,t,n){e.exports=n.p+"static/8446666eb0.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/1d07589b30.svg"},function(e,t,n){e.exports=n.p+"static/45a59bb23f.svg"},function(e,t,n){e.exports=n.p+"static/58696ffaf6.svg"},function(e,t,n){e.exports=n.p+"static/58696ffaf6.svg"},function(e,t,n){e.exports=n.p+"static/4ba575f55e.svg"},function(e,t,n){e.exports=n.p+"static/ac851df440.svg"},function(e,t,n){e.exports=n.p+"static/af99ebacc0.svg"},function(e,t,n){e.exports=n.p+"static/fa714175dd.svg"},function(e,t,n){e.exports=n.p+"static/ee8354c1b1.svg"},function(e,t,n){e.exports=n.p+"static/b5dc9994bf.svg"},function(e,t,n){e.exports=n.p+"static/09271a32a2.svg"},function(e,t,n){e.exports=n.p+"static/45a59bb23f.svg"},function(e,t,n){e.exports=n.p+"static/f11b83d401.svg"},function(e,t,n){e.exports=n.p+"static/70f2c0d968.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/42ba6a4383.svg"},function(e,t,n){e.exports=n.p+"static/51c4fd1ca4.svg"},function(e,t,n){e.exports=n.p+"static/42ab28d0bc.svg"},function(e,t,n){e.exports=n.p+"static/2ffe2ccff5.svg"},function(e,t,n){e.exports=n.p+"static/9afaef5b4f.svg"},function(e,t,n){e.exports=n.p+"static/8e6336e716.svg"},function(e,t,n){e.exports=n.p+"static/80498d29ec.svg"},function(e,t,n){e.exports=n.p+"static/9508221c37.svg"},function(e,t,n){e.exports=n.p+"static/2ffe2ccff5.svg"},function(e,t,n){e.exports=n.p+"static/b5d0f62d88.svg"},function(e,t,n){e.exports=n.p+"static/ec1f844187.svg"},function(e,t,n){e.exports=n.p+"static/b4ed2bd8f1.svg"},function(e,t,n){e.exports=n.p+"static/ba2b4c974f.svg"},function(e,t,n){e.exports=n.p+"static/1f16734c1d.svg"},function(e,t,n){e.exports=n.p+"static/ea4e1d80a5.svg"},function(e,t,n){e.exports=n.p+"static/ea4e1d80a5.svg"},function(e,t,n){e.exports=n.p+"static/ea4e1d80a5.svg"},function(e,t,n){e.exports=n.p+"static/9b75438e96.svg"},function(e,t,n){e.exports=n.p+"static/bde183ff4d.svg"},function(e,t,n){e.exports=n.p+"static/d92e2d897a.svg"},function(e,t,n){e.exports=n.p+"static/f97512804e.svg"},function(e,t,n){e.exports=n.p+"static/5f7fe9c4b5.svg"},function(e,t,n){e.exports=n.p+"static/4addfd8db2.svg"},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(514),o=n(3),i=n(76),l=n(69),c=n(29);var u=()=>{const{data:e,update:t}=Object(a.useContext)(i.a),n=(null==e?void 0:e.aggregateFunction)||l.f[0],r=Object(a.useCallback)(e=>{Object(c.a)("Updating the Aggregate function in the Flow Query Builder",{function:e.name}),t({aggregateFunction:e})},[t]),u=s.a.createElement(s.a.Fragment,null,l.f.map(e=>s.a.createElement(o.Dropdown.Item,{key:e.name,value:e,onClick:r,selected:e.name===n.name,title:e.name,wrapText:!0},e.name)));return s.a.createElement(o.Dropdown,{button:(e,t)=>s.a.createElement(o.Dropdown.Button,{onClick:t,active:e},n.name),menu:e=>s.a.createElement(o.Dropdown.Menu,{onCollapse:e},u),style:{width:"180px"}})},m=n(876);var d=({measurements:e})=>{const{data:t,update:n}=Object(a.useContext)(i.a),r=null==t?void 0:t.measurement,l=Object(a.useCallback)(e=>{let t=e;t===r?(Object(c.a)("Deselecting Measurement in Flow Query Builder"),t=""):Object(c.a)("Selecting Measurement in Flow Query Builder",{measurement:e}),n({measurement:t})},[n,r]);return s.a.createElement(s.a.Fragment,null,e.map(e=>s.a.createElement(o.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===r,title:e,gradient:o.Gradients.GundamPilot,wrapText:!0},s.a.createElement(o.List.Indicator,{type:"dot"}),s.a.createElement("div",{className:"selectors--item-value selectors--item__measurement"},e),s.a.createElement("div",{className:"selectors--item-name"},"measurement"),s.a.createElement("div",{className:"selectors--item-type"},"string"))))};var p=({fields:e})=>{const{data:t,update:n}=Object(a.useContext)(i.a),r=null==t?void 0:t.field,l=Object(a.useCallback)(e=>{let t=e;t===r?(Object(c.a)("Deselecting Field in Flow Query Builder"),t=""):Object(c.a)("Selecting Field in Flow Query Builder",{field:e}),n({field:t})},[n,r]);return s.a.createElement(s.a.Fragment,null,e.map(e=>s.a.createElement(o.List.Item,{key:e,value:e,onClick:()=>l(e),selected:e===r,title:e,gradient:o.Gradients.GundamPilot,wrapText:!0},s.a.createElement(o.List.Indicator,{type:"dot"}),s.a.createElement("div",{className:"selectors--item-value selectors--item__field"},e),s.a.createElement("div",{className:"selectors--item-name"},"field"),s.a.createElement("div",{className:"selectors--item-type"},"string"))))},h=n(4);const _=(e,t,n)=>{const a=n.toLowerCase(),s=t.measurement,r=t.field,o=null==t?void 0:t.tags,i=[];let l=[],c=[];Object.entries(e).filter(([e,t])=>{var n;if(s)return e===s;const{fields:i,tags:l}=t;if(r)return i.some(e=>e===r);if((null===(n=Object.keys(o))||void 0===n?void 0:n.length)>0){return Object.keys(o).some(e=>e in l)}return!!e.toLowerCase().includes(a)||(!!i.some(e=>e.toLowerCase().includes(a))||Object.entries(l).some(([e,t])=>{if(e.toLowerCase().includes(a))return!0;const n=[...t];return(null==n?void 0:n.some(e=>`${e}`.toLowerCase().includes(a)))||!1}))}).forEach(([e,t])=>{i.push(e);const{fields:n,tags:a}=t;l=l.concat(n),c=c.concat(a)});const u=(e=>{const t={},n=new Set;let a=[];return e.forEach(e=>{Object.entries(e).forEach(([e,s])=>{const r=[...s];r.sort();const o=JSON.stringify(r);if(e in t==!1)return t[e]=o,n.add(o),void(a=a.concat({[e]:r}));t[e]===o||n.has(o)||(n.add(o),a=a.concat({[e]:r}))})}),a})(c),m=((e,t,n)=>e.filter(e=>n?e===n:e.toLowerCase().includes(t)))([...new Set(l)],a,null==t?void 0:t.field),d=[...new Set(i)].filter(e=>e.toLowerCase().includes(a));d.sort((e,t)=>e.localeCompare(t));const p=((e,t)=>e.filter(e=>0!==Object.entries(e).filter(([e,n])=>!!e.toLowerCase().includes(t)||(null==n?void 0:n.some(e=>e.toLowerCase().includes(t)))).length))(u,a).map(e=>{const t=Object.keys(e)[0];return{[t]:e[t].sort((e,t)=>e.localeCompare(t))}});return m.filter(e=>e.toLowerCase().includes(a)).sort((e,t)=>e.localeCompare(t)),p.filter(e=>Object.keys(e)[0].toLowerCase().includes(a)).sort((e,t)=>{const n=Object.keys(e)[0].toLowerCase(),a=Object.keys(t)[0].toLowerCase();return n.localeCompare(a)}),{measurements:d,fields:m,tags:p}};var g=n(50),f=n(121),b=n(5),y=n(21);var v=n(774),x=n(28),w=n(31),E=n(773);const k=e=>async(t,n)=>{try{const a=n();let s=null;if(e&&(s=((e,t)=>{const n=((e,t)=>e.flow.schema[t]||null)(e,t.name);return(null==n?void 0:n.schema)&&(null==n?void 0:n.exp)>(new Date).getTime()?n.schema:null})(a,e)),null!==s)return;t(Object(v.d)(b.RemoteDataState.Loading,e.name,{}));let r=Object(y.a)(a).id;e.orgID&&(r=e.orgID);const o=await(async(e,t)=>{const n=`from(bucket: "${e.name}")\n  |> range(start: -4d)\n  |> first()`;return await Object(f.a)(t,n).promise.then(e=>{if("SUCCESS"!==e.type)throw new Error(e.message);return e}).then(e=>Object(g.fromFluxWithSchema)(e.csv).schema)})(e,r);t(Object(v.d)(b.RemoteDataState.Done,e.name,o))}catch(e){console.error(e),t(Object(v.d)(b.RemoteDataState.Error)),t(Object(x.c)(Object(w.tb)()))}},S={loading:b.RemoteDataState.NotStarted,measurements:[],fields:[],tags:[],searchTerm:"",setSearchTerm:e=>{}},C=s.a.createContext(S),T=s.a.memo(({children:e})=>{const{data:t,update:n}=Object(a.useContext)(i.a),[r,o]=Object(a.useState)(""),[l,c]=Object(a.useState)(t.bucket),u=Object(h.d)(),m=Object(h.e)(e=>{var n,a;return(null===(a=e.flow.schema[null===(n=t.bucket)||void 0===n?void 0:n.name])||void 0===a?void 0:a.status)||b.RemoteDataState.NotStarted});Object(a.useEffect)(()=>{u((()=>e=>{setInterval(()=>{e(Object(v.c)())},E.a/2),e(Object(v.c)())})())},[u]),Object(a.useEffect)(()=>{t.bucket!==l&&(o(""),n({field:"",tags:{},measurement:""}),c(t.bucket))},[t.bucket,l,n]),Object(a.useEffect)(()=>{t.bucket&&t.bucket!==l&&u(k(t.bucket))},[t.bucket,l,u]);const d=Object(h.e)(e=>{var n,a;return(null===(a=e.flow.schema[null===(n=t.bucket)||void 0===n?void 0:n.name])||void 0===a?void 0:a.schema)||{}}),{fields:p,measurements:g,tags:f}=_(d,t,r);return s.a.createElement(C.Provider,{value:{loading:m,measurements:g,fields:p,tags:f,searchTerm:r,setSearchTerm:o}},e)});var O=({tags:e})=>{const{data:t,update:n}=Object(a.useContext)(i.a),{searchTerm:r}=Object(a.useContext)(C),l=null==t?void 0:t.tags,u=Object(a.useCallback)((e,t)=>{var a;let s=[];s=l[e]?l[e]&&l[e].includes(t)?l[e].filter(e=>e!==t):[...l[e],t]:[t];const r=Object.assign(Object.assign({},l),{[e]:s});s.length<(null===(a=l[e])||void 0===a?void 0:a.length)?Object(c.a)("Deselecting Tag in Flow Query Builder",{type:"multi-select",tags:JSON.stringify(r)}):Object(c.a)("Selecting Tag in Flow Query Builder",{type:"multi-select",tags:JSON.stringify(r)}),n({tags:r})},[n]),m=Object(a.useCallback)((e,t,a)=>{var s;if(e.metaKey||e.ctrlKey)return void u(t,a);let r=[a],o={[t]:r};(null===(s=l[t])||void 0===s?void 0:s.includes(a))&&(r=[],o[t]=r),t in l&&0===r.length?(Object(c.a)("Deselecting Tag in Flow Query Builder",{type:"single-select"}),o={}):Object(c.a)("Selecting Tag in Flow Query Builder",{type:"single-select",tags:JSON.stringify(o)}),n({tags:o})},[n]);return s.a.createElement(s.a.Fragment,null,e.map(e=>s.a.createElement(s.a.Fragment,{key:JSON.stringify(e)},Object.entries(e).map(([e,t])=>{const n=t;return s.a.createElement(s.a.Fragment,{key:e},n.filter(t=>e.toLowerCase().includes(r.toLowerCase())||t.toLowerCase().includes(r.toLowerCase())).map(t=>{var n;return s.a.createElement(o.List.Item,{key:t,value:t,onClick:(t,n)=>{m(n,e,t)},selected:null===(n=l[e])||void 0===n?void 0:n.includes(t),title:t,gradient:o.Gradients.GundamPilot,wrapText:!0},s.a.createElement(o.List.Indicator,{type:"dot"}),s.a.createElement("div",{className:"selectors--item-value selectors--item__tag"},`${e} = ${t}`),s.a.createElement("div",{className:"selectors--item-name"},"tag"),s.a.createElement("div",{className:"selectors--item-type"},"string"))}))}))))};var D=()=>{const{fields:e,measurements:t,tags:n}=Object(a.useContext)(C);return s.a.createElement("div",{className:"data-source--block-results"},s.a.createElement(o.List,{className:"data-source--list",backgroundColor:o.InfluxColors.Obsidian,maxHeight:"304px",style:{height:"304px"}},s.a.createElement(d,{measurements:t}),s.a.createElement(p,{fields:e}),s.a.createElement(O,{tags:n})))};var I=()=>{const{loading:e}=Object(a.useContext)(C);return e===o.RemoteDataState.Loading?s.a.createElement("div",{className:"data-source--list__empty"},s.a.createElement(o.TechnoSpinner,{strokeWidth:o.ComponentSize.Small,diameterPixels:32})):e===o.RemoteDataState.Error?s.a.createElement("div",{className:"data-source--list__empty"},s.a.createElement("p",null,"Could not fetch schema")):e===o.RemoteDataState.Done?s.a.createElement(D,null):null};var j=()=>{const{searchTerm:e,setSearchTerm:t}=Object(a.useContext)(C);return s.a.createElement(o.Input,{icon:o.IconFont.Search,size:o.ComponentSize.Medium,value:e,placeholder:"Filter data by Measurement, Field, or Tag ...",onChange:e=>(e=>{Object(c.a)("Searching in Flow Query Builder"),t(e)})(e.target.value)})};n(368);const R=(e,t)=>{if(!e)return null;switch(t){case"measurement":return{id:e,name:`measurement = ${e}`,properties:{color:"hotpink",description:""},type:t};case"field":return{id:e,name:`field = ${e}`,properties:{color:"lightskyblue",description:""},type:t};case"tags":{const n=Object.keys(e);if(n){const a=[];return n.filter(t=>!!e[t]).forEach(n=>{const s=e[n].map(e=>({id:e,name:`${n} = ${e}`,properties:{color:"limegreen",description:""},type:t}));a.push(...s)}),a}return null}default:return null}};var N=()=>{const{data:e,update:t}=Object(a.useContext)(i.a);return s.a.createElement("div",{className:"data-source--filters"},s.a.createElement("p",{className:"data-source--filters-label"},"Filters:"),s.a.createElement("div",{className:"data-source--filters-list"},(()=>{const n=R(e.measurement,"measurement");let a=[];n&&(a=a.concat(n));const r=R(e.field,"field");r&&(a=a.concat(r));const i=R(e.tags,"tags");return i&&(a=a.concat(i)),a.length?a.map(n=>{const a=Object.assign({},n);return s.a.createElement(o.Label,{className:"data-source--filter",id:a.id,key:a.id,name:a.name,color:a.properties.color,description:a.properties.description,onDelete:()=>((n,a)=>{if(Object(c.a)("Deleting the Filter Label in Flow Query Builder",{type:n}),"tags"===n){const[n,s]=a.split(" = "),r=(null==e?void 0:e.tags)||{};t({tags:Object.entries(r).reduce((e,[t,a])=>t!==n?(e[t]=a,e):(e[t]=a.filter(e=>e!==s),e[t].length||delete e[t],e),{})})}else t({[n]:""})})(a.type,a.name)})}):s.a.createElement("span",null)})()))};var A=({Context:e})=>s.a.createElement(r.b,null,s.a.createElement(T,null,s.a.createElement(e,null,s.a.createElement("div",{className:"data-source--controls"},s.a.createElement(m.a,null),s.a.createElement(N,null),s.a.createElement(u,null)),s.a.createElement(j,null),s.a.createElement(I,null))));n(877),t.default=e=>{e({type:"queryBuilder",family:"inputs",priority:1,component:A,button:"Metric Selector",initial:{field:"",measurement:"",tags:{},aggregateFunction:l.f[0]},generateFlux:(e,t,n)=>{var a;const{aggregateFunction:s,bucket:r,field:o,measurement:i,tags:l}=e;if(!r)return;let c=`from(bucket: "${r.name}")|>range(start: v.timeRangeStart, stop: v.timeRangeStop)`;i&&(c+=`|> filter(fn: (r) => r["_measurement"] == "${i}")`),o&&(c+=`|> filter(fn: (r) => r["_field"] == "${o}")`),l&&(null===(a=Object.keys(l))||void 0===a?void 0:a.length)>0&&Object.keys(l).filter(e=>!!l[e]).forEach(e=>{const t=l[e];1===t.length?c+=`|> filter(fn: (r) => r["${e}"] == "${t[0]}")`:t.forEach((n,a)=>{0===a&&(c+=`|> filter(fn: (r) => r["${e}"] == "${n}"`),t.length-1===a?c+=` or r["${e}"] == "${n}")`:c+=` or r["${e}"] == "${n}"`})}),(null==s?void 0:s.name)&&(c+=` |> aggregateWindow(every: v.windowPeriod, fn: ${s.name}, createEmpty: false)`),t(c)}})}},,function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(3);var o=({mode:e,onToggleMode:t})=>s.a.createElement(r.SelectGroup,null,s.a.createElement(r.SelectGroup.Option,{active:"edit"===e,onClick:t,value:"edit",id:"edit"},"Edit"),s.a.createElement(r.SelectGroup.Option,{active:"preview"===e,onClick:t,value:"preview",id:"preview"},"Preview")),i=n(433),l=n.n(i),c=n(477);Object(c.a)("markdown",async()=>({format:"json",content:await n.e(71).then(n.t.bind(null,1759,3)).then(e=>JSON.stringify(e))}));var u=n(834),m=n(835),d=n(36);n(478);var p=({script:e,onChangeScript:t,autogrow:n})=>{return s.a.createElement("div",{className:"markdown-editor--monaco","data-testid":"markdown-editor"},s.a.createElement(l.a,{language:"markdown",theme:u.a,value:e,onChange:e=>{t(e)},options:{fontSize:13,fontFamily:'"IBMPlexMono", monospace',cursorWidth:2,lineNumbersMinChars:4,lineDecorationsWidth:0,minimap:{renderCharacters:!1},contextmenu:!1,overviewRulerBorder:!1,automaticLayout:!0},editorDidMount:t=>{if(n&&Object(m.a)(t),Object(d.c)("cursorAtEOF")){const n=(e||"").split("\n");t.setPosition({lineNumber:n.length,column:n[n.length-1].length+1}),t.focus()}else t.focus()}}))},h=n(265),_=n(76);var g=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(_.a),i=()=>{n({mode:"edit"})},l=s.a.createElement(o,{mode:t.mode,onToggleMode:e=>{n({mode:e})}});let c=s.a.createElement(r.ClickOutside,{onClickOutside:()=>{n({mode:"preview"})}},s.a.createElement(p,{script:t.text,onChangeScript:e=>{n({text:e})},autogrow:!0}));return"preview"===t.mode&&(c=s.a.createElement("div",{className:"flow-panel--markdown markdown-format",onClick:i},s.a.createElement(h.a,{text:t.text}))),s.a.createElement(e,{controls:l},c)};n(1373);t.default=e=>{e({type:"markdown",family:"passThrough",component:g,button:"Markdown",initial:()=>({text:"Type markdown here",mode:"edit"})})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--gauge"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M110.9,110.9c19.9-19.9,19.9-52,0-71.9s-52-19.9-71.9,0s-19.9,52,0,71.9"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"110.9",x2:"35",y2:"115"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"110.9",x2:"115",y2:"115"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"94.5",x2:"127.2",y2:"96.6"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"125.8",y1:"75",x2:"131.5",y2:"75"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"122",y1:"55.5",x2:"127.2",y2:"53.4"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"110.9",y1:"39.1",x2:"115",y2:"35"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"94.5",y1:"28",x2:"96.6",y2:"22.8"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"75",y1:"24.2",x2:"75",y2:"18.5"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"55.5",y1:"28",x2:"53.4",y2:"22.8"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"39.1",y1:"39.1",x2:"35",y2:"35"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"55.5",x2:"22.8",y2:"53.4"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"24.2",y1:"75",x2:"18.5",y2:"75"}),s.a.createElement("line",{className:"vis-graphic--line vis-graphic--line-d",x1:"28",y1:"94.5",x2:"22.8",y2:"96.6"})),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M78.6,73.4L75,56.3l-3.6,17.1c-0.2,0.5-0.3,1-0.3,1.6c0,2.2,1.8,3.9,3.9,3.9s3.9-1.8,3.9-3.9C78.9,74.4,78.8,73.9,78.6,73.4z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M58.9,58.9c8.9-8.9,23.4-8.9,32.3,0l17.1-17.1c-18.4-18.4-48.2-18.4-66.5,0C32.5,50.9,27.9,63,27.9,75h24.2C52.2,69.2,54.4,63.3,58.9,58.9z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M58.9,91.1c-4.5-4.5-6.7-10.3-6.7-16.1H27.9c0,12,4.6,24.1,13.8,33.3L58.9,91.1z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M91.1,91.1l17.1,17.1c18.4-18.4,18.4-48.2,0-66.6L91.1,58.9C100.1,67.8,100.1,82.2,91.1,91.1z"}))),o=n(140),i=n(69),l={type:"gauge",shape:"chronograf-v2",legend:{},queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.d}}}],colors:o.e,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(897),m=n(863);var d=({thresholds:e,onSetThresholds:t})=>{const[n,r]=Object(a.useState)({}),o=(n,a)=>{t(e.map(e=>e.id!==n?e:Object.assign(Object.assign({},e),a)))},i=()=>{r(Object(m.c)(e))};return s.a.createElement(c.FlexBox,{direction:c.FlexDirection.Column,alignItems:c.AlignItems.Stretch,margin:c.ComponentSize.Medium,testID:"threshold-settings"},s.a.createElement(c.Button,{shape:c.ButtonShape.StretchToFit,icon:c.IconFont.Plus,text:"Add a Threshold",onClick:()=>(()=>{const n=Object(m.a)(e);t([...e,n])})()}),Object(m.b)(e).map(a=>{return s.a.createElement(u.a,{key:`threshold-${a.id}`,id:`threshold-${a.id}`,name:a.name,type:a.type,value:""+a.value,error:n[a.id],onBlur:i,onRemove:()=>(n=>{t(e.filter(e=>e.id!==n))})(a.id),onChangeValue:e=>o(a.id,{value:parseFloat(e)}),onChangeColor:(e,t)=>o(a.id,{name:e,hex:t})})}))},p=n(49),h=n(132);var _=({properties:e,update:t})=>{const n=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})};return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Customize Gauge"),s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Prefix"},s.a.createElement(c.Input,{testID:"prefix-input",value:e.prefix,onChange:e=>{t({prefix:e.target.value})},placeholder:"%, MPH, etc."}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Suffix"},s.a.createElement(c.Input,{testID:"suffix-input",value:e.suffix,onChange:e=>{t({suffix:e.target.value})},placeholder:"%, MPH, etc."})))),s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.FlexBox,{alignItems:c.AlignItems.Center,margin:c.ComponentSize.Small,className:"view-options--checkbox"},s.a.createElement(c.Toggle,{id:"prefixoptional",testID:"tickprefix-input",type:c.InputToggleType.Checkbox,value:e.tickPrefix,onChange:e=>{t({tickPrefix:"false"===e||!e})},size:c.ComponentSize.ExtraSmall}),s.a.createElement(c.InputLabel,{active:!!e.tickPrefix},"Optional Prefix"))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.FlexBox,{alignItems:c.AlignItems.Center,margin:c.ComponentSize.Small,className:"view-options--checkbox"},s.a.createElement(c.Toggle,{id:"suffixoptional",testID:"ticksuffix-input",type:c.InputToggleType.Checkbox,value:e.tickSuffix,onChange:e=>{t({tickSuffix:"false"===e||!e})},size:c.ComponentSize.ExtraSmall}),s.a.createElement(c.InputLabel,{active:!!e.tickSuffix},"Optional Suffix")))),e.decimalPlaces&&s.a.createElement(c.Form.Element,{label:"Decimal Places"},s.a.createElement(c.AutoInput,{mode:e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n(null):n(2)},inputComponent:s.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{n(Object(h.a)(e))},value:e.decimalPlaces.digits,min:p.n,max:p.m,type:c.InputType.Number})}))),s.a.createElement(c.Grid.Column,null,s.a.createElement("h4",{className:"view-options--header"},"Colorized Thresholds")),s.a.createElement(c.Grid.Column,null,s.a.createElement(d,{thresholds:e.colors,onSetThresholds:e=>{t({colors:e})}})))};t.default=e=>{e({type:"gauge",name:"Gauge",graphic:r,initial:l,options:_})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(76);var o=({visible:e})=>{const{data:t}=Object(a.useContext)(r.a),n=t.uri.split(":");return Object(a.useMemo)(()=>e&&s.a.createElement("iframe",{src:`https://open.spotify.com/embed/${n[1]}/${n[2]}`,width:"600",height:"80",frameBorder:"0",allow:"encrypted-media"}),[e,n[1],n[2]])},i=n(3);var l=({visible:e})=>{const{data:t,update:n}=Object(a.useContext)(r.a);return e?s.a.createElement("div",{className:"flow-spotify--editor"},s.a.createElement("label",null,"Spotify URI"),s.a.createElement(i.Input,{value:t.uri,onChange:e=>{n(e.target.value)}})):null};var c=({Context:e})=>{const{data:t}=Object(a.useContext)(r.a),[n,c]=Object(a.useState)(!1),u=s.a.createElement(i.SquareButton,{icon:i.IconFont.CogThick,titleText:"Edit Spotify URI",onClick:()=>{c(!n)}}),m=n||!t.uri;return s.a.createElement(e,{controls:u},s.a.createElement("div",{className:"flow-spotify"},s.a.createElement(l,{visible:m}),s.a.createElement(o,{visible:!m})))};n(1370),t.default=e=>{e({type:"spotify",family:"test",priority:-1,featureFlag:"flow-panel--spotify",button:"Music",component:c,initial:{uri:"spotify:track:55A8N3HXzIecctUSvru3Ch"}})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(3),o=n(289),i=n(4),l=n(95),c=n(290),u=n(18),m=n(5),d=n(49),p=n(21),h=n(29),_=n(28);const g={createView:c.a,createViewAndDashboard:c.b,notify:_.c};var f=Object(i.c)(e=>{return{dashboards:Object(u.a)(e,m.ResourceType.Dashboards),orgID:Object(p.a)(e).id}},g)(({orgID:e,notify:t,query:n,properties:o,onClose:c,dashboards:u,createView:p,createViewAndDashboard:_})=>{const g=Object(i.d)(),[f,b]=Object(a.useState)(null),[y,v]=Object(a.useState)(d.e);Object(a.useEffect)(()=>{g(Object(l.i)())},[g]);const x=f&&f.id===d.k.id&&s.a.createElement("div",{className:"flow-visualization--dashboard-list-section"},s.a.createElement(r.InputLabel,{className:"flow-visualization--dashboard-list-label"},"New Dashboard Name"),s.a.createElement(r.Input,{type:r.InputType.Text,placeholder:"Name new dashboard",name:"dashboardName",value:y,onChange:e=>{b(Object.assign(Object.assign({},f),{name:e.target.value})),v(e.target.value)},autoFocus:!0})),w=u.map(e=>s.a.createElement(r.Dropdown.Item,{id:e.id,key:e.id,value:e,onClick:b,selected:f&&f.id===e.id},e.name)),E=s.a.createElement(r.Dropdown.Menu,{scrollToSelected:!1,theme:r.DropdownMenuTheme.Sapphire},s.a.createElement(r.Dropdown.Item,{value:d.k,onClick:b,selected:f&&f.id===d.k.id},"Create a New Dashboard"),s.a.createElement(r.Dropdown.Divider,null),w),k=f?r.ComponentStatus.Default:r.ComponentStatus.Disabled;return s.a.createElement("div",{className:"flow-visualization--dashboard-list"},s.a.createElement("h4",null,"Export Visualization"),s.a.createElement(r.InputLabel,{className:"flow-visualization--dashboard-list-label"},"Choose a Dashboard"),E,x,s.a.createElement(r.FlexBox,{alignItems:r.AlignItems.Center,stretchToFitWidth:!0,margin:r.ComponentSize.Medium,justifyContent:r.JustifyContent.Center,className:"flow-visualization--dashboard-list-section"},s.a.createElement(r.SquareButton,{icon:r.IconFont.Remove,onClick:()=>{Object(h.a)("Save Visualization to Dashboard Canceled"),c()},titleText:"Cancel"}),s.a.createElement(r.SquareButton,{icon:r.IconFont.Checkmark,onClick:()=>{Object(h.a)("Save Visualization to Dashboard");const a={name:"From Flow",properties:Object.assign(Object.assign({},o),{queries:[{text:n,editMode:"advanced",name:""}]})};f.id===d.k.id?_(e,f.name,a):(p(f.id,a),t((e=>({message:`Visualization added to ${e}`,style:m.NotificationStyle.Success,icon:r.IconFont.Checkmark,duration:6666}))(f.name))),c()},titleText:"Save to Dashboard",status:k,color:r.ComponentColor.Success,className:"flows-export-visualization-success"})))}),b=n(375),y=n(510),v=n(383),x=n(51);var w=({disabled:e,children:t})=>{const[n,o]=Object(a.useState)(!1),i=Object(a.useRef)(null),l=e?r.ComponentStatus.Disabled:r.ComponentStatus.Default,c=n?{opacity:1}:null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(r.SquareButton,{ref:i,icon:r.IconFont.Export,titleText:"Save to Dashboard",status:l,style:c,className:"flows-export-visualization-button"}),s.a.createElement(r.Popover,{triggerRef:i,contents:t,appearance:r.Appearance.Outline,enableDefaultStyles:!1,position:r.PopoverPosition.ToTheLeft,onShow:()=>{Object(h.a)("Export Flow Button Clicked"),o(!0)},onHide:()=>{Object(h.a)("Export Flow Canceled"),o(!1)}}))},E=n(365),k=n(369),S=n(76);var C=({Context:e})=>{const{timeZone:t}=Object(a.useContext)(k.a),{data:n,update:i,loading:l,results:c}=Object(a.useContext)(S.a),[u,d]=Object(a.useState)(!1),p=Object(a.useCallback)(()=>{d(!u)},[u,d]),_=Object(a.useCallback)(e=>{i({properties:Object.assign(Object.assign({},n.properties),e)})},[n.properties,i]),g=s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{viewType:n.properties.type,onUpdateType:e=>{Object(h.a)("Flow Visualization Type Changed",{type:e}),i({properties:Object(E.b)(E.a[e].initial,c.parsed)})}}),s.a.createElement(r.SquareButton,{icon:r.IconFont.CogThick,onClick:p,color:u?r.ComponentColor.Primary:r.ComponentColor.Default,titleText:"Configure Visualization",className:"flows-config-visualization-button"}),s.a.createElement(w,{disabled:!c.source},e=>s.a.createElement(f,{query:c.source,onClose:e,properties:n.properties}))),C=Object(a.useMemo)(()=>u&&E.a[n.properties.type].options?Object(a.createElement)(E.a[n.properties.type].options,{properties:n.properties,results:c.parsed,update:_}):null,[u,n.properties,c.parsed,_]),T=Object(a.useMemo)(()=>l===m.RemoteDataState.Loading?"Loading":l===m.RemoteDataState.NotStarted?"This cell will visualize results from the previous cell":"No Data Returned",[l]);return s.a.createElement(e,{controls:g},C,s.a.createElement(v.b,{resizingEnabled:!!c.raw,emptyText:T,emptyIcon:r.IconFont.BarChart,toggleVisibilityEnabled:!1,height:n.panelHeight,onUpdateHeight:e=>i({panelHeight:e}),visibility:n.panelVisibility,onUpdateVisibility:e=>i({panelVisibility:e})},s.a.createElement("div",{className:"flow-visualization"},s.a.createElement("div",{className:"flow-visualization--view"},s.a.createElement(o.b,{loading:l,errorMessage:c.error,errorFormat:o.a.Scroll,hasResults:Object(x.a)(c.parsed)},s.a.createElement(b.a,{giraffeResult:c.parsed,files:[c.raw],properties:n.properties,timeZone:t,theme:"dark"}))))))};n(1372),t.default=e=>{e({type:"visualization",family:"passThrough",component:C,button:"Visualization",initial:{panelVisibility:"visible",panelHeight:200,properties:E.a.xy.initial}})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--xy"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Line",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"148,40 111.5,47.2 75,25 38.5,90.8 2,111.8 2,125 148,125 \t"}),s.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-a",points:"2,111.8 38.5,90.8 75,25 111.5,47.2 148,40 \t"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"148,88.2 111.5,95.5 75,61.7 38.5,49.3 2,90.8 2,125 148,125 \t"}),s.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-b",points:"2,90.8 38.5,49.3 75,61.7 111.5,95.5 148,88.2 \t"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,96 111.5,106.3 75,85.7 38.5,116.5 2,115 2,125 148,125 \t"}),s.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,115 38.5,116.5 75,85.7 111.5,106.3 148,96 \t"}))),o=n(119),i=n(69),l={type:"xy",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,position:"overlaid",hoverDimension:"auto",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.d}}}],colors:o.a,legend:{},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}}},c=n(3),u=n(161),m=n(508),d=n(49),p=n(167),h=n(51),_=n(283),g=n(363);const{BASE_2:f,BASE_10:b}=m.a;var y=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),r=Object(h.c)(t.table,e.xColumn),o=Object(h.d)(t.table,e.yColumn),i=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})};return s.a.createElement(c.Grid,null,s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(c.Form.Element,{label:"X Column"},s.a.createElement(c.SelectDropdown,{options:a,selectedOption:r||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==a.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),s.a.createElement(c.Form.Element,{label:"Y Column"},s.a.createElement(c.SelectDropdown,{options:a,selectedOption:o||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==a.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),s.a.createElement(c.Form.Element,{label:"Time Format"},s.a.createElement(c.SelectDropdown,{options:d.l.map(e=>e.text),selectedOption:Object(p.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Options"),e.geom&&s.a.createElement(c.Form.Element,{label:"Interpolation"},s.a.createElement(c.Dropdown,{button:(t,n)=>s.a.createElement(c.Dropdown.Button,{active:t,onClick:n},(e=>{switch(e){case"monotoneX":return"Smooth";case"step":return"Step";default:case"line":return"Linear"}})(e.geom)),menu:t=>s.a.createElement(c.Dropdown.Menu,{onCollapse:t},s.a.createElement(c.Dropdown.Item,{value:"line",onClick:e=>{n({geom:e})},selected:"line"===e.geom},"Linear"),s.a.createElement(c.Dropdown.Item,{value:"monotoneX",onClick:e=>{n({geom:e})},selected:"monotoneX"===e.geom},"Smooth"),s.a.createElement(c.Dropdown.Item,{value:"step",onClick:e=>{n({geom:e})},selected:"step"===e.geom},"Step"))})),s.a.createElement(c.Form.Element,{label:"Line Colors"},s.a.createElement(_.a,{value:e.colors.filter(e=>"scale"===e.type),onChange:e=>{n({colors:e})}})),s.a.createElement(g.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),s.a.createElement("br",null),s.a.createElement(c.Form.Element,{label:"Hover Dimension"},s.a.createElement(c.Dropdown,{button:(t,n)=>s.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>s.a.createElement(c.Dropdown.Menu,{onCollapse:t},s.a.createElement(c.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),s.a.createElement(c.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X Axis"),s.a.createElement(c.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y Axis"),s.a.createElement(c.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X & Y Axis"))}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(c.Form.Element,{label:"Y Axis Label"},s.a.createElement(c.Input,{value:e.axes.y.label,onChange:e=>{i("y",{label:e.target.value})}})),s.a.createElement(c.Form.Element,{label:"Y-Value Unit Prefix"},s.a.createElement(c.SelectGroup,{shape:c.ButtonShape.StretchToFit},s.a.createElement(c.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{i("y",{base:e})}},"None"),s.a.createElement(c.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:b,active:e.axes.y.base===b,titleText:"Format values using an International System of Units prefix",onClick:e=>{i("y",{base:e})}},"SI"),s.a.createElement(c.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:f,active:e.axes.y.base===f,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{i("y",{base:e})}},"Binary"))),s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Y Axis Prefix"},s.a.createElement(c.Input,{value:e.axes.y.prefix,onChange:e=>{i("y",{prefix:e.target.value})}}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Y Axis Suffix"},s.a.createElement(c.Input,{value:e.axes.y.suffix,onChange:e=>{i("y",{suffix:e.target.value})}})))),s.a.createElement(u.a,{domain:Object(h.p)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),i("y",{bounds:t})},label:"Y Axis Domain"}),s.a.createElement(c.Form.Element,{label:"Positioning"},s.a.createElement(c.Dropdown,{button:(t,n)=>s.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>s.a.createElement(c.Dropdown.Menu,{onCollapse:t},s.a.createElement(c.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),s.a.createElement(c.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))})))))};t.default=e=>{e({type:"xy",name:"Graph",graphic:r,initial:l,options:y})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--heatmap"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("g",{id:"r"},s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"127.5,127.5 127.5,112.5 112.5,112.5 112.5,127.5 97.5,127.5 97.5,142.5 112.5,142.5 127.5,142.5\n\t\t142.5,142.5 142.5,127.5 \t"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-b",points:"67.5,127.5 52.5,127.5 52.5,112.5 37.5,112.5 37.5,97.5 22.5,97.5 22.5,112.5 22.5,127.5 7.5,127.5\n\t\t7.5,142.5 22.5,142.5 37.5,142.5 52.5,142.5 67.5,142.5 82.5,142.5 82.5,127.5 82.5,112.5 67.5,112.5 \t"})),s.a.createElement("g",{id:"rl"},s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M126,114v13.5v1.5h1.5H141v12h-13.5h-15H99v-12h13.5h1.5v-1.5V114H126 M127.5,112.5h-15v15h-15v15h15h15h15\n\t\t\tv-15h-15V112.5L127.5,112.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M36,99v13.5v1.5h1.5H51v13.5v1.5h1.5h15H69v-1.5V114h12v13.5V141H67.5h-15h-15h-15H9v-12h13.5H24v-1.5v-15V99\n\t\t\tH36 M37.5,97.5h-15v15v15h-15v15h15h15h15h15h15v-15v-15h-15v15h-15v-15h-15V97.5L37.5,97.5z"}))),s.a.createElement("g",{id:"g"},s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"97.5,97.5 97.5,82.5 82.5,82.5 82.5,97.5 67.5,97.5 52.5,97.5 37.5,97.5 37.5,112.5 52.5,112.5\n\t\t52.5,127.5 67.5,127.5 67.5,112.5 82.5,112.5 82.5,127.5 82.5,142.5 97.5,142.5 97.5,127.5 112.5,127.5 112.5,112.5 97.5,112.5\n\t\t"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"127.5,82.5 127.5,97.5 112.5,97.5 112.5,112.5 127.5,112.5 127.5,127.5 142.5,127.5 142.5,112.5\n\t\t142.5,97.5 142.5,82.5 \t"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"37.5,67.5 22.5,67.5 22.5,82.5 7.5,82.5 7.5,97.5 7.5,112.5 7.5,127.5 22.5,127.5 22.5,112.5\n\t\t22.5,97.5 37.5,97.5 37.5,82.5 \t"})),s.a.createElement("g",{id:"gl"},s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M96,84v13.5v15v1.5h1.5H111v12H97.5H96v1.5V141H84v-13.5v-15V111h-1.5h-15H66v1.5V126H54v-13.5V111h-1.5H39\n\t\t\tV99h13.5h15h15H84v-1.5V84H96 M97.5,82.5h-15v15h-15h-15h-15v15h15v15h15v-15h15v15v15h15v-15h15v-15h-15v-15V82.5L97.5,82.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M141,84v13.5v15V126h-12v-13.5V111h-1.5H114V99h13.5h1.5v-1.5V84H141 M142.5,82.5h-15v15h-15v15h15v15h15v-15\n\t\t\tv-15V82.5L142.5,82.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M36,69v13.5V96H22.5H21v1.5v15V126H9v-13.5v-15V84h13.5H24v-1.5V69H36 M37.5,67.5h-15v15h-15v15v15v15h15v-15\n\t\t\tv-15h15v-15V67.5L37.5,67.5z"}))),s.a.createElement("g",{id:"b"},s.a.createElement("rect",{x:"67.5",y:"82.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"52.5,67.5 37.5,67.5 37.5,82.5 37.5,97.5 52.5,97.5 52.5,82.5 67.5,82.5 67.5,67.5 \t"}),s.a.createElement("rect",{x:"127.5",y:"67.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"22.5,52.5 7.5,52.5 7.5,67.5 22.5,67.5 37.5,67.5 37.5,52.5 \t"}),s.a.createElement("rect",{x:"67.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"112.5,67.5 97.5,67.5 82.5,67.5 82.5,82.5 97.5,82.5 97.5,97.5 97.5,112.5 112.5,112.5 112.5,97.5\n\t\t127.5,97.5 127.5,82.5 112.5,82.5 \t"}),s.a.createElement("rect",{x:"82.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("rect",{x:"112.5",y:"52.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("rect",{x:"37.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("rect",{x:"127.5",y:"37.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("rect",{x:"22.5",y:"22.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"}),s.a.createElement("rect",{x:"67.5",y:"7.5",className:"vis-graphic--fill vis-graphic--fill-a",width:"15",height:"15"})),s.a.createElement("g",{id:"bl"},s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,84v12H69V84H81 M82.5,82.5h-15v15h15V82.5L82.5,82.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M66,69v12H52.5H51v1.5V96H39V82.5V69h13.5H66 M67.5,67.5h-15h-15v15v15h15v-15h15V67.5L67.5,67.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,69v12h-12V69H141 M142.5,67.5h-15v15h15V67.5L142.5,67.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,54v12H22.5H9V54h13.5H36 M37.5,52.5h-15h-15v15h15h15V52.5L37.5,52.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,54v12H69V54H81 M82.5,52.5h-15v15h15V52.5L82.5,52.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M111,69v13.5V84h1.5H126v12h-13.5H111v1.5V111H99V97.5v-15V81h-1.5H84V69h13.5H111 M112.5,67.5h-15h-15v15h15\n\t\t\tv15v15h15v-15h15v-15h-15V67.5L112.5,67.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M96,39v12H84V39H96 M97.5,37.5h-15v15h15V37.5L97.5,37.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M126,54v12h-12V54H126 M127.5,52.5h-15v15h15V52.5L127.5,52.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M51,39v12H39V39H51 M52.5,37.5h-15v15h15V37.5L52.5,37.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M141,39v12h-12V39H141 M142.5,37.5h-15v15h15V37.5L142.5,37.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M36,24v12H24V24H36 M37.5,22.5h-15v15h15V22.5L37.5,22.5z"})),s.a.createElement("g",null,s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M81,9v12H69V9H81 M82.5,7.5h-15v15h15V7.5L82.5,7.5z"}))))),o=n(50),i={queries:[],type:"heatmap",shape:"chronograf-v2",xColumn:null,yColumn:null,xDomain:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:"",colors:o.INFERNO,binSize:10,note:"",showNoteWhenEmpty:!1},l=n(3),c=n(49),u=n(167),m=n(132),d=n(51),p=n(161),h=n(285);const _=[{name:"Magma",colors:o.MAGMA},{name:"Inferno",colors:o.INFERNO},{name:"Viridis",colors:o.VIRIDIS},{name:"Plasma",colors:o.PLASMA}];var g=({properties:e,results:t,update:n})=>{const[r,o]=Object(a.useState)(l.ComponentStatus.Default),[i,g]=Object(a.useState)(e.binSize),f=Object(d.c)(t.table,e.xColumn),b=Object(d.d)(t.table,e.yColumn),y=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),v=(e,t)=>{let a;if(t){const[e,n]=t;a=[null===e?null:String(e),null===n?null:String(n)]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return s.a.createElement(l.Grid,null,s.a.createElement(l.Grid.Row,null,s.a.createElement(l.Grid.Column,{widthXS:l.Columns.Twelve,widthMD:l.Columns.Six,widthLG:l.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(l.Form.Element,{label:"X Column"},s.a.createElement(l.SelectDropdown,{options:y,selectedOption:f||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==y.length?l.ComponentStatus.Disabled:l.ComponentStatus.Default})),s.a.createElement(l.Form.Element,{label:"Y Column"},s.a.createElement(l.SelectDropdown,{options:y,selectedOption:b||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==y.length?l.ComponentStatus.Disabled:l.ComponentStatus.Default})),s.a.createElement(l.Form.Element,{label:"Time Format"},s.a.createElement(l.SelectDropdown,{options:c.l.map(e=>e.text),selectedOption:Object(u.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(l.Form.Element,{label:"Color Scheme"},s.a.createElement(h.a,{colorSchemes:_,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}})),s.a.createElement(l.Form.Element,{label:"Bin Size"},s.a.createElement(l.Input,{status:r,value:i,type:l.InputType.Number,onChange:e=>{const t=Object(m.a)(e);g(t),isNaN(t)||t<5?o(l.ComponentStatus.Error):(o(l.ComponentStatus.Default),n({binSize:t}))},testID:"bin-size-input"}))),s.a.createElement(l.Grid.Column,{widthXS:l.Columns.Twelve,widthMD:l.Columns.Six,widthLG:l.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(l.Form.Element,{label:"X Axis Label"},s.a.createElement(l.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),s.a.createElement(l.Grid.Row,null,s.a.createElement(l.Grid.Column,{widthSM:l.Columns.Six},s.a.createElement(l.Form.Element,{label:"X Tick Prefix"},s.a.createElement(l.Input,{value:e.xPrefix,onChange:e=>{n({xPrefix:e.target.value})}}))),s.a.createElement(l.Grid.Column,{widthSM:l.Columns.Six},s.a.createElement(l.Form.Element,{label:"X Tick Suffix"},s.a.createElement(l.Input,{value:e.xSuffix,onChange:e=>{n({xSuffix:e.target.value})}})))),s.a.createElement(p.a,{domain:e.xDomain,onSetDomain:e=>{v("x",e)},label:"X Axis Domain"})),s.a.createElement(l.Grid.Column,{widthXS:l.Columns.Twelve,widthMD:l.Columns.Six,widthLG:l.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(l.Form.Element,{label:"Y Axis Label"},s.a.createElement(l.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),s.a.createElement(l.Grid.Row,null,s.a.createElement(l.Grid.Column,{widthSM:l.Columns.Six},s.a.createElement(l.Form.Element,{label:"Y Tick Prefix"},s.a.createElement(l.Input,{value:e.yPrefix,placeholder:"%, MPH, etc.",onChange:e=>{n({yPrefix:e.target.value})}}))),s.a.createElement(l.Grid.Column,{widthSM:l.Columns.Six},s.a.createElement(l.Form.Element,{label:"Y Tick Suffix"},s.a.createElement(l.Input,{value:e.ySuffix,placeholder:"%, MPH, etc.",onChange:e=>{n({ySuffix:e.target.value})}})))),s.a.createElement(p.a,{domain:e.yDomain,onSetDomain:e=>{v("y",e)},label:"Y Axis Domain"}))))};t.default=e=>{e({type:"heatmap",name:"Heatmap",graphic:r,initial:i,options:g})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--histogram"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Histogram",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("g",null,s.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"24"}),s.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"13"}),s.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"30"}),s.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"52"}),s.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"21"}),s.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"32"}),s.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"31"}),s.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"31"}),s.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"10"}),s.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"32"}),s.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"16"}),s.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--fill vis-graphic--fill-a",width:"26",height:"16"}),s.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"12"}),s.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"10"}),s.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--fill vis-graphic--fill-c",width:"26",height:"5"})),s.a.createElement("g",null,s.a.createElement("rect",{x:"122",y:"51",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"24"}),s.a.createElement("rect",{x:"122",y:"113",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"13"}),s.a.createElement("rect",{x:"122",y:"79",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"30"}),s.a.createElement("rect",{x:"92",y:"74",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"52"}),s.a.createElement("rect",{x:"92",y:"49",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"21"}),s.a.createElement("rect",{x:"62",y:"94",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"32"}),s.a.createElement("rect",{x:"62",y:"59",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"31"}),s.a.createElement("rect",{x:"62",y:"24",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"31"}),s.a.createElement("rect",{x:"32",y:"116",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"10"}),s.a.createElement("rect",{x:"32",y:"80",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"32"}),s.a.createElement("rect",{x:"2",y:"110",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"16"}),s.a.createElement("rect",{x:"2",y:"90",className:"vis-graphic--line vis-graphic--line-a",width:"26",height:"16"}),s.a.createElement("rect",{x:"32",y:"64",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"12"}),s.a.createElement("rect",{x:"92",y:"35",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"10"}),s.a.createElement("rect",{x:"2",y:"81",className:"vis-graphic--line vis-graphic--line-c",width:"26",height:"5"})))),o={queries:[],type:"histogram",shape:"chronograf-v2",xColumn:"_value",xDomain:null,xAxisLabel:"",fillColumns:null,position:"stacked",binCount:30,colors:n(119).a,note:"",showNoteWhenEmpty:!1},i=n(3),l=n(161),c=n(51),u=n(283),m=n(132);var d=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>!["_value","_time","table"].includes(e)),r=a.length?i.ComponentStatus.Default:i.ComponentStatus.Disabled,o=Object(c.c)(t.table,e.xColumn),d=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n});let p=t.fluxGroupKeyUnion;e.fillColumns&&e.fillColumns.every(e=>a.includes(e))&&(p=e.fillColumns);return s.a.createElement(i.Grid,null,s.a.createElement(i.Grid.Row,null,s.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthMD:i.Columns.Six,widthLG:i.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(i.Form.Element,{label:"X Column"},s.a.createElement(i.SelectDropdown,{options:d,selectedOption:o||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==d.length?i.ComponentStatus.Disabled:i.ComponentStatus.Default})),s.a.createElement(i.Form.Element,{label:"Group By"},s.a.createElement(i.MultiSelectDropdown,{options:a,selectedOptions:p,onSelect:e=>{const t=p.find(t=>t===e);let a=p;a=t?p.filter(t=>t!==e):[...p,e],n({fillColumns:a})},buttonStatus:r}))),s.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthMD:i.Columns.Six,widthLG:i.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(i.Form.Element,{label:"Color Scheme"},s.a.createElement(u.a,{value:e.colors,onChange:e=>{n({colors:e})}})),s.a.createElement(i.Form.Element,{label:"Positioning"},s.a.createElement(i.Dropdown,{button:(t,n)=>s.a.createElement(i.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>s.a.createElement(i.Dropdown.Menu,{onCollapse:t},s.a.createElement(i.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),s.a.createElement(i.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))})),s.a.createElement(i.Form.Element,{label:"Bins"},s.a.createElement(i.AutoInput,{mode:"number"==typeof e.binCount?i.AutoInputMode.Custom:i.AutoInputMode.Auto,onChangeMode:e=>{e===i.AutoInputMode.Auto?n({binCount:null}):n({binCount:30})},inputComponent:s.a.createElement(i.Input,{name:"binCount",value:e.binCount,placeholder:"Enter a number",type:i.InputType.Number,min:0,onChange:e=>{n({binCount:Object(m.a)(e)})}})}))),s.a.createElement(i.Grid.Column,{widthXS:i.Columns.Twelve,widthMD:i.Columns.Six,widthLG:i.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(i.Form.Element,{label:"X Axis Label"},s.a.createElement(i.Input,{value:e.xAxisLabel,onChange:e=>n({xAxisLabel:e.target.value})})),s.a.createElement(l.a,{domain:e.xDomain,onSetDomain:e=>{((e,t)=>{let a;if(t){const[e,n]=t;a=[null===e?null:String(e),null===n?null:String(n)]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})})("x",e)},label:"X Axis Domain"}))))};t.default=e=>{e({type:"histogram",name:"Histogram",graphic:r,initial:o,options:d})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--scatter"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Scatter",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"77.6",cy:"91.1",r:"7.5"}),s.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"47.5",cy:"110.9",r:"7.5"}),s.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"111.6",cy:"46.1",r:"7.5"}),s.a.createElement("circle",{className:"vis-graphic--fill vis-graphic--fill-b",cx:"17.5",cy:"118.5",r:"7.5"}),s.a.createElement("rect",{x:"77.6",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),s.a.createElement("rect",{x:"108.3",y:"83.6",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),s.a.createElement("rect",{x:"125",y:"54",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),s.a.createElement("rect",{x:"123.2",y:"111",className:"vis-graphic--fill vis-graphic--fill-c",width:"15",height:"15"}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"49.5,68.6 42,81.4 57,81.4 "}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"61.1,25.7 53.6,38.6 68.6,38.6 "}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"93.8,19.2 86.3,32.2 101.3,32.2 "}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"78.8,47.5 71.3,60.5 86.3,60.5 "}))),o=n(50),i=n(69),l={type:"scatter",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.d}}}],colors:o.NINETEEN_EIGHTY_FOUR,note:"",showNoteWhenEmpty:!1,fillColumns:null,symbolColumns:null,xColumn:null,xDomain:null,yColumn:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:""},c=n(3),u=n(161),m=n(285),d=n(49),p=n(20),h=n(167),_=n(51);var g=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>!["_value","_time","table"].includes(e)),r=a.length?c.ComponentStatus.Default:c.ComponentStatus.Disabled,o=Object(_.c)(t.table,e.xColumn),i=Object(_.d)(t.table,e.yColumn);let l=a,g=a;e.fillColumns&&e.fillColumns.every(e=>a.includes(e))&&(l=e.fillColumns),e.symbolColumns&&e.symbolColumns.every(e=>a.includes(e))&&(g=e.symbolColumns);const f=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),b=(e,t)=>{let a;if(t){const[e,n]=t;a=[null===e?null:String(e),null===n?null:String(n)]}else a=[null,null];null===a[0]&&null===a[1]&&(a=null),n({[`${e}Domain`]:a})};return s.a.createElement(c.Grid,null,s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(c.Form.Element,{label:"Symbol Column"},s.a.createElement(c.MultiSelectDropdown,{options:a,selectedOptions:g,onSelect:e=>{const t=g.find(t=>t===e);let a=g;a=t?g.filter(t=>t!==e):[...g,e],n({symbolColumns:a})},buttonStatus:r})),s.a.createElement(c.Form.Element,{label:"Fill Column"},s.a.createElement(c.MultiSelectDropdown,{options:a,selectedOptions:l,onSelect:e=>{const t=l.find(t=>t===e);let a=l;a=t?l.filter(t=>t!==e):[...l,e],n({fillColumns:a})},buttonStatus:r})),s.a.createElement(c.Form.Element,{label:"X Column"},s.a.createElement(c.SelectDropdown,{options:f,selectedOption:o||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==f.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),s.a.createElement(c.Form.Element,{label:"Y Column"},s.a.createElement(c.SelectDropdown,{options:f,selectedOption:i||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==f.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),s.a.createElement(c.Form.Element,{label:"Time Format"},s.a.createElement(c.SelectDropdown,{options:d.l.map(e=>e.text),selectedOption:Object(h.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}})),s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(c.Form.Element,{label:"Color Scheme"},s.a.createElement(m.a,{colorSchemes:p.w,selectedColorScheme:e.colors,onSelectColorScheme:e=>{n({colors:e})}}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"X Axis"),s.a.createElement(c.Form.Element,{label:"X Axis Label"},s.a.createElement(c.Input,{value:e.xAxisLabel,onChange:e=>{n({xAxisLabel:e.target.value})}})),s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"X Tick Prefix"},s.a.createElement(c.Input,{value:e.xPrefix,onChange:e=>{n({xPrefix:e.target.value})}}))),s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"X Tick Suffix"},s.a.createElement(c.Input,{value:e.xSuffix,onChange:e=>{n({xSuffix:e.target.value})}})))),s.a.createElement(u.a,{domain:e.xDomain,onSetDomain:e=>{b("x",e)},label:"X Axis Domain"})),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(c.Form.Element,{label:"Y Axis Label"},s.a.createElement(c.Input,{value:e.yAxisLabel,onChange:e=>{n({yAxisLabel:e.target.value})}})),s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Y Tick Prefix"},s.a.createElement(c.Input,{value:e.yPrefix,onChange:e=>{n({yPrefix:e.target.value})}}))),s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Y Tick Suffix"},s.a.createElement(c.Input,{value:e.ySuffix,onChange:e=>{n({ySuffix:e.target.value})}})))),s.a.createElement(u.a,{domain:e.yDomain,onSetDomain:e=>{b("y",e)},label:"Y Axis Domain"}))))};t.default=e=>{e({type:"scatter",name:"Scatter",graphic:r,initial:l,options:g})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--single-stat"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"SingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),o=n(69),i=n(140),l={type:"single-stat",shape:"chronograf-v2",legend:{},queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.d}}}],colors:i.f,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",note:"",showNoteWhenEmpty:!1,decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(49),m=n(132);var d=({properties:e,update:t})=>{const n=n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})};return s.a.createElement(c.Grid,null,s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Prefix"},s.a.createElement(c.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{t({prefix:e.target.value})}}))),s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Suffix"},s.a.createElement(c.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{t({suffix:e.target.value})}}))))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Decimal Places"},s.a.createElement(c.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?n(null):n(2)},inputComponent:s.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{n(Object(m.a)(e))},value:e.decimalPlaces.digits,min:u.n,max:u.m,type:c.InputType.Number})})))))};t.default=e=>{e({type:"single-stat",name:"Single Stat",graphic:r,initial:l,options:d})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--line-plus-single-stat"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"LineAndSingleStat",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("g",null,s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-c",points:"148,88.2 111.5,95.5 75,25 38.5,54.7 2,66.7 2,125 148,125"}),s.a.createElement("polyline",{className:"vis-graphic--line vis-graphic--line-c",points:"2,66.7 38.5,54.7 75,25 111.5,95.5 148,88.2"})),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M35.6,80.4h4.9v1.1h-4.9v7.8h-1.1v-7.8H20.7v-0.6l13.6-20.1h1.3V80.4z M22.4,80.4h12.1V62.1l-1.6,2.7 L22.4,80.4z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M58.6,75.1c-0.7,1.5-1.8,2.7-3.2,3.6c-1.5,0.9-3.1,1.4-4.9,1.4c-1.6,0-3-0.4-4.2-1.3s-2.2-2-2.9-3.5 c-0.7-1.5-1.1-3.1-1.1-4.8c0-1.9,0.4-3.6,1.1-5.1c0.7-1.6,1.7-2.8,3-3.7c1.3-0.9,2.7-1.3,4.3-1.3c2.9,0,5.2,1,6.7,2.9 c1.5,1.9,2.3,4.7,2.3,8.3v3.3c0,4.8-1.1,8.5-3.2,11c-2.1,2.5-5.3,3.8-9.4,3.9H46l0-1.1h0.8c3.8,0,6.7-1.2,8.7-3.5 C57.6,82.8,58.6,79.5,58.6,75.1z M50.4,79c1.9,0,3.6-0.6,5.1-1.7s2.5-2.6,3-4.5v-1.2c0-3.3-0.7-5.8-2-7.5c-1.4-1.7-3.3-2.6-5.8-2.6 c-1.4,0-2.7,0.4-3.8,1.2s-2,1.9-2.6,3.3c-0.6,1.4-0.9,2.9-0.9,4.5c0,1.5,0.3,3,0.9,4.3c0.6,1.3,1.5,2.4,2.5,3.1 C47.8,78.7,49.1,79,50.4,79z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M81.3,89.2h-17v-1.1L74,77c1.6-1.9,2.8-3.5,3.5-5c0.8-1.4,1.2-2.8,1.2-4c0-2.1-0.6-3.7-1.8-4.9 c-1.2-1.2-2.9-1.7-5.1-1.7c-1.3,0-2.5,0.3-3.6,1c-1.1,0.6-2,1.5-2.6,2.6c-0.6,1.1-0.9,2.4-0.9,3.8h-1.1c0-1.5,0.4-2.9,1.1-4.2 c0.7-1.3,1.7-2.3,2.9-3.1s2.6-1.1,4.2-1.1c2.5,0,4.5,0.7,5.9,2c1.4,1.3,2.1,3.2,2.1,5.6c0,2.2-1.2,4.9-3.7,7.9l-1.8,2.2l-8.6,10 h15.6V89.2z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M85.3,88.3c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8 c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3C85.4,88.8,85.3,88.6,85.3,88.3z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M92.7,74.3L94,60.8h13.9v1.1H95l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L92.7,74.3z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-d",d:"M113.8,74.3l1.3-13.6H129v1.1h-12.9l-1.2,11.4c0.7-0.6,1.6-1,2.7-1.4s2.2-0.5,3.3-0.5c2.6,0,4.6,0.8,6.1,2.4 c1.5,1.6,2.3,3.8,2.3,6.4c0,3.1-0.7,5.4-2.1,7c-1.4,1.6-3.4,2.4-5.9,2.4c-2.4,0-4.4-0.7-5.9-2.1c-1.5-1.4-2.3-3.3-2.5-5.8h1.1 c0.2,2.2,0.9,3.9,2.2,5.1c1.2,1.2,3,1.7,5.2,1.7c2.3,0,4.1-0.7,5.2-2.1c1.1-1.4,1.7-3.5,1.7-6.2c0-2.4-0.7-4.3-2-5.7 c-1.3-1.4-3.1-2.1-5.3-2.1c-1.4,0-2.6,0.2-3.6,0.5c-1,0.4-1.9,0.9-2.7,1.7L113.8,74.3z"}))),o=n(140),i=n(69),l={type:"line-plus-single-stat",shape:"chronograf-v2",xColumn:null,yColumn:null,position:"overlaid",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.d}}}],legend:{},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},colors:o.f,prefix:"",tickPrefix:"",suffix:"",tickSuffix:"",decimalPlaces:{isEnforced:!0,digits:2}},c=n(3),u=n(161),m=n(49),d=n(132),p=n(508),h=n(167),_=n(51),g=n(283),f=n(363);const{BASE_2:b,BASE_10:y}=p.a;var v=({properties:e,results:t,update:n})=>{const a=t.table.columnKeys.filter(e=>{if("result"===e||"table"===e)return!1;const n=t.table.getColumnType(e);return"time"===n||"number"===n}),r=Object(_.c)(t.table,e.xColumn),o=Object(_.d)(t.table,e.yColumn),i=(t,a)=>{n({axes:Object.assign(Object.assign({},e.axes),{[t]:Object.assign(Object.assign({},e.axes[t]),a)})})},l=t=>{n({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:t})})};return s.a.createElement(c.Grid,null,s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Data"),s.a.createElement(c.Form.Element,{label:"X Column"},s.a.createElement(c.SelectDropdown,{options:a,selectedOption:r||"Build a query before selecting...",onSelect:e=>{n({xColumn:e})},testID:"dropdown-x",buttonStatus:0==a.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),s.a.createElement(c.Form.Element,{label:"Y Column"},s.a.createElement(c.SelectDropdown,{options:a,selectedOption:o||"Build a query before selecting...",onSelect:e=>{n({yColumn:e})},testID:"dropdown-y",buttonStatus:0==a.length?c.ComponentStatus.Disabled:c.ComponentStatus.Default})),s.a.createElement(c.Form.Element,{label:"Time Format"},s.a.createElement(c.SelectDropdown,{options:m.l.map(e=>e.text),selectedOption:Object(h.b)(e.timeFormat),onSelect:e=>{n({timeFormat:e})}}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Options"),s.a.createElement(c.Form.Element,{label:"Line Colors"},s.a.createElement(g.a,{value:e.colors.filter(e=>"scale"===e.type),onChange:e=>{n({colors:e})}})),s.a.createElement(f.a,{label:"Shade Area Below Lines",checked:!!e.shadeBelow,onSetChecked:e=>{n({shadeBelow:e})}}),s.a.createElement("br",null),s.a.createElement(c.Form.Element,{label:"Hover Dimension"},s.a.createElement(c.Dropdown,{button:(t,n)=>s.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.hoverDimension),menu:t=>s.a.createElement(c.Dropdown.Menu,{onCollapse:t},s.a.createElement(c.Dropdown.Item,{id:"auto",value:"auto",onClick:e=>{n({hoverDimension:e})},selected:"auto"===e.hoverDimension},"Auto"),s.a.createElement(c.Dropdown.Item,{id:"x",value:"x",onClick:e=>{n({hoverDimension:e})},selected:"x"===e.hoverDimension},"X Axis"),s.a.createElement(c.Dropdown.Item,{id:"y",value:"y",onClick:e=>{n({hoverDimension:e})},selected:"y"===e.hoverDimension},"Y Axis"),s.a.createElement(c.Dropdown.Item,{id:"xy",value:"xy",onClick:e=>{n({hoverDimension:e})},selected:"xy"===e.hoverDimension},"X & Y Axis"))}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthLG:c.Columns.Four},s.a.createElement("h5",{className:"view-options--header"},"Y Axis"),s.a.createElement(c.Form.Element,{label:"Y Axis Label"},s.a.createElement(c.Input,{value:e.axes.y.label,onChange:e=>{i("y",{label:e.target.value})}})),s.a.createElement(c.Form.Element,{label:"Y-Value Unit Prefix"},s.a.createElement(c.SelectGroup,{shape:c.ButtonShape.StretchToFit},s.a.createElement(c.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--raw",value:"",active:""===e.axes.y.base,titleText:"Do not format values using a unit prefix",onClick:e=>{i("y",{base:e})}},"None"),s.a.createElement(c.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmb",value:y,active:e.axes.y.base===y,titleText:"Format values using an International System of Units prefix",onClick:e=>{i("y",{base:e})}},"SI"),s.a.createElement(c.SelectGroup.Option,{name:"y-values-format",id:"y-values-format-tab--kmg",value:b,active:e.axes.y.base===b,titleText:"Format values using a binary unit prefix (for formatting bits or bytes)",onClick:e=>{i("y",{base:e})}},"Binary"))),s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Y Axis Prefix"},s.a.createElement(c.Input,{value:e.axes.y.prefix,onChange:e=>{i("y",{prefix:e.target.value})}}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Y Axis Suffix"},s.a.createElement(c.Input,{value:e.axes.y.suffix,onChange:e=>{i("y",{suffix:e.target.value})}})))),s.a.createElement(u.a,{domain:Object(_.p)(e.axes.y.bounds),onSetDomain:e=>{let t;if(e){const[n,a]=e;t=[null===n?null:String(n),null===a?null:String(a)]}else t=[null,null];null===t[0]&&null===t[1]&&(t=null),i("y",{bounds:t})},label:"Y Axis Domain"}),s.a.createElement(c.Form.Element,{label:"Positioning"},s.a.createElement(c.Dropdown,{button:(t,n)=>s.a.createElement(c.Dropdown.Button,{active:t,onClick:n},e.position),menu:t=>s.a.createElement(c.Dropdown.Menu,{onCollapse:t},s.a.createElement(c.Dropdown.Item,{id:"overlaid",value:"overlaid",onClick:e=>{n({position:e})},selected:"overlaid"===e.position},"Overlaid"),s.a.createElement(c.Dropdown.Item,{id:"stacked",value:"stacked",onClick:e=>{n({position:e})},selected:"stacked"===e.position},"Stacked"))}))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},s.a.createElement(c.Grid.Row,null,s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Prefix"},s.a.createElement(c.Input,{value:e.prefix,placeholder:"%, MPH, etc.",onChange:e=>{n({prefix:e.target.value})}}))),s.a.createElement(c.Grid.Column,{widthSM:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Suffix"},s.a.createElement(c.Input,{value:e.suffix,placeholder:"%, MPH, etc.",onChange:e=>{n({suffix:e.target.value})}}))))),s.a.createElement(c.Grid.Column,{widthXS:c.Columns.Twelve,widthMD:c.Columns.Six},s.a.createElement(c.Form.Element,{label:"Decimal Places"},s.a.createElement(c.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?c.AutoInputMode.Custom:c.AutoInputMode.Auto,onChangeMode:e=>{e===c.AutoInputMode.Auto?l(null):l(2)},inputComponent:s.a.createElement(c.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{l(Object(d.a)(e))},value:e.decimalPlaces.digits,min:m.n,max:m.m,type:c.InputType.Number})})))))};t.default=e=>{e({type:"line-plus-single-stat",name:"Graph + Single Stat",graphic:r,initial:l,options:v})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--table"},s.a.createElement("svg",{id:"Table",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-c",d:"M55.5,115H19.7c-1.7,0-3.1-1.4-3.1-3.1V61.7h38.9V115z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M133.4,61.7H55.5V35h74.8c1.7,0,3.1,1.4,3.1,3.1V61.7z"}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-a",d:"M55.5,61.7H16.6V38.1c0-1.7,1.4-3.1,3.1-3.1h35.9V61.7z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M16.6,88.3v23.6c0,1.7,1.4,3.1,3.1,3.1h35.9V88.3H16.6z"}),s.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-c",x:"16.6",y:"61.7",width:"38.9",height:"26.7"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M94.5,35v26.7h38.9V38.1c0-1.7-1.4-3.1-3.1-3.1H94.5z"}),s.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-b",x:"55.5",y:"35",width:"38.9",height:"26.7"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-d",d:"M94.5,115h35.9c1.7,0,3.1-1.4,3.1-3.1V88.3H94.5V115z"}),s.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"88.3",width:"38.9",height:"26.7"}),s.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"94.5",y:"61.7",width:"38.9",height:"26.7"}),s.a.createElement("rect",{className:"vis-graphic--line vis-graphic--line-d",x:"55.5",y:"61.7",width:"38.9",height:"26.7"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-a",d:"M55.5,35H19.7c-1.7,0-3.1,1.4-3.1,3.1v23.6h38.9V35z"}))),o=n(69),i=n(140),l={type:"table",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:o.a,fillValues:o.d}}}],colors:i.g,tableOptions:{verticalTimeAxis:!0,sortBy:null,fixFirstColumn:!1},fieldOptions:[],decimalPlaces:{isEnforced:!1,digits:2},timeFormat:"YYYY-MM-DD HH:mm:ss",note:"",showNoteWhenEmpty:!1},c=n(888),u=n(1696),m=n(6),d=n(3),p=n(49),h=n(864),_=n(167),g=n(132),f=n(382),b=n(868);var y=({properties:e,update:t})=>{const n=Object(a.useCallback)(n=>{t({decimalPlaces:Object.assign(Object.assign({},e.decimalPlaces),{digits:n})})},[t,e.decimalPlaces]),r=Object(a.useCallback)(e=>{e===d.AutoInputMode.Auto?n(null):n(2)},[n]),o=Object(a.useCallback)(n=>{t({tableOptions:Object.assign(Object.assign({},e.tableOptions),n)})},[t,e.tableOptions]),l=Object(a.useCallback)(n=>{n===i.l?t({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:i.l}):e)}):t({colors:e.colors.map(e=>"scale"!==e.type?Object.assign(Object.assign({},e),{type:i.m}):e)})},[t,e.colors]),y=e=>"time"!==e.internalName&&""!==e.internalName&&"result"!==e.internalName&&"table"!==e.internalName,v=Object(a.useCallback)(n=>{t({fieldOptions:e.fieldOptions.map(e=>e.internalName!==n.internalName?e:Object.assign({},n))})},[t,e.fieldOptions]),x=Object(a.useCallback)((n,a)=>{t({fieldOptions:Object(b.a)(e.fieldOptions.filter(y),n,a)})},[t,e.fieldOptions]),w=Object(m.get)(e.colors.filter(e=>"scale"!==e.type),"0.type","text"),E=Object(a.useMemo)(()=>e.fieldOptions.filter(y).map((e,t)=>s.a.createElement(h.a,{key:e.internalName,index:t,id:e.internalName,internalName:e.internalName,displayName:e.displayName,visible:e.visible,onUpdateColumn:v,onMoveColumn:x})),[e.fieldOptions]);return s.a.createElement(d.Grid,null,s.a.createElement(d.Grid.Row,null,s.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},s.a.createElement("h5",{className:"view-options--header"},"Formatting"),s.a.createElement(d.Form.Element,{label:"Default Sort Field"},s.a.createElement(d.Dropdown,{className:"dropdown-stretch",button:(t,n)=>{var a,r;return s.a.createElement(d.Dropdown.Button,{active:t,onClick:n},(null===(r=null===(a=e.tableOptions)||void 0===a?void 0:a.sortBy)||void 0===r?void 0:r.displayName)||"Choose a sort field")},menu:t=>s.a.createElement(d.Dropdown.Menu,{onCollapse:t},e.fieldOptions.filter(e=>!!e.internalName).map(t=>{var n,a;return s.a.createElement(d.Dropdown.Item,{key:t.internalName,id:t.internalName,value:t,onClick:e=>{o({sortBy:e})},selected:t.internalName===(null===(a=null===(n=e.tableOptions)||void 0===n?void 0:n.sortBy)||void 0===a?void 0:a.internalName)},t.displayName)}))})),s.a.createElement(d.Form.Element,{label:"Time Format"},s.a.createElement(d.SelectDropdown,{options:p.l.map(e=>e.text),selectedOption:Object(_.b)(e.timeFormat),onSelect:e=>{t({timeFormat:e})}})),s.a.createElement(d.Form.Element,{label:"Decimal Places"},s.a.createElement(d.AutoInput,{mode:"number"==typeof e.decimalPlaces.digits?d.AutoInputMode.Custom:d.AutoInputMode.Auto,onChangeMode:r,inputComponent:s.a.createElement(d.Input,{name:"decimal-places",placeholder:"Enter a number",onChange:e=>{n(Object(g.a)(e))},value:e.decimalPlaces.digits,min:p.n,max:p.m,type:d.InputType.Number})})),s.a.createElement("h5",{className:"view-options--header"},"Colorized Thresholds"),s.a.createElement(f.a,{thresholds:e.colors,onSetThresholds:e=>{t({colors:e})}}),s.a.createElement(d.Form.Element,{label:"Colorization",style:{marginTop:"16px"}},s.a.createElement(d.SelectGroup,{shape:d.ButtonShape.StretchToFit},s.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"background",id:"background",active:w===i.l,onClick:l,value:i.l},"Background"),s.a.createElement(d.SelectGroup.Option,{name:"threshold-coloring",titleText:"text",id:"text",active:w===i.m,onClick:l,value:i.m},"Text")))),s.a.createElement(d.Grid.Column,{widthXS:d.Columns.Twelve,widthMD:d.Columns.Six},s.a.createElement("h5",{className:"view-options--header"},"Column Settings"),s.a.createElement(d.Form.Element,{label:"First Column"},s.a.createElement(d.Form.Box,null,s.a.createElement(d.FlexBox,{direction:d.FlexDirection.Row,margin:d.ComponentSize.Small},s.a.createElement(d.InputLabel,null,"Scroll with table"),s.a.createElement(d.SlideToggle,{active:e.tableOptions.fixFirstColumn,onChange:()=>{o({fixFirstColumn:!e.tableOptions.fixFirstColumn})},size:d.ComponentSize.ExtraSmall}),s.a.createElement(d.InputLabel,null,"Fixed")))),s.a.createElement(d.Form.Element,{label:"Table Columns"},s.a.createElement(u.a,{backend:c.a},s.a.createElement("div",null,E||s.a.createElement(d.Form.Box,null,s.a.createElement(d.EmptyState,{size:d.ComponentSize.Small},s.a.createElement(d.EmptyState.Text,null,"This query returned no columns")))))))))};t.default=e=>{e({type:"table",name:"Table",graphic:r,initial:l,options:y})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(514),o=n(876),i=n(70),l=n(3),c=n(76),u=n(29);var m=()=>{const e=Object(i.f)(),{data:t,queryText:n}=Object(a.useContext)(c.a),{orgID:r,id:o}=Object(i.h)();return s.a.createElement(l.Button,{text:"Export as Task",color:l.ComponentColor.Success,type:l.ButtonType.Submit,onClick:()=>{Object(u.a)("Export Task Clicked"),e.push(`/orgs/${r}/flows/${o}/export-task`,[{bucket:t.bucket,queryText:n}])},status:t.bucket?l.ComponentStatus.Default:l.ComponentStatus.Disabled,testID:"task-form-save",style:{opacity:1},titleText:t.bucket?"Export As Task":"Select a bucket to enable export"})};n(368);var d=({Context:e})=>s.a.createElement(r.b,null,s.a.createElement(e,{persistentControl:s.a.createElement(m,null)},s.a.createElement("div",{className:"data-source--controls"},s.a.createElement(o.a,null))));n(877),t.default=e=>{e({type:"bucket",family:"output",priority:1,component:d,button:"Output to Bucket",generateFlux:(e,t,n,a)=>{var s;if(a&&(null==e?void 0:e.bucket)){t(`__PREVIOUS_RESULT__ |> to(bucket: "${null===(s=e.bucket)||void 0===s?void 0:s.name.trim()}")`)}else n()}})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--band-chart"},s.a.createElement("svg",{id:"Band Chart",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 150 150"},s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-e",d:"M10,127V52.6v-8c0-1.8,0.8-3.5,2.2-4.6l25-18.3c1.6-1.2,3.7-0.9,5,0.5l24.6,26.9c1.8,1.9,4.5,2.1,6.5,0.5\n\tL104,23c1.8-1.5,7.1-1.5,8.3,0.6l16.5,27c0.7,1.2,2,1.9,3.3,1.9h7.9v5.5V127H10z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-c",d:"M39.5,22c0.8,0,1.5,0.3,2.1,1l24.6,26.9c1.1,1.2,2.7,1.9,4.3,1.9c1.3,0,2.6-0.5,3.7-1.3l30.5-26.7\n\tc0.6-0.5,1.9-0.8,3.3-0.8c1.7,0,3.1,0.5,3.5,1.2l16.5,27c0.9,1.5,2.5,2.4,4.2,2.4h6.9v4.5V126H11V52.6v-8c0-1.5,0.7-2.9,1.8-3.7\n\tl25-18.3C38.3,22.2,38.9,22,39.5,22 M39.5,21c-0.8,0-1.5,0.2-2.2,0.7L12.2,40c-1.4,1-2.2,2.7-2.2,4.6v8V127h130V58.1v-5.5h-7.9\n\tc-1.3,0-2.6-0.7-3.3-1.9l-16.5-27c-0.7-1.1-2.5-1.7-4.4-1.7c-1.6,0-3.1,0.4-4,1.1L73.5,49.7c-0.9,0.7-1.9,1.1-3,1.1\n\tc-1.3,0-2.6-0.5-3.5-1.6L42.3,22.3C41.5,21.4,40.5,21,39.5,21L39.5,21z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-e",d:"M10,91h0.2c1.2,0,2.4-0.4,3.3-1.2L35.6,71c2-1.7,5-1.6,6.9,0.3L66.6,96c2.1,2.1,5.6,2,7.5-0.3l29.2-34.4\n\tc2.2-2.6,6.4-2.3,8.2,0.6l15,24.6c0.9,1.5,2.5,2.4,4.3,2.4h9.3"}))),o=n(119),i=n(69),l={type:"band",shape:"chronograf-v2",geom:"line",xColumn:null,yColumn:null,queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.d}}}],colors:o.a,legend:{},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}}};t.default=e=>{e({type:"band",name:"Band Plot",graphic:r,featureFlag:"bandPlotType",initial:l})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),s.a.createElement("polygon",{className:"vis-graphic--fill vis-graphic--fill-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),s.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"15,100.5 42.3,114.1 69.5,100.5 42.3,86.9 "}),s.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"80.5,100.5 107.7,114.1 135,100.5 107.7,86.9 "}),s.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,84.1 75,97.8 102.3,84.1 75,70.5 "}),s.a.createElement("polygon",{className:"vis-graphic--line vis-graphic-line-a",points:"47.7,116.9 75,130.5 102.3,116.9 75,103.2 "}),s.a.createElement("path",{className:"vis-graphic--fill vis-graphic--fill-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}),s.a.createElement("path",{className:"vis-graphic--line vis-graphic--line-b",d:"M92.7,26.8c-9.8-9.8-25.6-9.8-35.4,0s-9.8,25.6,0,35.4L75,79.9l17.7-17.7C102.4,52.4,102.4,36.6,92.7,26.8z M82.8,52.3c-4.3,4.3-11.3,4.3-15.6,0c-4.3-4.3-4.3-11.3,0-15.6c4.3-4.3,11.3-4.3,15.6,0C87.1,41,87.1,48,82.8,52.3z"}))),o={type:"xy",position:"overlaid",legend:{},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},geom:"line",shape:"chronograf-v2"};t.default=e=>{e({type:"map",name:"Map",graphic:r,disabled:!0,initial:o})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a);var r=s.a.createElement("div",{className:"vis-graphic","data-testid":"vis-graphic--mosaic"},s.a.createElement("svg",{width:"100%",height:"100%",version:"1.1",id:"Bar",x:"0px",y:"0px",viewBox:"0 0 150 150",preserveAspectRatio:"none meet"},s.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--line vis-graphic--line-b",width:"44",height:"34"}),s.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--line vis-graphic--line-b",width:"50",height:"33"}),s.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--line vis-graphic--line-b",width:"26",height:"33"}),s.a.createElement("rect",{x:"96",y:"58",className:"vis-graphic--fill vis-graphic--fill-b",width:"44",height:"34"}),s.a.createElement("rect",{x:"57",y:"95",className:"vis-graphic--fill vis-graphic--fill-b",width:"50",height:"33"}),s.a.createElement("rect",{x:"78",y:"22",className:"vis-graphic--fill vis-graphic--fill-b",width:"26",height:"33"}),s.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"10",height:"33"}),s.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--line vis-graphic--line-c",width:"14",height:"33"}),s.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--line vis-graphic--line-c",width:"23",height:"33"}),s.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--line vis-graphic--line-c",width:"71",height:"34"}),s.a.createElement("rect",{x:"67",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"10",height:"33"}),s.a.createElement("rect",{x:"105",y:"22",className:"vis-graphic--fill vis-graphic--fill-c",width:"14",height:"33"}),s.a.createElement("rect",{x:"10",y:"95",className:"vis-graphic--fill vis-graphic--fill-c",width:"23",height:"33"}),s.a.createElement("rect",{x:"24",y:"58",className:"vis-graphic--fill vis-graphic--fill-c",width:"71",height:"34"}),s.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"20",height:"33"}),s.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--line vis-graphic--line-a",width:"56",height:"33"}),s.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"22",height:"33"}),s.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--line vis-graphic--line-a",width:"32",height:"33"}),s.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--line vis-graphic--line-a",width:"13",height:"34"}),s.a.createElement("rect",{x:"120",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"20",height:"33"}),s.a.createElement("rect",{x:"10",y:"22",className:"vis-graphic--fill vis-graphic--fill-a",width:"56",height:"33"}),s.a.createElement("rect",{x:"34",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"22",height:"33"}),s.a.createElement("rect",{x:"108",y:"95",className:"vis-graphic--fill vis-graphic--fill-a",width:"32",height:"33"}),s.a.createElement("rect",{x:"10",y:"58",className:"vis-graphic--fill vis-graphic--fill-a",width:"13",height:"34"}))),o=n(50),i=n(69),l={type:"mosaic",shape:"chronograf-v2",queries:[{name:"",text:"",editMode:"builder",builderConfig:{buckets:[],tags:[{key:"_measurement",values:[],aggregateFunctionType:"filter"}],functions:[{name:"mean"}],aggregateWindow:{period:i.a,fillValues:i.d}}}],colors:o.NINETEEN_EIGHTY_FOUR,note:"",showNoteWhenEmpty:!1,fillColumns:null,xColumn:null,xDomain:null,ySeriesColumns:null,yDomain:null,xAxisLabel:"",yAxisLabel:"",xPrefix:"",xSuffix:"",yPrefix:"",ySuffix:""};t.default=e=>{e({type:"mosaic",name:"Mosaic",graphic:r,featureFlag:"mosaicGraphType",initial:l})}},,function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(250),o=n(76);n(368);var i=({Context:e})=>{const{data:t,update:n}=Object(a.useContext)(o.a),{queries:i,activeQuery:l}=t,c=i[l],u=Object(a.useCallback)(e=>{const t=i.slice();t[l]=Object.assign(Object.assign({},i[l]),{text:e}),n({queries:t})},[n,i,l]);return Object(a.useMemo)(()=>s.a.createElement(e,null,s.a.createElement(r.a,{script:c.text,onChangeScript:u,onSubmitScript:()=>{},autogrow:!0})),[c.text,u,e])};const l=/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm;t.default=e=>{e({type:"query",family:"transform",priority:1,component:i,button:"Flux Script",initial:{activeQuery:0,queries:[{text:"// Write Flux script here\n// use __PREVIOUS_RESULT__ to continue building from the previous cell",editMode:"advanced",builderConfig:{buckets:[],tags:[],functions:[]}}]},generateFlux:(e,t,n)=>{const a=e.queries[e.activeQuery].text.replace(l,"").replace(/\s/g,"");a.length?t(a):n()}})}},function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(289),o=n(375),i=n(510),l=n(383),c=n(3),u=n(873),m=n(51),d=n(5),p=n(369),h=n(76),_=n(365);var g=({Context:e})=>{const{timeZone:t}=Object(a.useContext)(p.a),{data:n,update:g}=Object(a.useContext)(h.a),f=s.a.createRef(),[b,y]=Object(a.useState)({}),v=s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{viewType:n.properties.type,onUpdateType:e=>{g({properties:Object(_.b)(_.a[e].initial,b.parsed)})}}),s.a.createElement(c.SquareButton,{icon:c.IconFont.Import,titleText:"Import CSV",onClick:()=>{f.current.click()}}),s.a.createElement("input",{type:"file",ref:f,onChange:e=>{Promise.all(Array.from(e.target.files).filter(e=>"text/csv"===e.type).map(e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{t(a.result)},a.onerror=()=>{n()},a.readAsText(e)}))).then(e=>{const t=e.join("\n\n");return{raw:t,parsed:Object(u.a)(t),source:"buckets()"}}).then(e=>{y(e)})},hidden:!0}));return s.a.createElement(e,{controls:v},s.a.createElement(l.b,{resizingEnabled:!!b.raw,emptyText:"This cell will visualize results from uploaded CSVs",emptyIcon:c.IconFont.BarChart,toggleVisibilityEnabled:!1,height:n.panelHeight,onUpdateHeight:e=>g({panelHeight:e}),visibility:n.panelVisibility,onUpdateVisibility:e=>g({panelVisibility:e})},s.a.createElement("div",{className:"flow-visualization"},s.a.createElement("div",{className:"flow-visualization--view"},s.a.createElement(r.b,{loading:d.RemoteDataState.Done,errorMessage:b.error,errorFormat:r.a.Scroll,hasResults:Object(m.a)(b.parsed)},s.a.createElement(o.a,{giraffeResult:b.parsed,files:[b.raw],properties:n.properties,timeZone:t,theme:"dark"}))))))};t.default=e=>{e({type:"test",family:"test",component:g,priority:-1,featureFlag:"flow-panel--test-flux",button:"Flux Result Tester",initial:{panelVisibility:"visible",panelHeight:200,properties:{type:"xy",position:"overlaid",legend:{},note:"",showNoteWhenEmpty:!1,axes:{x:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"},y:{bounds:["",""],label:"",prefix:"",suffix:"",base:"10",scale:"linear"}},xColumn:"_time",yColumn:"state",shadeBelow:!0,geom:"monotoneX",shape:"chronograf-v2"}}})}}]]);
//# sourceMappingURL=static/3.63c5ba17f7.js.map